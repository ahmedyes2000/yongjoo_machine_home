(ROOT
  (S (`` ``)
    (NP (DT the) (NN flagellum))
    (VP (VBZ resembles)
      (NP
        (NP (DT a) (NN machine))
        (VP (VBN designed)
          (PP (IN by)
            (NP
              (NP (DT a) (NN human) ('' ''))
              (RRC
                (ADVP (RB So))
                (NP (WP what))))))))
    (. ?)))

det(flagellum-3, the-2)
nsubj(machine-6, flagellum-3)
cop(machine-6, resembles-4)
det(machine-6, a-5)
root(ROOT-0, machine-6)
partmod(machine-6, designed-7)
det(human-10, a-9)
agent(designed-7, human-10)
advmod(what-13, So-12)
rcmod(human-10, what-13)

