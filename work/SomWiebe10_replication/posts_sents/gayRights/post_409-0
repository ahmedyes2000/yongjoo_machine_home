Your analogy of homophobia to racism is well chosen and fills in some points I left out above.
