%!PS-Adobe-2.0
%%Creator: dvips(k) 5.95a Copyright 2005 Radical Eye Software
%%Title: clTut.dvi
%%Pages: 340
%%PageOrder: Ascend
%%BoundingBox: 0 0 595 842
%%DocumentFonts: Times-Roman Courier Times-Bold CMSY10 Helvetica CMMI10
%%+ CMR10 Times-Italic
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -f clTut.dvi
%DVIPSParameters: dpi=600
%DVIPSSource:  TeX output 2009.03.16:2117
%%BeginProcSet: tex.pro 0 0
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/CharBuilder{save 3 1 roll S A/base get 2 index get S
/BitMaps get S get/Cd X pop/ctr 0 N Cdx 0 Cx Cy Ch sub Cx Cw add Cy
setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx sub Cy .1 sub]{Ci}imagemask
restore}B/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc 0 0
% File 8r.enc  TeX Base 1 Encoding  Revision 2.0  2002-10-30
%
% @@psencodingfile@{
%   author    = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry,
%                W. Schmidt, P. Lehman",
%   version   = "2.0",
%   date      = "30 October 2002",
%   filename  = "8r.enc",
%   email     = "tex-fonts@@tug.org",
%   docstring = "This is the encoding vector for Type1 and TrueType
%                fonts to be used with TeX.  This file is part of the
%                PSNFSS bundle, version 9"
% @}
% 
% The idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard encoding, ISO Latin 1, Windows ANSI including the euro symbol,
% MacRoman, and some extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% These are /dotlessj /ff /ffi /ffl.
% 
% (4) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (5) /Euro was assigned to 128, as in Windows ANSI
%
% (6) Missing characters from MacRoman encoding incorporated as follows:
%
%     PostScript      MacRoman        TeXBase1
%     --------------  --------------  --------------
%     /notequal       173             0x16
%     /infinity       176             0x17
%     /lessequal      178             0x18
%     /greaterequal   179             0x19
%     /partialdiff    182             0x1A
%     /summation      183             0x1B
%     /product        184             0x1C
%     /pi             185             0x1D
%     /integral       186             0x81
%     /Omega          189             0x8D
%     /radical        195             0x8E
%     /approxequal    197             0x8F
%     /Delta          198             0x9D
%     /lozenge        215             0x9E
%
/TeXBase1Encoding [
% 0x00
 /.notdef /dotaccent /fi /fl
 /fraction /hungarumlaut /Lslash /lslash
 /ogonek /ring /.notdef /breve
 /minus /.notdef /Zcaron /zcaron
% 0x10
 /caron /dotlessi /dotlessj /ff
 /ffi /ffl /notequal /infinity
 /lessequal /greaterequal /partialdiff /summation
 /product /pi /grave /quotesingle
% 0x20
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus
 /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three
 /four /five /six /seven
 /eight /nine /colon /semicolon
 /less /equal /greater /question
% 0x40
 /at /A /B /C
 /D /E /F /G
 /H /I /J /K
 /L /M /N /O
% 0x50
 /P /Q /R /S
 /T /U /V /W
 /X /Y /Z /bracketleft
 /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c
 /d /e /f /g
 /h /i /j /k
 /l /m /n /o
% 0x70
 /p /q /r /s
 /t /u /v /w
 /x /y /z /braceleft
 /bar /braceright /asciitilde /.notdef
% 0x80
 /Euro /integral /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /Omega /radical /approxequal
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /Delta /lozenge /Ydieresis
% 0xA0
 /.notdef /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot /hyphen /registered /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde
 /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def


%%EndProcSet
%%BeginProcSet: texps.pro 0 0
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
%%CreationDate: 1992 Feb 19 19:54:52
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.00B) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMR10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle 0 def
/isFixedPitch false def
end readonly def
/FontName /CMR10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 94 /circumflex put
readonly def
/FontBBox{-251 -250 1009 969}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052A014267B7904EB3C0D3BD0B83D891
016CA6CA4B712ADEB258FAAB9A130EE605E61F77FC1B738ABC7C51CD46EF8171
9098D5FEE67660E69A7AB91B58F29A4D79E57022F783EB0FBBB6D4F4EC35014F
D2DECBA99459A4C59DF0C6EBA150284454E707DC2100C15B76B4C19B84363758
469A6C558785B226332152109871A9883487DD7710949204DDCF837E6A8708B8
2BDBF16FBC7512FAA308A093FE5CF7158F1163BC1F3352E22A1452E73FECA8A4
87100FB1FFC4C8AF409B2067537220E605DA0852CA49839E1386AF9D7A1A455F
D1F017CE45884D76EF2CB9BC5821FD25365DDEA6E45F332B5F68A44AD8A530F0
92A36FAC8D27F9087AFEEA2096F839A2BC4B937F24E080EF7C0F9374A18D565C
295A05210DB96A23175AC59A9BD0147A310EF49C551A417E0A22703F94FF7B75
409A5D417DA6730A69E310FA6A4229FC7E4F620B0FC4C63C50E99E179EB51E4C
4BC45217722F1E8E40F1E1428E792EAFE05C5A50D38C52114DFCD24D54027CBF
2512DD116F0463DE4052A7AD53B641A27E81E481947884CE35661B49153FA19E
0A2A860C7B61558671303DE6AE06A80E4E450E17067676E6BBB42A9A24ACBC3E
B0CA7B7A3BFEA84FED39CCFB6D545BB2BCC49E5E16976407AB9D94556CD4F008
24EF579B6800B6DC3AAF840B3FC6822872368E3B4274DD06CA36AF8F6346C11B
43C772CC242F3B212C4BD7018D71A1A74C9A94ED0093A5FB6557F4E0751047AF
D72098ECA301B8AE68110F983796E581F106144951DF5B750432A230FDA3B575
5A38B5E7972AABC12306A01A99FCF8189D71B8DBF49550BAEA9CF1B97CBFC7CC
96498ECC938B1A1710B670657DE923A659DB8757147B140A48067328E7E3F9C3
7D1888B284904301450CE0BC15EEEA00E48CCD6388F3FC3C8578EF9A20A0E06E
4F7ADDAF0E7D1E182D115BF1AD931977325AD391E72E2B13CC108E3726C11099
E2000623188AAAC9F3E233EB253BDD8B0A4759A66A113E066238B0086AC1B634
5ABFF90E4B5ED3FA69C22541981B2BFC9710AEF6B50A8BB53431C7B4D380D721
639E005D6B4688EE16BFF48443E7C9E5FB5BC5883E271CB0342893C0BBC0A879
B7220832FB50103F72F8B5D9808681A9805D3845788EAE69B439498953DB1217
A15E1F63DDC23231813219F9E38BEDE4B769F6048ADD7D01F110389F1F63438E
2FBFB55F8305D12B058885FACDCC1E7C422176ED2C42ABB04D20D6BCE8B25450
775AD58DB32BD9CA239335D303ECCF0173CF32F9C1F33C1E2A812F404B3369EA
67C7B95D489D7F44248CBDEE6FE4B3661D0B583CED7D682AA17AED914A3FF1AF
2D7BCE5D6F09E48F9EE746D23642EB6FEDE17AEB376A0160B7A7B2D503730450
E45423EC4CB0B9DD845613FEE48768206B
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMMI10
%!PS-AdobeFont-1.1: CMMI10 1.100
%%CreationDate: 1996 Jul 23 07:53:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.100) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMMI10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.04 def
/isFixedPitch false def
end readonly def
/FontName /CMMI10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 11 /alpha put
dup 60 /less put
dup 61 /slash put
dup 62 /greater put
dup 99 /c put
dup 112 /p put
readonly def
/FontBBox{-32 -250 1048 750}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA0529731C99A784CCBE85B4993B2EEBDE
3B12D472B7CF54651EF21185116A69AB1096ED4BAD2F646635E019B6417CC77B
532F85D811C70D1429A19A5307EF63EB5C5E02C89FC6C20F6D9D89E7D91FE470
B72BEFDA23F5DF76BE05AF4CE93137A219ED8A04A9D7D6FDF37E6B7FCDE0D90B
986423E5960A5D9FBB4C956556E8DF90CBFAEC476FA36FD9A5C8175C9AF513FE
D919C2DDD26BDC0D99398B9F4D03D5993DFC0930297866E1CD0A319B6B1FD958
9E394A533A081C36D456A09920001A3D2199583EB9B84B4DEE08E3D12939E321
990CD249827D9648574955F61BAAA11263A91B6C3D47A5190165B0C25ABF6D3E
6EC187E4B05182126BB0D0323D943170B795255260F9FD25F2248D04F45DFBFB
DEF7FF8B19BFEF637B210018AE02572B389B3F76282BEB29CC301905D388C721
59616893E774413F48DE0B408BC66DCE3FE17CB9F84D205839D58014D6A88823
D9320AE93AF96D97A02C4D5A2BB2B8C7925C4578003959C46E3CE1A2F0EAC4BF
8B9B325E46435BDE60BC54D72BC8ACB5C0A34413AC87045DC7B84646A324B808
6FD8E34217213E131C3B1510415CE45420688ED9C1D27890EC68BD7C1235FAF9
1DAB3A369DD2FC3BE5CF9655C7B7EDA7361D7E05E5831B6B8E2EEC542A7B38EE
03BE4BAC6079D038ACB3C7C916279764547C2D51976BABA94BA9866D79F13909
95AA39B0F03103A07CBDF441B8C5669F729020AF284B7FF52A29C6255FCAACF1
74109050FBA2602E72593FBCBFC26E726EE4AEF97B7632BC4F5F353B5C67FED2
3EA752A4A57B8F7FEFF1D7341D895F0A3A0BE1D8E3391970457A967EFF84F6D8
47750B1145B8CC5BD96EE7AA99DDC9E06939E383BDA41175233D58AD263EBF19
AFC0E2F840512D321166547B306C592B8A01E1FA2564B9A26DAC14256414E4C8
42616728D918C74D13C349F4186EC7B9708B86467425A6FDB3A396562F7EE4D8
40B43621744CF8A23A6E532649B66C2A0002DD04F8F39618E4F572819DD34837
B5A08E643FDCA1505AF6A1FA3DDFD1FA758013CAED8ACDDBBB334D664DFF5B53
95601766730045C2D9F29DC2BFEBDE5E7720CC7D8252399EC0E52CB8FEBA6FAA
42FD3474A88E1720686017BBDD80CC54FBF2E0C7F516756E93B7033B09A81638
D9B5F488913ACC192062CB9221FEAB3AB579888DEC551D300CB682821F682777
4E00C087C60B07E97042E02CB3ED85E9FA09A06DC640728C2CB65BC4836B54B2
59A33450AF9012266CAF7DCC91777D4E2717BC6CF53840FBEDE9CA242109EEA9
54AF110225361DAB977815B0770DBC70473B214384B273932C3E2D09883B6E47
C54DA28F1028AD35B02EBD7A27AF79409D34E3228D0BEBB99DA351F3E859ED04
971FC44F6E705A539ECF939FEAA9DD47D30D1384A5B67AD02C5CECCA74BD1718
09CA092DDE067F0C559E538FA2F3609AC2F7124053DC392FB9D84FDBDD484ECD
5F7145A9C2C3C721F7650E0E402CDBFD27324EA3BD6834A6B2CD3824A70AB4AD
C8C5D62DC78913709DFAB6DB9BE9230301553E8E93E5E8FC63901AD1CF4AFB1B
9C6FF8F7453B93977DE83CE391C36FA0F9608D734ACA95094649A143A6582B74
F98ABD87664793C1F76F8E0265FF571E7A2026E5C4D049FA4F0069D02EC07B61
5883BC92867909A26138ABBBBA82BDA433F9D62ECE7AA78D02CF3E065CA148F4
4E624BFB1D1069EFAFDEEDB3956CC7C169585D901C85B3458ABCAABD47260776
1BE08E6A64B440AE13A4C919376AD2B3A48679E3B8C4EC4CB285E6EBD5E4D389
8AA3836C5114342382D96CA5F07C85569ECB2E6A494088F0610C28346DE5AEA4
52AAD07A31E8105C11201A0B393B9B594C48BE2FEB313A29A5A0066BC76CD205
541907D150210AD5C430EB8EBE880D70F39515315F5295D77457C4B71C9EF880
C5CBBF00A80EBA700A8EC905D8FD92F03058657893F82569DEB66392065A1D3D
D8A6BC36461CC6DC58E4426C2D65C3DB2B7E9CEDA24975E964A0370DE8259A62
2FD7BCDE468D579C7656588AB57DE0588080F7A26CE3F258A78BF82385FE8D55
E8301382142258CD4E49FB00B21562FBAA5F179D3C3CC5FE4BC744788D7459AB
495AD6BBBB017EC92534E86F4DED9398EA4B194D784E738E55DF6BB1F6AEF1D6
DB781EB55AC692C93110E7B4A2388CCA69EE58916AED006D7D8B2E55D1534169
8B9BD75E517F22A0818BADB81421A708229AD5E8275DCCBB8E803DA8494CE578
751C3ADDF440AB507352BB9A2FCB571FE8EA59C22CA217173B18E78AC66FA03E
E88A709E5B78683B4B702843D17A514E70EB8D2794005118DC31400410B4135D
89566F8A350500C11FA011DE7638ED1C8680637F7939A4A0781101226E32D37A
539C91F3987795770350F7ECE9FBA5CCC4FA335BCC2C01EA65C02B6D49C315EB
6D9BDAE64D21F31BEA3166946F2C3F230FD8E2BEB595ACC646AC07FFC39B9A1C
88B7B9A79D6F285AC28301617F6C071F7361D480653793FE1CAE19C92D513FA5
58B6A6BB42882F817B664EA17FAE33CA69DA7BCB7BDF
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 15 /bullet put
dup 110 /backslash put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC57036431151EC603C8BCFE359BBD953AD
5F3D998C6EE18EABCDD31D35C7E933DEA008418A4F0845FC9A361328AB270359
C974485C9BCBCB1E9EBBF3ACC647C4108F7E05961E22390303FD667A2294F500
7A085C407876060C7B8583F57849FA24B596194B61DFEA86D73001470B9331CF
9883EC171BD83263C7E20619B8C2AF6DDBC6502C4D9FFDF9B96C888ED8560FD3
B935AB23824A4C8CC9FF153F13C43139F956AA1FF21F89D670229ED5D6CE3C3F
A79E49D65D8C42470D086F330522514265CEFBE8CF5FBBE840EDBC4AB7BE4549
C37DDF51972EA0927AA95FAA7E7C36E4434AD5C3EE98AB2EF979D68C11C8E026
72B121CAA2A16F71810323B17A32D8FE0568D922203E82E54E6047B11B66D0C8
474630A3DFDB74DD3E5340F40B0B724EAC5780C0E2013D62CA6236
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39139632 55387786 1000 600 600 (clTut.dvi)
@start /Fa 103[40 15[40 10[40 40 40 40 40 40 40 40 40
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40
40 40 40 40 1[40 40 40 40 40 40 40 40 40 40 40 40 40
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40
40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40 40
40 40 40 40 40 40 40 40 40 40 40 40 33[{TeXBase1Encoding ReEncodeFont}
94 66.4176 /Courier rf /Fb 134[37 37 2[42 23 32 32 1[42
42 42 1[23 2[23 42 1[23 37 2[42 42 12[46 16[55 21[28
11[28 33[{TeXBase1Encoding ReEncodeFont}20 83.022 /Times-Italic
rf /Fc 161[42 94[{}1 83.022 /CMR10 rf /Fd 143[42 12[36
36[65 42 65 48[53 11[{}6 83.022 /CMMI10 rf /Fe 133[42
2[60 1[46 23 42 28 1[46 46 46 69 18 42 1[18 46 2[46 46
42 1[46 38[23 10[23 23 46[{TeXBase1Encoding ReEncodeFont}21
83.022 /Helvetica rf /Ff 103[50 15[50 10[50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 1[50 1[50 50 50 50 50 50 50 1[50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 1[50 50 50 50 50 50 50 1[50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 1[50 50 50 50 34[{
TeXBase1Encoding ReEncodeFont}88 83.022 /Courier rf /Fg
145[42 94[42 15[{}2 83.022 /CMSY10 rf /Fh 134[50 50 72
50 55 33 39 44 55 55 50 55 83 28 55 1[28 55 50 33 44
55 44 55 50 9[100 1[72 66 55 72 1[61 78 72 94 66 2[39
1[78 61 66 72 72 1[72 6[33 50 50 50 50 50 50 50 50 50
50 1[25 33 3[33 33 33 36[55 2[{TeXBase1Encoding ReEncodeFont}58
99.6264 /Times-Bold rf /Fi 105[42 27[37 42 42 60 42 46
28 32 37 46 46 42 46 69 23 46 28 23 46 42 28 37 46 37
46 42 6[55 1[60 83 60 60 55 46 60 1[51 65 60 78 55 65
42 32 65 65 51 55 60 60 55 60 6[28 42 42 42 42 42 42
42 42 42 42 23 21 28 8[42 33[46 2[{TeXBase1Encoding ReEncodeFont}67
83.022 /Times-Bold rf /Fj 135[60 86 1[66 40 47 53 1[66
60 66 100 33 66 1[33 66 60 40 53 66 53 66 60 11[86 80
66 86 1[73 1[86 113 3[47 1[93 1[80 1[86 1[86 7[60 60
60 60 60 60 60 60 60 60 2[40 45[{TeXBase1Encoding ReEncodeFont}44
119.552 /Times-Bold rf /Fk 64[37 10[28 28[83 42 1[37
37 24[37 42 42 60 42 42 23 32 28 42 42 42 42 65 23 42
23 23 42 42 28 37 42 37 42 37 28 5[51 60 60 78 60 60
51 46 55 60 46 60 60 74 51 60 32 28 60 60 46 51 60 55
55 60 3[47 1[23 23 42 42 42 42 42 42 42 42 42 42 23 21
28 21 47 42 28 28 28 65 1[42 30[28 1[46 46 2[{
TeXBase1Encoding ReEncodeFont}86 83.022 /Times-Roman
rf /Fl 138[60 60 60 60 1[60 60 1[60 60 2[60 60 60 1[60
60 60 60 60 38[60 10[60 60 46[{TeXBase1Encoding ReEncodeFont}19
99.6264 /Courier rf /Fm 134[50 2[50 50 28 39 33 1[50
50 50 78 28 50 1[28 50 50 33 44 50 44 50 44 11[72 1[55
66 1[55 2[89 2[39 1[72 72 55 1[72 66 66 72 7[50 2[50
3[50 50 50 3[25 44[{TeXBase1Encoding ReEncodeFont}40
99.6264 /Times-Roman rf /Fn 137[103 103 57 4[103 103
161 3[57 3[92 1[92 1[92 14[138 5[126 2[69 4[149 138 138
149 11[103 3[103 103 1[52 46[{TeXBase1Encoding ReEncodeFont}21
206.559 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 796 625 a Fn(CLAIRLIB)51 b(Documentation)1703
874 y(v1.05)1116 2277 y Fm(Dragomir)24 b(Rade)n(v)-6
b(,)24 b(Uni)n(v)o(ersity)f(of)i(Michigan)1172 2394 y(Mark)g(Hodges,)f
(Uni)n(v)o(ersity)f(of)h(Michigan)1148 2510 y(Anthon)o(y)f(F)o(ader)l
(,)i(Uni)n(v)o(ersity)e(of)i(Michigan)1189 2626 y(Mark)f(Joseph,)g(Uni)
n(v)o(ersity)f(of)i(Michigan)1147 2742 y(Joshua)f(Gerrish,)h(Uni)n(v)o
(ersity)d(of)j(Michigan)1163 2859 y(Mark)g(Schaller)l(,)g(Uni)n(v)o
(ersity)e(of)i(Michigan)1176 2975 y(Jonathan)f(dePeri,)h(Columbia)f
(Uni)n(v)o(ersity)1167 3091 y(Bryan)h(Gibson,)f(Uni)n(v)o(ersity)e(of)j
(Michigan)1194 3207 y(Chen)h(Huang,)e(Uni)n(v)o(ersity)e(of)j(Michigan)
680 3440 y Fl(http://belobog.si.umich.edu/)o(clair)o(/cla)o(irlib)1618
3750 y Fm(March)g(16,)g(2009)1914 5809 y Fk(1)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 60 210 a Fj(Contents)60 396 y Fi(1)83
b(Intr)o(oduction)3131 b(7)185 495 y Fk(1.1)85 b(Functionality)70
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)117 b(7)375
595 y(1.1.1)98 b(Nati)n(v)o(e)20 b(to)g(Clairlib-core)60
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)117 b(7)375 695 y(1.1.2)98 b(Imported)18 b(and)i(a)n(v)n
(ailable)g(via)g(Clairlib-core)39 b(.)i(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
117 b(8)185 794 y(1.2)85 b(Nati)n(v)o(e)20 b(to)h(Clairlib-e)o(xt)56
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)117 b(8)185 894 y(1.3)85 b(Contrib)n(utors)
33 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)117 b(8)185
994 y(1.4)85 b(Changes)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)117 b(9)60 1176 y Fi(2)83 b(Getting)19 b(Started)2990
b(11)185 1276 y Fk(2.1)85 b(Do)n(wnloading)62 b(.)41
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(11)185 1375
y(2.2)85 b(Installing)76 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)76 b(11)60 1558 y Fi(3)83 b(Install)20 b(and)h(T)-8
b(est)21 b(Clairlib-Cor)o(e)2496 b(11)60 1741 y(4)83
b(Install)20 b(and)h(T)-8 b(est)21 b(Clairlib-Ext)2546
b(16)60 1923 y(5)83 b(Structur)o(e)19 b(of)h(the)g(Clairlib)h(Code)2478
b(18)60 2106 y(6)83 b(Clairlib)20 b(Netw)o(ork)g(Pr)o(ocessing)f
(Utilities)i(T)-8 b(utorial)1933 b(22)60 2289 y(7)83
b(Recipes)3270 b(24)185 2388 y Fk(7.1)85 b(Generating)19
b(Corpora)38 b(.)j(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(24)375 2488
y(7.1.1)98 b(Generate)20 b(a)g(corpus)f(by)h(do)n(wnloading)d(\002les)
56 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(24)375
2588 y(7.1.2)98 b(Generate)20 b(a)g(corpus)f(by)h(cra)o(wling)f(a)i
(site)38 b(.)k(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(24)375 2687 y(7.1.3)98 b(Generate)20 b(a)g(corpus)f(from)g(a)i
(Google)e(search)32 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(24)375 2787 y(7.1.4)98 b(Generate)20 b(a)g(corpus)f(of)h(sentences)g
(from)f(a)i(document)62 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(24)375
2886 y(7.1.5)98 b(Generate)20 b(a)g(corpus)f(using)h(Zip\002an)g
(distrib)n(ution)30 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(25)185 2986 y(7.2)85 b(Gathering)19 b(Corpus)h(Statistics)38
b(.)j(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)76 b(25)375 3086 y(7.2.1)98 b(Run)20 b(IDF)h(queries)e(on)h
(a)h(corpus)37 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)76 b(25)375 3185 y(7.2.2)98 b(Run)20 b(TF)h(queries)e(on)h(a)h
(corpus)74 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)76 b(25)185 3285 y(7.3)85 b(Generating)19 b(Netw)o(orks)51
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(25)375 3385 y(7.3.1)98
b(Generate)20 b(a)g(netw)o(ork)f(from)g(a)i(corpus)50
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(25)375 3484 y(7.3.2)98 b(Generate)20 b(synthetic)f(netw)o(ork)g
(using)h(Erdos/Ren)o(yi)e(linking)h(model)j(.)41 b(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(26)185 3584
y(7.4)85 b(Gathering)19 b(Netw)o(ork)h(Statistics)50
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)76 b(26)375 3683 y(7.4.1)98 b(Generate)20
b(plots)g(and)f(statistics)j(from)d(a)i(corpus)e(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(26)375 3783 y(7.4.2)98
b(Generate)20 b(plots)g(from)f(a)i(netw)o(ork)43 b(.)e(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(26)375 3883
y(7.4.3)98 b(Putting)20 b(it)h(all)g(together:)i(plots)e(and)e(stats)j
(generated)c(from)h(a)i(document)h(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(27)185 3982 y(7.5)85 b(Other)20
b(Useful)g(T)-7 b(ools)67 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(28)375 4082 y(7.5.1)98 b(Selecting)20 b(a)h(subset)f(of)g(a)g(corpus)
f(for)h(processing)77 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(28)375 4182 y(7.5.2)98 b(Con)m(v)o(ert)19 b(a)h(netw)o(ork)f(from)h
(one)f(format)g(to)i(another)h(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(28)375 4281 y(7.5.3)98 b(Extract)20 b(ngrams)f(from)g(document)f(and)
i(create)g(netw)o(ork)55 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(28)375
4381 y(7.5.4)98 b(Generate)20 b(statistics)h(for)f(w)o(ord)f(gro)n(wth)
g(model)h(from)f(a)h(corpus)50 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(28)60 4563 y
Fi(8)83 b(Modules)3238 b(28)185 4663 y Fk(8.1)85 b(Clair::Document)80
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(28)185 4763 y(8.2)85
b(Clair::Cluster)63 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(29)375 4862 y(8.2.1)98 b(W)-7 b(orking)19 b(with)i(Documents)e
(Collecti)n(v)o(ely)27 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(30)375 4962 y(8.2.2)98 b(Analyzing)19 b(a)h(Cluster)h(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)76 b(30)185 5062 y(8.3)85 b(Clair::Netw)o(ork)74
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(30)375 5161
y(8.3.1)98 b(Creating)20 b(a)g(Netw)o(ork)30 b(.)41 b(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(30)375 5261 y(8.3.2)98 b(Importing)18 b(a)j(Netw)o(ork)45
b(.)d(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)76 b(31)375 5360 y(8.3.3)98 b(Exporting)18 b(a)j(Netw)o(ork)45
b(.)d(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)76 b(31)375 5460 y(8.3.4)98 b(Analyzing)19 b(a)h(Netw)o(ork)32
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)76 b(31)375 5560 y(8.3.5)98 b(Netw)o(ork)20
b(Generation)65 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(34)1914 5809 y(2)p eop
end
%%Page: 3 3
TeXDict begin 3 2 bop 375 210 a Fk(8.3.6)98 b(Netw)o(ork)20
b(Sampling)54 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(34)185 310 y(8.4)85
b(Clair::Statistics)66 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(35)185 409 y(8.5)85 b(Clair::Gen)40 b(.)h(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)76 b(35)185 509 y(8.6)85 b(Clair::ChisqIndependent)69
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)76 b(35)185 609 y(8.7)85 b(Clair::LM)54
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(36)185 708 y(8.8)85 b(Clair::Util)50 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)76 b(37)185 808 y(8.9)85 b(Clair::Utils::CorpusDo)n
(wnload)70 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)76 b(38)375 908 y(8.9.1)98 b(Creating)20
b(a)g(Corpus)80 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(38)375 1007 y(8.9.2)98
b(Computing)19 b(IDF)h(and)g(TF)g(V)-9 b(alues)30 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(38)185 1107 y(8.10)43 b(Clair::Utils::TF)22 b(and)e
(Clair::Utils::IDF)30 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)76 b(39)185 1206 y(8.11)43 b(Clair::Utils::W)-7
b(ebSearch)31 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(39)185 1306
y(8.12)43 b(Clair::Utils::P)o(arse)f(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(40)375 1406 y(8.12.1)56 b(Preparing)19 b(a)h(File)h(for)f(the)g
(Charniak)f(P)o(arser)47 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(40)375 1505 y(8.12.2)56 b(Charniak)19 b(P)o(arser)29
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(40)375 1605 y(8.12.3)56 b(Chunklink)21
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(40)185 1705 y(8.13)43
b(Clair::Utils::Stem)50 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(40)60 1887 y Fi(9)83 b(Sample)20 b(Code)g(Example)2740
b(41)60 2070 y(10)41 b(All)20 b(Code)h(Examples)2864
b(46)185 2170 y Fk(10.1)43 b(List)21 b(of)f(Recipes)74
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(46)185 2269
y(10.2)43 b(Unit)21 b(T)-6 b(ests)53 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)76 b(53)375 2369 y(10.2.1)56 b(test)p
761 2369 25 4 v 30 w(alee)o(xtract.t)49 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(54)375 2468 y(10.2.2)56 b(test)p 761 2468 V 30 w(alesearch.t)62
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(56)375 2568 y(10.2.3)56 b(test)p
761 2568 V 30 w(biased)p 1004 2568 V 29 w(le)o(xrank.t)66
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)76 b(57)375 2668 y(10.2.4)56 b(test)p 761
2668 V 30 w(centrality)-5 b(.t)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(58)375 2767 y(10.2.5)56 b(test)p 761 2767 V 30 w(cidr)-5
b(.t)60 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(66)375
2867 y(10.2.6)56 b(test)p 761 2867 V 30 w(cidrwrapper)-5
b(.t)35 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(67)375 2967 y(10.2.7)56
b(test)p 761 2967 V 30 w(cluster)-5 b(.t)30 b(.)41 b(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)76 b(68)375 3066 y(10.2.8)56 b(test)p 761 3066 V
30 w(compare)p 1079 3066 V 28 w(idf.t)25 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(70)375 3166 y(10.2.9)56 b(test)p 761 3166 V 30 w(connection.t)67
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)76 b(71)375 3265 y(10.2.10)14 b(test)p
761 3265 V 30 w(corpus)p 1014 3265 V 29 w(do)n(wnload.t)41
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)76 b(73)375 3365 y(10.2.11)14 b(test)p 761 3365 V
30 w(document)p 1121 3365 V 28 w(idf.t)45 b(.)c(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(74)375 3465 y(10.2.12)14 b(test)p 761 3465 V 30 w(document.t)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)76 b(75)375 3564 y(10.2.13)14 b(test)p
761 3564 V 30 w(esearchhandler)-5 b(.t)62 b(.)42 b(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(77)375 3664 y(10.2.14)14 b(test)p 761 3664 V 30 w(esearch.t)59
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(78)375 3764 y(10.2.15)14
b(test)p 761 3764 V 30 w(eutils.t)67 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(79)375 3863 y(10.2.16)14 b(test)p 761 3863 V 30 w(generif.t)72
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(80)375 3963 y(10.2.17)14
b(test)p 761 3963 V 30 w(gen.t)64 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(81)375 4062 y(10.2.18)14 b(test)p 761 4062 V 30 w(girv)n(anNe)n
(wman.t)47 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)76 b(82)375 4162 y(10.2.19)14 b(test)p
761 4162 V 30 w(graf.t)50 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(83)375 4262 y(10.2.20)14 b(test)p 761 4262 V 30 w(hyperlink.t)51
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(84)375 4361 y(10.2.21)14
b(test)p 761 4361 V 30 w(idf.t)29 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)76 b(85)375 4461 y(10.2.22)14 b(test)p 761 4461 V
30 w(k)o(ernighanLin.t)46 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(86)375 4561
y(10.2.23)14 b(test)p 761 4561 V 30 w(le)o(xrank2.t)80
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(87)375 4660 y(10.2.24)14
b(test)p 761 4660 V 30 w(le)o(xrank3.t)80 b(.)41 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76
b(88)375 4760 y(10.2.25)14 b(test)p 761 4760 V 30 w(le)o(xrank4.t)80
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)76 b(89)375 4859 y(10.2.26)14
b(test)p 761 4859 V 30 w(le)o(xrank)p 1041 4859 V 28
w(lar)o(ge)p 1235 4859 V 28 w(mxt.t)81 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(94)375 4959
y(10.2.27)14 b(test)p 761 4959 V 30 w(le)o(xrank)p 1041
4959 V 28 w(lar)o(ge.t)52 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(96)375 5059
y(10.2.28)14 b(test)p 761 5059 V 30 w(le)o(xrank.t)59
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)76 b(97)375 5158 y(10.2.29)14
b(test)p 761 5158 V 30 w(linear)p 981 5158 V 29 w(algebra.t)31
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)76 b(98)375 5258 y(10.2.30)14 b(test)p
761 5258 V 30 w(mead)p 972 5258 V 29 w(summary)-5 b(.t)42
b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)34 b(101)375 5358 y(10.2.31)14 b(test)p 761 5358
V 30 w(meadwrapper)p 1246 5358 V 27 w(mxt.t)71 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(103)375 5457 y(10.2.32)14 b(test)p 761 5457 V 30 w(meadwrapper)-5
b(.t)46 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(105)375 5557 y(10.2.33)14
b(test)p 761 5557 V 30 w(mmr)-5 b(.t)32 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)34 b(107)1914 5809 y(3)p eop end
%%Page: 4 4
TeXDict begin 4 3 bop 375 210 a Fk(10.2.34)14 b(test)p
761 210 25 4 v 30 w(netw)o(ork)p 1064 210 V 28 w(adamic.t)79
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)34 b(108)375 310 y(10.2.35)14 b(test)p 761 310
V 30 w(netw)o(ork)p 1064 310 V 28 w(reader)-5 b(.t)53
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)34 b(108)375 409 y(10.2.36)14 b(test)p 761
409 V 30 w(netw)o(ork)p 1064 409 V 28 w(stat.t)80 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)34 b(109)375 509 y(10.2.37)14 b(test)p 761 509
V 30 w(netw)o(ork.t)36 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(113)375
609 y(10.2.38)14 b(test)p 761 609 V 30 w(netw)o(orkwrapper)p
1338 609 V 26 w(docs.t)81 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)34 b(117)375 708 y(10.2.39)14 b(test)p
761 708 V 30 w(netw)o(orkwrapper)p 1338 708 V 26 w(sents.t)68
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(118)375 808 y(10.2.40)14 b(test)p 761 808 V 30 w(pagerank.t)65
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(119)375 908 y(10.2.41)14
b(test)p 761 908 V 30 w(parse.t)71 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(120)375 1007 y(10.2.42)14 b(test)p 761 1007 V 30 w(random)p
1047 1007 V 28 w(w)o(alk.t)51 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(121)375
1107 y(10.2.43)14 b(test)p 761 1107 V 30 w(record.t)33
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(122)375 1206 y(10.2.44)14
b(test)p 761 1206 V 30 w(sentence)p 1078 1206 V 29 w(combiner)-5
b(.t)56 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)34 b(124)375 1306 y(10.2.45)14 b(test)p 761
1306 V 30 w(sentence)p 1078 1306 V 29 w(features)p 1371
1306 V 29 w(cluster)-5 b(.t)44 b(.)d(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)34 b(126)375 1406 y(10.2.46)14 b(test)p
761 1406 V 30 w(sentence)p 1078 1406 V 29 w(features)p
1371 1406 V 29 w(subs.t)50 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)34 b(128)375 1505 y(10.2.47)14 b(test)p
761 1505 V 30 w(sentence)p 1078 1505 V 29 w(features.t)41
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)34 b(129)375 1605 y(10.2.48)14 b(test)p 761 1605
V 30 w(speak)o(er)-5 b(.t)60 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(132)375 1705 y(10.2.49)14 b(test)p 761 1705 V 30 w(summary)-5
b(.t)66 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(133)375 1804 y(10.2.50)14
b(test)p 761 1804 V 30 w(us)p 865 1804 V 30 w(connection.t)25
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)34 b(136)375 1904 y(10.2.51)14 b(test)p
761 1904 V 30 w(web)p 930 1904 V 30 w(search.t)52 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)34 b(138)375 2003 y(10.2.52)14 b(test)p 761
2003 V 30 w(xmldoc.t)58 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(139)375 2103 y(10.2.53)14 b(test)p 761 2103 V 30 w(alee)o(xtract.t)49
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(140)375 2203 y(10.2.54)14
b(test)p 761 2203 V 30 w(alesearch.t)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(142)375 2302 y(10.2.55)14 b(test)p 761 2302 V 30 w(le)o(xrank)p
1041 2302 V 28 w(lar)o(ge)p 1235 2302 V 28 w(mxt.t)81
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)34 b(143)375 2402 y(10.2.56)14 b(test)p 761 2402 V
30 w(meadwrapper)p 1246 2402 V 27 w(mxt.t)71 b(.)41 b(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(145)375
2502 y(10.2.57)14 b(test)p 761 2502 V 30 w(web)p 930
2502 V 30 w(search.t)52 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(146)185
2601 y(10.3)43 b(Example)19 b(tests)52 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)34 b(147)375 2701 y(10.3.1)56 b(biased)p 859
2701 V 29 w(le)o(xrank.pl)45 b(.)c(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(147)375
2800 y(10.3.2)56 b(cfnetw)o(ork)p 984 2800 V 28 w(basic.pl)62
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)34 b(148)375 2900 y(10.3.3)56 b(cfnetw)o(ork)p
984 2900 V 28 w(weighted.pl)c(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(150)375 3000
y(10.3.4)56 b(cidr)-5 b(.pl)38 b(.)j(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
34 b(152)375 3099 y(10.3.5)56 b(classify)-5 b(.pl)39
b(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(153)375 3199 y(10.3.6)56
b(classify)p 900 3199 V 30 w(weka.pl)77 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(154)375 3299 y(10.3.7)56 b(cluster)-5 b(.pl)71 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(157)375 3398 y(10.3.8)56
b(compare)p 934 3398 V 28 w(idf.pl)66 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(158)375 3498 y(10.3.9)56 b(corpusdo)n(wnload)p 1197
3498 V 26 w(hyperlink.pl)75 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)34 b(159)375 3597 y(10.3.10)14 b(corpusdo)n(wnload)p
1197 3597 V 26 w(list.pl)46 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(161)375 3697
y(10.3.11)14 b(corpusdo)n(wnload.pl)48 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(167)375 3797 y(10.3.12)14 b(document)p 976 3797 V 27
w(idf.pl)25 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(172)375 3896
y(10.3.13)14 b(document.pl)20 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(173)375 3996 y(10.3.14)14 b(features)p 910 3996 V 29
w(io.pl)54 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(174)375 4096
y(10.3.15)14 b(features.pl)24 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(176)375 4195 y(10.3.16)14 b(features)p 910 4195 V 29
w(traintest.pl)38 b(.)j(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(178)375 4295 y(10.3.17)14
b(genericdoc.pl)45 b(.)d(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(180)375
4395 y(10.3.18)14 b(html.pl)72 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(182)375 4494 y(10.3.19)14 b(hyperlink.pl)29 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)34 b(182)375 4594 y(10.3.20)14
b(idf.pl)70 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(183)375 4693 y(10.3.21)14 b(inde)o(x)p 831 4693 V 28
w(dir\002les)p 1090 4693 V 30 w(incremental.pl)42 b(.)g(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(184)375
4793 y(10.3.22)14 b(inde)o(x)p 831 4793 V 28 w(dir\002les.pl)31
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(186)375 4893 y(10.3.23)14
b(inde)o(x)p 831 4893 V 28 w(mldbm)p 1096 4893 V 28 w(incremental.pl)38
b(.)k(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(189)375 4992 y(10.3.24)14 b(inde)o(x)p 831 4992 V 28
w(mldbm.pl)25 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(191)375 5092
y(10.3.25)14 b(ir)-5 b(.pl)55 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)34 b(194)375 5192 y(10.3.26)14 b(learn.pl)58 b(.)42
b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(196)375 5291 y(10.3.27)14
b(le)o(xrank2.pl)58 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(197)375 5391 y(10.3.28)14 b(le)o(xrank3.pl)58 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)34 b(198)375 5490 y(10.3.29)14
b(le)o(xrank4.pl)58 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(199)1914 5809 y(4)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop 375 210 a Fk(10.3.30)14 b(le)o(xrank)p
896 210 25 4 v 28 w(lar)o(ge.pl)31 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(204)375 310 y(10.3.31)14 b(le)o(xrank.pl)38 b(.)j(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)34 b(205)375 409 y(10.3.32)14 b(linear)p 836 409
V 29 w(algebra.pl)72 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(206)375
509 y(10.3.33)14 b(lsi.pl)23 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)34 b(207)375 609 y(10.3.34)14 b(mead)p 827 609
V 29 w(summary)-5 b(.pl)21 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(211)375
708 y(10.3.35)14 b(me)o(ga.pl)45 b(.)d(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(212)375 808 y(10.3.36)14 b(mmr)-5 b(.pl)72 b(.)42 b(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)34 b(218)375 908 y(10.3.37)14 b(netw)o(orkstat.pl)24
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(220)375 1007 y(10.3.38)14
b(pagerank.pl)43 b(.)e(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(225)375
1107 y(10.3.39)14 b(parse.pl)49 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
34 b(226)375 1206 y(10.3.40)14 b(query)-5 b(.pl)39 b(.)j(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)34 b(227)375 1306 y(10.3.41)14 b(random)p
902 1306 V 28 w(w)o(alk.pl)30 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(229)375 1406 y(10.3.42)14 b(read)p 790 1406 V 29 w(dir\002les.pl)71
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(230)375 1505 y(10.3.43)14
b(sampling.pl)44 b(.)d(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(231)375
1605 y(10.3.44)14 b(statistics.pl)65 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(232)375 1705 y(10.3.45)14 b(stem.pl)68 b(.)42 b(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)34 b(233)375 1804 y(10.3.46)14 b(summary)-5
b(.pl)44 b(.)d(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(234)375 1904
y(10.3.47)14 b(w)o(ordcount)p 1003 1904 V 27 w(dir)-5
b(.pl)65 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(235)375 2003 y(10.3.48)14
b(w)o(ordcount.pl)55 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(236)375
2103 y(10.3.49)14 b(xmldoc.pl)37 b(.)k(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(236)375 2203 y(10.3.50)14 b(classify)p 900 2203 V 30
w(weka.pl)77 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(237)375 2302 y(10.3.51)14
b(lsi.pl)23 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(240)375 2402 y(10.3.52)14 b(parse.pl)49 b(.)42 b(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)34 b(243)185 2502 y(10.4)43 b(Utilities)61
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(243)375 2601 y(10.4.1)56 b(bfs)p 748 2601 V 29 w(e)o(xtract)p
1003 2601 V 29 w(subnet.pl)h(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(244)375 2701
y(10.4.2)56 b(chunk)p 851 2701 V 28 w(document.pl)36
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)34 b(247)375 2800 y(10.4.3)56 b(compute)p
934 2800 V 28 w(le)o(xrank.pl)33 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(249)375
2900 y(10.4.4)56 b(con)m(v)o(ert)p 893 2900 V 27 w(netw)o(ork.pl)c(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)34 b(251)375 3000 y(10.4.5)56 b(corpus)p 869
3000 V 28 w(to)p 962 3000 V 30 w(cos.pl)80 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(254)375 3099 y(10.4.6)56 b(corpus)p 869 3099 V 28 w(to)p
962 3099 V 30 w(cos-threaded.pl)75 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(257)375 3199 y(10.4.7)56
b(corpus)p 869 3199 V 28 w(to)p 962 3199 V 30 w(le)o(xical)p
1213 3199 V 29 w(netw)o(ork.pl)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)34 b(261)375 3299 y(10.4.8)56
b(corpus)p 869 3299 V 28 w(to)p 962 3299 V 30 w(netw)o(ork.pl)42
b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)34 b(263)375 3398 y(10.4.9)56 b(cos)p 757 3398
V 30 w(to)p 852 3398 V 29 w(cosplots.pl)29 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(266)375 3498 y(10.4.10)14 b(cos)p 757 3498 V 30 w(to)p
852 3498 V 29 w(histograms.pl)60 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(270)375
3597 y(10.4.11)14 b(cos)p 757 3597 V 30 w(to)p 852 3597
V 29 w(netw)o(orks.pl)59 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(275)375
3697 y(10.4.12)14 b(cos)p 757 3697 V 30 w(to)p 852 3697
V 29 w(stats.pl)30 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(277)375
3797 y(10.4.13)14 b(cra)o(wl)p 830 3797 V 29 w(url.pl)44
b(.)d(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(284)375 3896 y(10.4.14)14
b(directory)p 948 3896 V 28 w(to)p 1041 3896 V 29 w(corpus.pl)77
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)34 b(286)375 3996 y(10.4.15)14 b(do)n(wnload)p
974 3996 V 27 w(urls.pl)57 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(288)375
4096 y(10.4.16)14 b(erase)p 817 4096 V 30 w(corpus.pl)51
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)34 b(289)375 4195 y(10.4.17)14
b(erase)p 817 4195 V 30 w(isolated)p 1106 4195 V 29 w(nodes.pl)40
b(.)h(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)34 b(290)375 4295 y(10.4.18)14 b(e)o(xtract)p 872
4295 V 29 w(ngrams.pl)36 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(291)375
4395 y(10.4.19)14 b(generate)p 929 4395 V 28 w(random)p
1213 4395 V 28 w(netw)o(ork.pl)42 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)34 b(295)375 4494 y(10.4.20)14
b(idf)p 739 4494 V 29 w(query)-5 b(.pl)42 b(.)f(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(297)375 4594 y(10.4.21)14 b(inde)o(x)p 831 4594 V 28
w(corpus.pl)39 b(.)i(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(299)375 4693
y(10.4.22)14 b(lines)p 803 4693 V 30 w(to)p 898 4693
V 29 w(docs.pl)41 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(301)375 4793
y(10.4.23)14 b(link)p 776 4793 V 29 w(synthetic)p 1106
4793 V 29 w(collection.pl)30 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(302)375 4893 y(10.4.24)14
b(list)p 747 4893 V 31 w(to)p 843 4893 V 29 w(cos)p 983
4893 V 30 w(stats.pl)23 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(304)375
4992 y(10.4.25)14 b(list)p 747 4992 V 31 w(to)p 843 4992
V 29 w(le)o(xrank.pl)61 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(306)375
5092 y(10.4.26)14 b(mak)o(e)p 826 5092 V 29 w(synth)p
1036 5092 V 29 w(collection.pl)38 b(.)j(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(308)375 5192 y(10.4.27)14
b(manage)p 906 5192 V 28 w(corpus.pl)26 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(313)375 5291 y(10.4.28)14 b(netw)o(ork)p 919 5291 V
28 w(gro)n(wth.pl)63 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(315)375 5391
y(10.4.29)14 b(netw)o(ork)p 919 5391 V 28 w(to)p 1012
5391 V 30 w(plots.pl)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(319)375 5490
y(10.4.30)14 b(print)p 804 5490 V 29 w(netw)o(ork)p 1106
5490 V 28 w(stats.pl)26 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(322)1914 5809
y(5)p eop end
%%Page: 6 6
TeXDict begin 6 5 bop 375 210 a Fk(10.4.31)14 b(search)p
859 210 25 4 v 29 w(to)p 953 210 V 30 w(url.pl)45 b(.)c(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(328)375 310 y(10.4.32)14 b(sentences)p 965 310 V 29
w(to)p 1059 310 V 30 w(docs.pl)65 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(329)375
409 y(10.4.33)14 b(stats2html.pl)70 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(331)375 509 y(10.4.34)14 b(stats2matlab)m(.pl)62 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)34 b(334)375 609 y(10.4.35)14 b(tf)p
697 609 V 30 w(query)-5 b(.pl)21 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34
b(336)375 708 y(10.4.36)14 b(w)o(ordnet)p 919 708 V 28
w(to)p 1012 708 V 30 w(netw)o(ork.pl)55 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(338)375
808 y(10.4.37)14 b(search)p 859 808 V 29 w(to)p 953 808
V 30 w(url.pl)45 b(.)c(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(339)375 908
y(10.4.38)14 b(w)o(ordnet)p 919 908 V 28 w(to)p 1012
908 V 30 w(netw)o(ork.pl)55 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)34 b(340)1914 5809
y(6)p eop end
%%Page: 7 7
TeXDict begin 7 6 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fj(1)119 b(Intr)n(oduction)
60 396 y Fk(The)29 b(Uni)n(v)o(ersity)f(of)h(Michigan)e(CLAIR)j
(\(Computational)d(Linguistics)i(and)g(Information)d(Retrie)n(v)n(al\))
j(group)e(is)k(happ)o(y)c(to)60 495 y(present)20 b(v)o(ersion)e(1.05)h
(of)h(the)h(Clair)f(Library)-5 b(.)185 595 y(The)25 b(Clair)i(library)d
(is)j(intended)d(to)i(simplify)g(a)g(number)e(of)i(generic)e(tasks)j
(in)f(Natural)f(Language)f(Processing)h(\(NLP\),)60 695
y(Information)d(Retrie)n(v)n(al)j(\(IR\),)g(and)g(Netw)o(ork)f
(Analysis)i(\(N)m(A\).)e(Its)i(architecture)e(also)h(allo)n(ws)h(for)f
(e)o(xternal)e(softw)o(are)i(to)h(be)60 794 y(plugged)18
b(in)j(with)f(v)o(ery)f(little)i(ef)n(fort.)185 894 y(W)-7
b(e)18 b(are)f(distrib)n(uting)f(the)i(Clair)g(library)e(in)h(tw)o(o)h
(forms:)23 b(Clairlib-core,)16 b(which)h(has)h(essential)f
(functionality)e(and)i(minimal)60 994 y(dependence)25
b(on)h(e)o(xternal)g(softw)o(are,)j(and)d(Clairlib-e)o(xt,)i(which)f
(has)h(e)o(xtended)d(functionality)g(that)i(may)g(be)g(of)g(interest)g
(to)60 1093 y(a)j(smaller)g(audience.)53 b(Depending)28
b(on)i(whether)f(you)g(choose)g(to)h(install)h(only)e(Clairlib-core)f
(or)i(both)f(Clairlib-core)g(and)60 1193 y(Clairlib-e)o(xt,)d(some)f
(of)h(the)g(content)e(of)i(this)g(manual)f(will)h(not)f(apply)g(to)h
(your)e(installation.)41 b(Throughout)23 b(this)j(document,)60
1292 y(for)e(the)h(sak)o(e)g(of)f(bre)n(vity)-5 b(,)24
b(we)h(will)h(usually)e(say)h(\223the)g(Clair)g(library\224)e(or)i(the)
g(more)f(abbre)n(viated)e(\223Clairlib\224)j(to)g(refer)f(to)h(the)60
1392 y(softw)o(are)20 b(we')l(re)f(distrib)n(uting.)185
1492 y(This)24 b(w)o(ork)f(has)h(been)f(supported)f(in)i(part)f(by)h
(National)f(Institutes)h(of)f(Health)h(grants)f(R01)h(LM008106)d
(\223Representing)60 1591 y(and)27 b(Acquiring)e(Kno)n(wledge)h(of)h
(Genome)f(Re)o(gulation\224)g(and)h(U54)g(D)m(A021519)d(\223National)j
(center)g(for)f(inte)o(grati)n(v)o(e)g(bioin-)60 1691
y(formatics,)-6 b(\224)23 b(as)h(well)f(as)h(by)f(grants)g(IDM)g
(0329043)d(\223Probabilistic)i(and)h(link-based)e(Methods)i(for)f
(Exploiting)f(V)-9 b(ery)23 b(Lar)o(ge)60 1791 y(T)-6
b(e)o(xtual)15 b(Repositories,)-6 b(\224)16 b(DHB)h(0527513)c(\223The)i
(Dynamics)g(of)h(Political)g(Representation)f(and)g(Political)h
(Rhetoric,)-6 b(\224)16 b(0534323)60 1890 y(\223Collaborati)n(v)o(e)e
(Research:)23 b(BlogoCenter)15 b(-)h(Infrastructure)e(for)h
(Collecting,)h(Mining)g(and)f(Accessing)h(Blogs,)-6 b(\224)17
b(and)e(0527513)60 1990 y(\223The)20 b(Dynamics)f(of)h(Political)h
(Representation)d(and)i(Political)h(Rhetoric,)-6 b(\224)19
b(from)g(the)h(National)g(Science)g(F)o(oundation.)60
2227 y Fh(1.1)99 b(Functionality)60 2383 y Fk(Much)21
b(can)g(be)g(done)g(using)g(Clairlib)h(on)f(its)h(o)n(wn.)29
b(Some)21 b(of)g(the)h(things)f(that)g(Clairlib)h(can)f(do)g(are)h
(listed)g(belo)n(w)-5 b(,)20 b(in)i(separate)60 2482
y(lists)34 b(indicating)d(whether)g(that)i(functionality)d(comes)i
(from)g(within)g(a)h(particular)e(distrib)n(ution)g(of)h(Clairlib,)k
(or)c(is)h(made)60 2582 y(a)n(v)n(ailable)25 b(through)e(Clairlib)j
(interf)o(aces,)f(b)n(ut)h(actually)f(is)h(imported)d(from)i(another)f
(source,)h(such)g(as)h(a)g(CP)-8 b(AN)27 b(module,)e(or)60
2681 y(e)o(xternal)19 b(softw)o(are.)60 2902 y Fi(1.1.1)81
b(Nati)o(v)o(e)20 b(to)g(Clairlib-cor)o(e)185 3057 y
Fg(\017)41 b Fk(T)-7 b(ok)o(enization)185 3222 y Fg(\017)41
b Fk(Summarization)185 3387 y Fg(\017)g Fk(Le)o(xRank)185
3552 y Fg(\017)g Fk(Biased)20 b(Le)o(xRank)185 3716 y
Fg(\017)41 b Fk(Document)18 b(Clustering)185 3881 y Fg(\017)41
b Fk(Document)18 b(Inde)o(xing)185 4046 y Fg(\017)41
b Fk(P)o(ageRank)185 4211 y Fg(\017)g Fk(Biased)20 b(P)o(agerank)185
4375 y Fg(\017)41 b Fk(W)-7 b(eb)20 b(Graph)g(Analysis)185
4540 y Fg(\017)41 b Fk(Netw)o(ork)19 b(Generation)185
4705 y Fg(\017)41 b Fk(Po)n(wer)19 b(La)o(w)h(Distrib)n(ution)g
(Analysis)185 4869 y Fg(\017)41 b Fk(Netw)o(ork)19 b(Analysis)367
5034 y Fi(\226)41 b Fk(clustering)19 b(coef)n(\002cient)367
5166 y Fi(\226)41 b Fk(de)o(gree)19 b(distrib)n(ution)g(plotting)367
5297 y Fi(\226)41 b Fk(a)n(v)o(erage)19 b(shortest)h(path)367
5429 y Fi(\226)41 b Fk(diameter)367 5560 y Fi(\226)g
Fk(triangles)1914 5809 y(7)p eop end
%%Page: 8 8
TeXDict begin 8 7 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(shortest)20 b(path)g(matrices)367 343 y Fi(\226)41
b Fk(connected)19 b(components)185 509 y Fg(\017)41 b
Fk(Cosine)20 b(Similarity)185 675 y Fg(\017)41 b Fk(Random)19
b(W)-7 b(alks)21 b(on)f(Graphs)185 841 y Fg(\017)41 b
Fk(Statistics)367 1007 y Fi(\226)g Fk(Distrib)n(utions)367
1140 y Fi(\226)g Fk(T)-6 b(ests)185 1306 y Fg(\017)41
b Fk(Tf)185 1472 y Fg(\017)g Fk(Idf)185 1638 y Fg(\017)g
Fk(Perceptron)18 b(Learning)g(and)i(Classi\002cation)185
1804 y Fg(\017)41 b Fk(Phrase)20 b(Based)g(Retrie)n(v)n(al)g(and)g
(Fuzzy)g(OR)h(Queries)60 2025 y Fi(1.1.2)81 b(Imported)20
b(and)h(a)n(v)o(ailable)e(via)h(Clairlib-cor)o(e)185
2181 y Fg(\017)41 b Fk(P)o(arsing)185 2347 y Fg(\017)g
Fk(Stemming)185 2513 y Fg(\017)g Fk(Sentence)19 b(Se)o(gmentation)185
2679 y Fg(\017)41 b Fk(W)-7 b(eb)20 b(P)o(age)g(Do)n(wnload)185
2845 y Fg(\017)41 b Fk(W)-7 b(eb)20 b(Cra)o(wling)185
3011 y Fg(\017)41 b Fk(XML)20 b(P)o(arsing)185 3177 y
Fg(\017)41 b Fk(XML)20 b(T)m(ree)g(Building)185 3343
y Fg(\017)41 b Fk(XML)20 b(Writing)60 3581 y Fh(1.2)99
b(Nati)o(v)o(e)25 b(to)g(Clairlib-ext)185 3737 y Fg(\017)41
b Fk(Interf)o(acing)18 b(with)i(W)-7 b(eka,)21 b(a)f(machine-learning)d
(Ja)n(v)n(a)j(toolkit)185 3903 y Fg(\017)41 b Fk(Latent)19
b(Semantic)h(Inde)o(xing)185 4069 y Fg(\017)41 b Fk(Sentence)19
b(Se)o(gmentation)f(using)i(Adw)o(ait)g(Ratnaparkhi')-5
b(s)19 b(MxT)-6 b(erminator)185 4235 y Fg(\017)41 b Fk(P)o(arsing)19
b(using)h(a)g(Charniak)g(P)o(arser)185 4401 y Fg(\017)41
b Fk(Using)20 b(the)g(Automatic)f(Link)h(Extractor)e(\(ALE\))185
4567 y Fg(\017)41 b Fk(Using)20 b(Google)f(W)-7 b(ebSearch)60
4804 y Fh(1.3)99 b(Contrib)n(utors)60 4960 y Fk(T)m(imothy)21
b(Allison,)j(Michael)f(Dagitses,)h(Jonathan)e(DePeri,)i(Aaron)e
(Elkiss,)i(Gunes)f(Erkan,)f(Bryan)h(Gibson,)g(Scott)g(Gif)n(ford,)60
5060 y(P)o(atrick)d(Jordan,)f(Mark)g(Joseph,)h(Jung-bae)e(Kim,)i
(Samuela)g(Pollack,)f(and)h(Adam)g(W)m(ink)o(el)1914
5809 y(8)p eop end
%%Page: 9 9
TeXDict begin 9 8 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(1.4)99
b(Changes)60 522 y Fi(1.05)19 b(Mar)o(ch)h(2009)185 677
y Fg(\017)41 b Fk(Added)19 b(Clair:Netw)o(ork:F)o(ordFulk)o(erson)d
(module)185 843 y Fg(\017)41 b Fk(Added)19 b(ne)n(w)h(script,)g
(\224change)p 1172 843 25 4 v 27 w(perl)p 1329 843 V
29 w(path.pl\224,)f(to)i(util.)k(\(see)20 b(page)g(17\))185
1009 y Fg(\017)41 b Fk(Added)19 b(ne)n(w)h(scripts)g(to)h(interf)o(ace)
e(A)m(CL)h(Anthology)e(Netw)o(ork)185 1175 y Fg(\017)41
b Fk(Fix)o(ed)19 b(some)h(b)n(ugs)g(in)g(Clair::Document)60
1396 y Fi(1.05)f(J)o(uly)h(2008)185 1552 y Fg(\017)41
b Fk(Fix)o(ed)19 b(formatting)f(b)n(ugs)i(in)h(CorpusDo)n(wnload.pm)185
1718 y Fg(\017)41 b Fk(Added)19 b(get)p 617 1718 V 29
w(predecessor)p 1040 1718 V 28 w(matrix\(\))g(function)f(in)i(Netw)o
(ork.pm)185 1884 y Fg(\017)41 b Fk(Added)19 b(get)p 617
1884 V 29 w(shortest)p 905 1884 V 29 w(path\(\))g(function)g(in)h(Netw)
o(ork.pm)185 2050 y Fg(\017)41 b Fk(Added)19 b(erase)p
686 2050 V 29 w(corpus.pl)f(script)185 2216 y Fg(\017)41
b Fk(added)19 b(erase)p 663 2216 V 29 w(isolated)p 951
2216 V 29 w(nodes.pl)g(script)185 2382 y Fg(\017)41 b
Fk(added)19 b(\226ignore-isolated-nodes)c(in)21 b(con)m(v)o(ert)p
1606 2382 V 27 w(netw)o(ork.pl)185 2548 y Fg(\017)41
b Fk(added)19 b(se)n(v)o(eral)g(options)g(to)i(print)p
1253 2548 V 28 w(netw)o(ork)p 1554 2548 V 29 w(stats.pl:)k(a.)h
(\226self-loop,)185 2714 y Fg(\017)41 b Fk(completed)18
b(the)i(descriptions)f(of)h(print)p 1431 2714 V 29 w(netw)o(ork)p
1733 2714 V 28 w(stats.pl:)26 b(added)19 b(the)h(note)g(of)g(\226force)
f(into)g(usage.)185 2880 y Fg(\017)41 b Fk(added)19 b(sentence)p
779 2880 V 28 w(to)p 872 2880 V 30 w(docs.pl)g(,)i(lines)p
1359 2880 V 29 w(to)p 1453 2880 V 30 w(docs.pl)e(under)g(util)h(folder)
60 3101 y Fi(1.04B)f(J)o(une)i(2008)185 3257 y Fg(\017)41
b Fk(Added)19 b(-no-duplicated-edges)c(in)21 b(con)m(v)o(ert)p
1569 3257 V 27 w(netw)o(ork.pl)185 3423 y Fg(\017)41
b Fk(Added)19 b(lar)o(gest)g(connected)g(component)e(in)k(cos)p
1699 3423 V 29 w(to)p 1793 3423 V 30 w(stats.pl)185 3589
y Fg(\017)41 b Fk(Added)19 b(full)h(a)n(v)o(er)o(gage)d(shortest)j
(path)g(in)g(print)p 1652 3589 V 29 w(netw)o(ork.pl)185
3755 y Fg(\017)41 b Fk(\002x)o(ed)19 b(di)n(vide)g(by)h(zero)g(error)f
(in)h(Netw)o(ork.pm,)e(Betweeness.pm)60 3976 y Fi(1.04A)h(A)n(pril)i
(2008)185 4132 y Fg(\017)41 b Fk(Added)19 b(Clair::Netw)o(ork::Girv)n
(anNe)n(wman)e(algorithm)h(to)j(do)e(hierarchical)g(clustering)185
4298 y Fg(\017)41 b Fk(Added)19 b(Clair::Netw)o(ork::K)n(ernighanLin)d
(algorithm)j(to)h(do)g(graph)f(partition)60 4519 y Fi(1.04)g(F)n(eb)n
(urary)h(2008)185 4675 y Fg(\017)41 b Fk(Added)19 b(Clair::Netw)o
(ork::AdamicAdar)e(to)k(compute)d(the)i(adamic/adar)f(v)n(alue)g(for)h
(a)h(gi)n(v)o(en)e(netw)o(ork)g(corpus)185 4841 y Fg(\017)41
b Fk(Added)19 b(Clair::ChisqIndependent)e(to)j(compute)f(p-v)n(alue)f
(and)i(de)o(gree)f(of)h(freedom)e(for)i(Chi)g(square)1914
5809 y(9)p eop end
%%Page: 10 10
TeXDict begin 10 9 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(1.03)f(A)l(ugust)h(2007)
185 366 y Fg(\017)41 b Fk(Added)19 b(functionality)f(to)i(perform)e
(community)g(\002nding)h(within)h(weighted,)f(undirected)f(netw)o(orks)
185 532 y Fg(\017)41 b Fk(Added)19 b(util/chunk)p Fg(n)p
896 532 25 4 v 27 w Fk(document.pl)e(to)k(break)e(documents)f(into)i
(smaller)g(\002les)i(by)d(w)o(ord)h(number)185 698 y
Fg(\017)41 b Fk(Added)19 b(option)g(to)h(retain)g(punctuation)e(for)h
(idf)h(and)g(tf)g(queries)185 864 y Fg(\017)41 b Fk(Added)19
b(option)g(to)h(print)g(out)f(full)h(lists)i(of)e(idf)g(and)g(tf)g(v)n
(alues)g(for)f(a)i(corpus)185 1030 y Fg(\017)41 b Fk(Le)o(xRank)18
b(mo)o(v)o(ed)h(from)g(Clair::Netw)o(ork)g(to)i(Clair::Netw)o
(ork::Centrality::Le)o(xRank)185 1196 y Fg(\017)41 b
Fk(Le)o(xRank)18 b(use)j(no)n(w)e(follo)n(ws)h(the)g(same)h(use)f
(pattern)g(as)g(the)h(other)e(centrality)g(modules)60
1417 y Fi(1.02)g(J)o(uly)h(2007)185 1573 y Fg(\017)41
b Fk(Distrib)n(ution)19 b(reor)o(ganized)e(in)j(standard)f(format)185
1739 y Fg(\017)41 b Fk(Impro)o(v)o(ed)17 b(and)i(e)o(xpanded)f
(installation)i(documentation)d(\(INST)-8 b(ALL\))185
1905 y Fg(\017)41 b Fk(Impro)o(v)o(ed)17 b(POD)j(\(inline\))g
(documentation)185 2071 y Fg(\017)41 b Fk(Additional)18
b(e)o(xamples)185 2237 y Fg(\017)41 b Fk(Updated)19 b(PDF)i
(documentation)60 2458 y Fi(1.01)e(May)h(2007)185 2614
y Fg(\017)41 b Fk(Added)19 b(Phrase-based)f(Retrie)n(v)n(al)i(and)g
(Fuzzy)g(OR)h(Queries)185 2780 y Fg(\017)41 b Fk(Extended)25
b(Clairlib-e)o(xt)h(with)h(interf)o(aces)g(for)f(the)i(Cluster)f(class)
h(and)f(the)g(Document)f(class)i(to)f(the)g(W)-7 b(eka)28
b(machine)268 2879 y(learning)18 b(toolkit)185 3045 y
Fg(\017)41 b Fk(Added)19 b(LSI)h(functionality)185 3211
y Fg(\017)41 b Fk(Extended)18 b(parsing)h(of)h(strings)g(/)h(\002les)g
(into)f(Documents)185 3377 y Fg(\017)41 b Fk(Added)19
b(perceptron)e(learning)i(and)h(classi\002cation)g(for)g(documents)60
3599 y Fi(1.0)g(RC1)g(A)n(pril)g(2007)185 3754 y Fg(\017)41
b Fk(Mo)o(v)o(ed)18 b(all)j(Clair)g(modules)e(beneath)g(the)h(Clair::*)
g(namespace,)f(updated)g(documentation)185 3920 y Fg(\017)41
b Fk(Impro)o(v)o(ed)17 b(Netw)o(ork)i(Analysis,)h(added)f(Clustering)h
(Coef)n(\002cients)g(code)185 4086 y Fg(\017)41 b Fk(Added)19
b(Netw)o(ork)g(Generation)g(and)g(Statistics)j(modules)60
4307 y Fi(0.955)d(Mar)o(ch)h(2007)185 4463 y Fg(\017)41
b Fk(Made)19 b(it)i(possible)f(to)h(distrib)n(ute)e(clairlib)h(in)h(tw)
o(o)f(distrib)n(utions,)f(one)h(containing)e(core)i(code)f(and)h
(another)e(containing)268 4563 y(code)h(that)h(may)g(be)g(dependent)e
(on)i(other)f(resources)185 4729 y Fg(\017)41 b Fk(Cleaned)19
b(up)h(unit)g(tests)1893 5809 y(10)p eop end
%%Page: 11 11
TeXDict begin 11 10 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(0.953)f(F)n(ebruary)g
(2007)185 366 y Fg(\017)41 b Fk(Fix)o(ed)19 b(b)n(ugs)h(in)g
(Clair::Cluster)m(,)h(Clair::Document)e(in)m(v)n(olving)f(stemming)185
532 y Fg(\017)41 b Fk(Cleaned)19 b(up)h(t/)h(and)f(test/)h(directories)
185 698 y Fg(\017)41 b Fk(Created)20 b(util/)g(directory)185
864 y Fg(\017)41 b Fk(Added)19 b(scripts)h(to)h(util/)f(directory)f
(to:)367 1030 y Fi(\226)41 b Fk(Run)20 b(a)h(Google)e(query)g(and)h(sa)
n(v)o(e)g(the)g(returned)f(URLs)i(to)f(a)h(\002le)367
1163 y Fi(\226)41 b Fk(Do)n(wnload)19 b(\002les)i(from)e(a)i(URL)f(and)
g(b)n(uild)g(a)h(corpus)367 1296 y Fi(\226)41 b Fk(Se)o(gment)19
b(a)i(document)d(into)i(sentences)g(and)g(b)n(uild)f(a)i(corpus)e(of)h
(the)g(sentences)367 1429 y Fi(\226)41 b Fk(T)-7 b(ak)o(e)20
b(all)h(documents)e(in)h(a)h(directory)d(and)i(create)g(a)g(corpus)367
1561 y Fi(\226)41 b Fk(Inde)o(x)19 b(the)h(corpus)f(\(compute)f(TF*IDF)
-7 b(,)20 b(etc.\))367 1694 y Fi(\226)41 b Fk(Compute)19
b(cosine)h(similarity)g(measures)g(between)f(all)i(documents)e(in)h(a)h
(corpus)367 1827 y Fi(\226)41 b Fk(Generate)20 b(netw)o(orks)f
(corresponding)e(to)j(v)n(arious)f(cosine)h(thresholds)367
1960 y Fi(\226)41 b Fk(Print)20 b(netw)o(ork)f(statistics)j(about)d(a)i
(netw)o(ork)e(\002le)367 2093 y Fi(\226)41 b Fk(Generate)20
b(plots)g(of)g(de)o(gree)e(distrib)n(ution)h(and)h(cosine)g
(transitions)185 2259 y Fg(\017)41 b Fk(Ne)n(w)20 b(methods)f(in)h
(Clair::Netw)o(ork:)467 2458 y Ff(print_network_info)467
2558 y(get_network_info_as_string)467 2657 y
(get_cumulative_distribution)467 2757 y(cumulative_power_law_exponent)
467 2857 y(find_components)467 2956 y(newman_clustering_coefficient)467
3056 y(linear_regression)60 3336 y Fj(2)119 b(Getting)30
b(Started)60 3538 y Fh(2.1)99 b(Do)o(wnloading)60 3694
y Fk(Clairlib)20 b(can)g(be)h(do)n(wnloaded)c(from)i
(http://belobog.si.umich.edu/clair/clair)o(lib/.)60 3931
y Fh(2.2)99 b(Installing)60 4087 y Fk(This)24 b(guide)e(e)o(xplains)h
(ho)n(w)f(to)i(install)g(both)f(Clairlib)g(distrib)n(utions,)g
(Clairlib-Core)g(and)g(Clairlib-Ext.)34 b(T)-7 b(o)24
b(install)g(Clairlib-)60 4187 y(core,)19 b(follo)n(w)g(the)h
(instructions)f(in)h(the)g(section)f(immediately)g(belo)n(w)-5
b(.)24 b(T)-7 b(o)20 b(install)g(Clairlib-Ext,)f(\002rst)i(follo)n(w)e
(the)h(instructions)60 4286 y(for)i(installing)g(Clairlib-Core,)g(then)
g(follo)n(w)f(those)i(for)e(Clairlib-Ext)h(itself.)32
b(Clairlib-Ext)22 b(requires)f(an)h(installed)h(v)o(ersion)e(of)60
4386 y(Clairlib-Core)f(in)g(order)f(to)h(run;)g(it)h(is)g(not)f(a)g
(stand-alone)f(distrib)n(ution.)60 4666 y Fj(3)119 b(Install)30
b(and)g(T)-11 b(est)29 b(Clairlib-Cor)n(e)60 4868 y Fh(System)c(Requir)
n(ements)60 5024 y Fk(Clairlib-Core)20 b(requires)h(Perl)g(5.8.2)f(or)h
(greater)-5 b(.)27 b(Before)20 b(you)h(proceed,)e(con\002rm)h(that)h
(the)g(v)o(ersion)f(of)h(Perl)g(you)g(are)g(running)60
5124 y(is)g(at)g(least)g(this)f(recent)g(by)g(entering)459
5306 y Ff(perl)49 b(-v)185 5489 y Fk(at)20 b(the)g(shell)h(prompt.)1893
5809 y(11)p eop end
%%Page: 12 12
TeXDict begin 12 11 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(Install)k(MEAD)60
366 y Fk(Do)n(wnload)j(MEAD)i(3.11)f(or)h(later)g(from)f
Fe(http://www)-5 b(.summar)q(ization.com/mead/)p Fk(.)54
b(The)28 b(installation)h(package)f(is)h(in)60 465 y
Fi(.tar)-8 b(.gz)28 b Fk(\(\224tarball\224\))g(format.)51
b(T)-7 b(o)30 b(install)g(MEAD)f(in,)j(say)-5 b(,)31
b(the)e(directory)f Fi($HOME/mead)p Fk(,)j(ensure)e(that)h(the)f
(installation)60 565 y(package)19 b(is)i(located)e(in)i
Fi($HOME)p Fk(,)f(and)f(enter)h(the)g(follo)n(wing)f(at)h(the)h(shell)f
(prompt:)459 748 y Ff($)49 b(cd)h($HOME)459 847 y($)f(gunzip)g
(MEAD-3.11.tar.gz)459 947 y($)g(tar)g(-xf)h(MEAD-3.11.tar)459
1047 y($)f(cd)h(mead)459 1146 y($)f(perl)g(Install.PL)185
1329 y Fk(Ne)o(xt,)18 b(you)h(will)h(need)f(to)g(compile)f
Fi(tf2gen.cpp)g Fk(to)i(produce)d(an)i(e)o(x)o(ecutable)f(required)f
(by)i(MEAD.)g(Enter)g(the)g(follo)n(wing:)459 1512 y
Ff($)49 b(cd)h($HOME/mead/bin/feature-scripts)459 1611
y($)f(g++)g(tf2gen.cpp)f(-o)i(tf2gen)60 1849 y Fh(Install)24
b(CP)-7 b(AN)24 b(Libraries)60 2005 y Fk(Clairlib-Core)c(depends)e(on)i
(access)h(to)f(the)g(follo)n(wing)f(Perl)h(modules:)60
2187 y Fi(Berk)o(eleyDB)60 2353 y(Car)o(p)60 2519 y(File::T)-6
b(ype)60 2685 y(Getopt::Long)60 2851 y(Graph::Dir)o(ected)60
3017 y(Hash::Flatten)60 3183 y(HTML::LinkExtractor)60
3349 y(HTML::P)o(arse)60 3516 y(IO::File)60 3682 y(IO::Handle)60
3848 y(IO::Pipe)60 4014 y(Lingua::Stem)60 4180 y(Math::MatrixReal)60
4346 y(Math::Random)60 4512 y(MLDBM)60 4678 y(PDL)60
4844 y(POSIX)60 5010 y(Scalar::Util)60 5176 y(Statistics::ChisqIndep)60
5342 y(Storable)60 5508 y(T)e(est::Mor)o(e)1893 5809
y Fk(12)p eop end
%%Page: 13 13
TeXDict begin 13 12 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(T)-8 b(ext::Sentence)60
375 y(XML::P)o(arser)60 541 y(XML::Simple)185 721 y Fk(There)21
b(are)h(multiple)f(approaches)f(to)j(locating)e(and)g(installing)h
(these)g(modules;)g(using)g(the)g(automated)f(CP)-8 b(AN)23
b(installer)m(,)60 821 y(which)d(is)h(b)n(undled)d(with)j(Perl,)f(is)h
(perhaps)e(the)h(quick)o(est)g(and)g(easiest.)25 b(T)-7
b(o)21 b(do)f(so,)g(enter)g(the)g(follo)n(wing)e(at)j(the)f(shell)h
(prompt:)459 1002 y Ff($)49 b(perl)g(-MCPAN)g(-e)g(shell)185
1182 y Fk(If)19 b(you)g(ha)n(v)o(e)g(not)h(yet)g(con\002gured)d(the)j
(CP)-8 b(AN)21 b(installer)m(,)f(then)f(you')o(ll)g(ha)n(v)o(e)g(to)h
(do)f(so)i(this)f(one)f(time.)25 b(If)20 b(you)f(do)g(not)h(kno)n(w)60
1282 y(the)k(answer)h(to)f(an)o(y)g(of)g(the)g(questions)g(ask)o(ed,)h
(simply)f(hit)h(enter)m(,)f(and)g(the)g(def)o(ault)g(options)g(will)h
(lik)o(ely)f(suit)h(your)e(en)m(viron-)60 1381 y(ment)c(adequately)-5
b(.)23 b(Ho)n(we)n(v)o(er)m(,)18 b(when)h(ask)o(ed)g(about)g(parameter)
g(options)f(for)i(the)f Ff(perl)49 b(Makefile.PL)19 b
Fk(command,)e(users)60 1481 y(without)22 b(root)g(permissions)g(or)h
(who)f(otherwise)g(wish)i(to)f(install)g(Perl)g(libraries)g(within)f
(their)h(personal)e Fi($HOME)i Fk(directory)60 1581 y(structure)c
(should)g(enter)h(the)g(suggested)g(path)f(when)h(prompted:)459
1761 y Ff(Your)49 b(choice:)98 b(])50 b(PREFIX=\230/perl)185
1942 y Fk(This)27 b(will)i(cause)f(the)f(CP)-8 b(AN)30
b(installer)d(to)h(install)h(all)f(modules)f(it)h(do)n(wnloads)e(and)h
(tests)i(into)f Fi($HOME/perl)p Fk(,)h(which)60 2042
y(means)f(that)f(all)i(subdirectories)d(of)i(this)g(directory)e(that)i
(contain)f(Perl)h(modules)f(will)i(need)e(to)h(be)g(added)e(to)i(Perl')
-5 b(s)29 b Ff(@INC)60 2141 y Fk(v)n(ariable)19 b(so)i(that)f(the)o(y)f
(will)i(be)f(found)f(when)h(needed)e(\(see)j(section)f(V)g(belo)n(w)g
(for)g(further)e(e)o(xplanation\).)185 2241 y(As)j(a)f(side)h(note,)e
(if)i(you)e(e)n(v)o(er)g(need)h(to)g(recon\002gure)e(the)i(installer)m
(,)g(type)f(at)i(the)f(shell)h(prompt:)459 2422 y Ff($)49
b(perl)g(-MCPAN)g(-e)g(shell)459 2521 y(cpan>o)f(conf)h(init)185
2702 y Fk(After)19 b(con\002guration)f(\(if)i(needed\),)e(return)h(to)i
(the)f(CP)-8 b(AN)21 b(shell)g(prompt,)459 2882 y Ff(cpan>)185
3063 y Fk(and)e(type)h(the)g(follo)n(wing)f(to)h(upgrade)e(the)i(CP)-8
b(AN)22 b(installer)e(to)g(the)h(latest)g(v)o(ersion:)459
3244 y Ff(cpan>install)47 b(Bundle::CPAN)459 3343 y(cpan>q)185
3524 y Fk(If)20 b(ask)o(ed)g(whether)g(to)h(prepend)d(the)j
(installation)f(of)h(required)d(libraries)j(to)g(the)f(queue,)f(hit)i
(return)f(\(or)g(enter)g Ff(yes)p Fk(\).)26 b(After)60
3624 y(quitting)19 b(the)h(shell,)h(type)e(the)i(follo)n(wing)d(to)i
(install)h(or)f(upgrade)e Ff(Module::Build)h Fk(and)g(mak)o(e)h(it)h
(the)f(preferred)e(installer:)459 3804 y Ff($)49 b(perl)g(-MCPAN)g(-e)g
(shell)459 3904 y(cpan>install)e(Module::Build)459 4003
y(cpan>o)h(conf)h(prefer_installer)e(MB)459 4103 y(cpan>o)h(conf)h
(commit)459 4203 y(cpan>q)185 4383 y Fk(Finally)-5 b(,)19
b(install)h(each)g(of)g(the)g(follo)n(wing)f(dependencies)e(\(if)j(you)
g(are)g(at)g(all)h(unsure)e(whether)g(the)h(latest)h(v)o(ersions)e(of)h
(each)60 4483 y(ha)n(v)o(e)g(already)f(been)g(installed\))h(by)g
(entering)f(the)h(follo)n(wing)e(at)j(the)f(shell)h(prompt:)459
4664 y Ff($)49 b(perl)g(-MCPAN)g(-e)g(shell)459 4763
y(cpan>install)e(BerkeleyDB)459 4863 y(cpan>install)g(Carp)459
4962 y(cpan>install)g(File::Type)459 5062 y(cpan>install)g
(Getopt::Long)459 5162 y(cpan>install)g(Graph::Directed)459
5261 y(cpan>install)g(HTML::LinkExtractor)459 5361 y(cpan>install)g
(HTML::Parse)459 5461 y(cpan>install)g(IO::File)459 5560
y(cpan>install)g(IO::Handle)1893 5809 y Fk(13)p eop end
%%Page: 14 14
TeXDict begin 14 13 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 459 210 a Ff(cpan>install)47
b(IO::Pipe)459 310 y(cpan>install)g(Lingua::Stem)459
409 y(cpan>install)g(Math::MatrixReal)459 509 y(cpan>install)g
(Math::Random)459 609 y(cpan>install)g(MLDBM)459 708
y(cpan>install)g(PDL)459 808 y(cpan>install)g(POSIX)459
908 y(cpan>install)g(Scalar::Util)459 1007 y(cpan>install)g
(Statistics::ChisqIndep)459 1107 y(cpan>install)g(Storable)459
1206 y(cpan>install)g(Test::More)459 1306 y(cpan>install)g
(Text::Sentence)459 1406 y(cpan>install)g(XML::Parser)459
1505 y(cpan>install)g(XML::Simple)60 1743 y Fh(Con\002gur)n(e)26
b(Clairlib-Cor)n(e)60 1899 y Fk(Do)n(wnload)f(the)j(Clairlib-Core)e
(distrib)n(ution)g(\()p Fi(clairlib-cor)o(e.tar)-8 b(.gz)p
Fk(\))22 b(into,)29 b(say)-5 b(,)28 b(the)f(directory)f
Fi($HOME)p Fk(.)g(Then)h(to)g(install)60 1998 y(Clairlib-Core)20
b(in)g Fi($HOME/clairlib-cor)o(e)p Fk(,)e(enter)i(the)g(follo)n(wing)e
(at)j(the)f(shell)h(prompt:)459 2181 y Ff($)49 b(cd)h($HOME)459
2281 y($)f(gunzip)g(clairlib-core.tar.gz)459 2380 y($)g(tar)g(-xf)h
(clairlib-core.tar)459 2480 y($)f(cd)h(clairlib-core/lib/Clair)185
2662 y Fk(Then)23 b(edit)h(Con\002g.pm,)f(which)h(is)h(located)f(in)g
Fi(clairlib-cor)o(e/lib/Clair)p Fk(.)35 b(Y)-9 b(ou)24
b(will)h(see)f(the)g(follo)n(wing)f(message)h(at)h(the)60
2762 y(top)20 b(of)g(the)g(\002le:)459 2945 y Ff
(#################################)459 3044 y(#)49 b(For)g
(Clairlib-core)f(users:)459 3144 y(#)h(1.)h(Edit)f(the)g(value)g
(assigned)f(to)i($CLAIRLIB_HOME)d(and)i(give)g(it)g(the)h(value)459
3244 y(#)199 b(of)49 b(the)g(path)g(to)h(your)f(installation.)459
3343 y(#)g(2.)h(Edit)f(the)g(value)g(assigned)f(to)i($MEAD_HOME)d(and)j
(give)f(it)g(the)g(value)459 3443 y(#)199 b(that)49 b(points)f(to)i
(your)f(installation)e(of)j(MEAD.)459 3542 y(#)f(3.)h(Edit)f(the)g
(value)g(assigned)f(to)i($EMAIL)e(and)h(give)h(it)f(an)g(appropriate)
459 3642 y(#)199 b(value.)185 3825 y Fk(F)o(ollo)n(w)19
b(those)h(instructions.)k(In)c(the)g(case)h(of)f(our)f(e)o(xample,)g
(we)h(w)o(ould)g(assign)459 4007 y Ff
($CLAIRLIB_HOME=$HOME/clairlib-cor)o(e)185 4190 y Fk(and)459
4373 y Ff($MEAD_HOME=$HOME/mead)185 4555 y Fk(where)27
b Fi($HOME)h Fk(must)g(be)h(replaced)e(by)g(an)h(e)o(xplicit)g(path)g
(string)g(such)f(as)i Fi(/home/user)o(name)p Fk(.)49
b(Also,)31 b(note)c(that)i(the)60 4655 y(follo)n(wing)21
b(MEAD)h(v)n(ariables)f(re\003ect)i(the)f(structure)f(of)h(a)h
(standard)e(MEAD)h(installation)g(and)g(should)f(typically)h(be)g(k)o
(ept)g(as)60 4755 y(assigned:)459 4937 y Ff($CIDR_HOME)47
b("$MEAD_HOME/bin/addons/cidr";)459 5037 y($PRMAIN)197
b("$MEAD_HOME/bin/feature-scripts/lexran)o(k/prm)o(ain";)459
5137 y($DBM_HOME)97 b("$MEAD_HOME/etc";)1893 5809 y Fk(14)p
eop end
%%Page: 15 15
TeXDict begin 15 14 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(T)-9 b(est)25
b(and)h(Install)e(the)i(Clairlib-Cor)n(e)e(Modules)60
366 y Fk(Before)29 b(testing)g(and)g(installing)g(the)h(Clairlib-core)e
(modules,)i(you')o(ll)f(need)g(to)g(modify)f(Perl')-5
b(s)30 b Ff(@INC)f Fk(v)n(ariable)g(to)g(ensure)60 465
y(that)f(it)g(includes)f(1\))g(paths)g(to)h(all)g(Clairlib)g
(dependencies)e(\(the)h(required)f(libraries)h(installed)g(abo)o(v)o
(e\),)g(and)g(2\))h(the)f(path)g(to)60 565 y(Clairlib')-5
b(s)25 b(o)n(wn)f(modules)f(\(in)h(the)g(case)h(of)f(our)g(e)o(xample,)
f Fi($HOME/clairlib-cor)o(e/lib)p Fk(\).)36 b(The)24
b(simplest)g(w)o(ay)g(to)h(do)f(this)h(is)60 665 y(by)20
b(modifying)d(the)k(contents)e(of)h(your)f Ff(PERL5LIB)g
Fk(en)m(vironment)e(v)n(ariable)i(from)h(the)g(shell)g(prompt:)459
847 y Ff($)49 b(export)g(PERL5LIB=$HOME/clairlib-core/lib:$)o(HOME/p)o
(erl/l)o(ib)243 b(\()3547 862 y(*)3597 847 y(\))185 1030
y Fk(Here)31 b Fi($HOME/clairlib-cor)o(e/lib)f Fk(is)j(the)e(path)g(to)
h(Clairlib')-5 b(s)32 b(o)n(wn)g(modules,)h(while)e Fi($HOME/perl)h
Fk(is)h(the)e(path)g(to)60 1130 y(Clairlib')-5 b(s)25
b(required)d(modules,)i(installed)g(abo)o(v)o(e)e(\(assuming)h(that)h
(path)g(is)h(their)f(location\).)35 b(Ho)n(we)n(v)o(er)m(,)23
b(doing)g(this)i(requires)60 1229 y(that)e(you)g(e)o(xport)f
Ff(PERL5LIB)g Fk(each)h(time)g(you)g(in)m(v)n(ok)o(e)f(the)h(shell)h
(en)m(vironment,)c(so)k(a)g(better)f(w)o(ay)g(to)h(modify)d
Ff(@INC)i Fk(is)i(the)60 1329 y(follo)n(wing:)459 1512
y Ff($)49 b(cd)h($HOME)185 1694 y Fk(Edit)20 b Fi(.pr)o(o\002le)g
Fk(or)h(the)g(appropriate)d(con\002guration)g(\002le)k(for)e(your)f
(shell)i(en)m(vironment,)d(or)i(create)h(it)g(if)g(it)h(does)e(not)h
(already)60 1794 y(e)o(xist.)k(Add)20 b Ff(\()476 1809
y(*)526 1794 y(\))g Fk(to)g(to)h(the)f(\002le,)h(or)e(prepend)g(the)h
(necessary)f(paths)h(using)g(colons,)f(as)i(in)f Ff(\()2760
1809 y(*)2810 1794 y(\))p Fk(.)25 b(Sa)n(v)o(e)c(the)f(\002le)h(and)e
(enter:)459 1976 y Ff($)49 b(.)h(.profile)185 2159 y
Fk(This)20 b(w)o(ay)g(you)f(will)i(not)f(ha)n(v)o(e)g(to)g(e)o(xport)f
Ff(PERL5LIB)g Fk(each)h(time)g(you)g(in)m(v)n(ok)o(e)e(the)j(shell.)k
(Enter)459 2342 y Ff($)49 b(echo)g($PERL5LIB)185 2524
y Fk(to)20 b(con\002rm)f(that)h(your)f(modi\002cations)g(ha)n(v)o(e)h
(been)f(applied.)185 2624 y(No)n(w)h(you)f(may)h(test)h(your)e
(Clairlib-Core)g(installation.)25 b(Enter)19 b(its)i(directory)-5
b(,)18 b(in)j(the)f(case)g(of)g(our)g(e)o(xample:)459
2807 y Ff($)49 b(cd)h($HOME/clairlib-core)185 2989 y
Fk(Then)19 b(enter)h(the)g(follo)n(wing)e(commands)h(to)h(test)h(the)f
(Clairlib-Core)g(modules:)459 3172 y Ff($)49 b(perl)g(Makefile.PL)459
3272 y($)g(make)459 3371 y($)g(make)g(test)185 3554 y
Fk(If)30 b(you)g(w)o(ould)g(lik)o(e)h(to)g(ha)n(v)o(e)g(the)f
(Clairlib-Core)h(modules)e(installed)i(for)f(you,)j(and)d(you)g(ha)n(v)
o(e)g(the)h(necessary)f(\(root\))60 3654 y(permissions)19
b(to)i(do)f(so,)g(you)f(may)h(install)h(them)e(by)h(entering)f(the)h
(follo)n(wing)f(command:)459 3836 y Ff($)49 b(make)g(install)185
4019 y Fk(If,)27 b(on)e(the)h(other)f(hand,)h(you)f(ha)n(v)o(e)h(only)f
(local)h(permissions,)g(b)n(ut)g(you)f(ha)n(v)o(e)g(a)i(personal)e
(perl)g(library)g(located)g(at,)j(say)-5 b(,)60 4118
y Fi($HOME/perl)20 b Fk(\(as)h(described)e(earlier\),)g(then)h(you)f
(can)h(install)h(Clairlib-Core)e(there)h(by)g(entering)e(the)j
(commands:)459 4301 y Ff($)49 b(perl)g(Makefile.PL)f(PREFIX=\230/perl)
459 4401 y($)h(make)g(install)60 4638 y Fh(Using)24 b(the)i
(Clairlib-Cor)n(e)f(Modules)60 4794 y Fk(T)-7 b(o)25
b(use)h(the)f(Clairlib-Core)f(modules)g(in)i(a)f(Perl)h(script,)g(you)e
(must)h(add)g(a)h(path)e(to)i(the)f(modules)f(to)h(Perl')-5
b(s)26 b Ff(@INC)f Fk(v)n(ariable.)60 4894 y(Y)-9 b(ou)18
b(may)h(use)g(either)g(1\))f Fi($CLAIRLIB)p 1259 4894
25 4 v 31 w(HOME/lib)p Fk(,)i(where)f Ff($CLAIRLIB)p
2382 4894 V 28 w(HOME)g Fk(is)h(the)f(path)f(de\002ned)g(in)h
Fi(Con\002g)o(.pm)p Fk(,)g(or)60 4993 y(2\))k Fi($INST)-7
b(ALL)p 556 4993 V 31 w(P)h(A)e(TH)p Fk(,)23 b(where)h
Ff($INSTALL)p 1476 4993 V 28 w(PATH)f Fk(is)i(a)f(path)f(to)h(the)g
(location)f(of)g(the)h(installed)g(Clairlib-Core)f(modules)60
5093 y(\(if)j(you)f(installed)h(them)g(in)h(section)f(V)-11
b(,)26 b(immediately)f(abo)o(v)o(e\).)41 b(Either)26
b(of)f(these)i(paths)f(can)g(be)g(added)f(to)h Ff(@INC)g
Fk(either)g(by)60 5193 y(appending)16 b(the)j(path)f(to)g(the)h
Ff(PERL5LIB)e Fk(en)m(vironment)f(v)n(ariable)h(or)i(by)f(putting)f(a)i
Ff(use)49 b(lib)h(PATH)18 b Fk(statement)g(at)h(the)g(top)60
5292 y(of)k(the)g(script.)35 b(See)23 b(the)h(be)o(ginning)c(of)k
(section)f(V)g(abo)o(v)o(e)f(for)h(a)g(detailed)g(e)o(xplanation)e(of)i
(ho)n(w)g(to)g(modify)f(the)h Ff(PERL5LIB)60 5392 y Fk(v)n(ariable.)
1893 5809 y(15)p eop end
%%Page: 16 16
TeXDict begin 16 15 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fj(4)119 b(Install)30
b(and)g(T)-11 b(est)29 b(Clairlib-Ext)60 396 y Fk(The)c(Clairlib-Ext)f
(distrib)n(ution)g(contains)h(optional)f(e)o(xtensions)g(to)h
(Clairlib-Core)g(as)h(well)g(as)f(functionality)f(that)h(depends)60
495 y(on)c(other)f(softw)o(are.)28 b(The)21 b(sections)g(belo)n(w)g(e)o
(xplain)f(ho)n(w)g(to)i(con\002gure)d(dif)n(ferent)h(functionalities)g
(of)h(Clairlib-Ext.)27 b(As)22 b(each)60 595 y(is)e(independent)d(of)i
(the)h(rest,)g(you)e(may)h(con\002gure)f(as)i(man)o(y)f(or)g(as)h(fe)n
(w)f(as)i(you)d(wish.)25 b(Section)19 b(VI)h(pro)o(vides)e
(instructions)g(for)60 695 y(the)i(installation)g(and)g(testing)g(of)g
(the)g(Clairlib-e)o(xt)f(modules)g(itself.)60 932 y Fh(Sentence)27
b(Segmentation)f(using)f(Ad)o(wait)g(Ratnaparkhi')l(s)h(MxT)-9
b(erminator)60 1088 y Fk(T)i(o)20 b(use)h(MxT)-6 b(erminator)18
b(for)h(sentence)h(se)o(gmentation,)e(do)n(wnload)g(the)i(installation)
g(package)f(from:)459 1271 y Ff(L<ftp://ftp.cis.upenn.edu/pub/adw)o
(ait/j)o(mx/jm)o(x.tar.)o(gz>.)185 1453 y Fk(Putting)g(the)h(tarball)g
(in,)g(say)-5 b(,)20 b Fi($HOME/jmx)p Fk(,)g(enter)f(the)h(follo)n
(wing)f(to)h(unpack:)459 1636 y Ff($)49 b(cd)h($HOME/jmx)459
1736 y($)f(gunzip)g(jmx.tar.gz)459 1835 y($)g(tar)g(-xf)h(.tar)185
2018 y Fk(Uncomment)21 b(and)h(modify)g(the)h(follo)n(wing)f(lines)i
(in)f Fi(clairlib-cor)o(e/lib/Clair/Con\002g)o(.pm)p
Fk(.)32 b(Point)23 b Ff($JMX)p 3373 2018 25 4 v 29 w(HOME)g
Fk(to)h(the)60 2117 y(top)g(directory)e(of)i(your)f(MxT)-6
b(erminator)22 b(installation,)i(and)g(point)f Ff($JMX)p
2254 2117 V 29 w(MODEL)p 2533 2117 V 29 w(PATH)h Fk(to)g(the)g
(location)g(of)f(your)g(MxT)-6 b(er)n(-)60 2217 y(minator)19
b(trained)g(data,)h(as)h(for)f(e)o(xample)459 2400 y
Ff(#)49 b($JMX_HOME)795 b("$HOME/jmx";)459 2499 y(#)49
b($SENTENCE_SEGMENTER_TYPE)c("MxTerminator";)459 2599
y(#)k($JMX_MODEL_PATH)495 b("$HOME/jmx/eos.project";)185
2782 y Fk(where)19 b Ff($HOME)h Fk(must)g(be)g(replaced)e(by)i(a)g
(literal)h(path)e(string)h(such)g(as)g Fi(/home/user)o(name)p
Fk(.)25 b(Note)20 b(that)g(the)g Fi(/bin)h Fk(directory)60
2881 y(of)f(a)h(Ja)n(v)n(a)f(installation)g(must)g(be)g(located)g(in)g
(your)f(search)h(path,)f(or)h(MxT)-6 b(erminator)18 b(will)j(not)f(w)o
(ork.)60 3119 y Fh(P)o(arsing)k(using)h(a)g(Char)o(niak)g(P)o(arser)60
3275 y Fk(T)-7 b(o)21 b(use)h(a)g(Charniak)e(parser)h(with)g(Clairlib,)
h(uncomment)d(the)i(follo)n(wing)f(v)n(ariables)g(in)i
Fi(clairlib-cor)o(e/lib/Clair/Con\002g)o(.pm)60 3374
y Fk(and)e(point)f(them)h(to)g(it,)h(as)g(for)e(e)o(xample:)459
3557 y Ff(#)49 b(Default)g(parser)f(and)i(data)f(paths)g(for)g(the)g
(Charniak)f(parser)h(for)g(use)h(in)f(Parse.pm)459 3656
y(#)g(\(Note)g(that)g(CHARNIAK_DATA)e(should)i(end)g(with)g(a)h(slash)f
(and)g(that)g(the)h(other)459 3756 y(#)f(paths)g(include)g(the)g
(executable\))459 3856 y(#)g($CHARNIAK_PATH)296 b
("/data0/tools/charniak/PARSE/parseIt")o(;)459 3955 y(#)49
b($CHARNIAK_DATA_PATH)d("/data0/tools/charniak/DATA/EN/";)459
4138 y(#)j(Default)g(path)g(to)g(Chunklink)459 4238 y(#)g
($CHUNKLINK_PATH)e("/data2/tools/chunklink/chunklink.pl)o(";)60
4475 y Fh(Using)24 b(the)i(W)-6 b(eka)25 b(Machine)g(Lear)o(ning)h(T)-9
b(oolkit)60 4631 y Fk(T)i(o)21 b(use)h(the)f(W)-7 b(eka)22
b(Machine)e(Learning)g(T)-7 b(oolkit,)21 b(a)g(Ja)n(v)n(a)h(machine)e
(learning)g(library)-5 b(,)20 b(with)h(Clairlib,)h(do)n(wnload)d(W)-7
b(eka)22 b(from)60 4731 y Fe(http://www)-5 b(.cs)o(.w)o(aikato)m
(.ac.nz/ml/w)o(eka/)15 b Fk(and)g(uncomment)e(the)i(follo)n(wing)f
(line)h(in)g Fi(clairlib-cor)o(e/lib/Clair/Con\002g)o(.pm)p
Fk(.)60 4830 y(Point)20 b(the)g(v)n(ariable)f(to)i(the)f(location)f(of)
h(W)-7 b(eka')i(s)21 b Fi(.jar)f Fk(\002le,)g(as)h(for)f(e)o(xample:)
459 5013 y Ff(#)49 b($WEKA_JAR_PATH)e
("$HOME/weka/weka-3-4-11/weka.jar")185 5195 y Fk(where)31
b Ff($HOME)i Fk(must)f(be)h(replaced)e(by)h(an)g(e)o(xplicit)g(path)g
(string)h(such)f(as)h Fi(/home/user)o(name)p Fk(.)62
b(Note)32 b(that)h(the)g Fi(/bin)60 5295 y Fk(directory)18
b(of)i(a)h(Ja)n(v)n(a)g(installation)e(must)i(be)f(located)f(in)i(your)
d(search)i(path,)g(or)g(MxT)-6 b(erminator)17 b(will)k(not)f(w)o(ork.)
1893 5809 y(16)p eop end
%%Page: 17 17
TeXDict begin 17 16 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(Using)k(the)i(A)-5
b(utomatic)25 b(Link)h(Extractor)g(\(ALE\))60 366 y Fk(If)f(you)g(ha)n
(v)o(e)g(MySQL)g(installed)g(and)g(wish)h(to)g(use)g(ALE,)f(uncomment)e
(the)i(follo)n(wing)f(v)n(ariables.)40 b(Point)26 b Ff($ALE)p
3501 366 25 4 v 29 w(PORT)f Fk(at)60 465 y(your)19 b(MySQL)h(sock)o
(et,)g(and)f(pro)o(vide)f(the)j(root)e(passw)o(ord)h(to)g(your)f(MySQL)
h(installation:)459 648 y Ff(#)49 b($ALE_PORT)f("/tmp/mysql.sock";)459
748 y(#)h($ALE_DB_USER)f("root";)459 847 y(#)h($ALE_DB_PASS)f("";)60
1085 y Fh(Using)24 b(Google)g(W)-6 b(ebSear)n(ch)60 1241
y Fk(T)f(o)24 b(use)f(the)h(Google)e(W)-7 b(ebSearch)23
b(module,)f(\002rst)i(install)g(the)g(CP)-8 b(AN)24 b(module)e
Ff(Net::Google)g Fk(\(refer)h(to)g(section)g(II)g(of)h(the)60
1340 y(Clairlib-Core)c(installation)g(instructions)g(for)g(further)f(e)
o(xplanation\))f(Then,)h(uncomment)f(the)j(follo)n(wing)e(line)i(and)f
(pro)o(vide)e(a)60 1440 y(Google)23 b(SO)m(AP)h(API)g(k)o(e)o(y)-5
b(.)34 b(Unfortunately)-5 b(,)22 b(Google)g(no)i(longer)e(gi)n(v)o(es)h
(out)g(SO)m(AP)i(API)f(k)o(e)o(ys)f(b)n(ut)h(has)g(mo)o(v)o(ed)d(to)j
(an)g(AJ)-5 b(AX)60 1540 y(Search)20 b(API.)g(If)g(you)f(ha)n(v)o(e)h
(a)g(SO)m(AP)i(API)e(k)o(e)o(y)-5 b(,)19 b(you)g(can)h(still)i(use)e
(it,)h(and)e(W)-7 b(ebSearch)20 b(will)h(still)g(w)o(ork.)459
1722 y Ff(#)49 b($GOOGLE_DEFAULT_KEY)d("";)60 1960 y
Fh(Con\002gur)n(e)26 b(Clairlib-Ext)60 2116 y Fk(Do)n(wnload)h(the)i
(Clairlib-Ext)f(distrib)n(ution)g(\()p Fi(clairlib-ext.tar)-8
b(.gz)p Fk(\))25 b(into,)30 b(for)e(e)o(xample,)i(the)f(directory)e
Fi($HOME)p Fk(.)h(Then)g(to)60 2215 y(install)21 b(Clairlib-Ext)e(in)i
Fi($HOME/clairlib-ext)p Fk(,)d(enter)i(the)g(follo)n(wing)e(at)j(the)f
(shell)h(prompt:)459 2398 y Ff($)49 b(cd)h($HOME)459
2497 y($)f(gunzip)g(clairlib-ext.tar.gz)459 2597 y($)g(tar)g(-xf)h
(clairlib-ext.tar)459 2697 y($)f(cd)h(clairlib-ext)185
2879 y Fk(T)-7 b(o)25 b(test)h(the)f(Clairlib-Ext)f(modules,)h(you)g
(must)g(\002rst)h(ha)n(v)o(e)e(installed)h(the)h(Clairlib-Core)e
(modules.)39 b(Con\002rm)24 b(that)h(you)60 2979 y(ha)n(v)o(e,)19
b(then)h(enter)g(the)g(follo)n(wing:)459 3162 y Ff($)49
b(perl)g(Makefile.PL)459 3261 y($)g(make)459 3361 y($)g(make)g(test)185
3544 y Fk(If)19 b(you)g(w)o(ould)g(lik)o(e)g(to)h(ha)n(v)o(e)f(the)h
(Clairlib-Ext)e(modules)h(installed,)g(and)g(you)g(ha)n(v)o(e)g(the)h
(necessary)e(\(root\))h(permissions)f(to)60 3643 y(do)i(so,)g(you)f
(may)h(install)h(them)f(by)f(entering:)459 3826 y Ff($)49
b(make)g(install)185 4008 y Fk(If,)27 b(on)e(the)h(other)f(hand,)h(you)
f(ha)n(v)o(e)h(only)f(local)h(permissions,)g(b)n(ut)g(you)f(ha)n(v)o(e)
g(a)i(personal)e(perl)g(library)g(located)g(at,)j(say)-5
b(,)60 4108 y Fi($HOME/perl)20 b Fk(\(as)h(described)e(earlier\),)g
(then)h(you)f(can)h(install)h(Clairlib-Ext)e(there)h(by)g(entering)e
(the)j(commands:)459 4291 y Ff($)49 b(perl)g(Makefile.PL)f
(PREFIX=\230/perl)459 4390 y($)h(make)g(install)60 4628
y Fh(Using)24 b(the)i(Clairlib-Ext)f(Modules)60 4784
y Fk(T)-7 b(o)19 b(use)h(the)f(Clairlib-Ext)f(modules)g(in)h(a)h
(script,)f(you)f(must)h(add)g(a)g(path)g(to)g(the)g(modules)f(to)h
(Perl')-5 b(s)20 b Ff(@INC)f Fk(v)n(ariable.)24 b(Y)-9
b(ou)18 b(may)60 4883 y(use)23 b(either)f(1\))h Fi($CLAIRLIB)p
955 4883 V 31 w(EXT)p 1156 4883 V 30 w(HOME/lib)p Fk(,)h(where)e
Fi($CLAIRLIB)p 2286 4883 V 31 w(EXT)p 2487 4883 V 31
w(HOME)h Fk(is)g(the)g(path)f(to)h(the)g(top)f(directory)60
4983 y(of)h(your)e(Clairlib-Ext)h(installation,)h(or)g(2\))f
Fi($INST)-7 b(ALL)p 1750 4983 V 31 w(P)h(A)e(TH)p Fk(,)23
b(where)f Fi($INST)-7 b(ALL)p 2666 4983 V 30 w(P)h(A)e(TH)23
b Fk(is)h(a)g(path)e(to)h(the)g(location)f(of)60 5083
y(the)h(installed)g(Clairlib-Ext)g(modules)f(\(if)h(you)g(installed)g
(them)g(in)g(section)g(V)-11 b(,)24 b(immediately)e(abo)o(v)o(e\).)32
b(Either)22 b(of)h(these)h(paths)60 5182 y(can)d(be)g(added)f(to)h
Ff(@INC)g Fk(either)g(by)g(appending)d(the)j(path)g(to)g(the)g
Ff(PERL5LIB)f Fk(en)m(vironment)e(v)n(ariable)j(or)f(by)h(putting)f(a)i
Ff(use)60 5282 y(lib)49 b(PATH)27 b Fk(statement)g(at)h(the)f(top)g(of)
g(the)g(script.)46 b(See)28 b(the)f(be)o(ginning)e(of)i(section)g(V)g
(of)g(the)g(Clairlib-Core)g(installation)60 5381 y(instructions)19
b(for)h(a)g(detailed)g(e)o(xplanation)e(of)i(ho)n(w)f(to)i(modify)d
(the)j Ff(PERL5LIB)e Fk(v)n(ariable.)1893 5809 y(17)p
eop end
%%Page: 18 18
TeXDict begin 18 17 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(Change)25
b(P)n(erl)g(P)o(ath)60 366 y Fk(T)-7 b(o)20 b(be)f(able)g(to)h(run)f
(*.pl)g(\002les,)h(you)e(may)h(need)g(to)h(change)e(the)h(perl)h(path)f
(in)g(all)h(*.pl)f(\002les)i(to)e(the)h(perl)f(path)g(on)g(your)f
(machine.)60 465 y(T)-7 b(o)24 b(mak)o(e)g(this)g(easy)g(for)f(you,)h
(we)g(pro)o(vide)e(a)j(utility)f(script)g(\224change)p
2153 465 25 4 v 27 w(perl)p 2310 465 V 29 w(path.pl\224)f(that)h
(changes)f(the)h(perl)f(path)h(in)g(all)h(the)60 565
y(*.pl)19 b(\002les)i(in)f(a)g(speci\002ed)g(directory)e(and)h(all)h
(its)h(subdirectories)d(to)i(the)g(path)f(that)h(you)f(specify)-5
b(.)24 b(F)o(or)19 b(e)o(xample,)f(to)i(change)f(the)60
665 y(perl)h(path)g(in)g(all)h(*.pl)e(\002les)i(in)g(the)f
(\224util\224)g(directro)o(y)f(to)h(/usr/local/perl/)459
845 y Ff($)49 b(perl)g(change_perl_path.pl)d(util/)j(/usr/local/perl/)
60 1082 y Fh(Support)27 b(and)e(Documentation)60 1238
y Fk(After)32 b(installing)f(Clairlib,)k(you)c(may)g(access)h
(documentation)d(for)i(a)i(module)d(using)h(the)h Ff(perldoc)f
Fk(command,)i(as)f(for)60 1338 y(e)o(xample:)459 1518
y Ff($)49 b(perldoc)g(Clair::Document)185 1698 y Fk(Each)19
b(Clairlib)i(distrib)n(ution)e(also)h(includes)g(a)g(PDF)h(tutorial.)k
(Online)19 b(API)i(documentation)c(is)k(a)n(v)n(ailable)f(at:)459
1878 y Ff(http://belobog.si.umich.edu/clair)o(/clai)o(rlib/)o(pdoc)60
2158 y Fj(5)119 b(Structur)n(e)31 b(of)f(the)g(Clairlib)i(Code)60
2344 y Fk(The)16 b(Clairlib)g(code)f(is)i(di)n(vided)e(into)h(man)o(y)e
(modules,)i(located)f(in)h(subdirectories)f(within)h(the)g
Ff(lib/Clair)e Fk(directory)-5 b(.)22 b(Some)60 2443
y(of)e(the)g(k)o(e)o(y)g(functionality)e(is)j(in)f(the)g
Ff(lib/Clair)g Fk(directory)e(itself:)185 2624 y Fg(\017)41
b Ff(Clair::Document)18 b Fk(-)i(Represents)g(a)h(single)f(document)185
2789 y Fg(\017)41 b Ff(Clair::Cluster)18 b Fk(-)i(Represents)g(a)h
(collection)e(of)h(man)o(y)f(documents)185 2954 y Fg(\017)41
b Ff(Clair::Network)19 b Fk(-)j(Represents)f(a)h(netw)o(ork,)f(lik)o(e)
h(a)g(graph.)28 b(The)21 b(nodes)g(of)g(the)h(netw)o(ork)e(may)h(often)
g(be)h(of)f(type)268 3053 y Ff(Clair::Document)p Fk(,)c(b)n(ut)j(do)g
(not)g(ha)n(v)o(e)g(to)g(be.)185 3219 y Fg(\017)41 b
Ff(Clair::Gen)18 b Fk(-)j(W)-7 b(orks)20 b(with)h(Poisson)f(and)f(Po)n
(wer)h(La)o(w)g(distrib)n(utions)185 3384 y Fg(\017)41
b Ff(Clair::Util)18 b Fk(-)j(Pro)o(vides)e(utility)h(functions)f
(needed)g(when)g(using)h(the)g(Clair)h(library)185 3549
y Fg(\017)41 b Ff(Clair::Config)18 b Fk(-)i(Pro)o(vides)f
(con\002gurable)f(constants)i(needed)f(by)h(the)g(Clair)h(library)e
(\(library)f(paths,)i(etc.\))185 3729 y(Other)f(modules)g(in)i(the)f
(top)g(directory)e(include)h(the)i(follo)n(wing:)185
3909 y Fg(\017)41 b Ff(Clair::Features)18 b Fk(-)i(Carry)g(out)g
(feature)f(selection)h(using)f(Chi-squared)g(algorithm)g(with)h
(Clair::GenericDoc)185 4074 y Fg(\017)41 b Ff(Clair::Debug)18
b Fk(-)i(A)h(simple)f(class)h(that)g(Exports)e(deb)n(ugmsg)f(and)i
(errmsg)f(subs.)185 4239 y Fg(\017)41 b Ff(Clair::Learn)18
b Fk(-)i(Implement)f(v)n(arious)g(learning)g(algorithms)g(here.)24
b(Def)o(ault)c(algorithm)f(is)i(Perceptron.)185 4405
y Fg(\017)41 b Ff(Clair::Index)18 b Fk(-)i(Creates)h(v)n(arious)e(inde)
o(x)o(es)g(from)g(supplied)g(Clair::GenericDoc)g(objects.)185
4570 y Fg(\017)41 b Ff(Clair::Classify)18 b Fk(-)i(T)-7
b(ak)o(e)20 b(in)h(the)f(model)f(\002le)i(generated)d(by)i(Learn.pm)e
(and)i(then)g(carry)f(out)h(the)g(classi\002cation)185
4735 y Fg(\017)41 b Ff(Clair::StringManip)17 b Fk(-)j(Majority)g(of)g
(the)g(string)g(manipulation)e(routines)h(required)f(by)i(other)f
(packages)185 4900 y Fg(\017)41 b Ff(Clair::Centroid)185
5065 y Fg(\017)g Ff(Clair::Corpus)18 b Fk(-)i(Class)i(for)e(dealing)f
(with)h(TREC)h(corpus)e(format)g(data)185 5230 y Fg(\017)41
b Ff(Clair::CIDR)18 b Fk(-)j(single)f(pass)g(document)f(clustering)185
5395 y Fg(\017)41 b Ff(Clair::SyntheticCollection)15
b Fk(-)21 b(Generate)e(synthetic)h(clusters)g(of)g(documents)185
5560 y Fg(\017)41 b Ff(Clair::Extensions)17 b Fk(-)k(V)-9
b(ersioning)18 b(File)j(for)f(the)g(Clairlib-e)o(xt)f(distrib)n(ution)
1893 5809 y(18)p eop end
%%Page: 19 19
TeXDict begin 19 18 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 210 a Fg(\017)41
b Ff(Clair::IDF)18 b Fk(-)j(Handle)e(IDF)i(databases)185
376 y Fg(\017)41 b Ff(Clair::SentenceFeatures)16 b Fk(-)k(a)h
(collection)e(of)h(sentence)g(feature)f(subroutines)185
556 y(W)m(ithin)h(the)g Ff(lib/Clair/Utils/)e Fk(directory)-5
b(,)17 b(se)n(v)o(eral)j(modules)f(are)h(pro)o(vided)e(to)i(w)o(ork)g
(with)g(corpora:)185 737 y Fg(\017)41 b Ff
(Clair::Utils::CorpusDownload)19 b Fk(-)25 b(Do)n(wnload)d(corpora)h
(from)g(a)i(list)g(of)f(URLs)i(or)e(from)f(a)i(single)f(URL)268
837 y(as)c(a)h(starting)f(point,)f(compute)g(IDF)h(and)g(TF)h(v)n
(alues)185 1002 y Fg(\017)41 b Ff(Clair::Utils::Idf)17
b Fk(-)k(Retrie)n(v)o(e)e(IDF)i(v)n(alues)f(calculated)f(by)h(CorpusDo)
n(wnload)185 1167 y Fg(\017)41 b Ff(Clair::Utils::Tf)17
b Fk(-)k(Retrie)n(v)o(e)e(TF)i(v)n(alues)f(calculated)f(by)h(CorpusDo)n
(wnload)185 1333 y Fg(\017)41 b Ff(Clair::Utils::TFIDFTUtils)16
b Fk(-)k(Pro)o(vides)f(utility)h(functions)f(needed)g(for)g(the)i
(IDF/TF)f(calculations)185 1498 y Fg(\017)41 b Ff(Clair::Utils::Robot2)
17 b Fk(-)j(con\002gurable)e(web)i(tra)n(v)o(ersal)g(engine)f(\(for)g
(web)h(robots)f(&)i(agents\))185 1663 y Fg(\017)41 b
Ff(Clair::Utils::LinearAlgebra)185 1829 y Fg(\017)g Ff
(Clair::Utils::Stem)17 b Fk(-)j(An)h(implementation)d(of)h(a)i(stemmer)
185 1994 y Fg(\017)41 b Ff(Clair::Utils::MxTerminator)185
2159 y Fg(\017)g Ff(Clair::Utils::ALE)17 b Fk(-)k(The)e(Automatic)h
(Link)f(Extrapolator)185 2340 y(The)g(Clairlib-e)o(xt)h(distrib)n
(ution)f(also)h(contains)g(the)g(follo)n(wing)e(modules)i(in)g
(lib/Clair/Utils/:)185 2521 y Fg(\017)41 b Ff(Clair::Utils::WebSearch)
16 b Fk(-)k(Performs)g(Google)f(searches)h(and)f(do)n(wnloads)g
(\002les)185 2686 y Fg(\017)41 b Ff(Clair::Utils::Parse)17
b Fk(-)j(P)o(arse)h(a)f(\002le)h(using)f(the)g(Charniak)f(parser)h(or)f
(use)i(the)f(Chunklink)e(tool.)185 2867 y(Clairlib)i(includes)f(a)i
(lar)o(ge)e(collection)g(of)h(netw)o(ork)f(and)h(graph)f(processing)g
(modules:)185 3048 y Fg(\017)41 b Ff(Clair::Network)18
b Fk(-)i(Netw)o(ork)g(Class)h(for)f(the)g(CLAIR)h(Library)185
3213 y Fg(\017)41 b Ff(Clair::NetworkWrapper)11 b Fk(-)16
b(A)g(subclass)f(of)g Ff(Clair::Network)e Fk(that)i(wraps)g(the)h(C++)f
(v)o(ersion)f(of)h(Le)o(xrank.)185 3379 y Fg(\017)41
b Ff(Clair::Network::AdamicAdar)21 b Fk(-)26 b(Adamic/Adar)e
(Algorithms,)h(calculate)g(the)h(Adamic/Adar)e(v)n(alue)h(of)g(a)268
3478 y(netw)o(ork.)185 3644 y Fg(\017)41 b Ff(Clair::Network::Sample)16
b Fk(-)21 b(Netw)o(ork)e(sampling)g(algorithms)367 3809
y Fi(\226)41 b Ff(Clair::Network::Sample::RandomEdge)15
b Fk(-)20 b(Random)f(edge)h(sampling)367 3941 y Fi(\226)41
b Ff(Clair::Network::Sample::RandomNode)15 b Fk(-)20
b(Random)f(node)g(sampling)367 4073 y Fi(\226)41 b Ff
(Clair::Network::Sample::ForestFire)15 b Fk(-)20 b(Random)f(sampling)g
(using)h(F)o(orest)g(Fire)h(model)367 4205 y Fi(\226)41
b Ff(Clair::Network::Sample::SampleBase)15 b Fk(-)20
b(Abstract)g(class)h(for)f(netw)o(ork)f(sampling)185
4371 y Fg(\017)41 b Ff(Clair::Network::Reader)16 b Fk(-)21
b(Dif)n(ferent)e(netw)o(ork)g(\002le)h(type)g(readers)367
4536 y Fi(\226)41 b Ff(Clair::Network::Reader)17 b Fk(-)j(Abstract)g
(class)h(for)f(reading)f(in)h(netw)o(ork)f(formats)367
4668 y Fi(\226)41 b Ff(Clair::Network::Reader::GraphML)15
b Fk(-)21 b(Class)g(for)f(reading)f(in)h(GraphML)f(netw)o(ork)g
(\002les)367 4800 y Fi(\226)41 b Ff(Clair::Network::Reader::Pajek)16
b Fk(-)k(Class)i(for)d(reading)g(in)h(P)o(ajek)g(netw)o(ork)f(\002les)
367 4932 y Fi(\226)41 b Ff(Clair::Network::Reader::Edgelist)15
b Fk(-)20 b(Class)i(for)e(reading)e(in)j(edgelist)f(netw)o(ork)f
(\002les)185 5098 y Fg(\017)41 b Ff(Clair::Network::Generator)16
b Fk(-)k(Random)f(netw)o(ork)g(generators)367 5263 y
Fi(\226)41 b Ff(Clair::Network::Generator::Generator)o(Base)14
b Fk(-)21 b(Netw)o(ork)e(generator)g(abstract)h(class)367
5395 y Fi(\226)41 b Ff(Clair::Network::Generator::ErdosReny)o(i)10
b Fk(-)15 b(ErdosRen)o(yi)f(netw)o(ork)g(generator)f(abstract)i(class)
185 5560 y Fg(\017)41 b Ff(Clair::Network::Writer)16
b Fk(-)21 b(Dif)n(ferent)e(netw)o(ork)g(\002le)h(type)g(writers)1893
5809 y(19)p eop end
%%Page: 20 20
TeXDict begin 20 19 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Ff(Clair::Network::Writer)17 b Fk(-)j(Abstract)g(class)h(for)f(e)o
(xporting)e(v)n(arious)h(Netw)o(ork)g(formats)367 343
y Fi(\226)41 b Ff(Clair::Network::Writer::GraphML)15
b Fk(-)21 b(Class)g(for)f(writing)f(GraphML)g(netw)o(ork)g(\002les)367
476 y Fi(\226)41 b Ff(Clair::Network::Writer::Pajek)16
b Fk(-)k(Class)i(for)d(writing)h(P)o(ajek)g(netw)o(ork)f(\002les)367
609 y Fi(\226)41 b Ff(Clair::Network::Writer::Edgelist)15
b Fk(-)20 b(Class)i(for)e(writing)f(edge)h(list)h(netw)o(ork)e(\002les)
185 775 y Fg(\017)41 b Ff(Clair::Network::Centrality)15
b Fk(-)21 b(Netw)o(ork)e(centrality)h(measures)367 941
y Fi(\226)41 b Ff(Clair::Network::Centrality)16 b Fk(-)21
b(Abstract)f(class)h(for)e(computing)f(netw)o(ork)h(centrality)367
1074 y Fi(\226)41 b Ff(Clair::Network::Centrality::Degree)15
b Fk(-)20 b(Class)i(for)d(computing)f(de)o(gree)367 1206
y Fi(\226)41 b Ff(Clair::Network::Centrality::Closenes)o(s)15
b Fk(-)20 b(Class)i(for)e(computing)e(closeness)i(centrality)367
1339 y Fi(\226)41 b Ff(Clair::Network::Centrality::Betweenn)o(ess)26
b Fk(-)33 b(Class)g(for)e(computing)f(betweenness)h(cen-)450
1439 y(trality)185 1605 y Fg(\017)41 b Ff(Clair::Network::CFNetwork)14
b Fk(-)k(Class)i(for)d(performing)e(community)h(\002nding)h(using)h(Ne)
n(wman)f(2004)g(mod-)268 1705 y(ularity)i(algorithm)185
1871 y Fg(\017)41 b Ff(Clair::Network::KernighanLin)24
b Fk(-)29 b(Class)i(for)d(performing)e(community)h(\002nding)h(and)g
(graph)g(partition)268 1970 y(using)19 b(K)n(ernighanLin)f(algorithm)
185 2136 y Fg(\017)41 b Ff(Clair::Network::GirvanNewman)10
b Fk(-)16 b(Class)h(for)d(performing)f(community)g(\002nding)h(using)h
(Girv)n(an/Ne)n(wman)268 2236 y(Algorithm)185 2419 y(The)22
b(Netw)o(ork)h(modules)f(uses)i(the)f(Graph)g(CP)-8 b(AN)24
b(module)e(by)h(def)o(ault,)g(b)n(ut)g(this)h(other)e(graph)g
(libraries)h(such)g(as)h(Boost)60 2518 y(can)c(be)g(used:)185
2701 y Fg(\017)41 b Ff(Clair::GraphWrapper)17 b Fk(-)j(Abstract)g
(class)h(for)f(underlying)d(graphs)185 2867 y Fg(\017)41
b Ff(Clair::GraphWrapper::Boost)16 b Fk(-)21 b(GraphWrapper)d(class)k
(that)f(pro)o(vides)e(an)h(interf)o(ace)g(to)h(the)g(Boost)g(graph)268
2967 y(library)185 3149 y(There)e(are)h(also)h(packages)e(for)g
(dealing)g(with)i(discrete)f(and)f(continuous)f(distrib)n(utions:)185
3332 y Fg(\017)41 b Ff(Clair::RandomDistribution::Random)o(Distr)o
(ibutio)o(nBase)14 b Fk(-)21 b(base)f(class)h(for)f(all)g(distrib)n
(utions)185 3498 y Fg(\017)41 b Ff(Clair::RandomDistribution::Gaussi)o
(an)185 3664 y Fg(\017)g Ff(Clair::RandomDistribution::LogNor)o(mal)185
3830 y Fg(\017)g Ff(Clair::RandomDistribution::Poisso)o(n)185
3996 y Fg(\017)g Ff(Clair::RandomDistribution::Random)o(Distr)o(ibutio)
o(nFrom)o(Weigh)o(ts)185 4162 y Fg(\017)g Ff
(Clair::RandomDistribution::Zipfia)o(n)185 4345 y Fg(\017)g
Ff(Clair::Statistics::Distributions:)o(:TDis)o(t)185
4511 y Fg(\017)g Ff(Clair::Statistics::Distributions:)o(:Dist)o(Base)
185 4677 y Fg(\017)g Ff(Clair::Statistics::Distributions:)o(:Geom)o
(etric)185 4859 y Fk(Here)20 b(is)h(a)f(listing)h(of)f(the)g(other)f
(modules)g(in)i(Clairlib:)185 5042 y Fg(\017)41 b Ff
(Clair::ALE::Default::Tokenizer)185 5208 y Fg(\017)g
Ff(Clair::ALE::Default::Stemmer)15 b Fk(-)20 b(ALE')-5
b(s)21 b(def)o(ault)e(stemmer)-5 b(.)185 5374 y Fg(\017)41
b Ff(Clair::ALE::Tokenizer)185 5540 y Fg(\017)g Ff(Clair::ALE::Stemmer)
17 b Fk(-)j(Internal)f(stemmer)h(used)g(by)g(ALE)1893
5809 y(20)p eop end
%%Page: 21 21
TeXDict begin 21 20 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 210 a Fg(\017)41
b Ff(Clair::ALE::Conn)16 b Fk(-)j(A)h(connection)c(between)j(tw)o(o)g
(pages,)f(consisting)h(of)f(one)h(or)f(more)g(links,)h(created)g(the)g
(the)268 310 y(Automatic)g(Link)g(Extrapolator)-5 b(.)185
460 y Fg(\017)41 b Ff(Clair::ALE::Link)17 b Fk(-)k(A)f(link)g(between)g
(tw)o(o)g(URLs)h(created)f(by)g(the)g(Automatic)f(Link)h(Extrapolator)
-5 b(.)185 610 y Fg(\017)41 b Ff(Clair::ALE::)p 873 610
25 4 v 27 w(SQL)20 b Fk(-)h(Internal)e(SQL)h(adapter)f(for)h(use)g(by)g
(ALE)185 760 y Fg(\017)41 b Ff(Clair::ALE::URL)18 b Fk(-)i(A)h(URL)f
(created)g(by)g(the)g(Automatic)f(Link)h(Extrapolator)185
911 y Fg(\017)41 b Ff(Clair::ALE::NormalizeURL)185 1061
y Fg(\017)g Ff(Clair::MEAD::DocsentConverter)15 b Fk(-)20
b(Document)f(=\277)h(Mead)g(Cluster)h(con)m(v)o(erter)185
1211 y Fg(\017)41 b Ff(Clair::MEAD::Summary)17 b Fk(-)j(access)h(to)f
(a)h(MEAD)f(summary)185 1361 y Fg(\017)41 b Ff(Clair::MEAD::Wrapper)17
b Fk(-)j(A)h(perl)f(module)e(wrapper)h(for)h(MEAD)185
1511 y Fg(\017)41 b Ff(Clair::LinkPolicy)17 b Fk(-)k(Dif)n(ferent)d
(document)h(linking)g(policies)367 1661 y Fi(\226)41
b Ff(Clair::LinkPolicy::MenczerMacro)15 b Fk(-)21 b(Class)g
(implementing)d(the)i(Menczer)g(Micro)f(link)h(model)367
1778 y Fi(\226)41 b Ff(Clair::LinkPolicy::LinkPolicyBase)15
b Fk(-)20 b(Base)h(class)g(for)f(creating)f(corpora)g(from)g
(collections)367 1895 y Fi(\226)41 b Ff
(Clair::LinkPolicy::RadevPAMixed)15 b Fk(-)21 b(Class)g(implementing)d
(the)i(Rade)n(vP)-8 b(AMix)o(ed)19 b(link)h(model)367
2012 y Fi(\226)41 b Ff(Clair::LinkPolicy::MenczerPAMixed)17
b Fk(-)23 b(Class)h(implementing)c(the)j(MenczerP)-8
b(AMix)o(ed)20 b(Micro)450 2112 y(link)g(model)367 2229
y Fi(\226)41 b Ff(Clair::LinkPolicy::RadevMicro)16 b
Fk(-)k(Class)i(implementing)c(the)i(Rade)n(v)g(Micro)f(link)h(model)367
2346 y Fi(\226)41 b Ff(Clair::LinkPolicy::BarabasiAlbert)10
b Fk(-)15 b(Class)i(implementing)c(the)i(Barabasi)g(Albert)g(link)g
(model.)367 2463 y Fi(\226)41 b Ff(Clair::LinkPolicy::WattsStrogatz)15
b Fk(-)20 b(Class)i(implementing)c(the)i(W)-7 b(atts/Strogatz)20
b(link)g(model)367 2580 y Fi(\226)41 b Ff
(Clair::LinkPolicy::ErdosRenyi)16 b Fk(-)k(Class)i(implementing)c(the)i
(Erdos)f(Ren)o(yi)h(link)g(model)185 2730 y Fg(\017)41
b Ff(Clair::SentenceSegmenter)16 b Fk(-)k(Sentence)g(se)o(gmentation)
367 2880 y Fi(\226)41 b Ff(Clair::SentenceSegmenter::SentenceSe)o
(gmente)o(r)367 2997 y Fi(\226)g Ff(Clair::SentenceSegmenter::Text)367
3114 y Fi(\226)g Ff(Clair::SentenceSegmenter::MxTerminat)o(or)185
3264 y Fg(\017)g Ff(Clair::CIDR::Wrapper)17 b Fk(-)j(A)h(wrapper)d
(script)j(for)e(the)h(original)f(cidr)h(script)185 3414
y Fg(\017)41 b Ff(Clair::Nutch::Search)17 b Fk(-)j(A)h(class)g(for)e
(performing)f(simple)i(Nutch)f(searches.)185 3565 y Fg(\017)41
b Ff(Clair::Interface::Weka)185 3715 y Fg(\017)g Ff
(Clair::Index::mldbm)17 b Fk(-)j(A)h(submodule)d(that)i(gets)h
(dynamically)d(loaded)h(by)h(Inde)o(x.pm.)185 3865 y
Fg(\017)41 b Ff(Clair::Index::dirfiles)16 b Fk(-)21 b(Builds)f(the)g
(inde)o(x)f(into)h(the)h(\002lesystem)f(namespace.)185
4015 y Fg(\017)41 b Ff(Clair::Algorithm::LSI)185 4165
y Fg(\017)g Ff(Clair::Info::Query)17 b Fk(-)j(A)h(module)e(that)h
(implements)f(dif)n(ferent)g(types)h(of)g(queries.)185
4315 y Fg(\017)41 b Ff(Clair::Info::Stats)185 4466 y
Fg(\017)g Ff(Clair::GenericDoc)17 b Fk(-)k(Generic)e(document)f
(representations)h(and)g(parsing)g(modules)367 4616 y
Fi(\226)41 b Ff(Clair::GenericDoc)18 b Fk(-)i(A)h(class)g(to)f
(standardize)f(and)h(create)g(generic)f(representation)f(of)i
(documents.)367 4733 y Fi(\226)41 b Ff(Clair::GenericDoc::html)17
b Fk(-)j(a)h(submodule)d(that)i(strips)h(out)f(html)g(tags.)367
4850 y Fi(\226)41 b Ff(Clair::GenericDoc::shakespear)16
b Fk(-)k(specialized)g(to)g(parse)g(shak)o(espear)f(html)h(\002les.)367
4967 y Fi(\226)41 b Ff(Clair::GenericDoc::octet)p 1655
4967 V 26 w(stream)29 b Fk(-)h(a)h(submodule)d(that)i(parses)g(xml)g
(and)f(con)m(v)o(erts)g(it)h(into)g(a)450 5066 y(hash)367
5183 y Fi(\226)41 b Ff(Clair::GenericDoc::sports)16 b
Fk(-)21 b(a)f(specialized)g(module)f(for)g(parsing)g(docs)h(for)g(hw2)
367 5300 y Fi(\226)41 b Ff(Clair::GenericDoc::xml)17
b Fk(-)j(a)h(submodule)d(that)i(parses)h(xml)e(and)h(con)m(v)o(erts)f
(it)h(into)g(a)h(hash)367 5417 y Fi(\226)41 b Ff
(Clair::GenericDoc::plain)16 b Fk(-)21 b(A)g(submodule)d(that)i
(returns)f(the)i(document)d(as)j(is.)185 5560 y(Man)o(y)e(of)h(the)g
(abo)o(v)o(e)e(modules)h(are)i(described)e(in)h(more)f(detail)h(in)h
(the)f(follo)n(wing)f(section.)1893 5809 y(21)p eop end
%%Page: 22 22
TeXDict begin 22 21 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fj(6)119 b(Clairlib)32
b(Netw)o(ork)e(Pr)n(ocessing)g(Utilities)g(T)-11 b(utorial)60
396 y Fk(A)18 b(tutorial)g(e)o(xplaining)d(ho)n(w)j(to)g(use)g(the)g
(Clairlib)g(library)f(and)g(tools)h(to)g(create)g(a)g(netw)o(ork)f
(from)g(a)h(group)e(of)i(\002les)h(and)e(process)60 495
y(that)j(netw)o(ork)f(to)i(e)o(xtract)e(information.)60
732 y Fh(Intr)n(oduction)60 887 y Fk(This)j(tutorial)g(will)h(w)o(alk)f
(you)f(through)f(do)n(wnloading)g(\002les,)j(creating)e(a)i(corpus)e
(from)g(them,)h(creating)f(a)h(netw)o(ork)f(from)h(the)60
987 y(corpus,)g(and)h(e)o(xtracting)e(information)g(along)h(the)h(w)o
(ay)-5 b(.)33 b(W)-7 b(e')o(ll)24 b(be)f(using)g(utilities)g(included)f
(in)h(the)g(Clairlib)g(package)f(to)h(do)60 1087 y(the)d(w)o(ork.)185
1186 y(Before)f(be)o(ginning,)f(install)i(the)g(clairlib)g(package.)k
(T)-7 b(o)20 b(do)g(so,)g(follo)n(w)g(the)g(instructions)f(at:)110
1361 y Ff(http://belobog.si.umich.edu/mediaw)o(iki/in)o(dex.p)o(hp/In)o
(stalla)o(tion.)185 1535 y Fk(The)14 b(best)i(w)o(ay)f(to)h(use)f(this)
h(document)d(is)j(to)g(read)e(all)i(the)f(w)o(ay)h(through)d(as)j(each)
f(command)e(is)j(e)o(xplained.)21 b(The)15 b(commands)60
1635 y(at)21 b(the)f(end)g(of)f(the)i(tutorial)e(in)i(the)f(code)f
(section.)60 1871 y Fh(Generating)25 b(the)h(cor)o(pus)60
2027 y Fk(The)c(\002rst)i(thing)e(we)h(will)h(need)e(is)i(a)f(corpus)f
(of)g(\002les)i(to)f(run)f(our)g(tests)i(against.)32
b(As)24 b(an)f(e)o(xample)e(we)i(will)h(be)f(using)f(a)h(set)h(of)60
2127 y(\002les)d(e)o(xtracted)e(from)g(W)m(ikipedia.)24
b(W)-7 b(e')o(ll)21 b(\002rst)g(do)n(wnload)d(those)j(\002les)g(into)f
(a)g(folder:)110 2301 y Ff(mkdir)49 b(corpus)185 2476
y Fk(W)-7 b(e')o(ll)27 b(use)f(the)g('wget')g(command)e(to)i(do)n
(wnload)e(the)i(\002les.)44 b(The)26 b(-r)g(means)g(to)g(recursi)n(v)o
(ely)e(get)i(all)h(of)f(the)g(\002les)h(in)g(the)60 2576
y(folder)m(,)18 b(-nd)i(means)g(don')o(t)e(create)i(the)g(directory)f
(path,)g(and)h(-nc)g(means)g(only)f(get)h(one)g(cop)o(y)f(of)h(each)g
(\002le:)110 2750 y Ff(cd)49 b(corpus)110 2850 y(wget)g(-r)g(-nd)h(-nc)
f(http://belobog.si.umich.edu/clair/)o(corpor)o(a/che)o(mical)110
2949 y(cd)g(..)185 3124 y Fk(No)n(w)21 b(that)g(we)h(ha)n(v)o(e)f(our)f
(\002les,)i(we)g(can)f(create)g(the)h(corpus.)27 b(T)-7
b(o)21 b(do)g(this)h(we')o(ll)g(use)f(the)g(')l(directory)p
3123 3124 25 4 v 28 w(to)p 3216 3124 V 29 w(corpus.pl')e(utility)-5
b(.)60 3224 y(The)20 b(options)g(used)h(here)f(are)h(f)o(airly)f
(consistent)g(for)h(all)g(utilities:)27 b(\226corpus,)19
b(or)i(-c,)f(refers)h(to)g(the)f(name)h(of)f(the)h(corpus)e(we)j(are)60
3323 y(creating.)31 b(This)22 b(should)g(be)g(something)f(f)o(airly)h
(simple,)h(since)g(we)f(use)h(it)g(often)f(and)g(it)h(is)g(used)g(to)f
(name)g(se)n(v)o(eral)g(of)g(the)h(\002les)60 3423 y(we')o(ll)k(be)g
(creating.)43 b(In)26 b(this)i(case,)g(we)f(call)g(our)f(corpus)g
('chemical'.)43 b(\226base,)27 b(or)g(-b,)h(refers)e(to)h(the)f(base)h
(directory)e(of)h(our)60 3523 y(corpus')19 b(data)i(\002les.)27
b(A)21 b(common)e(practice)h(is)i(to)e(use)h('produced'.)i(Lastly)e
(\226directory)-5 b(,)18 b(or)i(-d,)h(refers)f(to)h(the)f(directory)f
(where)60 3622 y(our)g(\002les)j(to)e(be)g(con)m(v)o(erted)e(are)i
(located:)110 3797 y Ff(directory_to_corpus.pl)46 b(--corpus)i
(chemical)g(--base)h(produced)f(\\)160 3897 y(--directory)f(corpus)185
4071 y Fk(No)n(w)21 b(that)g(our)f(corpus)g(has)h(been)g(or)o(ganized,)
d(we')o(ll)j(inde)o(x)f(it)i(so)g(we)f(can)g(then)g(start)g(e)o
(xtacting)f(data)h(from)f(it.)29 b(T)-7 b(o)21 b(do)f(that)60
4171 y(we')o(ll)26 b(use)h('inde)o(x)p 612 4171 V 27
w(corpus.pl'.)41 b(Again,)26 b(we')o(ll)g(specify)g(the)g(corpus)f
(name)g(and)h(the)g(base)g(directory)e(where)i(the)g(inde)o(x)f
(\002les)60 4270 y(should)19 b(be)h(produced:)110 4445
y Ff(index_corpus.pl)47 b(--corpus)h(chemical)g(--base)h(produced)185
4620 y Fk(W)-7 b(e')l(v)o(e)20 b(no)n(w)f(got)h(our)f(corpus)h(and)f
(our)h(indices)g(and)f(are)h(ready)f(to)i(e)o(xtract)e(data.)60
4856 y Fh(Tfs)25 b(and)h(Idfs)60 5012 y Fk(First)i(we')o(ll)f(run)f(a)h
(query)f(for)g(the)h(term)f(frequenc)o(y)e(of)j(a)g(single)g(term.)45
b(T)-7 b(o)27 b(do)f(this)h(we')o(ll)h(use)f(')o(tf)p
3041 5012 V 28 w(query)-5 b(.pl'.)43 b(Let')-5 b(s)27
b(query)60 5111 y('health':)110 5286 y Ff(tf_query.pl)48
b(-c)h(chemical)f(-b)i(produced)e(-q)i(health)185 5461
y Fk(This)26 b(outputs)f(a)h(list)h(of)f(the)g(\002les)h(in)f(our)f
(corpus)g(which)h(contain)f(the)h(term)f('health')g(and)g(the)h(number)
f(of)g(times)i(those)60 5560 y(terms)20 b(occur)f(in)i(that)f(\002le.)
26 b(T)-7 b(o)20 b(get)g(term)g(frequencies)e(for)i(all)h(terms)f(in)g
(the)h(corpus,)d(pass)j(the)f(\226all)h(option:)1893
5809 y(22)p eop end
%%Page: 23 23
TeXDict begin 23 22 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 110 210 a Ff(tf_query.pl)48
b(-c)h(chemical)f(-b)i(produced)e(--all)185 375 y Fk(This)20
b(returns)f(a)i(list)g(of)f(terms,)g(their)g(frequencies,)e(and)i(the)g
(number)e(of)i(documents)f(each)h(occurs)f(in.)185 474
y(In)g(order)g(to)i(see)f(the)h(full)f(list)h(of)f(term)g(frequencies)e
(for)i(stemmed)f(terms,)h(pass)h(the)f(stemmed)g(option:)110
639 y Ff(tf_query.pl)48 b(-c)h(chemical)f(-b)i(produced)e(--stemmed)g
(--all)185 804 y Fk(Ne)o(xt)21 b(we')o(ll)h(run)f(a)i(query)d(for)h
(the)h(in)m(v)o(erse)f(document)f(frequenc)o(y)f(of)i(a)h(single)g
(term.)30 b(T)-7 b(o)22 b(do)f(this)i(we')o(ll)f(use)g('idf)p
3549 804 25 4 v 29 w(query'.)60 903 y(Again,)d(we')o(ll)i(query)d
('health':)110 1068 y Ff(idf_query.pl)47 b(-c)j(chemical)e(-b)i
(produced)e(-q)h(health)185 1232 y Fk(W)-7 b(e)21 b(can)f(also)g(pass)h
(the)f(\226all)h(option)e(to)h(idf)p 1452 1232 V 29 w(query)-5
b(.pl)18 b(to)i(get)g(a)h(list)g(of)f(idf)5 b(')-5 b(s)20
b(for)g(all)g(terms)h(in)f(the)g(corpus:)110 1397 y Ff(idf_query.pl)47
b(-c)j(chemical)e(-b)i(produced)e(--all)60 1631 y Fh(Cr)n(eating)25
b(a)g(Netw)o(ork)60 1787 y Fk(W)-7 b(e)25 b(no)n(w)e(ha)n(v)o(e)g(a)h
(corpus)f(from)f(which)h(we)h(can)g(e)o(xtract)f(some)g(data.)35
b(Ne)o(xt)24 b(we')o(ll)g(create)f(a)h(netw)o(ork)e(from)h(this)h
(corpus.)34 b(T)-7 b(o)60 1887 y(do)27 b(this,)k(we')o(ll)d(use)g
('corpus)p 936 1887 V 28 w(to)p 1029 1887 V 29 w(netw)o(ork.pl'.)46
b(This)28 b(command)e(creates)i(a)g(netw)o(ork)f(of)h(hyperlinks)d
(from)i(our)g(corpus.)47 b(It)60 1986 y(produces)21 b(a)i(graph)e
(\002le)j(with)f(each)f(line)h(containing)e(tw)o(o)i(link)o(ed)f
(nodes.)32 b(This)22 b(command)f(requires)h(a)h(speci\002ed)f(output)g
(\002le)60 2086 y(which)e(we')o(ll)g(call)h('chemical.graph':)110
2251 y Ff(corpus_to_network.pl)46 b(-c)j(chemical)g(-b)g(produced)f(-o)
i(chemical.graph)185 2415 y Fk(No)n(w)20 b(we)g(can)g(gather)f(some)h
(data)g(on)g(this)h(netw)o(ork.)j(T)-7 b(o)20 b(do)g(that)g(we')o(ll)h
(run)e('print)p 2632 2415 V 29 w(netw)o(ork)p 2934 2415
V 28 w(stats.pl')h(on)g(our)f(graph)g(\002le.)60 2515
y(This)27 b(command)d(can)j(be)f(used)h(to)f(produce)f(man)o(y)g(dif)n
(ferent)g(types)i(of)f(data.)44 b(The)26 b(easiest)i(w)o(ay)f(to)f(use)
h(it)h(is)f(with)g(the)f(\226all)60 2614 y(option,)19
b(which)g(run)h(all)h(of)e(its)j(v)n(arious)d(tests.)26
b(W)-7 b(e')o(ll)21 b(redirect)f(its)h(output)e(to)h(a)h(\002le:)110
2779 y Ff(print_network_stats.pl)46 b(-i)j(chemical.graph)e(--all)i(>)h
(chemical.graph.stats)185 2944 y Fk(If)27 b(we)g(no)n(w)g(look)g(at)h
('chemical.graph.stats')c(we)j(can)h(see)f(statistics)i(for)e(our)g
(netw)o(ork)f(including)f(numbers)h(of)h(nodes)60 3043
y(and)18 b(edges,)g(de)o(gree)g(statistics,)i(clustering)e(coef)n
(\002cients,)g(and)g(path)g(statistics.)26 b(This)19
b(command)e(also)i(creates)f(three)g(centrality)60 3143
y(\002les)j(\(betweenness,)e(closeness,)h(and)g(de)o(gree\))e(which)i
(are)g(lists)h(of)f(all)h(terms)f(and)g(their)g(centralities.)60
3377 y Fh(Conclusions)60 3533 y Fk(W)m(ith)h(the)f(tools)g(described)f
(abo)o(v)o(e)g(you)g(should)g(be)h(able)g(to)h(create)f(a)g(corpus)g
(from)f(a)h(set)h(of)f(\002les)i(and)d(e)o(xtract)h(statistics)i(from)
60 3632 y(that)e(corpus.)k(F)o(or)c(additional)f(functionality)f(or)i
(to)g(get)g(more)g(information)d(on)j(the)g(utilites)h(used,)f(go)g(to)
110 3797 y Ff(http://belobog.si.umich.edu/mediaw)o(iki/in)o(dex.p)o
(hp/Do)o(cument)o(ation)o(.)60 4031 y Fh(CODE)60 4187
y Fk(This)g(is)h(a)g(list)g(of)f(all)h(of)f(the)g(commands)f(used)h(in)
g(this)h(tutorial:)110 4352 y Ff(mkdir)49 b(corpus)110
4451 y(cd)g(corpus)110 4551 y(wget)g(-r)g(-nd)h(-nc)f
(http://belobog.si.umich.edu/clair/)o(corpor)o(a/che)o(mical)110
4651 y(cd)g(..)110 4750 y(directory_to_corpus.pl)d(--corpus)i(chemical)
g(--base)h(produced)f(\\)160 4850 y(--directory)f(corpus)110
4949 y(index_corpus.pl)g(--corpus)h(chemical)g(--base)h(produced)110
5049 y(tf_query.pl)f(-c)h(chemical)f(-b)i(produced)e(-q)i(health)110
5149 y(tf_query.pl)e(-c)h(chemical)f(-b)i(produced)e(--all)110
5248 y(idf_query.pl)f(-c)j(chemical)e(-b)i(produced)e(-q)h(health)110
5348 y(idf_query.pl)e(-c)j(chemical)e(-b)i(produced)e(--all)110
5448 y(corpus_to_network.pl)e(-c)j(chemical)g(-b)g(produced)f(-o)i
(chemical.graph)110 5547 y(print_network_stats.pl)c(-i)j
(chemical.graph)e(--all)i(>)h(chemical.graph.stats)1893
5809 y Fk(23)p eop end
%%Page: 24 24
TeXDict begin 24 23 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fj(7)119 b(Recipes)60
396 y Fk(In)22 b(this)g(section)g(we)g(will)h(be)f(using)f(Clairlib)h
(utilities)h(to)f(create)g(corpora,)e(generate)h(netw)o(orks,)g(e)o
(xtract)g(plots)h(and)f(statistics,)60 495 y(and)f(demonstrate)e(ho)n
(w)i(to)g(perform)e(other)i(useful)f(tasks.)26 b(The)20
b(chapter)f(is)i(or)o(ganized)c(into)j(the)g(follo)n(wing)f(sections:)
164 678 y(1.)41 b(Generating)18 b(Corpora)164 844 y(2.)41
b(Gathering)18 b(Corpora)h(Statistics)164 1010 y(3.)41
b(Generating)18 b(Netw)o(orks)164 1176 y(4.)41 b(Gathering)18
b(Netw)o(ork)i(Statistics)164 1342 y(5.)41 b(Other)19
b(Useful)h(T)-7 b(ools)60 1580 y Fh(7.1)99 b(Generating)26
b(Cor)o(pora)60 1736 y Fi(7.1.1)81 b(Generate)19 b(a)h(cor)o(pus)h(by)g
(do)o(wnloading)e(\002les)p 185 1820 2896 4 v 185 2866
4 1047 v 263 1945 a Ff(output:)48 b(indexed)h(corpus)263
2144 y(mkdir)f(corpus)263 2243 y(cd)h(corpus)263 2343
y(wget)g(-r)g(-nd)g(-nc)h(\\)362 2443 y
(http://belobog.si.umich.edu/clair/co)o(rpora/)o(chemi)o(cal)263
2542 y(cd)f(..)263 2642 y(directory_to_corpus.pl)c(-c)50
b(chemical)e(-b)h(produced)g(-d)g(corpus)263 2742 y(index_corpus.pl)e
(-c)i(chemical)f(-b)i(produced)p 3077 2866 V 185 2869
2896 4 v 60 3062 a Fi(7.1.2)81 b(Generate)19 b(a)h(cor)o(pus)h(by)g
(crawling)e(a)i(site)p 185 3147 2548 4 v 185 3663 4 517
v 263 3227 a Ff(output:)48 b(indexed)h(corpus)263 3426
y(crawl_url.pl)e(-u)j(http://www.asdg.com/)c(-o)j(asdg.urls)263
3526 y(download_urls.pl)d(-c)k(asdg)f(-i)g(asdg.urls)f(-b)i(produced)
263 3625 y(index_corpus.pl)d(-c)i(asdg)g(-b)h(produced)p
2728 3663 V 185 3666 2548 4 v 60 3846 a Fi(7.1.3)81 b(Generate)19
b(a)h(cor)o(pus)h(fr)o(om)f(a)g(Google)f(sear)o(ch)p
185 3931 3245 4 v 185 4447 4 517 v 263 4011 a Ff(output:)48
b(indexed)h(corpus)263 4210 y(search_to_url.pl)d(-q)k(bulgaria)e(-n)i
(10)f(>)h(bulgaria.10.urls)263 4310 y(download_urls.pl)c(-i)k
(bulgaria.10.urls)d(-c)i(bulgaria-10)f(-b)h(produced)263
4409 y(index_corpus.pl)e(-c)i(bulgaria-10)f(-b)h(produced)p
3426 4447 V 185 4450 3245 4 v 60 4630 a Fi(7.1.4)81 b(Generate)19
b(a)h(cor)o(pus)h(of)f(sentences)h(fr)o(om)e(a)i(document)p
185 4715 2846 4 v 185 5331 4 617 v 263 4795 a Ff(input:)48
b(collection)g(of)i(documents)263 4895 y(output:)e(indexed)h(corpus)263
5094 y(sentences_to_docs.pl)d(-d)j($CLAIRLIB/corpora/1984/)d(-o)j(docs)
263 5193 y(directory_to_corpus.pl)c(-c)50 b(1984sents)e(-b)h(produced)g
(-d)g(docs)263 5293 y(index_corpus.pl)e(-c)i(1984sents)f(-b)i(produced)
p 3027 5331 V 185 5334 2846 4 v 1893 5809 a Fk(24)p eop
end
%%Page: 25 25
TeXDict begin 25 24 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(7.1.5)81
b(Generate)19 b(a)h(cor)o(pus)h(using)g(Zip\002an)g(distrib)n(ution)p
185 295 3195 4 v 185 856 4 561 v 263 419 a Ff(input:)48
b(indexed)h(corpus)263 519 y(output:)f(synthetic)g(corpus)263
718 y(make_synth_collection.pl)d(--policy)j(zipfian)h(--alpha)f(1)i(-o)
f(synth)g(\\)362 818 y(-d)h(synth_out)e(-c)h(chemical)g(-b)g(produced)f
(--size)h(11)g(--verbose)p 3376 856 V 185 859 3195 4
v 60 1055 a Fh(7.2)99 b(Gathering)25 b(Cor)o(pus)h(Statistics)60
1211 y Fi(7.2.1)81 b(Run)21 b(IDF)g(queries)g(on)f(a)h(cor)o(pus)p
185 1296 2398 4 v 185 1812 4 517 v 263 1376 a Ff(input:)48
b(indexed)h(corpus)263 1475 y(output:)f(idf)h(query)g(data)263
1674 y(idf_query.pl)e(-c)j(chemical)e(-b)h(produced)g(-q)g(health)263
1774 y(idf_query.pl)e(-c)j(chemical)e(-b)h(produced)g(--all)p
2579 1812 V 185 1815 2398 4 v 60 1995 a Fi(7.2.2)81 b(Run)21
b(TF)g(queries)g(on)f(a)h(cor)o(pus)p 185 2080 2797 4
v 185 2795 4 716 v 263 2160 a Ff(input:)48 b(indexed)h(corpus)263
2259 y(output:)f(tf)i(query)e(data)263 2459 y(tf_query.pl)f(-c)j
(chemical)e(-b)i(produced)e(-q)h(health)263 2558 y(tf_query.pl)e(-c)j
(chemical)e(-b)i(produced)e(--all)263 2658 y(tf_query.pl)f(-c)j
(chemical)e(-b)i(produced)e(--stemmed)g(--all)263 2757
y(tf_query.pl)f(-c)j(chemical)e(-b)i(produced)e(-q)h("atomic)g(number")
p 2977 2795 V 185 2798 2797 4 v 60 2995 a Fh(7.3)99 b(Generating)26
b(Netw)o(orks)60 3151 y Fi(7.3.1)81 b(Generate)19 b(a)h(netw)o(ork)h
(fr)o(om)e(a)h(cor)o(pus)p 185 3235 3195 4 v 185 3652
4 417 v 263 3315 a Ff(input:)48 b(indexed)h(corpus)263
3415 y(output:)f(network)h(graph)263 3614 y(corpus_to_network.pl)d(-c)j
(chemical)f(-b)i(produced)e(-o)i(chemical.graph)p 3376
3652 V 185 3655 3195 4 v 1893 5809 a Fk(25)p eop end
%%Page: 26 26
TeXDict begin 26 25 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(7.3.2)81
b(Generate)19 b(synthetic)h(netw)o(ork)g(using)h(Erdos/Renyi)g(linking)
g(model)p 185 295 2896 4 v 185 2051 4 1757 v 263 419
a Ff(output:)48 b(synthetic)g(graph)213 619 y(#)h(With)g(n)h(nodes)f
(and)g(m)h(edges)263 818 y(generate_random_network.pl)45
b(-o)k(synthetic.graph)e(\\)362 917 y(-t)j(erdos-renyi-gnm)d(-n)i(100)g
(-m)h(88)213 1117 y(#)f(With)g(n)h(nodes)f(and)g(random)g(edge)g(with)g
(probability)f(p)263 1316 y(generate_random_network.pl)d(-o)k
(synthetic.graph)e(\\)362 1416 y(-t)j(erdos-renyi-gnp)d(-n)i(100)g(-p)h
(.1)213 1615 y(#)f(Based)g(on)h(another)e(graph)263 1814
y(generate_random_network.pl)d(-o)k(synthetic.graph)e(\\)362
1914 y(-i)j($CLAIRLIB/corpora/david_copperfie)o(ld/adj)o(noun.)o(graph)
43 b(\\)362 2013 y(-t)50 b(erdos-renyi-gnp)d(-p)i(.1)p
3077 2051 V 185 2054 2896 4 v 60 2251 a Fh(7.4)99 b(Gathering)25
b(Netw)o(ork)h(Statistics)60 2407 y Fi(7.4.1)81 b(Generate)19
b(plots)i(and)f(statistics)g(fr)o(om)g(a)g(cor)o(pus)p
185 2491 V 185 3207 4 716 v 263 2571 a Ff(input:)48 b(indexed)h(corpus)
263 2671 y(output:)f(plots)h(and)g(stats)263 2870 y(corpus_to_cos.pl)d
(-c)k(chemical)e(-o)i(chemical.cos)d(-b)j(produced)263
2970 y(cos_to_cosplots.pl)c(-i)j(chemical.cos)263 3069
y(cos_to_histograms.pl)d(-i)j(chemical.cos)263 3169 y(cos_to_stats.pl)e
(-i)i(chemical.cos)f(-o)h(chemical.stats)p 3077 3207
V 185 3210 2896 4 v 60 3390 a Fi(7.4.2)81 b(Generate)19
b(plots)i(fr)o(om)e(a)h(netw)o(ork)p 185 3474 2398 4
v 185 3891 4 417 v 263 3554 a Ff(input:)48 b(network)h(file)263
3654 y(output:)f(degree)h(distribution)e(plots)263 3853
y(network_to_plots.pl)f(-i)j(chemical.cos)f(--bins)h(100)p
2579 3891 V 185 3894 2398 4 v 1893 5809 a Fk(26)p eop
end
%%Page: 27 27
TeXDict begin 27 26 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(7.4.3)81
b(Putting)20 b(it)g(all)h(together:)i(plots)e(and)f(stats)g(generated)f
(fr)o(om)h(a)g(document)p 185 295 3295 4 v 185 5494 4
5199 v 263 375 a Ff(input:)48 b(sample)h(news)g(data)263
474 y(output:)f(plots)h(and)g(statistics)263 574 y(optional:)f(Matlab)
263 773 y(sentences_to_docs.pl)e(-i)j(\\)362 873 y
($CLAIRLIB/corpora/news-sample/lexran)o(k-samp)o(le.tx)o(t)44
b(\\)362 972 y(-o)50 b(lexrank-sample)263 1072 y
(directory_to_corpus.pl)45 b(-c)50 b(lexrank-sample)97
b(-b)49 b(produced)f(\\)362 1172 y(-d)i(lexrank-sample)263
1271 y(index_corpus.pl)d(-c)i(lexrank-sample)e(-b)j(produced)263
1371 y(corpus_to_cos.pl)c(-c)k(lexrank-sample)d(-b)i(produced)g(\\)412
1471 y(-o)g(lexrank-sample.cos)263 1570 y(cos_to_histograms.pl)d(-i)j
(lexrank-sample.cos)263 1670 y(cos_to_cosplots.pl)d(-i)j
(lexrank-sample.cos)263 1769 y(cos_to_stats.pl)e(--graphs)h(-i)h
(lexrank-sample.cos)e(\\)362 1869 y(-o)j(lexrank-sample.stats)263
1969 y(print_network_stats.pl)45 b(--triangles)j(-i)h
(lexrank-sample-0.26.graph)263 2068 y(stats2matlab.pl)e(-i)i
(lexrank-sample.stats)d(-o)k(lexrank-sample.m)263 2168
y(network_growth.pl)c(-c)k(lexrank-sample)d(-b)i(produced)263
2268 y(stats2matlab.pl)e(-i)i(lexrank-sample.wordmodel.stats)44
b(\\)362 2367 y(-o)50 b(lexrank-sample-wordmodel.m)213
2566 y(#)f(Now)h(make)f(the)g(synthetic)f(collection)263
2766 y(make_synth_collection.pl)d(--policy)j(zipfian)h(--alpha)f(1)i
(-o)f(synth)g(\\)362 2865 y(-d)h(synth_out)e(-c)h(lexrank-sample)e(-b)j
(produced)e(--size)h(11)g(--verbose)263 2965 y
(link_synthetic_collection.pl)44 b(-n)50 b(synth)e(-b)i(produced)e(-c)i
(synth)f(\\)362 3065 y(-d)h(synth_out)e(-l)h(erdos)g(-p)h(0.2)263
3164 y(index_corpus.pl)d(-c)i(synth)g(-b)g(produced)263
3264 y(corpus_to_cos.pl)d(-c)k(synth)f(-b)g(produced)f(-o)i(synth.cos)
263 3364 y(cos_to_histograms.pl)c(-i)j(synth.cos)263
3463 y(cos_to_cosplots.pl)d(-i)j(synth.cos)263 3563 y(cos_to_stats.pl)e
(-i)i(synth.cos)f(-o)i(synth.stats)d(--graphs)i(--all)g(-v)263
3662 y(stats2matlab.pl)e(-i)i(synth.stats)f(-o)h(synth.m)263
3762 y(network_growth.pl)d(-c)k(synth)f(-b)g(produced)263
3862 y(stats2matlab.pl)e(-i)i(synth.wordmodel.stats)d(-o)j
(synth-wordmodel.m)213 4061 y(#)g(If)h(you)f(are)g(on)h(a)f(machine)g
(with)g(MATLAB,)213 4161 y(#)g(run)h(the)f(following)f(to)h(generate)g
(plots:)263 4360 y(mkdir)f(plots)263 4459 y(mv)412 4474
y(*)462 4459 y(.m)h(matlab)263 4559 y(matlab)f(-nojvm)h(-nosplash)f(<)i
(lexrank-sample-cosine-cumulative.m)263 4659 y(matlab)e(-nojvm)h
(-nosplash)f(<)i(lexrank-sample-cosine-hist.m)263 4758
y(matlab)e(-nojvm)h(-nosplash)f(<)i(lexrank-sample-distplots.m)263
4858 y(matlab)e(-nojvm)h(-nosplash)f(<)i(lexrank-sample.m)263
4958 y(matlab)e(-nojvm)h(-nosplash)f(<)i(lexrank-sample-wordmodel.m)263
5057 y(matlab)e(-nojvm)h(-nosplash)f(<)i(synth-cosine-cumulative.m)263
5157 y(matlab)e(-nojvm)h(-nosplash)f(<)i(synth-cosine-hist.m)263
5256 y(matlab)e(-nojvm)h(-nosplash)f(<)i(synth-distplots.m)263
5356 y(matlab)e(-nojvm)h(-nosplash)f(<)i(synth.m)263
5456 y(matlab)e(-nojvm)h(-nosplash)f(<)i(synth-wordmodel.m)p
3476 5494 V 185 5497 3295 4 v 1893 5809 a Fk(27)p eop
end
%%Page: 28 28
TeXDict begin 28 27 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(7.5)99
b(Other)26 b(Useful)f(T)-9 b(ools)60 366 y Fi(7.5.1)81
b(Selecting)20 b(a)g(subset)h(of)f(a)h(cor)o(pus)f(f)n(or)g(pr)o
(ocessing)p 185 450 2946 4 v 185 1254 4 804 v 263 530
a Ff(input:)48 b(existing)h(corpus)263 630 y(output:)f(directory)g
(containing)g(subset)h(of)g(corpus)263 829 y(corpus_to_cluster.pl)d(-c)
j(bulgaria-10)f(-b)h(produced)g(\\)312 929 y(-f)h
('\210https://www.cia.gov/')45 b(\\)312 1029 y(-f)50
b('\210http://en.wikipedia.org/')45 b(-o)k(filtered)263
1128 y(directory_to_corpus.pl)c(-c)50 b(bulgaria-filtered)c(-b)k
(produced)e(\\)362 1228 y(-d)i(filtered)p 3127 1254 V
185 1257 2946 4 v 60 1449 a Fi(7.5.2)81 b(Con)m(v)o(ert)19
b(a)h(netw)o(ork)g(fr)o(om)g(one)g(f)n(ormat)f(to)h(another)p
185 1518 2996 4 v 185 2464 4 947 v 263 1643 a Ff(input:)48
b(gml)i(file)f(\(or)g(pajek)g(file\))263 1742 y(output:)f(edgelist)g
(file)263 1941 y(convert_network.pl)e(-v)j(\\)362 2041
y(-input)g($CLAIRLIB/corpora/david_copperfield)o(/adjn)o(oun.g)o(ml)44
b(\\)362 2141 y(--input-format)j(gml)j(--output)e(./adjnoun.graph)f(\\)
362 2240 y(--output-format)g(edgelist)263 2340 y
(print_network_stats.pl)e(-i)50 b(./adjnoun.graph)d(--undirected)p
3177 2464 V 185 2467 2996 4 v 60 2661 a Fi(7.5.3)81 b(Extract)19
b(ngrams)h(fr)o(om)g(document)g(and)h(cr)o(eate)e(netw)o(ork)p
185 2745 2946 4 v 185 3461 4 716 v 263 2825 a Ff(input:)48
b(document)263 2925 y(output:)g(stats)263 3124 y(extract_ngrams.pl)e
(-r)k("$CLAIRLIB/corpora/1984/1984.txt")43 b(\\)362 3224
y(-f)50 b(text)f(-w)g(1984.2gram)f(-N)i(2)f(-sort)g(-v)263
3323 y(print_network_stats)d(-i)j(1984.2gram)f(-v)i(--all)f(--sample)f
(100)h(\\)362 3423 y(--sample-type)f(forestfire)g(>)h(1984.2gram.stats)
p 3127 3461 V 185 3464 2946 4 v 60 3644 a Fi(7.5.4)81
b(Generate)19 b(statistics)h(f)n(or)g(w)o(ord)g(gr)o(o)o(wth)f(model)i
(fr)o(om)e(a)i(cor)o(pus)p 185 3728 2996 4 v 185 4444
4 716 v 263 3808 a Ff(input:)48 b(indexed)h(corpus)263
3908 y(output:)f(stats)263 4008 y(required:)g(Matlab)263
4207 y(network_growth.pl)e(-c)k(chemical)e(-b)h(produced)263
4307 y(stats2matlab.pl)e(-i)i(chemical.wordmodel.stats)c(-o)50
b(wordmodel.m)263 4406 y(matlab)e(-nojvm)h(-nosplash)f(<)i(wordmodel.m)
p 3177 4444 V 185 4447 2996 4 v 60 4686 a Fj(8)119 b(Modules)60
4889 y Fh(8.1)99 b(Clair::Document)60 5044 y Fk(Clairlib')-5
b(s)22 b(Document)d(class)j(can)e(be)h(used)g(to)g(perform)e(some)i
(basic)g(analysis)g(and)f(perform)f(some)i(calculations)f(on)g(a)i
(single)60 5144 y(document.)185 5243 y(Documents)f(ha)n(v)o(e)i(three)f
(types)h(of)g(v)n(alues:)30 b(`html',)22 b(`te)o(xt',)h(and)f(`stem'.)
33 b(A)24 b(document)d(must)i(be)g(created)f(as)h(one)g(of)g(the)60
5343 y(three)g(types.)33 b(It)24 b(can)f(then)g(be)g(con)m(v)o(erted)d
(from)i(html)h(to)h(te)o(xt)f(and)f(from)g(te)o(xt)h(to)h(stem.)34
b(Performing)21 b(a)j(con)m(v)o(ersion)c(does)j(not)60
5443 y(cause)f(the)f(old)g(information)f(to)h(be)h(lost.)30
b(F)o(or)21 b(e)o(xample,)f(if)i(a)g(document)e(starts)i(as)h(html,)e
(and)g(is)i(con)m(v)o(erted)c(to)j(te)o(xt,)f(the)h(html)60
5542 y(is)f(not)f(for)o(gotten,)d(the)k(document)d(no)n(w)h(holds)h(an)
g(html)g(v)o(ersion)f(and)h(a)g(te)o(xt)g(v)o(ersion)f(of)h(the)g
(original)g(html)g(document.)1893 5809 y(28)p eop end
%%Page: 29 29
TeXDict begin 29 28 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 210 a(Creating)25
b(a)i(ne)n(w)f(document:)36 b(A)27 b(ne)n(w)f(document)f(can)h(be)g
(created)g(either)g(from)f(a)i(string)f(or)g(from)f(a)i(\002le.)44
b(T)-7 b(o)27 b(create)f(a)60 310 y(document)16 b(from)g(a)i(string,)g
(the)f(string)h(parameter)e(should)g(be)i(speci\002ed,)f(while)h(the)g
(\002le)g(parameter)e(should)h(be)g(speci\002ed)g(with)60
409 y(the)j(\002lename)g(to)g(load)g(the)g(document)e(from.)24
b(It)d(is)g(an)f(error)f(if)i(both)e(are)h(speci\002ed.)185
509 y(The)h(initial)h(type)f(of)h(a)g(document)e(must)i(be)f
(speci\002ed.)30 b(This)22 b(is)g(done)f(by)h(setting)f(the)h(type)f
(parameter)g(to)h(`html',)f(`te)o(xt',)60 609 y(or)f(`stem'.)25
b(Additionally)-5 b(,)18 b(an)i(id)h(must)f(be)g(speci\002ed)g(for)g
(the)g(document.)j(Care)e(should)e(be)h(tak)o(en)g(to)h(k)o(eep)f(ids)g
(of)g(documents)60 708 y(unique,)e(as)j(putting)e(documents)g(with)h
(the)h(same)f(id)g(into)g(a)h(Cluster)f(or)g(Netw)o(ork)g(can)g(cause)g
(problems.)185 808 y(Finally)-5 b(,)19 b(the)h(language)f(of)h(the)g
(document)e(may)i(be)g(speci\002ed)g(by)f(passing)h(a)h(v)n(alue)e(as)i
(the)f(language)f(parameter)-5 b(.)p 60 919 3195 4 v
60 1268 4 349 v 88 1044 a Ff(my)50 b($doc)f(=)g(new)h
(Clair::Document\(file)c(=>)j('doc.html',)f(id)h(=>)h('doc1',)1583
1143 y(type)f(=>)g('html'\);)p 3251 1268 V 60 1271 3195
4 v 185 1442 a Fk(Using)28 b(a)g(single)h(Document:)39
b(strip)p 1268 1442 25 4 v 30 w(html)28 b(and)g(stem)g(con)m(v)o(ert)f
(an)h(html)g(v)o(ersion)f(of)h(the)g(document)f(to)h(te)o(xt)g(and)g(a)
h(te)o(xt)60 1542 y(v)o(ersion)19 b(to)h(stem,)h(respecti)n(v)o(ely)-5
b(.)185 1642 y(The)17 b(html,)h(te)o(xt,)h(or)e(stem)i(v)o(ersion)e(of)
h(the)g(document)e(can)i(be)g(retrie)n(v)o(ed)e(using)i(get)p
2614 1642 V 29 w(html,)g(get)p 2937 1642 V 30 w(te)o(xt,)g(and)f(get)p
3370 1642 V 30 w(stem)h(respec-)60 1741 y(ti)n(v)o(ely)-5
b(.)31 b(F)o(or)23 b(these)f(methods)g(and)g(all)h(those)g(used)f(by)g
(document,)f(the)i(programmer)c(is)24 b(e)o(xpected)d(to)i(ensure)f
(that)g(an)o(y)g(time)h(a)60 1841 y(particular)e(type)g(of)h(a)g
(document)e(is)i(used,)g(that)g(type)g(is)g(v)n(alid.)30
b(That)22 b(is,)g(a)h(document)d(that)i(is)g(created)f(as)i(an)f(html)g
(document)60 1940 y(and)h(is)h(ne)n(v)o(er)e(con)m(v)o(erted)e(to)k(a)g
(te)o(xt)f(document)e(should)h(ne)n(v)o(er)g(ha)n(v)o(e)h(get)p
2217 1940 V 29 w(te)o(xt)g(called)g(or)g(sa)n(v)o(e)h(\(described)d
(later\))i(called)g(with)60 2040 y(type)d(speci\002ed)g(as)h(an)o
(ything)d(b)n(ut)i(`html'.)p 60 2151 2149 4 v 60 3596
4 1445 v 88 2276 a Ff(#)50 b(We)f(start)g(off)g(with)g(the)h(html)f
(version)88 2375 y(my)h($html)f(=)g($doc->get_html;)88
2575 y(#)h(But)f(can)g(now)h(get)f(the)g(text)g(version)88
2674 y(my)h($text)f(=)g($doc->strip_html\(\);)88 2774
y(die)g(if)h(\($text)f(ne)g($doc->get_text\);)88 2973
y(#)h(And)f(then)g(the)g(stemmed)g(version)88 3073 y(my)h($stem)f(=)g
($doc->stem\(\);)88 3172 y(die)g(if)h($stem)f(ne)g($doc->get_stem;)88
3372 y(#)h(Note)f(that)g(the)g(html)g(version)g(is)g(unchanged:)88
3471 y(die)g(if)h($html)f(ne)g($doc->get_html;)p 2205
3596 V 60 3599 2149 4 v 185 3770 a Fk(Se)n(v)o(eral)23
b(dif)n(ferent)g(operations)f(can)j(be)f(performed)e(on)h(a)i
(document.)36 b(It)24 b(can)g(be)h(split)f(into)h(lines,)g(sentences,)g
(or)f(w)o(ords)60 3870 y(using)c(split)p 409 3870 25
4 v 30 w(into)p 569 3870 V 29 w(lines,)g(split)p 939
3870 V 30 w(into)p 1099 3870 V 29 w(sentences,)g(and)g(split)p
1772 3870 V 30 w(into)p 1932 3870 V 29 w(w)o(ords)g(which)g(return)f
(an)i(array)e(of)h(the)h(te)o(xt)f(of)g(the)h(document)60
3969 y(separated)f(appropriately)-5 b(.)25 b(split)p
1030 3969 V 30 w(into)p 1190 3969 V 29 w(lines)c(and)g(split)p
1682 3969 V 30 w(into)p 1842 3969 V 29 w(sentences)g(can)g(only)f(be)h
(performed)e(on)i(the)g(te)o(xt)g(v)o(ersion)f(of)h(the)60
4069 y(document,)27 b(b)n(ut)g(split)p 718 4069 V 30
w(into)p 878 4069 V 29 w(w)o(ords)g(can)g(be)g(performed)e(on)h(an)o(y)
h(type)f(of)h(document.)44 b(It)28 b(def)o(aults)f(to)g(te)o(xt,)i(b)n
(ut)e(this)h(can)f(be)60 4169 y(o)o(v)o(erridden)17 b(by)j(specifying)e
(the)j(type)e(parameter)-5 b(.)185 4268 y(A)31 b(document)e(can)i(be)g
(sa)n(v)o(ed)f(to)i(a)f(\002le)h(using)e(the)h(sa)n(v)o(e)g(method.)56
b(The)31 b(method)e(requires)h(the)h(type)g(to)g(be)g(sa)n(v)o(ed)g(be)
60 4368 y(speci\002ed.)185 4468 y(Documents)c(may)i(ha)n(v)o(e)f
(parent)g(documents)g(as)h(well.)52 b(This)29 b(can)g(be)g(used)g(to)g
(track)g(the)g(original)f(source)g(of)h(a)g(docu-)60
4567 y(ment.)55 b(F)o(or)30 b(e)o(xample,)i(a)e(ne)n(w)h(document)d
(could)h(be)i(created)e(for)h(each)g(sentence)g(of)g(an)g(original)g
(document.)53 b(By)31 b(using)60 4667 y(set)p 157 4667
V 30 w(parent)p 396 4667 V 28 w(document)f(and)h(get)p
1038 4667 V 29 w(parent)p 1276 4667 V 28 w(document,)h(each)f(ne)n(w)g
(document)e(can)j(point)e(to)i(the)f(document)e(it)j(w)o(as)g(created)
60 4766 y(from.)60 5004 y Fh(8.2)99 b(Clair::Cluster)60
5160 y Fk(Clairlib)32 b(mak)o(es)g(analyzing)e(relationships)h(be)n
(ween)g(documents)f(v)o(ery)h(simple.)60 b(Generally)-5
b(,)33 b(for)e(simplicity)-5 b(,)34 b(documents)60 5259
y(should)19 b(be)h(loaded)f(as)i(a)g(cluster)m(,)e(then)h(con)m(v)o
(erted)e(to)i(a)h(netw)o(ork,)d(b)n(ut)j(documents)d(can)i(be)g(added)f
(directly)h(to)g(a)h(netw)o(ork.)185 5359 y(Creating)j(a)i(Cluster:)36
b(Documents)24 b(can)h(be)g(added)g(indi)n(vidually)e(or)i(loaded)f
(collecti)n(v)o(ely)g(into)h(a)h(cluster)-5 b(.)40 b(T)-7
b(o)26 b(add)e(doc-)60 5459 y(uments)k(indi)n(vidually)-5
b(,)29 b(the)g(insert)g(function)e(is)j(pro)o(vided,)e(taking)g(the)h
(id)g(and)g(the)g(document,)g(in)g(that)g(order)-5 b(.)50
b(It)30 b(is)g(not)e(a)1893 5809 y(29)p eop end
%%Page: 30 30
TeXDict begin 30 29 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a(requirement)j(that)i(the)g
(id)g(of)g(the)g(document)e(in)i(the)g(cluster)g(match)f(the)h(id)g(of)
g(the)g(document,)f(b)n(ut)h(it)g(is)h(recommended)c(for)60
310 y(simplicity)-5 b(.)185 409 y(Se)n(v)o(eral)24 b(functions)g(are)h
(pro)o(vided)e(to)i(load)g(man)o(y)f(documents)g(quickly)-5
b(.)38 b(load)p 2546 409 25 4 v 29 w(\002le)p 2681 409
V 30 w(list)p 2812 409 V 30 w(array)25 b(adds)g(each)f(\002le)i(from)f
(the)60 509 y(pro)o(vided)e(array)i(as)i(a)f(document)e(and)h(adds)g
(it)i(to)f(the)g(cluster)-5 b(.)42 b(load)p 2135 509
V 28 w(\002le)p 2269 509 V 30 w(list)p 2400 509 V 31
w(from)p 2594 509 V 28 w(\002le)27 b(does)e(the)h(same)g(for)f(a)h
(list)h(of)e(doc-)60 609 y(uments)30 b(that)g(are)g(gi)n(v)o(en)f(in)i
(a)f(pro)o(vided)e(\002le.)56 b(load)p 1650 609 V 29
w(documents)29 b(does)h(the)g(same)g(for)g(each)g(document)e(that)j
(matches)f(the)60 708 y(e)o(xpression)19 b(passed)h(along)f(as)i(a)f
(parameter)-5 b(.)185 808 y(Each)30 b(of)h(these)h(functions)e(must)h
(assign)h(a)f(type)g(to)h(each)f(document)e(created.)58
b(`te)o(xt')30 b(is)i(the)g(def)o(ault,)h(b)n(ut)e(this)h(may)60
908 y(be)f(changed)f(by)h(specifying)f(a)i(type)f(parameter)-5
b(.)57 b(Files)33 b(can)e(be)h(loaded)e(by)h(\002lename)g(or)g(by)g
(`count',)h(an)g(inde)o(x)e(that)i(is)60 1007 y(incremented)16
b(for)i(each)g(\002le.)25 b(Using)19 b(the)f(\002lename)g(is)i(the)e
(def)o(ault,)g(b)n(ut)h(specifying)e(a)h(parameter)f(count)p
3122 1007 V 29 w(id)h(of)h(1)f(changes)g(that.)60 1107
y(T)-7 b(o)24 b(allo)n(w)h(the)f(load)g(functions)e(to)j(be)f(called)g
(repeatedly)-5 b(,)23 b(a)h(start)p 2017 1107 V 30 w(count)g(parameter)
e(may)i(be)g(speci\002ed)g(to)g(ha)n(v)o(e)g(the)g(counts)60
1206 y(started)j(at)g(a)h(higher)e(number)f(\(to)i(a)n(v)n(oid)f
(repeated)g(ids\).)46 b(Each)26 b(load)h(function)e(returns)h(the)h(ne)
o(xt)g(safe)g(count)f(\(note)g(that)h(if)60 1306 y(start)p
208 1306 V 30 w(count)19 b(is)i(not)f(speci\002ed,)g(this)g(is)i(the)e
(number)e(of)i(documents)f(loaded\).)185 1406 y(load)p
334 1406 V 28 w(lines)p 519 1406 V 30 w(from)p 712 1406
V 28 w(\002le)h(loads)g(each)f(line)g(from)g(a)h(\002le)g(as)g(an)f
(indi)n(vidual)f(document)f(and)i(adds)h(it)g(to)f(the)h(cluster)-5
b(.)25 b(It)19 b(beha)n(v)o(es)60 1505 y(v)o(ery)g(similarly)h(to)g
(the)h(other)e(load)h(functions)e(e)o(xcept)i(that)g(ids)h(must)f(be)g
(based)g(on)f(the)i(count.)p 60 1617 3046 4 v 60 2065
4 449 v 88 1741 a Ff(my)50 b($cluster)e(=)i(Clair::Cluster->new\(\);)88
1940 y($cluster->load_documents\("directory/)1888 1955
y(*)1937 1940 y(.txt")o(,)44 b(type)49 b(=>)h('text'\);)p
3102 2065 V 60 2068 3046 4 v 60 2361 a Fi(8.2.1)81 b(W)-6
b(orking)20 b(with)g(Documents)h(Collecti)o(v)o(ely)60
2516 y Fk(The)g(functions)e(strip)p 694 2516 25 4 v 30
w(all)p 807 2516 V 30 w(documents,)g(stem)p 1396 2516
V 30 w(all)p 1509 2516 V 29 w(documents,)h(and)g(sa)n(v)o(e)p
2227 2516 V 30 w(documents)p 2619 2516 V 27 w(to)p 2711
2516 V 30 w(directory)f(act)i(on)g(e)n(v)o(ery)f(document)60
2616 y(in)g(the)h(cluster)m(,)e(stripping)g(the)h(html,)g(stemming)f
(the)i(te)o(xt,)e(or)h(sa)n(ving)g(the)g(documents.)p
60 2727 1601 4 v 60 2976 4 250 v 88 2852 a Ff
($cluster->stem_all_documents\(\);)p 1657 2976 V 60 2979
1601 4 v 60 3272 a Fi(8.2.2)81 b(Analyzing)20 b(a)g(Cluster)60
3428 y Fk(The)j(documents)e(in)i(a)g(cluster)g(can)g(be)g(analyzed)e
(in)i(tw)o(o)h(w)o(ays.)33 b(The)23 b(\002rst)h(is)f(that)g(an)g(IDF)h
(database)e(can)h(be)g(b)n(uilt)g(from)f(the)60 3527
y(documents)d(in)i(the)g(cluster)f(with)h(b)n(uild)p
1236 3527 25 4 v 29 w(idf.)26 b(The)20 b(second)g(is)i(analyzing)d(the)
i(similarity)f(between)g(documents)f(in)i(the)f(cluster)-5
b(.)60 3627 y(First,)24 b(compute)p 550 3627 V 28 w(cosine)p
791 3627 V 29 w(matrix)e(is)i(pro)o(vided)d(which)h(computes)g(the)h
(similarity)g(between)f(e)n(v)o(ery)g(pair)g(of)h(documents)e(in)j(the)
60 3727 y(cluster)-5 b(.)40 b(These)24 b(v)n(alues)h(are)g(returned)e
(in)i(a)h(hash,)f(b)n(ut)g(are)g(also)h(sa)n(v)o(ed)e(with)h(the)g
(cluster)-5 b(.)40 b(compute)p 3077 3727 V 28 w(binary)p
3319 3727 V 28 w(cosine)24 b(returns)60 3826 y(a)j(hash)g(of)g(cosine)g
(v)n(alues)f(that)h(are)g(abo)o(v)o(e)e(the)i(threshold.)44
b(It)28 b(can)e(be)h(pro)o(vided)e(a)i(cosine)g(hash)f(or)h(can)g(use)g
(a)h(pre)n(viously)60 3926 y(computed)22 b(hash)i(stored)f(with)h(the)g
(cluster)-5 b(.)37 b(get)p 1496 3926 V 29 w(lar)o(gest)p
1746 3926 V 29 w(cosine)23 b(returns)g(the)h(lar)o(gest)g(cosine)f(v)n
(alue,)h(and)g(the)g(tw)o(o)g(k)o(e)o(ys)f(that)60 4025
y(produced)18 b(it)j(in)f(a)h(hash.)j(It)d(also)f(can)g(be)g(passed)g
(a)h(cosine)f(hash)g(or)g(can)g(use)g(a)h(hash)f(stored)f(with)i(the)f
(cluster)-5 b(.)p 60 4137 2647 4 v 60 4585 4 449 v 88
4261 a Ff(my)50 b(\045cos_hash)e(=)h
($cluster->compute_cosine_matrix\(\);)88 4461 y(my)h(\045bin_hash)e(=)h
($cluster->compute_binary_cosine\(0.2\);)p 2703 4585
V 60 4588 2647 4 v 60 4897 a Fh(8.3)99 b(Clair::Netw)o(ork)60
5053 y Fi(8.3.1)81 b(Cr)o(eating)19 b(a)h(Netw)o(ork)60
5209 y Fk(There)25 b(are)g(three)g(w)o(ays)h(to)f(create)h(a)g(netw)o
(ork)e(from)g(a)i(cluster)m(,)g(based)f(on)g(what)h(statistics)h(are)e
(desired)g(from)g(the)g(netw)o(ork.)60 5308 y(F)o(or)20
b(statistics)i(based)e(on)g(the)g(similarity)g(relationships,)f(create)
p 1947 5308 25 4 v 29 w(netw)o(ork)g(creates)i(a)f(netw)o(ork)g(based)g
(on)f(a)i(cosine)f(hash.)25 b(An)o(y)60 5408 y(tw)o(o)20
b(documents)d(with)j(a)g(positi)n(v)o(e)f(cosine)g(relationship)f(will)
i(ha)n(v)o(e)f(an)g(edge)g(between)g(them)g(in)g(the)h(netw)o(ork.)j
(Optionally)-5 b(,)18 b(all)1893 5809 y(30)p eop end
%%Page: 31 31
TeXDict begin 31 30 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a(documents)c(can)h(ha)n(v)o
(e)g(an)g(edge)f(by)h(specifying)f(parameter)g(include)p
2079 210 25 4 v 28 w(zeros)h(as)h(1.)24 b(The)17 b(transition)g(v)n
(alues)g(to)g(compute)f(le)o(xrank)60 310 y(are)k(also)h(set,)f
(although)f(the)h(v)n(alues)g(can)g(be)g(sa)n(v)o(ed)g(to)g(a)h(dif)n
(ferent)d(attrib)n(ute)i(name)g(by)f(specifying)g(a)i(property)d
(parameter)-5 b(.)185 409 y(F)o(or)119 b(statistics)h(based)f(on)g
(hyperlink)e(relationship,)143 b(create)p 2536 409 V
29 w(hyperlink)p 2886 409 V 26 w(netw)o(ork)p 3185 409
V 28 w(from)p 3376 409 V 29 w(array)118 b(and)60 509
y(create)p 264 509 V 29 w(hyperlink)p 614 509 V 27 w(netw)o(ork)p
914 509 V 28 w(from)p 1105 509 V 28 w(\002le)27 b(creates)e(a)h(netw)o
(ork)f(with)h(edges)f(between)g(pairs)h(of)f(documents)f(in)i(an)g
(array)f(or)g(on)60 609 y(lines)c(of)e(a)i(\002le,)g(respecti)n(v)o
(ely)-5 b(.)185 708 y(create)p 389 708 V 29 w(sentence)p
705 708 V 28 w(based)p 923 708 V 29 w(netw)o(ork)20 b(creates)i(a)g
(netw)o(ork)e(with)h(a)h(node)e(for)h(e)n(v)o(ery)f(sentence)h(in)g(e)n
(v)o(ery)f(document.)27 b(The)21 b(co-)60 808 y(sine)h(between)f(each)g
(sentence)g(is)i(then)e(computed)f(and,)h(if)h(a)g(threshold)e(is)j
(speci\002ed,)e(the)h(binary)f(cosine)g(is)i(computed.)k(The)60
908 y(edges)20 b(are)g(created)f(based)h(on)g(the)g(similarity)g(v)n
(alues)g(as)h(with)f(create)p 2120 908 V 29 w(netw)o(ork.)p
60 1019 3394 4 v 60 1268 4 250 v 88 1143 a Ff(my)50 b($network)e(=)i
($cluster->create_network\(cosine_m)o(atrix)43 b(=>)50
b(\045bin_hash\);)p 3451 1268 V 60 1271 3394 4 v 60 1564
a Fi(8.3.2)81 b(Importing)20 b(a)g(Netw)o(ork)60 1719
y Fk(Netw)o(orks)26 b(can)h(also)g(be)g(read)f(in)h(from)f(v)n(arious)g
(cross-platform)e(graph)i(formats.)44 b(Currently)-5
b(,)27 b(the)f(follo)n(wing)g(formats)g(are)60 1819 y(supported:)185
2002 y Fg(\017)41 b Fk(Edgelist)185 2168 y Fg(\017)g
Fk(GraphML)185 2334 y Fg(\017)g Fk(P)o(ajek)185 2516
y(T)-7 b(o)20 b(read)g(in)g(a)h(netw)o(ork,)e(create)h(a)g(Clair::Netw)
o(ork::Reader)f(object)h(of)g(the)g(appropiate)f(type)g(and)h(call)h
(the)f(read)p 3515 2516 25 4 v 29 w(netw)o(ork)60 2616
y(method)f(with)h(a)h(\002lename.)j(A)d(ne)n(w)f(Clair::Netw)o(ork)g
(object)f(will)i(be)f(returned.)185 2716 y(Example)e(of)i(reading)f(a)i
(P)o(ajek)f(\002le:)p 60 2827 2548 4 v 60 3375 4 548
v 88 2951 a Ff(use)49 b(Clair::Network::Reader::Pajek;)88
3151 y(my)h($reader)e(=)i(Clair::Network::Reader::Pajek->new)o(\(\);)88
3250 y(my)g($net)f(=)g($reader->read_network\("example.net"\);)p
2604 3375 V 60 3378 2548 4 v 60 3571 a Fi(8.3.3)81 b(Exporting)20
b(a)g(Netw)o(ork)60 3727 y Fk(Y)-9 b(ou)20 b(can)g(also)g(e)o(xport)f
(a)h(Netw)o(ork)g(to)g(an)o(y)f(of)h(the)h(abo)o(v)o(e)d(formats)i
(with)g(the)g(Writer)h(classes.)185 3826 y(Example)d(of)i(writing)g(a)h
(P)o(ajek)f(format)f(netw)o(ork:)p 60 3937 V 60 4585
4 648 v 88 4062 a Ff(use)49 b(Clair::Network::Writer::Pajek;)88
4261 y(my)h($export)e(=)i(Clair::Network::Writer::Pajek->new)o(\(\);)88
4361 y($export->set_name\("networkname"\);)88 4461 y
($export->write_nework\($net,)45 b("example.net"\);)p
2604 4585 V 60 4588 2548 4 v 60 4781 a Fi(8.3.4)81 b(Analyzing)20
b(a)g(Netw)o(ork)60 4937 y Fk(Once)j(a)g(netw)o(ork)f(has)h(been)g
(created,)f(much)g(more)h(analysis)g(is)h(possible.)33
b(Basic)24 b(statistics)h(lik)o(e)e(the)g(number)e(of)i(nodes)f(and)60
5036 y(edges)28 b(are)g(a)n(v)n(ailable)f(from)g(num)p
1076 5036 25 4 v 29 w(nodes)g(and)g(num)p 1624 5036 V
29 w(links.)48 b(The)28 b(a)n(v)o(erage)f(and)g(maximum)f(diameters)i
(can)g(be)g(ascertained)60 5136 y(from)19 b(diameter)m(,)g(specifying)g
(either)h(a)h(max)f(parameter)f(as)i(1)g(or)f(an)g(a)n(vg)g(parameter)f
(as)i(1)g(\(max)e(is)j(the)e(def)o(ault\).)25 b(The)20
b(a)n(v)o(erage)60 5236 y(in)f(de)o(gree,)e(out)h(de)o(gree,)f(and)h
(total)h(de)o(gree)e(can)h(be)g(computed)f(with)h(a)n(vg)p
2202 5236 V 30 w(in)p 2297 5236 V 29 w(de)o(gree,)f(a)n(vg)p
2705 5236 V 29 w(out)p 2841 5236 V 29 w(de)o(gree,)g(and)h(a)n(vg)p
3388 5236 V 29 w(total)p 3565 5236 V 30 w(de)o(gree)60
5335 y(respecti)n(v)o(ely)-5 b(.)185 5435 y Fi(Shortest)19
b(P)o(ath)h(Length)1893 5809 y Fk(31)p eop end
%%Page: 32 32
TeXDict begin 32 31 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 210 a(Clairlib)j(can)f(compute)f
(the)i(shortest)f(path)h(between)f(all)h(pairs)f(of)h(v)o(ertices.)32
b(It)23 b(returns)f(the)g(results)h(as)h(a)f(hash)f(of)h(hashes)60
310 y(of)d(the)g(shortest)g(path)g(matrix.)p 60 421 2498
4 v 60 969 4 548 v 88 546 a Ff(use)49 b(Clair::Network;)88
745 y(my)h($net)f(=)g(new)h(Clair::Network\(\);)88 844
y(my)g($sp_matrix)e(=)h($net->get_shortest_path_matrix\(\);)p
2554 969 V 60 972 2498 4 v 185 1143 a Fi(A)-8 b(v)o(erage)18
b(Shortest)i(P)o(ath)g(Length)185 1243 y Fk(Clairlib)c(can)h(compute)d
(the)j(a)n(v)o(erage)e(shortest)i(path)f(length)f(between)h(all)h
(pairs)f(of)g(v)o(ertices.)24 b(See)17 b(the)f(e)o(xamples)f(for)h
(usage.)185 1343 y Fi(Clustering)k(Coef\002cient)185
1442 y Fk(Clairlib)h(supports)e(tw)o(o)i(clustering)f(coef)n(\002cient)
g(functions.)25 b(The)20 b(W)-7 b(atts-Strogatz)20 b(clustering)g(coef)
n(\002cient)g(and)g(the)h(Ne)n(w-)60 1542 y(man)f(clustering)f(coef)n
(\002cient.)185 1642 y Fi(Assortati)o(vity)185 1741 y
Fk(Clairlib)j(can)g(compute)f(de)o(gree)g(assortati)n(vity)-5
b(.)30 b(It)22 b(returns)f(a)i(global)e(measure)h(of)g(netw)o(ork)f
(assortati)n(vity)-5 b(,)21 b(the)h(de)o(gree)f(as-)60
1841 y(sortati)n(vity)e(coef)n(\002cient.)p 60 1952 2896
4 v 60 2201 4 250 v 88 2077 a Ff(my)50 b($sp_matrix)e(=)h
($net->degree_assortativity_coefficien)o(t\(\);)p 2952
2201 V 60 2204 2896 4 v 185 2375 a Fi(Centrality)185
2475 y Fk(Clairlib)16 b(supports)g(se)n(v)o(eral)g(netw)o(ork)f
(centrality)h(measures.)23 b(These)16 b(measures)h(assign)f(a)h(v)n
(alue)f(to)h(each)f(v)o(erte)o(x)f(depending)60 2575
y(on)20 b(ho)n(w)f(\223central\224)h(that)g(v)o(erte)o(x)f(is.)185
2674 y(The)e(Centrality)g(modules)f(are)h(in)h(namespace)e(Clair::Netw)
o(ork::Centrality)-5 b(.)22 b(Each)17 b(module)f(has)i(tw)o(o)f
(centrality)g(member)60 2774 y(functions,)24 b(which)g(both)f(return)g
(a)i(hash)f(of)g(v)o(ertices)g(and)g(their)g(corresponding)d
(centrality)-5 b(.)36 b(The)24 b(\002rst)h(function)e(returns)h(the)60
2874 y(base)c(centrality)g(measure.)k(The)c(second)f(returns)g(a)i
(centrality)e(normalized)f(to)j(between)e(0)h(and)g(1.)185
2973 y Fi(Degr)o(ee)f(Centrality)185 3073 y Fk(Ranking)26
b(each)i(v)o(erte)o(x)f(by)g(v)o(erte)o(x)g(de)o(gree)g(is)i(the)f
(simplest)g(measure)f(of)h(netw)o(ork)f(centrality)-5
b(.)47 b(This)28 b(is)h(called)f(de)o(gree)60 3172 y(centrality)-5
b(.)37 b(F)o(or)24 b(undirected)e(netw)o(orks,)i(it)i(is)f(simply)f
(the)h(de)o(gree)e(of)h(each)g(v)o(erte)o(x.)36 b(F)o(or)24
b(directed)g(netw)o(orks,)g(it)h(is)h(the)e(total)60
3272 y(de)o(gree)19 b(di)n(vided)g(by)g(tw)o(o.)185 3372
y Fi(Closeness)i(Centrality)185 3471 y Fk(Closeness)i(centrality)f
(measures)g(ho)n(w)g(close)h(each)f(v)o(erte)o(x)g(is)h(to)g(the)g
(other)f(v)o(ertices.)32 b(This)23 b(is)g(found)e(by)h(measuring)g(the)
60 3571 y(length)f(from)g(the)g(tar)o(get)g(v)o(erte)o(x)g(to)h(e)n(v)o
(ery)e(other)h(reachable)f(v)o(erte)o(x)h(along)g(the)g(shortest)h
(path.)29 b(The)22 b(reciprocal)e(of)i(this)g(is)h(the)60
3671 y(closeness)d(centrality)-5 b(.)185 3770 y Fi(Betweenness)21
b(Centrality)185 3870 y Fk(Betweenness)29 b(centrality)g(measures)g(ho)
n(w)g(man)o(y)g(shortest)g(paths)h(the)f(tar)o(get)g(v)o(erte)o(x)f(is)
j(between.)52 b(The)29 b(betweenness)60 3969 y(inde)o(x)20
b(is)i(the)f(sum)h(of)f(the)g(number)e(of)i(shortest)g(paths)g(between)
g(tw)o(o)g(actors)g(through)e(the)j(tar)o(get)e(actor)m(,)h(di)n(vided)
e(by)i(the)g(total)60 4069 y(number)d(of)i(shortest)g(paths)g(between)g
(the)g(tw)o(o)g(actors.)185 4169 y Fi(LexRank)g(Centrality)185
4268 y Fk(T)-7 b(o)85 b(compute)f(the)h(le)o(xrank)f(from)g(a)i(netw)o
(ork)e(b)n(uilt)i(from)e(a)i(cluster)f(using)g(create)p
3360 4268 25 4 v 29 w(netw)o(ork)f(or)60 4368 y(create)p
264 4368 V 29 w(sentence)p 580 4368 V 29 w(based)p 799
4368 V 29 w(netw)o(ork,)31 b(compute)p 1441 4368 V 27
w(le)o(xrank)e(is)h(pro)o(vided.)52 b(Initial)29 b(v)n(alues)h(or)f
(bias)i(v)n(alues)e(can)h(also)g(be)g(loaded)60 4468
y(from)24 b(a)i(\002le)g(using)e(read)p 796 4468 V 29
w(le)o(xrank)p 1075 4468 V 28 w(initial)p 1297 4468 V
29 w(distrib)n(ution)g(and)h(read)p 2023 4468 V 29 w(le)o(xrank)p
2302 4468 V 27 w(bias)h(\(the)f(def)o(ault)f(for)h(both)f(is)i
(uniform\).)38 b(If)25 b(the)60 4567 y(netw)o(ork)16
b(w)o(as)h(not)g(created)f(from)g(a)h(cluster)g(appropriately)d(\(or)i
(to)h(change)e(the)i(v)n(alues\),)g(transition)f(v)n(alues)g(can)h
(also)g(be)g(loaded)60 4667 y(from)i(a)i(\002le)g(using)e(read)p
776 4667 V 29 w(le)o(xrank)p 1055 4667 V 28 w(probabilities)p
1500 4667 V 28 w(from)p 1691 4667 V 28 w(\002le.)p 60
4778 2199 4 v 60 5027 4 250 v 88 4903 a Ff(my)50 b(\045lex_hash)e(=)h
($network->compute_lexrank\(\);)p 2255 5027 V 60 5030
2199 4 v 185 5201 a Fi(P)o(ageRank)19 b(Centrality)185
5301 y Fk(Similarly)-5 b(,)20 b(the)i(pagerank)d(can)i(be)g(computed)f
(with)h(compute)p 2030 5301 25 4 v 28 w(pagerank.)26
b(T)m(ransition)21 b(v)n(alues)g(are)g(already)f(set)i(for)f(a)h(net-)
60 5401 y(w)o(ork)52 b(created)f(with)i(one)e(of)h(the)h(create)p
1429 5401 V 29 w(hyperlink)p 1779 5401 V 26 w(netw)o(ork)e(functions,)
59 b(b)n(ut)52 b(can)g(be)h(read)e(from)g(a)i(\002le)g(using)1893
5809 y(32)p eop end
%%Page: 33 33
TeXDict begin 33 32 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a(read)p 209
210 25 4 v 29 w(pagerank)p 545 210 V 27 w(probabilities)p
989 210 V 28 w(from)p 1180 210 V 28 w(\002le)k(otherwise.)31
b(Initial)23 b(distrib)n(ution)e(and)i(personalization)d(v)n(alues)i
(can)h(be)f(read)h(from)60 310 y(\002les)e(using)f(read)p
569 310 V 29 w(pagerank)p 905 310 V 27 w(initial)p 1126
310 V 29 w(distrib)n(ution)f(and)h(read)p 1842 310 V
29 w(pagerank)p 2178 310 V 27 w(personalization.)185
409 y(The)25 b(results)i(of)f(these)g(computations)e(are)i(returned)e
(by)i(compute)p 2185 409 V 28 w(le)o(xrank)e(and)i(compute)p
2922 409 V 28 w(pagerank,)f(b)n(ut)h(can)g(also)h(be)60
509 y(sa)n(v)o(ed)103 b(to)g(a)h(\002le)g(using)f(sa)n(v)o(e)p
1303 509 V 29 w(current)p 1569 509 V 28 w(le)o(xrank)p
1847 509 V 28 w(distrib)n(ution)f(or)h(printed)f(to)h(standard)f(out)h
(using)60 609 y(print)p 223 609 V 29 w(current)p 489
609 V 28 w(le)o(xrank)p 767 609 V 27 w(distrib)n(ution)215
b(\(for)g(pagerank,)263 b(sa)n(v)o(e)p 2469 609 V 29
w(current)p 2735 609 V 28 w(pagerank)p 3070 609 V 27
w(distrib)n(ution)215 b(and)60 708 y(print)p 223 708
V 29 w(current)p 489 708 V 28 w(pagerank)p 824 708 V
27 w(distrib)n(ution,)19 b(respecti)n(v)o(ely\).)p 60
820 2797 4 v 60 1168 4 349 v 88 944 a Ff
($network->print_current_lexrank_distr)o(ibuti)o(on\(\);)88
1044 y($network->save_current_lexrank_distri)o(butio)o(n\('le)o(x_out')
o(\);)p 2853 1168 V 60 1171 2797 4 v 185 1343 a Fi(Community)h
(\002nding)h(using)g(Gir)o(v)o(an/Newman)e(algorithm)185
1442 y Fk(Girv)n(an/Ne)n(wman)e(algorithm)i(will)i(perform)d
(hierarchical)h(clustering)g(on)h(netw)o(ork)f(data)185
1542 y(T)-7 b(o)20 b(do)g(the)g(clustering,)f(\002rst)i(load)e(a)i
(netw)o(ork)e(object)h(deri)n(v)o(ed)e(from)h(Clair)37
b(Netw)o(ork.)p 60 1653 2548 4 v 60 1968 4 315 v 88 1733
a Ff(use)49 b(Clair::Network::GirvanNewman;)88 1932 y($KL)g(=)h
(Clair::Network::GirvanNewman->new\($n)o(etwor)o(k\);)p
2604 1968 V 60 1971 2548 4 v 60 2132 a Fk(then)20 b(call:)p
60 2243 2199 4 v 60 2492 4 250 v 88 2367 a Ff($graphPartition)47
b(=)j($KL->generatePartition\(\);)p 2255 2492 V 60 2495
2199 4 v 60 2666 a Fk(The)29 b(result)g(will)h(be)f(stored)f(in)i(a)f
(hash,)i(where)e(the)g(k)o(e)o(y)f(is)i(the)g(node)e(id)h(and)f(the)i
(v)n(alue)e(is)i(the)f(cluster)g(it)h(belongs)e(to)h(T)-7
b(o)60 2766 y(use)20 b(the)h(v)n(alue,)e(call:)p 60 2885
1800 4 v 60 3003 4 118 v 88 2965 a Ff($str)49 b(=)h
($$graphPartition->{$nodeID};)p 1857 3003 V 60 3006 1800
4 v 60 3164 a Fk(the)30 b(cluster)f(is)i(in)f(the)g(format)e(of)i
(0\2271\2272\227...)52 b(the)30 b(number)e(between)h(\223\227\224)h(is)
h(the)e(cluster)h(it)g(belongs)f(to)h(at)g(dif)n(ferent)60
3264 y(le)n(v)o(el)d(of)h(the)f(hierarchy)-5 b(.)45 b(F)o(or)27
b(e)o(xample,)h(to)g(return)f(the)g(partition)g($node1)f(belongs)g(to)i
(when)f(partition)g(the)g(netw)o(ork)g(into)60 3364 y(2.call:)p
60 3475 1203 4 v 60 3700 4 225 v 88 3562 a Ff(@p)50 b(=)f
(split\(/\\|/,)f($str\);)88 3662 y(return)h($p[1];)p
1259 3700 V 60 3703 1203 4 v 185 3861 a Fi(Community)20
b(\002nding)h(using)g(K)n(er)o(nighanLin)f(algorithm)185
3961 y Fk(K)n(ernighanLin)f(algorithm)i(will)j(di)n(vide)d(a)i
(undirected)e(weighted)g(graph)g(into)i(tw)o(o)f(partitions)g(such)h
(that)f(the)h(sum)f(of)h(the)60 4060 y(weight)d(of)g(edges)f(between)h
(the)g(tw)o(o)g(is)i(the)e(minimum)f(\(min)g(cut\).)185
4160 y(T)-7 b(o)20 b(do)g(the)g(partition,)f(\002rst)i(load)e(a)i(netw)
o(ork)e(object)h(deri)n(v)o(ed)e(from)h(Clair)37 b(Netw)o(ork.)p
60 4271 2548 4 v 60 4588 4 318 v 88 4351 a Ff(use)49
b(Clair::Network::KernighanLin;)88 4550 y($KL)g(=)h
(Clair::Network::KernighanLin->new\($n)o(etwor)o(k\);)p
2604 4588 V 60 4591 2548 4 v 60 4750 a Fk(then)20 b(call:)p
60 4861 2199 4 v 60 5110 4 250 v 88 4985 a Ff($graphPartition)47
b(=)j($KL->generatePartition\(\);)p 2255 5110 V 60 5113
2199 4 v 60 5284 a Fk(The)27 b(result)g(will)h(be)g(stored)f(in)g(a)h
(hash,)g(where)f(the)h(k)o(e)o(y)e(is)j(the)e(node)f(id)i(and)e(the)i
(v)n(alue)e(is)j(the)e(partition)f(\(0/1\))h(it)h(belongs)60
5384 y(to)20 b(T)-7 b(o)21 b(use)f(the)g(v)n(alue,)g(call:)1893
5809 y(33)p eop end
%%Page: 34 34
TeXDict begin 34 33 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 1452 4 v 60
248 4 118 v 88 210 a Ff($$graphPartition->{$nodeID};)p
1508 248 V 60 251 1452 4 v 185 410 a Fi(Adamic/Adar)g(V)-8
b(alue)185 509 y Fk(Adamic/Adar)16 b(v)n(alue)i(computes)f(the)h
(similarity)g(of)g(an)o(y)g(tw)o(o)g(nodes)g(in)g(a)h(netw)o(ork.T)-7
b(o)16 b(compute)h(the)h(adamic/adar)e(v)n(alue,)60 609
y(you)j(need)h(to)g(preprocess)f(the)h(corpus)f(to)i(get)f(the)g
(attrib)n(ute)g(you)f(w)o(ant.)25 b(The)20 b(format)f(should)g(be:)p
60 720 555 4 v 60 1169 4 449 v 88 845 a Ff(attribute1)88
944 y(attribute2)88 1044 y(...)p 611 1169 V 60 1172 555
4 v 60 1343 a Fk(put)h(all)h(the)f(\002les)h(into)f(one)g(empty)f
(folder)m(,)f(and)i(call:)p 60 1454 2049 4 v 60 2002
4 548 v 88 1579 a Ff(use)49 b(Clair::Network::AdamicAdar;)88
1778 y($aa)g(=)h(Clair::Network::AdamicAdar->new\(\);)88
1878 y($results)f(=)g($aa->readCorpus\($folderName\);)p
2106 2002 V 60 2005 2049 4 v 60 2176 a Fk(The)20 b(result)g(will)h(be)f
(stored)g(in)g(a)h(tw)o(o-dimensional)d(hash.)24 b(T)-7
b(o)21 b(use)f(the)g(v)n(alue,)g(call:)p 60 2296 1502
4 v 60 2411 4 116 v 88 2376 a Ff($results->{$node1}->{$node2};)p
1558 2411 V 60 2414 1502 4 v 185 2575 a Fk(Note:)25 b(In)20
b(order)f(to)h(sa)n(v)o(e)g(the)h(memory)-5 b(,)17 b(the)k(results)f
(only)f(sa)n(v)o(ed)h(for)g(e)n(v)o(ery)f(one)g(pair)h(of)g(v)n(alue)g
(in)g(ascend)g(orde.)185 2675 y(Man)o(y)26 b(other)g(netw)o(ork)g
(based)g(statistics)j(can)e(be)g(computed.)43 b(F)o(or)27
b(e)o(xamples)f(of)h(what)g(can)f(be)h(computed,)g(please)g(see)60
2774 y(test)p 180 2774 25 4 v 30 w(netw)o(ork)p 483 2774
V 28 w(stat.pl)21 b(in)f(the)g(test)h(directory)-5 b(.)60
2995 y Fi(8.3.5)81 b(Netw)o(ork)20 b(Generation)60 3151
y Fk(Random)27 b(netw)o(orks)g(can)g(also)h(be)g(generated)e(with)i
(the)g(Clair::Netw)o(ork::Generator)e(package.)46 b(Currently)-5
b(,)28 b(this)g(includes)60 3251 y(generation)18 b(of)i(Erd)7
b(\005)-35 b(os-R)5 b(\264)-33 b(en)o(yi)18 b(random)h(graphs.)185
3350 y Fi(Clair::Netw)o(ork::Generator::ErdosRenyi)185
3450 y Fk(T)-7 b(w)o(o)28 b(models)f(of)h(Erd)7 b(\005)-35
b(os-R)5 b(\264)-33 b(en)o(yi)26 b(random)g(netw)o(orks)i(can)f(be)h
(generated.)47 b(One)28 b(includes)f(a)i(set)g(number)d(of)i(nodes)f
(and)60 3549 y(edges.)d(The)c(other)e(type)h(includes)g(a)h(set)h
(number)c(of)j(nodes)f(with)g(an)h(edge)f(e)o(xisting)f(between)h(tw)o
(o)h(nodes)f(with)h(a)g(probability)60 3649 y Fd(p)p
Fk(.)185 3749 y(Example:)p 60 3860 3594 4 v 60 4408 4
548 v 88 3984 a Ff(use)49 b(Clair::Network::Generator::ErdosRenyi;)88
4084 y(my)h($generator)e(=)h(Clair::Network::Generator::ErdosRenyi)o
(->new)o(\(\);)88 4184 y(my)h($set_edges)e(=)h
($generator->generate\(10,)d(20,)j(type)g(=>)g("gnm"\);)88
4283 y(my)h($random_number_edges)c(=)j($generator->generate\(10,)d
(0.2,)j(type)g(=>)g("gnp"\);)p 3650 4408 V 60 4411 3594
4 v 60 4604 a Fi(8.3.6)81 b(Netw)o(ork)20 b(Sampling)60
4760 y Fk(Sometimes)j(a)g(netw)o(ork)f(may)h(be)g(too)g(lar)o(ge)f(to)i
(process)f(in)g(its)h(entirety)-5 b(.)33 b(Sampling)22
b(can)h(be)g(used)g(to)h(e)o(xtract)e(a)i(representi)n(v)o(e)60
4859 y(subset)k(of)f(the)h(netw)o(ork)e(for)h(analysis.)47
b(Dif)n(ferent)27 b(methods)f(preserv)o(e)g(dif)n(ferent)g(netw)o(ork)h
(properties.)45 b(Clairlib)28 b(pro)o(vides)60 4959 y(se)n(v)o(eral)20
b(netw)o(ork)f(sampling)g(algorithms.)185 5142 y Fg(\017)41
b Fk(Clair::Netw)o(ork::Sample::RandomNode)268 5274 y(Random)24
b(node)h(sampling)f(simply)i(chooses)f(a)h(number)e(of)h(nodes)g(from)g
(the)g(original)g(graph,)g(choosing)f(nodes)h(uni-)268
5374 y(formly)d(at)j(random.)35 b(If)24 b(there)g(is)h(an)f(edge)f
(between)g(tw)o(o)i(nodes)e(that)h(ha)n(v)o(e)g(been)f(selected)i(in)f
(the)g(original)f(netw)o(ork,)268 5474 y(that)d(edge)f(will)i(be)f
(included)f(in)h(the)h(sampled)e(netw)o(ork.)1893 5809
y(34)p eop end
%%Page: 35 35
TeXDict begin 35 34 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 210 a Fg(\017)41
b Fk(Clair::Netw)o(ork::Sample::RandomEdge)268 343 y(Random)21
b(edge)h(sampling)g(chooses)g(edges)h(randomly)d(from)i(the)h(original)
e(netw)o(ork,)h(and)h(includes)f(the)g(tw)o(o)i(incident)268
442 y(nodes.)185 608 y Fg(\017)41 b Fk(Clair::Netw)o(ork::Sample::F)o
(orestFire)268 740 y(F)o(orestFire)28 b(sampling)f(chooses)h(an)g
(initial)h(random)d(node,)j(and)f(performs)f(a)h(probabilistic)f
(recursi)n(v)o(e)g(breadth-\002rst)268 840 y(search)19
b(from)g(that)i(initial)f(node.)k(If)c(the)g(\224\002re\224)h(dies)f
(out,)g(it)h(will)g(restart)f(at)g(another)f(random)g(node.)185
1021 y(Example:)p 60 1132 2846 4 v 60 1779 4 648 v 88
1256 a Ff(use)49 b(Clair::Network::Sample::ForestFire;)88
1456 y(my)h($fire)f(=)g(new)g(Clair::Network::Sample::ForestFire\($ne)o
(t\);)88 1555 y(print)g("Sampling)f(3)i(nodes)f(using)g(Forest)f(Fire)h
(model\\n";)88 1655 y($new_net)g(=)g($fire->sample\(3,)e(0.9\);)p
2903 1779 V 60 1782 2846 4 v 60 1992 a Fh(8.4)99 b(Clair::Statistics)60
2147 y Fk(Clairlib)29 b(pro)o(vides)d(se)n(v)o(eral)i(statistical)h
(tools)g(for)e(analyzing)g(and)h(generating)e(distrib)n(utions.)49
b(Ne)n(w)28 b(distrib)n(utions)g(include)60 2247 y(Geometric,)i
(Gaussian,)g(LogNormal,)f(Zip\002an)f(and)g(students)h(T)-8
b(-distrib)n(ution.)49 b(There)28 b(is)h(also)g(e)o(xperimental)e
(support)g(for)60 2347 y(statistical)d(inference.)29
b(These)22 b(distrib)n(ution)g(and)f(test)i(modules)f(are)g(included)f
(under)g(the)h(Clair::Statistics)i(namespace.)30 b(See)60
2446 y(the)20 b(test)p 302 2446 25 4 v 30 w(statistics.pl)i(recipe)d
(for)h(more)f(information.)k(The)c(older)h(Clair::Gen)g(will)h(be)f
(folded)f(into)h(this)h(in)f(the)g(ne)o(xt)g(release.)60
2684 y Fh(8.5)99 b(Clair::Gen)60 2839 y Fk(Clair::Gen)30
b(is)h(for)e(use)h(when)g(w)o(orking)e(with)i(distrib)n(utions.)54
b(It)30 b(can)g(produce)e(e)o(xpected)g(Po)n(wer)h(La)o(w)h(and)g
(Poisson)f(dis-)60 2939 y(trib)n(utions,)f(or)e(analyze)g(observ)o(ed)f
(distrib)n(utions.)44 b(The)27 b(read)p 1916 2939 V 29
w(from)p 2108 2939 V 28 w(\002le)h(method)d(reads)i(an)g(observ)o(ed)e
(distrib)n(ution)g(from)h(a)60 3039 y(\002le.)185 3138
y(The)g(plEstimate)g(function)f(accepts)h(a)h(distrib)n(ution)f(as)h
(input)f(and)g(produces)f(the)i(best-\002tting)g Fc(^)-44
b Fd(c)28 b Fk(and)34 b Fc(^)-50 b Fd(\013)27 b Fk(v)n(alues.)44
b(genPl)60 3238 y(does)20 b(the)g(opposite\226using)f
Fc(^)-43 b Fd(c)20 b Fk(and)28 b Fc(^)-50 b Fd(\013)21
b Fk(as)g(input,)e(it)i(produces)e(the)h(e)o(xpected)e(distrib)n
(ution.)185 3337 y(F)o(or)g(Poisson)g(distrib)n(utions,)f(poisEstimate)
h(and)g(genPois)g(are)g(pro)o(vided)e(which)i(mirror)f(the)h
(functionality)f(of)h(plEstimate)60 3437 y(and)i(genPl.)k(plEstimate)c
(is)h(currently)e(just)h(a)h(stub)f(function,)e(ho)n(we)n(v)o(er)-5
b(.)185 3537 y(T)e(o)18 b(compare)e(estimated)i(and)g(actual)f(distrib)
n(utions,)h(compareChiSquare)d(is)k(included)d(in)i(the)g(package.)23
b(This)18 b(returns)g(the)60 3636 y(number)g(of)i(de)o(grees)f(of)h
(freedom)f(and)g(the)h(p-v)n(alue.)p 60 3748 3245 4 v
60 4794 4 1047 v 88 3872 a Ff(my)50 b($g)f(=)h(new)f(Clair::Gen;)88
4071 y($g->read_from_file\("trial1.dist"\);)88 4171 y(my)h(@observed)e
(=)h($g->distribution;)88 4370 y(my)h(\($c_hat,)e($alpha_hat\))g(=)h
(g->plEstimate\(\\@observed\);)88 4470 y(my)h(@expected)e(=)h
(g->genPL\($c_hat,)e($alpha_hat\);)88 4669 y(my)j(\($df,)f($pv\))g(=)g
($g->compareChiSquare\(\\@observed,)44 b(\\@expected,)k(2\);)p
3301 4794 V 60 4797 3245 4 v 60 5106 a Fh(8.6)99 b
(Clair::ChisqIndependent)60 5261 y Fk(Clair::ChisqIndependent)12
b(is)k(for)f(Gen)g(to)g(produce)e(the)j(Chi)f(square)g(for)f(gi)n(v)o
(en)g(data.)24 b(It')-5 b(s)15 b(subclassed)g(from)f
(Statistics::ChisqIndep,)60 5361 y(and)20 b(add)f(one)h(more)f(method:)
24 b(recompute)p 1329 5361 25 4 v 27 w(chisq)c(to)h(compute)e(the)h
(p-v)n(alue)e(of)i(the)h(data)f(when)f(de)o(gree)g(of)h(freedom)e
(changes)185 5461 y(The)i(recompute)p 693 5461 V 27 w(chisq)h(function)
e(accepts)i(the)g(modi\002ed)e(de)o(gree)h(of)g(freedom)g(as)h(input)f
(and)g(produces)g(the)g(correspond-)60 5560 y(ing)g(p-v)n(alue.)1893
5809 y(35)p eop end
%%Page: 36 36
TeXDict begin 36 35 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 222 2099 4 v 60
1082 4 860 v 88 346 a Ff(my)50 b($chi)f(=)g(new)h
(Clair::ChisqIndependent;)88 446 y(my)g(@chi_array)e(=)h
(\(\\@observed,)f(\\@expected\);)88 645 y
($chi->load_data\(\\@chi_array\);)88 745 y($chi->{df})g(-=)i
($extra_df;)88 844 y($chi->recompute_chisq\(\);)88 1044
y(return)f(\($chi->{df},)e($chi->{p_value}\);)p 2155
1082 V 60 1085 2099 4 v 60 1381 a Fh(8.7)99 b(Clair::LM)60
1537 y Fk(Clair::LM)25 b(pro)o(vides)f(functionality)f(for)i(the)g(e)o
(xtraction)e(of)i(N-grams)g(from)f(te)o(xt)h(and)f(HTML)h(documents.)39
b(The)24 b(resulting)60 1636 y(N-gram)19 b(dictionary)f(can)h
(optionally)f(be)i(pruned)e(of)i(lo)n(w-frequenc)o(y)c(N-grams)j
(before)f(being)h(written)h(to)g(a)g(human-readable)60
1736 y(te)o(xt)g(\002le)h(and/or)e(serialized)h(to)g(a)h(netw)o
(ork-ordered)16 b(Storable)j(\002le.)1893 5809 y(36)p
eop end
%%Page: 37 37
TeXDict begin 37 36 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3992 4 v 60
4719 4 4589 v 88 210 a Ff(use)49 b(Clair::Cluster)88
310 y(use)g(Clair::Utils::Ngram)e(qw\(load_ngramdict)88
410 y(dump_ngramdict)88 509 y(extract_ngrams)88 609 y
(write_ngram_counts)88 709 y(enforce_count_thresholds\);)88
908 y(#)j(Read)f(in)g(documents)88 1007 y(my)h($r_cluster)e(=)h
(Clair::Cluster->new;)88 1107 y($r_cluster->load_documents\(")1488
1122 y(*)1538 1107 y(.html",)88 1207 y(type)g(=>)h('html',)88
1306 y(filename_id)e(=>)h(1\);)88 1506 y(#)h(Strip)f(markup)f(and)i
(stem)f(resulting)f(document)g(contents,)g(segment)h(into)g(sentences,)
88 1605 y(#)149 b(and)50 b(extract)e(bigrams,)h(storing)f(the)h(bigram)
g(dictionary)f(in)h($r_ngramdict)88 1705 y(my)h($r_ngramdict)d(=)j({};)
88 1804 y(extract_ngrams\(cluster)146 b(=>)49 b($r_cluster,)88
1904 y(N)448 b(=>)50 b(2,)88 2004 y(ngramdict)e(=>)i($r_ngramdict,)88
2103 y(format)198 b(=>)50 b('html',)88 2203 y(stem)298
b(=>)50 b(1,)88 2303 y(segment)148 b(=>)50 b(1,)88 2402
y(verbose)148 b(=>)50 b(1)f(\);)88 2601 y(#)h(Remove)f(all)g(bigrams)f
(having)h(fewer)g(than)g(2)h(occurrences)d(and/or)i(not)g(occurring)88
2701 y(#)149 b(in)50 b(the)f(top)g(100)h(most)f(frequent)88
2801 y(enforce_count_thresholds\(N)c(=>)50 b(2,)88 2900
y(ngramdict)e(=>)i($r_ngramdict,)88 3000 y(mincount)98
b(=>)50 b(2,)88 3100 y(topcount)98 b(=>)50 b(100)f(\);)88
3299 y(#)h(Sort)f(bigrams)f(in)i(descending)e(order)h(by)g(count)g(and)
g(write)g(bigram)g(dictionary)f(to)h(file)88 3398 y
(write_ngram_counts\(N)445 b(=>)49 b(2,)88 3498 y(ngramdict)f(=>)i
($r_ngramdict,)88 3598 y(outfile)148 b(=>)50 b('test.2grams',)88
3697 y(sort)298 b(=>)50 b(1)f(\);)88 3897 y(#)h(Serialize)e(bigram)h
(dictionary)f(to)h(\(network-ordered\))e(Storable)h(file)88
3996 y(dump_ngramdict\(N)446 b(=>)49 b(2,)88 4096 y(ngramdict)f(=>)i
($r_ngramdict,)88 4196 y(outfile)148 b(=>)50 b('test.2grams.dump')c
(\);)88 4395 y(#)k(Restore)e(N-gram)h(dictionary)f(from)h(Storable)f
(file)88 4494 y(my)i($N;)88 4594 y(\($N,)f($r_ngramdict2\))e(=)j
(load_ngramdict\(infile)c(=>)j('test.2grams.dump'\);)p
4048 4719 V 60 4722 3992 4 v 60 5031 a Fh(8.8)99 b(Clair::Util)60
5187 y Fk(Clair::Util)35 b(pro)o(vides)d(se)n(v)o(eral)h(dif)n(ferent)f
(methods)h(that)h(are)g(useful)f(b)n(ut)h(do)g(not)f(\002t)i(in)f
(other)f(modules.)65 b(F)o(or)33 b(e)o(xample,)60 5286
y(b)n(uild)p 235 5286 25 4 v 29 w(IDF)p 398 5286 V 30
w(database)24 b(reads)h(a)g(list)h(of)f(\002les)h(and)f(writes)g(the)g
(IDF)h(v)n(alues)e(from)g(those)h(\002les)h(to)f(a)h(database)e(\(Berk)
o(ele)o(y)g(DB\).)60 5386 y(b)n(uild)p 235 5386 V 29
w(idf)p 357 5386 V 29 w(by)p 470 5386 V 29 w(line)19
b(can)f(also)h(be)g(used)f(to)h(b)n(uild)f(an)h(IDF)g(database,)f(in)h
(this)g(case,)g(using)f(te)o(xt)h(pass)g(to)g(it)g(and)f(treating)g
(each)g(line)60 5485 y(as)23 b(a)g(dif)n(ferent)d(document)g(and)i
(computing)e(the)i(IDF)g(from)g(those.)30 b(read)p 2230
5485 V 29 w(idf)22 b(opens)f(a)i(database)f(and)f(returns)g(the)i(hash)
f(from)1893 5809 y(37)p eop end
%%Page: 38 38
TeXDict begin 38 37 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a(it.)25 b(This)19
b(is)g(particularly)e(useful)h(for)g(e)o(xamining)e(the)j(contents)e
(of)i(an)f(IDF)h(database,)f(b)n(ut)g(can)h(be)f(easily)h(used)f(for)g
(man)o(y)f(other)60 310 y(tasks)k(as)g(well.)p 60 421
2797 4 v 60 1368 4 947 v 88 546 a Ff
(Clair::Util::build_idf_by_line\("This)43 b(is)50 b(a)f(test.\\n")g(.)
736 645 y("This)g(is)g(considered)f(another)h(document.\\n")e(.)736
745 y("A)i(third)g(sample)g(document.",)736 844 y("test_dbm_file"\);)88
1044 y(my)h(\045idf)f(=)g(Clair::Util::read_idf\("test_dbm_file")o(\);)
88 1243 y(print)g("The)g(idf)g(of)h('this')f(is:)g(",)g($idf{this},)f
("\\n";)p 2853 1368 V 60 1371 2797 4 v 60 1680 a Fh(8.9)99
b(Clair::Utils::Cor)o(pusDo)o(wnload)60 1836 y Fi(8.9.1)81
b(Cr)o(eating)19 b(a)h(Cor)o(pus)60 1991 y Fk(The)30
b(CorpusDo)n(wnload)e(module)i(is)i(pro)o(vided)c(to)j(create)f(a)h
(corpus.)56 b(Create)31 b(a)g(CorpusDo)n(wnload)d(object)i(using)h(ne)n
(w\(\).)60 2091 y(A)k(corpus)e(name)h(must)g(be)g(pro)o(vided,)h(and)f
(a)h(rootdir)d(is)k(optional,)g(b)n(ut)e(strongly)f(recommended)e
(since)k(the)f(def)o(ault)g(is)60 2190 y(`/data0/projects/t\002df)5
b('.)46 b(The)28 b(rootdir)e(must)j(be)f(an)g(absolute)f(path,)j
(rather)d(than)h(a)h(relati)n(v)o(e)e(path.)49 b(The)28
b(root)f(directory)g(is)60 2290 y(where)f(the)h(corpus)f(\002les)h
(will)h(be)e(placed.)44 b(Man)o(y)26 b(corpora)f(can)h(be)h(made)f
(with)h(the)g(same)g(root)f(directory)-5 b(,)26 b(as)h(long)f(as)i(the)
60 2390 y(corpusname)18 b(is)j(dif)n(ferent)e(for)g(each.)185
2489 y(T)-7 b(w)o(o)18 b(functions)e(are)h(pro)o(vided)f(to)h(create)h
(a)g(corpus.)23 b(b)n(uildCorpus)16 b(is)j(used)e(to)h(do)n(wnload)e
(\002les)i(to)g(form)f(the)h(corpus,)f(while)60 2589
y(b)n(uildCorpusFromFiles)h(is)j(used)f(to)g(form)f(a)i(corpus)e(with)i
(\002les)g(already)e(on)g(the)i(computer)-5 b(.)23 b(Both)d(require)f
(a)i(reference)d(to)j(an)60 2689 y(array)j(with)h(either)f(the)h(urls)g
(or)f(absolute)h(paths)f(to)h(the)g(\002les)h(for)e(b)n(uildCorpus)f
(and)h(b)n(uildCorpusFromFiles,)g(respecti)n(v)o(ely)-5
b(.)60 2788 y(These)20 b(\002les)h(will)g(then)f(be)g(copied)f(to)h
(the)h(root)e(directory)g(pro)o(vided)e(and)j(a)g(corpus)g(created)f
(from)g(them)h(in)g(TREC)h(format.)185 2888 y(Because)g(CorpusDo)n
(wnload)e(w)o(as)k(designed)d(to)i(use)g(a)g(do)n(wnloaded)d(corpus,)i
(results)h(from)e(a)j(corpus)d(b)n(uild)h(with)h(b)n(uild-)60
2987 y(CorpusFromFiles)d(will)i(list)g(\002les)g(with)g
(\223http://\224)f(at)g(the)h(be)o(ginning,)c(then)j(the)g(full)g(path)
g(of)g(the)g(\002le.)185 3087 y(T)-7 b(o)22 b(use)h(a)f(base)h(URL)g
(and)f(\002nd)g(\002les)h(based)f(on)g(links)h(from)e(that)h(\002le,)i
(the)e(function)f(poach)g(is)i(pro)o(vided)d(as)j(an)f(interf)o(ace)60
3187 y(to)e(`poacher)-5 b(.)f(')24 b(This)c(returns)f(an)h(array)g
(with)g(URLs)h(that)f(can)g(be)g(passed)h(to)f(b)n(uildCorpus.)p
60 3298 3594 4 v 60 3846 4 548 v 88 3423 a Ff($corpus)49
b(=)g(Clair::Utils::CorpusDownload->new\(cor)o(pusnam)o(e)44
b(=>)49 b('new_corpus',)786 3522 y(rootdir)f(=>)i('/usr/username/'\);)
88 3721 y($corpus->buildCorpus\(urlsref)45 b(=>)k($@urls\);)p
3650 3846 V 60 3849 3594 4 v 60 4142 a Fi(8.9.2)81 b(Computing)20
b(IDF)h(and)f(TF)h(V)-8 b(alues)60 4297 y Fk(T)h(o)26
b(compute)e(the)h(IDF)h(and)f(TF)g(v)n(alues)g(for)g(the)h(corpus,)f(b)
n(uildIdf)f(and)h(b)n(uildTf)f(are)h(pro)o(vided.)39
b(Both)25 b(accept)g(stemmed)g(as)60 4397 y(a)f(parameter)f(which)h
(can)f(be)h(set)h(to)g(1)f(to)g(compute)e(the)j(stemmed)e(v)n(alues)h
(or)f(0)i(\(the)e(def)o(ault\))g(to)i(compute)d(the)i(unstemmed)60
4497 y(v)n(alues.)h(Before)19 b(b)n(uildTf)g(can)h(be)g(called,)g(b)n
(uild)p 1481 4497 25 4 v 29 w(docno)p 1715 4497 V 28
w(dbm)f(must)i(be)f(called.)p 60 4608 1651 4 v 60 5455
4 847 v 88 4732 a Ff($corpus->buildIdf\(stemmed)45 b(=>)50
b(0\);)88 4832 y($corpus->buildIdf\(stemmed)45 b(=>)50
b(1\);)88 5031 y($corpus->build_docno_dbm\(\);)88 5231
y($corpus->buildTf\(stemmed)c(=>)j(0\);)88 5330 y
($corpus->buildTf\(stemmed)d(=>)j(1\);)p 1707 5455 V
60 5458 1651 4 v 1893 5809 a Fk(38)p eop end
%%Page: 39 39
TeXDict begin 39 38 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(8.10)99
b(Clair::Utils::TF)25 b(and)g(Clair::Utils::IDF)60 366
y Fk(Once)g(IDF)g(v)n(alues)f(ha)n(v)o(e)h(been)f(computed,)f(the)o(y)i
(can)f(be)h(accessed)g(by)f(creating)g(an)h(Idf)f(object.)39
b(In)24 b(the)h(constructor)m(,)f(root-)60 465 y(dir)29
b(and)g(corpusname)f(parameters)g(should)h(be)g(supplied)g(that)h
(match)f(the)g(CorpusDo)n(wnload)e(parameters,)k(along)d(with)i(a)60
565 y(stemmed)22 b(parameter)f(depending)f(on)i(whether)g(stemmed)g(or)
g(unstemmed)f(v)n(alues)h(are)g(desired)g(\(1)h(and)f(0)g(respecti)n(v)
o(ely\).)30 b(T)-7 b(o)60 665 y(get)20 b(the)g(IDF)h(for)e(a)i(w)o
(ord,)e(then,)h(use)g(the)g(method)f(getIdfF)o(orW)-7
b(ord,)18 b(supplying)g(the)i(desired)g(w)o(ord.)185
764 y(A)k(Tf)h(object)e(is)j(created)d(with)i(the)f(same)h(parameters)e
(passed)h(to)h(the)f(constructor)-5 b(.)36 b(The)24 b(function)f
(getFreq)g(returns)h(the)60 864 y(number)15 b(of)i(times)g(a)h(w)o(ord)
e(appears)g(in)h(the)g(corpus,)g(getNumDocsW)m(ithW)-7
b(ord)14 b(returns)j(the)g(number)e(of)h(documents)g(it)h(appears)60
964 y(in,)j(and)g(getDocs)g(returns)f(the)h(array)f(of)h(documents)f
(it)i(appears)e(in.)p 60 1075 3394 4 v 60 2719 4 1644
v 88 1199 a Ff(my)50 b($idf)f(=)g(Clair::Utils::Idf->new\()d(rootdir=>)
i('/usr/username/',)586 1299 y(corpusname)g(=>'new\\_corpus',)f
(stemmed)i(=>)g(0\);)88 1498 y(print)g("The)g(idf)g(of)h('and')f(is)g
(",)h($idf->getIdfForWord\("and"\),)44 b("\\n";)88 1698
y(my)50 b($tf)f(=)h(Clair::Utils::Idf->new\()45 b(rootdir=>)j
('/usr/username/',)537 1797 y(corpusname)f(=>'new_corpus',)h(stemmed)g
(=>)h(0\);)88 1996 y(print)g($tf->getNumDocsWithWord\("and"\),)44
b(")50 b(docs)f(have)g('and')g(in)g(them\\n";)88 2096
y(print)g("'and')g(appears)f(",)i($tf->getFreq\("and"\),)c
("times.\\n";)88 2295 y(print)j("The)g(documents)f(are:\\n")h(my)g
(@docs)g(=)h($tf->getDocs\("and"\);)88 2395 y(foreach)f(my)g($doc)g
(\(@docs\))g({)188 2495 y(print)g("$doc\\n";)88 2594
y(})p 3451 2719 V 60 2722 3394 4 v 60 3031 a Fh(8.11)99
b(Clair::Utils::W)-6 b(ebSear)n(ch)60 3187 y Fb(This)21
b(applies)e(only)h(to)g(user)o(s)i(of)e(Clairlib-e)n(xt!)185
3286 y Fk(The)f(W)-7 b(ebSearch)19 b(module)g(is)i(used)e(to)h(perform)
e(Google)h(searches.)24 b(A)c(k)o(e)o(y)g(must)f(be)h(obtained)e(from)h
(Google)g(in)h(order)e(to)60 3386 y(do)e(this.)24 b(F)o(ollo)n(w)15
b(the)h(instructions)f(in)h(the)g(section)g(\224Installing)f(the)h
(Clair)h(Library\224)d(to)i(obtain)f(a)i(k)o(e)o(y)e(and)h(ha)n(v)o(e)f
(the)h(W)-7 b(ebSearch)60 3486 y(module)19 b(use)h(it.)185
3585 y(Once)k(the)g(k)o(e)o(y)g(has)g(been)g(obtained)f(and)h(the)g
(appropriate)e(v)n(ariables)i(are)g(set,)i(use)f(the)f(googleGet)f
(method)g(to)i(obtain)e(a)60 3685 y(list)28 b(of)f(results)g(to)h(a)f
(Google)f(query)-5 b(.)44 b(The)27 b(follo)n(wing)e(code)i(gets)g(the)g
(top)g(20)g(results)g(to)g(a)h(search)f(for)f(the)h(\224Uni)n(v)o
(ersity)f(of)60 3785 y(Michigan,)-6 b(\224)18 b(and)i(then)g(prints)g
(the)g(results)g(to)h(the)f(screen.)p 60 3896 V 60 4643
4 748 v 88 4020 a Ff(my)50 b(@results)e(=)i
(@{Clair::Utils::WebSearch::google)o(Get\("U)o(niver)o(sity)43
b(of)50 b(\\)88 4120 y(Michigan",)e(20\)};)88 4319 y(foreach)h(my)g($r)
h(\(@results\))e({)188 4419 y(print)h("$r\\n\\n";)88
4518 y(})p 3451 4643 V 60 4646 3394 4 v 185 4817 a Fk(The)19
b(W)-7 b(ebSearch)19 b(module)f(also)h(pro)o(vides)f(the)h(ability)h
(to)f(do)n(wnload)f(a)h(single)h(page)e(as)j(a)e(URI::URL-escaped)g
(\002le)h(using)60 4917 y(the)i(do)n(wnloadUrl)e(method.)29
b(This)22 b(method)f(needs)g(tw)o(o)i(parameters:)k(the)22
b(URL)h(to)f(do)n(wnload)e(and)i(the)g(\002lename)f(where)h(the)60
5017 y(do)n(wnloaded)17 b(page)j(should)f(be)h(sa)n(v)o(ed.)p
60 5128 3295 4 v 60 5476 4 349 v 88 5252 a Ff
(Clair::Utils::WebSearch::downloadUrl\()o("http)o(://ww)o(w.mgob)o
(lue.c)o(om/",)43 b(\\)88 5352 y("mgoblue_home.htm"\);)p
3351 5476 V 60 5479 3295 4 v 1893 5809 a Fk(39)p eop
end
%%Page: 40 40
TeXDict begin 40 39 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fh(8.12)99
b(Clair::Utils::P)o(arse)60 366 y Fb(This)21 b(applies)e(only)h(to)g
(user)o(s)i(of)e(Clairlib-e)n(xt!)185 465 y Fk(The)f(P)o(arse)i(module)
e(pro)o(vides)f(a)j(wrapper)d(for)i(the)g(Charniak)f(parser)h(and)f
(the)i(chunklink)c(tool.)60 687 y Fi(8.12.1)81 b(Pr)o(eparing)19
b(a)h(File)g(f)n(or)g(the)g(Char)o(niak)g(P)o(arser)60
842 y Fk(T)-7 b(o)22 b(be)g(parsed)f(by)g(the)h(Charniak)f(parser)m(,)g
(a)h(\002le)h(must)e(be)h(formatted)e(in)i(a)h(speci\002c)f(w)o(ay)-5
b(,)21 b(with)h(sentences)g(on)f(separate)g(lines,)60
942 y(placed)e(inside)i Fd(<)p Fk(s)p Fd(><)h(=)p Fk(s)p
Fd(>)e Fk(tags.)25 b(F)o(or)20 b(e)o(xample:)p 60 1053
1651 4 v 60 1402 4 349 v 88 1178 a Ff(<s>This)49 b(is)g(one)g
(sentence.</s>)88 1277 y(<s>This)g(is)g(another)g(sentence.</s>)p
1707 1402 V 60 1405 1651 4 v 185 1576 a Fk(T)-7 b(o)23
b(mak)o(e)f(this)i(formatting)d(easier)m(,)i(the)g(the)g(prepare)p
1755 1576 25 4 v 28 w(for)p 1881 1576 V 29 w(parse)g(function)e(is)j
(pro)o(vided.)31 b(This)23 b(function)e(will)j(read)f(a)g(\002le,)60
1676 y(split)h(it)h(into)e(sentences)g(\(using)g
(Clair::Document::split)p 1779 1676 V 28 w(into)p 1937
1676 V 29 w(sentences\),)h(then)f(put)h(each)f(sentence)g(on)g(its)i(o)
n(wn)e(line,)i(sur)n(-)60 1775 y(rounded)18 b(by)i Fd(<)p
Fk(s)p Fd(><)i(=)p Fk(s)p Fd(>)e Fk(tags,)g(in)g(a)h(ne)n(w)f(\002le.)p
60 1887 3345 4 v 60 2136 4 250 v 88 2011 a Ff
(Clair::Utils::Parse::prepare_for_pars)o(e\("in)o(put.t)o(xt",)44
b("output.txt"\);)p 3401 2136 V 60 2139 3345 4 v 185
2310 a Fk(If)20 b(a)g(\002le)h(is)g(already)e(correctly)g(formatted,)f
(this)j(step)g(should)e(not)h(be)g(performed.)60 2531
y Fi(8.12.2)81 b(Char)o(niak)19 b(P)o(arser)60 2687 y
Fk(The)e(parse)g(function)f(runs)h(a)h(\002le)g(through)d(the)j
(Charniak)e(parser)-5 b(.)24 b(The)17 b(result)h(of)f(parsing)f(will)i
(be)g(returned)d(from)i(the)g(function)60 2786 y(as)k(a)g(string,)e
(and)h(may)g(optionally)e(be)i(written)g(to)g(a)h(\002le)g(by)f
(specifying)e(an)i(output)f(\002le.)185 2886 y(Note)k(that)h(a)g
(\002le)g(must)g(be)g(correctly)e(formatted)g(to)i(be)f(parsed.)35
b(See)24 b(the)g(pre)n(vious)e(section,)i(\223Preparing)e(a)i(File)h
(for)e(the)60 2986 y(Charniak)c(P)o(arser\224)h(for)g(more)f
(information.)p 60 3097 3295 4 v 60 3446 4 349 v 88 3221
a Ff(my)50 b($parse_output)d(=)j(Clair::Utils::Parse::parse\("to_be_)o
(parse)o(d.txt)o(",)1383 3321 y(output_file)e(=>)i("output.txt"\);)p
3351 3446 V 60 3449 3295 4 v 60 3741 a Fi(8.12.3)81 b(Chunklink)60
3897 y Fk(Chunklink)16 b(is)j(a)g(v)o(ery)e(useful)g(tool)h(to)g
(analyze)f(\002le)i(from)e(the)h(Penn)g(T)m(reebank.)k(The)c(P)o(arse)g
(module)f(also)h(pro)o(vides)f(a)h(wrapper)60 3997 y(to)25
b(it,)h(with)f(the)f(function)f(P)o(arse::chunklink.)36
b(This)24 b(function)f(tak)o(es)i(an)g(input)e(\002le)j(and)e(returns)f
(the)i(result)g(as)g(a)g(string,)g(and)60 4096 y(may)20
b(optionally)e(also)j(write)f(the)g(results)h(to)f(a)h(\002le.)p
60 4208 3096 4 v 60 4556 4 349 v 88 4332 a Ff(my)50 b($chunkout)e(=)h
(Clair::Utils::Parse::chunklink\("WSJ_00)o(21.MR)o(G",)1184
4432 y(output_file)f(=>)h("output.txt"\);)p 3152 4556
V 60 4559 3096 4 v 60 4869 a Fh(8.13)99 b(Clair::Utils::Stem)60
5024 y Fk(This)22 b(is)h(an)e(implementation)f(of)i(a)g(stemmer)m(,)f
(to)h(tak)o(e)g(one)f(w)o(ord)g(at)h(a)h(time)f(and)f(return)g(the)g
(stem)i(of)e(it.)31 b(There)21 b(are)g(only)g(tw)o(o)60
5124 y(functions:)h(ne)n(w)17 b(and)g(stem.)24 b(Creating)17
b(an)g(object)g(with)g(ne)n(w)g(initializes)h(the)f(stemmer)-5
b(.)24 b(Subsequent)16 b(calls)i(to)f(stem)h(will)g(return)60
5223 y(the)i(stemmed)g(v)o(ersion)f(of)h(a)g(w)o(ord.)k(Note)d(that)f
(this)h(is)g(not)f(the)g(same)g(stemmer)g(that)g(is)h(used)f(by)g
(Document::stem.)1893 5809 y(40)p eop end
%%Page: 41 41
TeXDict begin 41 40 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3245 4 v 60
579 4 449 v 88 255 a Ff(my)50 b($stemmer)e(=)i(new)f
(Clair::Utils::Stem;)88 454 y(print)g("'testing')f(stemmed)h(is:)g(",)g
($stemmer->stem\("testing"\),)c("\\n";)p 3301 579 V 60
582 3245 4 v 60 934 a Fj(9)119 b(Sample)31 b(Code)f(Example)60
1119 y Fk(Se)n(v)o(eral)c(code)g(e)o(xamples)g(are)h(pro)o(vided)d
(with)j(Clairlib,)h(in)f(the)g(`test')g(directory)e(and)i(also)g(in)g
(the)g(ne)o(xt)f(section)g(of)h(the)g(tu-)60 1219 y(torial.)42
b(This)27 b(section)e(tak)o(es)i(a)f(thorough)e(look)h(at)i(one)e(of)h
(these,)h(`test)p 2192 1219 25 4 v 30 w(me)o(ga.pl.)-6
b(')41 b(This)26 b(script)g(combines)f(man)o(y)g(pieces)h(of)60
1319 y(functionality)18 b(in)i(Clairlib,)h(so)f(it)h(serv)o(es)f(as)h
(a)g(good)d(e)o(xample.)185 1418 y(W)-7 b(e)21 b(no)n(w)f(w)o(alk)g
(through)e(this)j(e)o(xample)d(section)i(by)g(section:)p
60 1529 3793 4 v 60 3173 4 1644 v 88 1654 a Ff(#)50 b(script:)e
(test_mega.pl)88 1754 y(#)i(functionality:)d(Downloads)h(documents)g
(using)h(CorpusDownload,)e(then)i(makes)g(IDFs,)88 1853
y(#)h(functionality:)d(TFs,)i(builds)g(a)g(cluster)g(from)g(them,)g(a)h
(network)e(based)h(on)g(a)88 1953 y(#)h(functionality:)d(binary)i
(cosine,)f(and)i(tests)e(the)i(network)e(for)h(a)h(couple)f(of)88
2052 y(#)h(functionality:)d(properties)88 2252 y(use)i(strict;)88
2351 y(use)g(warnings;)88 2451 y(use)g(FindBin;)88 2551
y(use)g(Clair::Utils::CorpusDownload;)88 2650 y(use)g
(Clair::Utils::Idf;)88 2750 y(use)g(Clair::Utils::Tf;)88
2849 y(use)g(Clair::Document;)88 2949 y(use)g(Clair::Cluster;)88
3049 y(use)g(Clair::Network;)p 3849 3173 V 60 3176 3793
4 v 185 3348 a Fk(W)-7 b(e)25 b(start)h(by)e(declaring)f(the)i
(packages)f(we)h(will)h(use.)38 b(W)-7 b(e)26 b(use)f(FindBin)g(to)g
(mak)o(e)f(the)h(e)o(xample)e(system)i(independent,)60
3447 y(because)17 b(we)i(kno)n(w)d(the)i(relati)n(v)o(e)g(location)f
(of)g(the)h(library)f(to)h(the)g(script,)g(rather)f(than)h(the)g(more)f
(typical)g(situation)h(of)g(kno)n(wing)60 3547 y(the)23
b(absolute)g(path)g(of)g(the)g(library)-5 b(.)33 b(T)-7
b(ypically)i(,)22 b(scripts)i(are)f(more)g(lik)o(ely)g(to)g(change)f
(relati)n(v)o(e)h(paths)g(to)g(the)h(library)e(than)h(the)60
3646 y(library)c(is)i(to)g(mo)o(v)o(e,)d(so)j(simply)e(hard-coding)e
(the)k(path)e(here)h(may)g(be)g(best)g(in)h(most)f(situations.)185
3746 y(Ne)o(xt,)k(we)h(determine)d(the)j(\223base)f(directory\224)e
(\(where)h(the)i(script)f(is)h(located\))e(and)h(remember)e(the)i
(directory)f(where)g(we)60 3846 y(will)h(put)f(all)h(produced)d
(\002les.)36 b(W)-7 b(e)25 b(then)e(create)g(a)h(CorpusDo)n(wnload)d
(object,)i(gi)n(ving)f(it)i(a)g(corpus)f(name)g(of)g(\223testhtml\224)g
(and)60 3945 y(specifying)e(the)h(produced)e(\002les)k(directory)c(as)j
(the)g(root)f(directory)e(for)i(the)g(corpus.)31 b(Note)22
b(that)h(we)g(are)f(specifying)f(an)h(abso-)60 4045 y(lute)d(path,)g
(not)g(a)g(relati)n(v)o(e)g(pass)g(for)g(the)g(rootdir)f(parameter)f
(\(otherwise,)i(some)g(CorpusDo)n(wnload)d(functions)i(may)g(not)h(w)o
(ork)60 4145 y(correctly\).)p 60 4256 V 60 4903 4 648
v 88 4380 a Ff(my)50 b($basedir)e(=)i($FindBin::Bin;)88
4480 y(my)g($gen_dir)e(=)i("$basedir/produced/mega";)88
4679 y(my)g($corpusref)e(=)h(Clair::Utils::CorpusDownload->new\(cor)o
(pusna)o(me)44 b(=>)49 b("testhtml",)885 4779 y(rootdir)g(=>)g
($gen_dir\);)p 3849 4903 V 60 4906 3793 4 v 185 5078
a Fk(W)-7 b(e)21 b(use)g(CorpusDo)n(wnload::poach)16
b(to)k(start)h(with)g(a)g(single)f(URL)h(and)f(follo)n(w)g(links)g(on)g
(that)h(page,)e(then)h(links)h(on)f(those)60 5177 y(pages,)26
b(etc.)41 b(and)25 b(return)f(those)i(URLs)g(in)g(an)f(array)f
(reference.)40 b(W)-7 b(e)26 b(iterate)g(through)d(those)i(URLs)i(and)d
(print)h(them)g(out)g(to)60 5277 y(the)19 b(screen.)24
b(Finally)-5 b(,)19 b(we)h(pass)f(those)g(URLs)h(to)g(CorpusRef::b)n
(uildCorpus)c(to)k(do)n(wnload)d(the)i(URLs)h(and)f(create)g(a)g
(corpus)f(in)60 5377 y(TREC)j(format.)1893 5809 y(41)p
eop end
%%Page: 42 42
TeXDict begin 42 41 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3594 4 v 60
1774 4 1644 v 88 255 a Ff(#)50 b(Get)f(the)g(list)g(of)h(urls)f(that)g
(we)g(want)h(to)f(download)88 355 y(my)h($uref)f(=)2988
b(\\)88 454 y($corpusref->poach\("http://tangra.si.u)o(mich.)o(edu/c)o
(lair/t)o(estht)o(ml/in)o(dex.ht)43 b(\\)88 554 y(ml",)49
b(error_file)f(=>)i("$gen_dir/errors.txt"\);)88 753 y(my)g(@urls)f(=)g
(@$uref;)88 952 y(foreach)g(my)g($v)h(\(@urls\))e({)287
1052 y(print)h("URL:)g($v\\n";)88 1152 y(})88 1351 y(#)h(Build)f(the)g
(corpus)g(using)g(the)g(list)g(of)g(urls)88 1451 y(#)h(This)f(will)g
(index)g(and)g(convert)g(to)g(TREC)g(format)88 1550 y
($corpusref->buildCorpus\(urlsref)44 b(=>)50 b($uref\);)p
3650 1774 V 60 1777 3594 4 v 185 1949 a Fk(Our)16 b(ne)o(xt)g(step)h
(is)h(to)e(b)n(uild)h(the)f(IDF)h(and)g(TF)g(\002les.)24
b(This)17 b(computes)f(the)h(IDF)g(and)f(TF)h(v)n(alues)f(for)g(e)n(v)o
(ery)g(w)o(ord,)g(then)g(stores)60 2048 y(them)25 b(in)g(\002les)h
(from)e(which)h(those)g(v)n(alues)g(can)g(be)g(easily)g(retrie)n(v)o
(ed.)38 b(W)-7 b(e)26 b(b)n(uild)f(the)g(unstemmed)f(IDF)-7
b(,)25 b(then)g(the)g(stemmed)60 2148 y(IDF)j(\002rst.)50
b(Ne)o(xt,)29 b(we)g(must)f(b)n(uild)f(the)h(DOCNO/URL)h(database)f
(before)e(we)j(b)n(uild)f(the)g(TF)g(\002les.)50 b(Again,)28
b(we)h(b)n(uild)f(the)60 2248 y(unstemmed,)18 b(and)i(then)g(the)g
(stemmed)f(\002les)j(\(this)e(order)f(is)i(not)f(important)e(for)i
(either)g(calculation\).)p 60 2359 3494 4 v 60 4003 4
1644 v 88 2483 a Ff(#)50 b(-----------------------------------)o(-----)
o(-----)o(------)o(-----)o(-----)o(------)88 2583 y(#)100
b(This)49 b(is)g(how)g(to)h(build)f(the)g(IDF.)99 b(First)49
b(we)g(build)g(the)g(unstemmed)f(IDF,)88 2683 y(#)100
b(then)49 b(the)g(stemmed)f(one.)88 2782 y(#)i
(-----------------------------------)o(-----)o(-----)o(------)o(-----)o
(-----)o(------)88 2882 y($corpusref->buildIdf\(stemmed)45
b(=>)k(0\);)88 2981 y($corpusref->buildIdf\(stemmed)c(=>)k(1\);)88
3181 y(#)h(-----------------------------------)o(-----)o(-----)o
(------)o(-----)o(-----)o(------)88 3280 y(#)100 b(This)49
b(is)g(how)g(to)h(build)f(the)g(TF.)99 b(First)49 b(we)g(build)g(the)h
(DOCNO/URL)88 3380 y(#)100 b(database,)48 b(which)h(is)g(necessary)f
(to)i(build)f(the)g(TFs.)99 b(Then)49 b(we)g(build)88
3480 y(#)100 b(unstemmed)48 b(and)h(stemmed)g(TFs.)88
3579 y(#)h(-----------------------------------)o(-----)o(-----)o
(------)o(-----)o(-----)o(------)88 3679 y
($corpusref->build_docno_dbm\(\);)88 3778 y
($corpusref->buildTf\(stemmed)45 b(=>)k(0\);)88 3878
y($corpusref->buildTf\(stemmed)c(=>)k(1\);)p 3550 4003
V 60 4006 3494 4 v 185 4177 a Fk(No)n(w)18 b(that)h(we)f(ha)n(v)o(e)g
(b)n(uild)g(these)h(v)n(alues,)f(we)h(w)o(ant)g(to)g(be)f(able)g(to)h
(see)g(what)g(the)f(v)n(alues)g(are)h(for)f(speci\002c)g(w)o(ords.)24
b(W)-7 b(e)20 b(cre-)60 4277 y(ate)i(an)g(Idf)f(object,)g(gi)n(ving)f
(it)i(the)g(same)g(rootdir)e(and)h(corpusname)e(as)k(our)e(CorpusDo)n
(wnload)d(object.)29 b(W)-7 b(e)23 b(choose)e(whether)60
4376 y(we)26 b(w)o(ant)f(the)h(IDFs)g(for)e(the)i(stemmed)f(or)g
(unstemmed)e(v)o(ersions,)j(choosing)e(unstemmed)f(in)j(this)g(e)o
(xample.)39 b(W)-7 b(e)27 b(then)e(get)60 4476 y(and)g(print)g(the)h
(IDF)g(v)n(alues)f(for)g(se)n(v)o(eral)g(w)o(ords:)35
b(`ha)n(v)o(e,)-6 b(')26 b(`and',)g(and)f(`zimbabwe.)-6
b(')39 b(Note)26 b(that)f(these)h(w)o(ords)f(should)g(be)g(in)60
4575 y(lo)n(wercase.)1893 5809 y(42)p eop end
%%Page: 43 43
TeXDict begin 43 42 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3494 4 v 60
1774 4 1644 v 88 255 a Ff(#)50 b(-----------------------------------)o
(-----)o(-----)o(------)o(-----)o(-----)o(------)88 355
y(#)100 b(Here)49 b(is)g(how)g(to)h(use)f(a)h(IDF.)99
b(The)49 b(constructor)f(\(new\))h(opens)f(the)88 454
y(#)100 b(unstemmed)48 b(IDF.)99 b(Then)49 b(we)g(ask)g(for)h(IDFs)f
(for)g(the)g(words)g("have")88 554 y(#)100 b("and")49
b(and)g("zimbabwe.")88 654 y(#)h(-----------------------------------)o
(-----)o(-----)o(------)o(-----)o(-----)o(------)88 753
y(my)g($idfref)e(=)i(Clair::Utils::Idf->new\()45 b(rootdir)k(=>)g
($gen_dir,)1234 853 y(corpusname)f(=>)h("testhtml")f(,)1234
952 y(stemmed)g(=>)i(0)g(\);)88 1152 y(my)g($result)e(=)i
($idfref->getIdfForWord\("have"\);)88 1251 y(print)f("IDF\(have\))f(=)i
($result\\n";)88 1351 y($result)f(=)g($idfref->getIdfForWord\("and"\);)
88 1451 y(print)g("IDF\(and\))f(=)i($result\\n";)88 1550
y($result)f(=)g($idfref->getIdfForWord\("zimbabwe"\);)88
1650 y(print)g("IDF\(zimbabwe\))e(=)j($result\\n";)p
3550 1774 V 60 1777 3494 4 v 185 1949 a Fk(W)-7 b(e)19
b(no)n(w)f(compute)f(the)h(TF)h(v)n(alues)f(similarly)-5
b(.)24 b(W)-7 b(e)19 b(create)f(a)h(Tf)f(object,)g(again)f(using)h(the)
h(same)f(rootdir)f(and)h(corpusname)60 2048 y(as)26 b(we)f(did)g(for)g
(CorpusDo)n(wnload,)e(and)i(again)f(choosing)f(whether)h(we)i(w)o(ant)f
(the)g(stemmed)g(or)g(unstemmed)e(information.)60 2148
y(No)n(w)e(that)g(we)g(ha)n(v)o(e)f(our)h(Tf)g(object,)f(we)h(can)g
(call)g(getNumDocsW)m(ithW)-7 b(ord)19 b(to)i(get)g(the)g(number)e(of)i
(unique)e(documents)g(that)60 2248 y(ha)n(v)o(e)k(a)h(w)o(ord,)g
(getFreq)e(to)i(get)g(the)f(number)f(of)i(times)g(a)g(w)o(ord)f(is)h
(in)g(the)g(corpus,)f(and)g(getDocs)g(to)h(get)f(all)i(the)e(URLs)i(of)
e(all)60 2347 y(the)d(documents)f(that)h(ha)n(v)o(e)g(that)g(w)o(ord)f
(in)i(them.)j(W)-7 b(e)22 b(do)d(this)i(with)f(`w)o(ashington',)e
(`and,)-6 b(')19 b(and)h(`zimbabwe.)-6 b(')1893 5809
y(43)p eop end
%%Page: 44 44
TeXDict begin 44 43 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3594 4 v 60
4464 4 4334 v 88 255 a Ff(#)50 b(-----------------------------------)o
(-----)o(-----)o(------)o(-----)o(-----)o(------)88 355
y(#)100 b(Here)49 b(is)g(how)g(to)h(use)f(a)h(TF.)99
b(The)49 b(constructor)f(\(new\))h(opens)g(the)88 454
y(#)100 b(unstemmed)48 b(TF.)99 b(Then)49 b(we)g(ask)h(for)f
(information)f(about)h(the)88 554 y(#)100 b(word)49 b("have":)88
654 y(#)88 753 y(#)100 b(1)49 b(first,)g(we)g(get)h(the)f(number)g(of)g
(documents)f(in)i(the)f(corpus)g(with)88 853 y(#)199
b(the)50 b(word)f("Washington")88 952 y(#)100 b(2)49
b(then,)g(we)h(get)f(the)g(total)g(number)g(of)g(occurrences)f(of)h
(the)h(word)447 b(\\)88 1052 y("Washington")88 1152 y(#)100
b(3)49 b(then,)g(we)h(print)e(a)i(list)f(of)h(URLs)f(of)g(the)g
(documents)g(that)g(have)g(the)88 1251 y(#)199 b(word)49
b("Washington")88 1351 y(#)h(-----------------------------------)o
(-----)o(-----)o(------)o(-----)o(-----)o(------)88 1451
y(my)g($tfref)e(=)i(Clair::Utils::Tf->new\()c(rootdir)i(=>)i($gen_dir,)
1134 1550 y(corpusname)e(=>)i("testhtml")e(,)1134 1650
y(stemmed)h(=>)g(0)h(\);)88 1849 y($result)f(=)g
($tfref->getNumDocsWithWord\("washingto)o(n"\);)88 1949
y(my)h($freq)148 b(=)50 b($tfref->getFreq\("washington"\);)88
2048 y(@urls)f(=)h($tfref->getDocs\("washington"\);)88
2148 y(print)f("TF\(washington\))e(=)j($freq)f(total)g(in)g($result)f
(docs\\n";)88 2248 y(print)h("Documents)f(with)h(\\"washington\\"\\n";)
88 2347 y(foreach)g(my)g($url)g(\(@urls\))99 b({)g(print)49
b(")99 b($url\\n";)f(})88 2447 y(print)49 b("\\n";)88
2646 y(#)h(-----------------------------------)o(-----)o(-----)o
(------)o(-----)o(-----)o(------)88 2746 y(#)100 b(Then)49
b(we)g(do)h(1-2)f(with)g(the)g(word)g("and")88 2845 y(#)h
(-----------------------------------)o(-----)o(-----)o(------)o(-----)o
(-----)o(------)88 2945 y($result)f(=)g
($tfref->getNumDocsWithWord\("and"\);)88 3045 y($freq)149
b(=)49 b($tfref->getFreq\("and"\);)88 3144 y(@urls)g(=)h
($tfref->getDocs\("and"\);)88 3244 y(print)f("TF\(and\))f(=)i($freq)f
(total)g(in)g($result)g(docs\\n";)88 3443 y(#)h
(-----------------------------------)o(-----)o(-----)o(------)o(-----)o
(-----)o(------)88 3543 y(#)100 b(Then)49 b(we)g(do)h(1-3)f(with)g(the)
g(word)g("zimbabwe")88 3642 y(#)h(-----------------------------------)o
(-----)o(-----)o(------)o(-----)o(-----)o(------)88 3742
y($result)f(=)g($tfref->getNumDocsWithWord\("zimbabwe")o(\);)88
3842 y($freq)149 b(=)49 b($tfref->getFreq\("zimbabwe"\);)88
3941 y(@urls)g(=)h($tfref->getDocs\("zimbabwe"\);)88
4041 y(print)f("TF\(zimbabwe\))e(=)j($freq)f(total)g(in)g($result)g
(docs\\n";)88 4140 y(print)g("Documents)f(with)h(\\"zimbabwe\\"\\n";)88
4240 y(foreach)g(my)g($url)g(\(@urls\))99 b({)g(print)49
b(")99 b($url\\n";)f(})88 4340 y(print)49 b("\\n";)p
3650 4464 V 60 4467 3594 4 v 185 4639 a Fk(W)-7 b(e)17
b(no)n(w)e(change)g(direction,)g(using)g(the)h(f)o(act)g(that)g
(CorpusDo)n(wnload)e(has)i(do)n(wnloaded)d(all)k(of)e(the)h(html)g
(\002les)h(to)f(a)g(speci\002c)60 4738 y(directory)-5
b(.)22 b(The)c(directory)f(location)g(depends)g(upon)g(the)h(root)g
(directory)-5 b(,)16 b(the)j(corpusname)d(and)i(the)g(url)g(of)g(each)g
(do)n(wnloaded)60 4838 y(\002le.)27 b(In)21 b(this)g(case,)g(all)h(the)
e(do)n(wnloaded)e(\002les)k(are)f(from)f(the)g(same)h(host)g(and)f
(same)h(path)g(in)f(the)h(URL,)g(so)h(the)o(y)e(are)g(all)i(in)f(the)60
4937 y(same)f(folder)-5 b(.)185 5037 y(W)e(e)22 b(create)e(a)h(ne)n(w)g
(Clair::Cluster)g(and)g(use)g(load)p 1646 5037 25 4 v
29 w(documents)e(to)i(get)f(all)i(the)f(\002les)g(from)f(that)h
(directory)-5 b(.)25 b(W)-7 b(e)22 b(gi)n(v)o(e)e(a)h(type)60
5137 y(of)h(`html')f(so)h(that)g(e)n(v)o(ery)f(Clair::Document)f(that)i
(is)h(created)e(has)i(type)e(`html.)-6 b(')30 b(Once)21
b(we)i(ha)n(v)o(e)e(loaded)g(the)h(documents,)e(we)60
5236 y(display)g(a)g(message)g(saying)g(ho)n(w)f(man)o(y)g(we)i(ha)n(v)
o(e,)e(then)h(strip)g(and)g(stem)h(all)f(the)h(documents.)1893
5809 y(44)p eop end
%%Page: 45 45
TeXDict begin 45 44 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 131 3594 4 v 60
1575 4 1445 v 88 255 a Ff(#)50 b(Create)f(a)g(cluster)g(with)g(the)g
(documents)88 355 y(my)h($c)f(=)h(new)f(Clair::Cluster;)88
554 y($c->load_documents\("$gen_dir/download)o(/test)o(html/)o(tangra)o
(.si.u)o(mich.)o(edu/cl)43 b(\\)88 654 y(air/testhtml/)738
669 y(*)788 654 y(",)k(type)i(=>)h('html'\);)88 853 y(print)f("Loaded)g
(",)g($c->count_elements,)d(")k(documents.\\n";)88 1052
y($c->strip_all_documents;)88 1152 y($c->stem_all_documents;)88
1351 y(print)f("I'm)g(done)g(stripping)f(and)i(stemming\\n";)p
3650 1575 V 60 1578 3594 4 v 185 1749 a Fk(In)20 b(order)g(to)h
(shorten)f(the)i(computation)c(for)j(the)g(rest)g(of)g(the)g(e)o
(xample,)f(we)h(only)g(w)o(ant)g(to)g(look)f(at)i(40)f(of)f(the)i
(documents.)60 1849 y(T)-7 b(o)24 b(do)f(this,)i(we)g(simply)e(use)h(a)
h(foreach)d(loop)h(that)h(inserts)g(the)g(\002rst)g(40)g(documents)e
(into)i(a)g(ne)n(w)g(cluster)-5 b(.)36 b(Which)24 b(40)f(docu-)60
1949 y(ments)e(are)h(inserted)f(will)h(v)n(ary)f(from)f(system)i(to)g
(system)f(\(and)g(possibly)g(from)f(run)h(to)h(run\))e(since)i(the)o(y)
f(are)g(not)h(speci\002ed)f(or)60 2048 y(e)o(xplicitly)e(ordered)f(in)j
(an)o(y)e(w)o(ay)-5 b(.)p 60 2160 2299 4 v 60 3206 4
1047 v 88 2284 a Ff(my)50 b($count)e(=)i(0;)88 2384 y(my)g($c2)f(=)h
(new)f(Clair::Cluster;)88 2483 y(foreach)g(my)g($doc)g(\(values)g
(\045{)g($c->documents})e(\))j({)287 2583 y($count++;)287
2782 y(if)g(\($count)e(<=)i(40\))f({)487 2882 y
($c2->insert\($doc->get_id,)c($doc\);)287 2981 y(})88
3081 y(})p 2355 3206 V 60 3209 2299 4 v 185 3380 a Fk(W)-7
b(e)27 b(no)n(w)e(compute)f(the)i(cosine)f(matrix)h(for)f(the)h(ne)n(w)
f(cluster)-5 b(.)42 b(This)26 b(will)h(return)e(a)h(hash.)41
b(By)27 b(inde)o(xing)c(into)j(the)g(hash)60 3480 y(using)20
b(a)h(pair)g(of)f(documents,)f(we)i(can)g(get)f(the)h(cosine)g
(similarity)f(of)h(those)f(tw)o(o)h(documents.)k(W)-7
b(e)22 b(ne)o(xt)e(compute)f(the)i(binary)60 3579 y(cosine)e(using)h(a)
g(threshold)e(of)h(0.15.)24 b(W)-7 b(e)21 b(could)e(specify)g(the)g
(cosine)h(matrix,)f(b)n(ut)g(not)h(specifying)e(it)i(will)h(result)e
(in)h(the)g(use)g(of)60 3679 y(the)h(cosine)f(matrix)g(from)g(the)h
(last)g(compute)p 1389 3679 25 4 v 28 w(cosine)p 1630
3679 V 29 w(matrix.)26 b(This)21 b(returns)e(a)j(hash)e(with)h(the)g
(same)g(format)e(as)j(that)e(returned)60 3778 y(by)g(compute)p
457 3778 V 28 w(cosine)p 698 3778 V 29 w(matrix.)185
3878 y(Ne)o(xt,)e(we)g(create)g(a)h(netw)o(ork)d(based)i(on)g(the)g
(binary)f(cosine.)24 b(Ev)o(ery)17 b(document)f(with)i(at)h(least)g
(one)e(edge)h(\(e)o(xplained)e(ne)o(xt\))60 3978 y(will)j(become)e(a)i
(v)o(erte)o(x)e(in)h(the)g(netw)o(ork,)g(and)f(e)n(v)o(ery)g(pair)h(of)
g(documents)f(with)h(a)h(non-zero)d(cosine)i(matrix)f(will)i(ha)n(v)o
(e)f(an)g(edge)60 4077 y(between)h(their)h(corresponding)d(v)o
(ertices.)185 4177 y(Using)j(this)g(netw)o(ork,)f(we)i(compute)e(a)h
(fe)n(w)g(statistics,)i(getting)d(the)i(number)d(of)i(documents)f(in)h
(the)g(netw)o(ork)f(\(remember)m(,)60 4277 y(this)28
b(will)g(probably)c(be)j(less)i(than)d(the)i(40)e(we)i(started)f(with)g
(because)g(it)g(is)i(the)e(number)e(of)i(documents)e(with)j(at)f(least)
h(one)60 4376 y(edge\).)c(W)-7 b(e)21 b(also)g(print)e(out)h(the)g(a)n
(v)o(erage)f(and)h(maximum)e(diameter)i(of)g(the)g(netw)o(ork)f(we)h
(created.)p 60 4487 3594 4 v 60 5534 4 1047 v 88 4612
a Ff(my)50 b(\045cm)f(=)h($c2->compute_cosine_matrix\(\);)88
4712 y(my)g(\045bin_cos)e(=)i($c2->compute_binary_cosine\(0.15\);)88
4811 y(my)g($network)e(=)i($c2->create_network\(cosine_matrix)43
b(=>)50 b(\\\045bin_cos\);)88 5011 y(print)f("Number)g(of)g(documents)f
(in)i(network:)e(",)h($network->num_documents,)195 b(\\)88
5110 y("\\n";)88 5309 y(print)49 b("Average)f(diameter:)h(",)g
($network->diameter\(avg)d(=>)j(1\),)g("\\n";)88 5409
y(print)g("Maximum)f(diameter:)h(",)g($network->diameter\(\),)d("\\n";)
p 3650 5534 V 60 5537 3594 4 v 1893 5809 a Fk(45)p eop
end
%%Page: 46 46
TeXDict begin 46 45 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 490 a Fj(10)119
b(All)31 b(Code)f(Examples)60 676 y Fk(This)e(section)g(contains)f(man)
o(y)g(dif)n(ferent)f(scripts)i(which)g(can)f(help)h(understand)d
(Clairlib,)30 b(and)e(can)f(be)h(used)g(as)h(a)f(starting)60
776 y(point)c(for)f(man)o(y)g(common)g(tasks.)37 b(It)25
b(includes)e(all)i(unit)f(tests,)j(all)d(stand-alone)f(tests,)j(and)e
(all)h(utilities)g(distrib)n(uted)e(in)h(both)60 875
y(Clairlib-core)19 b(and)h(Clairlib-e)o(xt.)60 1113 y
Fh(10.1)99 b(List)25 b(of)g(Recipes)185 1269 y Fg(\017)41
b Fk(Unit)20 b(T)-6 b(ests)367 1451 y Fi(\226)41 b Fk(test)p
570 1451 25 4 v 30 w(alee)o(xtract.t)450 1567 y(Using)20
b(ALE,)g(e)o(xtract)g(a)g(corpus)f(in)i(a)f(DB)h(and)f(perform)e(se)n
(v)o(eral)i(searches)g(on)f(it)367 1700 y Fi(\226)41
b Fk(test)p 570 1700 V 30 w(alesearch.t)450 1816 y(From)20
b(a)g(small)h(set)g(of)f(documents,)e(b)n(uild)i(an)g(ALE)g(DB)h(and)f
(do)g(some)g(searches)367 1949 y Fi(\226)41 b Fk(test)p
570 1949 V 30 w(biased)p 813 1949 V 29 w(le)o(xrank.t)450
2066 y(Computes)20 b(the)g(le)o(xrank)e(v)n(alue)i(of)g(a)g(netw)o(ork)
f(gi)n(v)o(en)g(bias)i(sentences)367 2198 y Fi(\226)41
b Fk(test)p 570 2198 V 30 w(centrality)-5 b(.t)367 2331
y Fi(\226)41 b Fk(test)p 570 2331 V 30 w(cidr)-5 b(.t)450
2447 y(V)c(erify)19 b(CIDR)j(functionality)-5 b(,)17
b(document)h(sk)o(etches,)i(cluster)g(insertion,)f(clustering)367
2580 y Fi(\226)41 b Fk(test)p 570 2580 V 30 w(cidrwrapper)-5
b(.t)450 2697 y(Using)20 b(CIDR::Wrapper)m(,)f(add)h(a)h(document)d
(cluster)i(and)g(v)o(erify)e(clustering)367 2829 y Fi(\226)41
b Fk(test)p 570 2829 V 30 w(cluster)-5 b(.t)450 2946
y(T)f(est)28 b(man)o(y)e(basic)h(functions)f(of)h(the)g(Cluster)g
(class,)j(including)25 b(Document)h(insertion,)h(Netw)o(ork)g
(generation,)450 3045 y(and)20 b(more.)367 3178 y Fi(\226)41
b Fk(test)p 570 3178 V 30 w(compare)p 888 3178 V 28 w(idf.t)450
3294 y(Compare)19 b(results)i(of)f(Clair::Util)h(idf)f(calculations)f
(with)i(those)f(performed)d(by)j(the)g(b)n(uild)p 3127
3294 V 29 w(idf)g(script)367 3427 y Fi(\226)41 b Fk(test)p
570 3427 V 30 w(connection.t)450 3543 y(As)26 b(part)e(of)h(Bio,)h
(test)g(man)o(y)e(basic)h(functions)e(of)i(Connection,)f(such)g(as)i
(abstract)e(retrie)n(v)n(al,)h(citation)g(netw)o(ork)450
3643 y(analysis,)20 b(etc.)367 3776 y Fi(\226)41 b Fk(test)p
570 3776 V 30 w(corpus)p 823 3776 V 29 w(do)n(wnload.t)450
3892 y(T)-6 b(est)17 b(CorpusDo)n(wnload,)d(do)n(wnloading)f(a)k
(corpus)e(and)h(checking)f(the)h(produced)e(TF)i(and)g(IDF)h(against)e
(e)o(xpected)450 3992 y(results)367 4124 y Fi(\226)41
b Fk(test)p 570 4124 V 30 w(document)p 930 4124 V 28
w(idf.t)450 4241 y(T)-6 b(est)21 b(the)f(v)n(alues)g(assigned)g(to)g(v)
n(arious)f(w)o(ords)h(in)g(a)h(generated)d(IDF)367 4374
y Fi(\226)41 b Fk(test)p 570 4374 V 30 w(document.t)450
4490 y(T)-6 b(est)21 b(basic)f(Document)f(functionality:)k(stripping,)c
(splitting,)h(TF)g(generation,)e(\002ltering,)i(etc.)367
4623 y Fi(\226)41 b Fk(test)p 570 4623 V 30 w(esearchhandler)-5
b(.t)450 4739 y(T)f(est)21 b(Bio')-5 b(s)21 b(ESearchHandler)d(against)
i(a)g(reference)f(XML)h(parser)367 4872 y Fi(\226)41
b Fk(test)p 570 4872 V 30 w(esearch.t)450 4988 y(Perform)19
b(a)i(fe)n(w)f(basic)g(ESearch)g(queries)367 5121 y Fi(\226)41
b Fk(test)p 570 5121 V 30 w(eutils.t)450 5237 y(T)-6
b(est)21 b(Clair::Bio::EUtils')g(hash2ar)o(gs)d(and)i(b)n(uild)p
1914 5237 V 29 w(url)367 5370 y Fi(\226)41 b Fk(test)p
570 5370 V 30 w(generif.t)450 5486 y(T)-6 b(est)21 b
(Clair::Bio::GeneRIF')-5 b(s)21 b(basic)f(record)f(retrie)n(v)n(al)g
(functions)1893 5809 y(46)p eop end
%%Page: 47 47
TeXDict begin 47 46 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(test)p 570 210 25 4 v 30 w(gen.t)450 324 y(T)-6
b(est)21 b(some)f(statistical)i(computations)c(using)h(Clair::Gen)367
453 y Fi(\226)41 b Fk(test)p 570 453 V 30 w(girv)n(anNe)n(wman.t)450
567 y(T)-6 b(est)21 b(Girv)n(anNe)n(wman)d(algorithm)h(on)g(Karate)h
(data)367 695 y Fi(\226)41 b Fk(test)p 570 695 V 30 w(graf.t)450
809 y(As)21 b(part)f(of)g(Clair::Polisci,)h(test)g(basic)f(Graf)g
(functions)f(lik)o(e)h(to)p 2327 809 V 30 w(document)367
938 y Fi(\226)41 b Fk(test)p 570 938 V 30 w(hyperlink.t)450
1052 y(T)-6 b(est)21 b(the)f(ability)g(to)h(generate)e(a)h
(hyperlink-based)c(netw)o(ork)j(from)h(a)g(small)h(document)d(cluster)
367 1181 y Fi(\226)41 b Fk(test)p 570 1181 V 30 w(idf.t)450
1295 y(T)-6 b(est)21 b(TF)g(and)e(IDF)i(functions)e(dra)o(wing)f(on)i
(a)h(pre-do)n(wnloaded)16 b(corpus)367 1423 y Fi(\226)41
b Fk(test)p 570 1423 V 30 w(k)o(ernighanLin.t)367 1552
y Fi(\226)g Fk(test)p 570 1552 V 30 w(le)o(xrank2.t)450
1666 y(Computes)20 b(le)o(xrank)e(from)h(a)i(stemmed)e(line-based)g
(cluster)367 1794 y Fi(\226)41 b Fk(test)p 570 1794 V
30 w(le)o(xrank3.t)450 1908 y(Computes)20 b(le)o(xrank)e(from)h
(line-based,)g(stripped)g(and)h(stemmed)f(cluster)367
2037 y Fi(\226)41 b Fk(test)p 570 2037 V 30 w(le)o(xrank4.t)450
2151 y(Based)29 b(on)f(an)g(interacti)n(v)o(e)f(script,)j(this)f(test)g
(b)n(uilds)f(a)h(sentence-)e(based)h(cluster)m(,)h(then)f(a)h(netw)o
(ork,)g(computes)450 2251 y(le)o(xrank,)18 b(and)i(then)g(runs)g(MMR)g
(on)g(it)367 2379 y Fi(\226)41 b Fk(test)p 570 2379 V
30 w(le)o(xrank)p 850 2379 V 28 w(lar)o(ge)p 1044 2379
V 28 w(mxt.t)450 2493 y(T)-6 b(est)21 b(le)o(xrank)e(calculation)g(on)g
(a)i(netw)o(ork)e(ha)n(ving)g(used)h(MxT)-6 b(erminator)18
b(as)j(the)f(tool)g(to)g(split)h(sentences.)367 2622
y Fi(\226)41 b Fk(test)p 570 2622 V 30 w(le)o(xrank)p
850 2622 V 28 w(lar)o(ge.t)450 2736 y(T)-6 b(est)21 b(le)o(xrank)e
(calculation)g(on)g(a)i(netw)o(ork)e(ha)n(ving)g(used)h(T)-6
b(e)o(xt::Sentence)19 b(as)i(the)f(tool)g(to)g(split)h(sentences)367
2864 y Fi(\226)41 b Fk(test)p 570 2864 V 30 w(le)o(xrank.t)450
2978 y(Computes)20 b(le)o(xrank)e(on)i(a)h(small)f(netw)o(ork)367
3107 y Fi(\226)41 b Fk(test)p 570 3107 V 30 w(linear)p
790 3107 V 29 w(algebra.t)450 3221 y(A)21 b(v)n(ariety)e(of)h
(arithmetic)f(tests)j(of)e(the)g(linear)g(algebra)f(module)367
3349 y Fi(\226)41 b Fk(test)p 570 3349 V 30 w(mead)p
781 3349 V 29 w(summary)-5 b(.t)450 3464 y(T)f(ests)17
b(the)g(ability)e(of)h(Clair::MEAD::Summary)f(to)h(preserv)o(e)f
(features)g(of)h(sentences)g(and)f(other)h(basic)g(functions)367
3592 y Fi(\226)41 b Fk(test)p 570 3592 V 30 w(meadwrapper)p
1055 3592 V 27 w(mxt.t)450 3706 y(T)-6 b(est)19 b(basic)f
(Clair::MEAD::Wrapper)f(functions,)g(such)h(as)h(summarization,)d(v)n
(arying)g(compression)h(ratios,)h(fea-)450 3806 y(ture)i(sorting,)f
(etc.,)h(ha)n(ving)f(assumed)h(the)g(use)h(of)f(MxT)-6
b(erminator)17 b(as)k(a)g(sentence)e(splitting)h(tool)367
3934 y Fi(\226)41 b Fk(test)p 570 3934 V 30 w(meadwrapper)-5
b(.t)450 4048 y(T)f(est)19 b(basic)f(Clair::MEAD::Wrapper)f(functions,)
g(such)h(as)h(summarization,)d(v)n(arying)g(compression)h(ratios,)h
(fea-)450 4148 y(ture)i(sorting,)f(etc.,)h(ha)n(ving)f(assumed)h(the)g
(use)h(of)f(T)-6 b(e)o(xt::Sentence)18 b(as)j(a)g(sentence)e(splitting)
h(tool)367 4277 y Fi(\226)41 b Fk(test)p 570 4277 V 30
w(mmr)-5 b(.t)450 4391 y(T)f(ests)21 b(the)g(le)o(xrank)d(mmr)i(rerank)
o(er)e(on)i(a)h(netw)o(ork)367 4519 y Fi(\226)41 b Fk(test)p
570 4519 V 30 w(netw)o(ork)p 873 4519 V 29 w(adamic.t)450
4633 y(T)-6 b(est)21 b(the)f(function)f(of)h(adamic/adar)e(v)n(alue)i
(in)g(a)h(netw)o(ork.)367 4762 y Fi(\226)41 b Fk(test)p
570 4762 V 30 w(netw)o(ork)p 873 4762 V 29 w(reader)-5
b(.t)450 4876 y(T)f(est)22 b(basic)f(Netw)o(ork)f(functionality)-5
b(,)18 b(such)j(as)g(node/edge)e(addition)h(and)g(remo)o(v)n(al,)f
(path)h(generation,)f(statistics,)450 4975 y(matlab)h(graphics)f
(generation,)f(etc.)367 5104 y Fi(\226)41 b Fk(test)p
570 5104 V 30 w(netw)o(ork)p 873 5104 V 29 w(stat.t)450
5218 y(Generates)20 b(a)g(netw)o(ork,)f(then)h(computes)f(and)h
(displays)f(a)i(lar)o(ge)e(number)g(of)h(netw)o(ork)f(statistics)367
5347 y Fi(\226)41 b Fk(test)p 570 5347 V 30 w(netw)o(ork.t)450
5461 y(T)-6 b(est)22 b(basic)f(Netw)o(ork)f(functionality)-5
b(,)18 b(such)j(as)g(node/edge)e(addition)h(and)g(remo)o(v)n(al,)f
(path)h(generation,)f(statistics,)450 5560 y(matlab)h(graphics)f
(generation,)f(etc.)1893 5809 y(47)p eop end
%%Page: 48 48
TeXDict begin 48 47 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(test)p 570 210 25 4 v 30 w(netw)o(orkwrapper)p 1147
210 V 27 w(docs.t)450 324 y(T)-6 b(est)21 b(the)f(Netw)o(orkWrapper')-5
b(s)19 b(le)o(xrank)f(generation)g(for)i(a)g(small)h(cluster)f(of)g
(documents)367 451 y Fi(\226)41 b Fk(test)p 570 451 V
30 w(netw)o(orkwrapper)p 1147 451 V 27 w(sents.t)450
565 y(T)-6 b(est)20 b(the)f(Netw)o(orkWrapper')-5 b(s)17
b(le)o(xrank)g(generation)g(for)i(a)g(small)h(cluster)f(of)f(documents)
g(b)n(uilt)h(from)f(an)h(array)f(of)450 665 y(sentences)367
792 y Fi(\226)41 b Fk(test)p 570 792 V 30 w(pagerank.t)450
906 y(Creates)21 b(a)g(small)f(cluster)g(and)g(runs)g(pagerank,)d
(con\002rming)i(the)h(pagerank)e(distrib)n(ution)367
1033 y Fi(\226)41 b Fk(test)p 570 1033 V 30 w(parse.t)450
1147 y(P)o(arses)21 b(an)f(input)f(\002le)i(and)f(then)g(runs)f
(chunklink)f(on)i(it,)h(con\002rming)d(the)i(result)367
1274 y Fi(\226)41 b Fk(test)p 570 1274 V 30 w(random)p
856 1274 V 28 w(w)o(alk.t)450 1388 y(Creates)22 b(a)f(netw)o(ork,)f
(assigns)i(initial)f(probabilities)f(and)h(tests)h(taking)e(single)h
(steps)h(and)f(calculating)f(stationary)450 1487 y(distrib)n(ution)367
1615 y Fi(\226)41 b Fk(test)p 570 1615 V 30 w(record.t)450
1729 y(As)23 b(part)f(of)g(Clair::Polisci,)i(con\002rm)d(Record')-5
b(s)22 b(Graf)f(selection)h(functionalities,)g(as)h(well)f(as)h(con)m
(v)o(ersion)d(func-)450 1828 y(tions.)367 1956 y Fi(\226)41
b Fk(test)p 570 1956 V 30 w(sentence)p 887 1956 V 29
w(combiner)-5 b(.t)450 2069 y(T)f(est)32 b(a)f(v)n(ariety)e(of)i
(sentence-oriented)c(Document)i(functions,)j(such)e(as)i(sentence)e
(scoring,)i(and)e(combining)450 2169 y(sentence)20 b(feature)f(scores)
367 2296 y Fi(\226)41 b Fk(test)p 570 2296 V 30 w(sentence)p
887 2296 V 29 w(features)p 1180 2296 V 29 w(cluster)-5
b(.t)450 2410 y(T)f(est)21 b(the)f(propagation)d(of)j(feature)f(scores)
i(between)e(sentences)h(related)g(to)g(each)g(other)f(through)f
(clusters.)367 2538 y Fi(\226)41 b Fk(test)p 570 2538
V 30 w(sentence)p 887 2538 V 29 w(features)p 1180 2538
V 29 w(subs.t)450 2651 y(T)-6 b(est)19 b(the)f(assignment)f(of)h
(standard)f(features,)g(such)h(as)h(length,)e(position,)g(and)h
(centroid,)f(to)h(sentences)g(in)g(a)g(small)450 2751
y(Document)367 2878 y Fi(\226)41 b Fk(test)p 570 2878
V 30 w(sentence)p 887 2878 V 29 w(features.t)450 2992
y(Using)20 b(a)h(short)f(document,)e(test)j(man)o(y)e(sentence)g
(feature)h(functions)367 3119 y Fi(\226)41 b Fk(test)p
570 3119 V 30 w(speak)o(er)-5 b(.t)450 3233 y(As)21 b(part)f(of)g
(Clair::Polisci,)h(con\002rm)e(Speak)o(er)g(object)h(equality)f
(functions)367 3360 y Fi(\226)41 b Fk(test)p 570 3360
V 30 w(summary)-5 b(.t)450 3474 y(T)f(est)25 b(man)o(y)d(basic)i
(functions)e(of)i(Document)e(for)h(summarization,)f(v)n(arying)g
(summarization)g(ratio,)i(order)e(con-)450 3574 y(ditions,)e(as)h(well)
f(as)h(test)g(Cluster')-5 b(s)21 b(summarization)e(functions)367
3701 y Fi(\226)41 b Fk(test)p 570 3701 V 30 w(us)p 674
3701 V 30 w(connection.t)450 3815 y(T)-6 b(est)25 b(the)g
(Clair::Polisci::US::Connection)f(class)h(and)f(the)h(contents)e(of)i
(the)f(underlying)e(DB.)j(This)g(test)g(is)h(not)450
3914 y(intended)19 b(for)g(general)h(distrib)n(ution)f(\(i.e.)24
b(you)c(may)f(not)h(ha)n(v)o(e)g(it)h(in)f(your)f(cop)o(y)g(of)h
(clairlib\))367 4042 y Fi(\226)41 b Fk(test)p 570 4042
V 30 w(web)p 739 4042 V 30 w(search.t)450 4155 y(T)-6
b(est)25 b(Clair::Utils::W)-7 b(ebSearch)25 b(and)f(its)h(use)g(of)f
(the)g(Google)g(search)g(API)g(for)g(returning)e(v)n(arying)h(numbers)g
(of)450 4255 y(webpages)c(in)i(response)e(to)h(queries)367
4383 y Fi(\226)41 b Fk(test)p 570 4383 V 30 w(xmldoc.t)450
4496 y(T)-6 b(est)20 b(the)g(get)p 836 4496 V 29 w(te)o(xt)g(and)f(get)
p 1251 4496 V 29 w(sent)h(functions)e(of)h(Document,)f(basing)h(them)g
(on)g(an)g(XML)h(\002le)g(input)e(to)i(Document)367 4624
y Fi(\226)41 b Fk(test)p 570 4624 V 30 w(alee)o(xtract.t)450
4737 y(Using)20 b(ALE,)g(e)o(xtract)g(a)g(corpus)f(in)i(a)f(DB)h(and)f
(perform)e(se)n(v)o(eral)i(searches)g(on)f(it)367 4865
y Fi(\226)41 b Fk(test)p 570 4865 V 30 w(alesearch.t)450
4978 y(From)20 b(a)g(small)h(set)g(of)f(documents,)e(b)n(uild)i(an)g
(ALE)g(DB)h(and)f(do)g(some)g(searches)367 5106 y Fi(\226)41
b Fk(test)p 570 5106 V 30 w(le)o(xrank)p 850 5106 V 28
w(lar)o(ge)p 1044 5106 V 28 w(mxt.t)450 5220 y(T)-6 b(est)21
b(le)o(xrank)e(calculation)g(on)g(a)i(netw)o(ork)e(ha)n(ving)g(used)h
(MxT)-6 b(erminator)18 b(as)j(the)f(tool)g(to)g(split)h(sentences.)367
5347 y Fi(\226)41 b Fk(test)p 570 5347 V 30 w(meadwrapper)p
1055 5347 V 27 w(mxt.t)450 5461 y(T)-6 b(est)19 b(basic)f
(Clair::MEAD::Wrapper)f(functions,)g(such)h(as)h(summarization,)d(v)n
(arying)g(compression)h(ratios,)h(fea-)450 5560 y(ture)i(sorting,)f
(etc.,)h(ha)n(ving)f(assumed)h(the)g(use)h(of)f(MxT)-6
b(erminator)17 b(as)k(a)g(sentence)e(splitting)h(tool)1893
5809 y(48)p eop end
%%Page: 49 49
TeXDict begin 49 48 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(test)p 570 210 25 4 v 30 w(web)p 739 210 V 30 w(search.t)450
324 y(T)-6 b(est)25 b(Clair::Utils::W)-7 b(ebSearch)25
b(and)f(its)h(use)g(of)f(the)g(Google)g(search)g(API)g(for)g(returning)
e(v)n(arying)h(numbers)g(of)450 424 y(webpages)c(in)i(response)e(to)h
(queries)185 599 y Fg(\017)41 b Fk(Example)18 b(T)-6
b(ests)367 775 y Fi(\226)41 b Fk(biased)p 668 775 V 29
w(le)o(xrank.pl)450 889 y(Computes)20 b(the)g(le)o(xrank)e(v)n(alue)i
(of)g(a)g(netw)o(ork)f(gi)n(v)o(en)g(bias)i(sentences)367
1017 y Fi(\226)41 b Fk(cfnetw)o(ork)p 793 1017 V 28 w(basic.pl)450
1131 y(Creates)21 b(a)g(small)f(netw)o(ork)f(to)i(demonstrate)d(the)i
(CFNetw)o(ork)g(object)367 1259 y Fi(\226)41 b Fk(cfnetw)o(ork)p
793 1259 V 28 w(weighted.pl)450 1373 y(Creates)21 b(a)g(small)f
(weighted)f(netw)o(ork)g(to)i(demonstrate)d(the)i(CFNetw)o(ork)g
(object)367 1502 y Fi(\226)41 b Fk(cidr)-5 b(.pl)450
1616 y(Creates)21 b(a)g(CIDR)g(from)e(input)g(\002les)i(and)f(writes)h
(sample)f(centroid)e(\002les)367 1744 y Fi(\226)41 b
Fk(classify)-5 b(.pl)450 1858 y(Classi\002es)34 b(the)e(test)h
(documents)d(using)i(the)g(perceptron)d(parameters)i(calculated)g(pre)n
(viously;)36 b(requires)31 b(that)450 1957 y(learn.pl)19
b(has)i(been)e(run)367 2085 y Fi(\226)41 b Fk(classify)p
709 2085 V 30 w(weka.pl)450 2199 y(Extracts)21 b(bag-of-w)o(ords)e
(features)i(from)f(each)i(document)d(in)j(a)g(training)f(corpus)f(of)h
(baseball)h(and)f(hock)o(e)o(y)e(doc-)450 2299 y(uments,)h(then)f
(trains)i(and)e(e)n(v)n(aluates)h(a)g(W)-7 b(eka)21 b(decision)e(tree)i
(classi\002er)m(,)f(sa)n(ving)g(its)h(output)e(to)h(\002les)367
2427 y Fi(\226)41 b Fk(cluster)-5 b(.pl)450 2541 y(Creates)25
b(a)g(cluster)m(,)g(a)g(sentence-based)e(netw)o(ork)g(from)h(it,)i
(calculates)e(a)h(binary)e(cosine)h(and)g(b)n(uilds)h(a)g(netw)o(ork)
450 2641 y(based)20 b(on)g(the)g(cosine,)g(then)f(e)o(xports)g(it)i(to)
g(P)o(ajek)367 2769 y Fi(\226)41 b Fk(compare)p 743 2769
V 28 w(idf.pl)450 2883 y(Compares)20 b(results)g(of)g(Clair::Util)h
(idf)f(calculations)g(with)g(those)g(performed)d(by)j(the)g(b)n(uild)p
3159 2883 V 29 w(idf)g(script)367 3011 y Fi(\226)41 b
Fk(corpusdo)n(wnload)p 1006 3011 V 26 w(hyperlink.pl)450
3125 y(Do)n(wnloads)19 b(a)i(corpus)e(and)g(creates)i(a)f(netw)o(ork)f
(based)h(on)g(the)g(hyperlinks)e(between)h(the)h(webpages)367
3253 y Fi(\226)41 b Fk(corpusdo)n(wnload)p 1006 3253
V 26 w(list.pl)450 3367 y(Do)n(wnloads)19 b(a)i(corpus)e(and)g(mak)o
(es)h(stemmed)g(and)g(unstemmed)e(IDFs)j(and)f(TFs)367
3495 y Fi(\226)41 b Fk(corpusdo)n(wnload.pl)450 3609
y(Do)n(wnloads)19 b(a)i(corpus)e(from)g(a)i(\002le)f(containing)f
(URLs;)i(mak)o(es)f(IDFs)h(and)e(TFs)367 3738 y Fi(\226)41
b Fk(document)p 785 3738 V 28 w(idf.pl)450 3851 y(Loads)20
b(documents)e(from)i(an)g(input)f(dir;)h(strips)h(and)e(stems)i(them,)f
(and)g(then)f(b)n(uilds)h(an)g(IDF)h(from)e(them)367
3980 y Fi(\226)41 b Fk(document.pl)450 4094 y(Creates)21
b(Documents)e(from)g(strings,)h(\002les,)h(strips)f(and)g(stems)h
(them,)e(splits)j(them)d(into)h(lines,)h(sentences,)e(counts)450
4193 y(w)o(ords,)h(sa)n(v)o(es)g(them)367 4321 y Fi(\226)41
b Fk(features)p 719 4321 V 29 w(io.pl)450 4435 y(Same)32
b(as)g(features.pl)e(B)o(UT)-6 b(,)31 b(outputs)g(the)g(train)g(data)h
(set)g(as)g(document)d(and)i(feature)f(v)o(ectors)h(in)g(svm)p
3633 4435 V 30 w(light)450 4535 y(format,)19 b(reads)h(the)g(svm)p
1175 4535 V 29 w(light)g(formatted)f(\002le)i(and)f(con)m(v)o(erts)e
(it)j(to)f(perl)g(hash)367 4663 y Fi(\226)41 b Fk(features.pl)450
4777 y(Reads)27 b(docs)e(from)g(input/features/train,)g(calculates)g
(chi-squared)f(v)n(alues)i(for)f(all)i(e)o(xtracted)d(features,)j(sho)n
(ws)450 4877 y(w)o(ays)21 b(to)f(retrie)n(v)o(e)f(those)h(features)367
5005 y Fi(\226)41 b Fk(features)p 719 5005 V 29 w(traintest.pl)450
5119 y(Builds)25 b(the)f(feature)f(v)o(ector)g(for)g(training)g(and)h
(testing)g(datasets,)h(and)f(is)h(a)g(prerequisite)d(for)i(learn.pl)f
(and)g(clas-)450 5218 y(sify)-5 b(.pl)367 5347 y Fi(\226)41
b Fk(genericdoc.pl)450 5461 y(T)-6 b(ests)21 b(parsing)e(of)h(simple)g
(te)o(xt/html)f(\002le/string,)h(con)m(v)o(ersion)d(into)j(xml)f
(\002le,)i(instantiation)e(via)h(constructor)e(and)450
5560 y(morph\(\))1893 5809 y(49)p eop end
%%Page: 50 50
TeXDict begin 50 49 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(html.pl)450 326 y(T)-6 b(ests)21 b(the)g(html)f(stripping)f
(functionality)f(in)i(Documents)367 459 y Fi(\226)41
b Fk(hyperlink.pl)450 575 y(Mak)o(es)24 b(and)f(populates)f(a)i
(cluster)m(,)f(b)n(uilds)h(a)f(netw)o(ork)g(from)f(hyperlinks)f
(between)i(them;)i(then)d(tests)j(making)d(a)450 675
y(subset)367 808 y Fi(\226)41 b Fk(idf.pl)450 924 y(Creates)21
b(a)g(cluster)f(from)f(some)h(input)f(\002les,)i(then)f(b)n(uilds)g(an)
g(idf)g(from)f(the)h(lines)h(of)f(the)g(documents)367
1057 y Fi(\226)41 b Fk(inde)o(x)p 640 1057 25 4 v 28
w(dir\002les)p 899 1057 V 30 w(incremental.pl)450 1173
y(T)-6 b(ests)21 b(inde)o(x)e(update)g(using)h(Inde)o(x/dir\002les.pm;)
d(requires)j(inde)o(x)p 2378 1173 V 28 w(dir\002les.pl)f(to)i(be)f(run)
f(pre)n(viously)367 1306 y Fi(\226)41 b Fk(inde)o(x)p
640 1306 V 28 w(dir\002les.pl)450 1422 y(T)-6 b(ests)18
b(inde)o(x)d(update)g(using)h(Inde)o(x/dir\002les.pm,)d(inde)o(x)i(is)j
(created)d(in)i(produces/inde)o(x)p 3004 1422 V 26 w(dir\002les,)g
(complementary)450 1522 y(to)k(inde)o(x)p 726 1522 V
28 w(mldbm.pl)367 1655 y Fi(\226)41 b Fk(inde)o(x)p 640
1655 V 28 w(mldbm)p 905 1655 V 28 w(incremental.pl)450
1771 y(T)-6 b(ests)21 b(inde)o(x)e(update)g(using)h(Inde)o(x/mldbm.pm;)
c(requires)j(that)h(inde)o(x)p 2527 1771 V 29 w(mldbm.pl)e(w)o(as)j
(run)e(pre)n(viously)367 1904 y Fi(\226)41 b Fk(inde)o(x)p
640 1904 V 28 w(mldbm.pl)450 2020 y(T)-6 b(ests)25 b(inde)o(x)e
(creation)f(using)i(Inde)o(x/mldbm.pm,)c(outputs)j(stats,)i(uses)g
(input/inde)o(x/Shak)o(espear)m(,)20 b(creates)k(pro-)450
2120 y(duces/inde)o(x)p 853 2120 V 27 w(mldbm)367 2253
y Fi(\226)41 b Fk(ir)-5 b(.pl)450 2369 y(Builds)26 b(a)g(corpus)e(from)
h(some)g(te)o(xt)h(\002les,)h(then)e(mak)o(es)g(an)h(IDF)-7
b(,)26 b(a)g(TF)-7 b(,)26 b(and)f(outputs)f(some)i(information)d(from)
450 2468 y(them)367 2601 y Fi(\226)41 b Fk(learn.pl)450
2717 y(Uses)27 b(feature)e(v)o(ectors)g(in)h(the)g(svm)p
1523 2717 V 29 w(light)g(format)e(and)i(calculates)f(and)h(sa)n(v)o(es)
g(perceptron)d(parameters;)28 b(needs)450 2817 y(features)p
719 2817 V 29 w(traintest.pl)367 2950 y Fi(\226)41 b
Fk(le)o(xrank2.pl)450 3066 y(Computes)20 b(le)o(xrank)e(from)h(a)i
(stemmed)e(line-based)g(cluster)367 3199 y Fi(\226)41
b Fk(le)o(xrank3.pl)450 3315 y(Computes)20 b(le)o(xrank)e(from)h
(line-based,)g(stripped)g(and)h(stemmed)f(cluster)367
3448 y Fi(\226)41 b Fk(le)o(xrank4.pl)450 3564 y(Based)29
b(on)f(an)g(interacti)n(v)o(e)f(script,)j(this)f(test)g(b)n(uilds)f(a)h
(sentence-)e(based)h(cluster)m(,)h(then)f(a)h(netw)o(ork,)g(computes)
450 3664 y(le)o(xrank,)18 b(and)i(then)g(runs)g(MMR)g(on)g(it)367
3797 y Fi(\226)41 b Fk(le)o(xrank)p 705 3797 V 28 w(lar)o(ge.pl)450
3913 y(Builds)21 b(a)f(cluster)g(from)f(a)h(set)h(of)e(\002les,)i
(computes)e(a)h(cosine)g(matrix)f(and)g(then)h(le)o(xrank,)e(then)h
(creates)h(a)h(netw)o(ork)450 4013 y(and)f(a)g(cluster)h(using)e(a)i
(le)o(xrank-based)c(threshold)i(of)h(0.2)367 4145 y Fi(\226)41
b Fk(le)o(xrank.pl)450 4262 y(Computes)20 b(le)o(xrank)e(on)i(a)h
(small)f(netw)o(ork)367 4395 y Fi(\226)41 b Fk(linear)p
645 4395 V 29 w(algebra.pl)450 4511 y(A)21 b(v)n(ariety)e(of)h
(arithmetic)f(tests)j(of)e(the)g(linear)g(algebra)f(module)367
4644 y Fi(\226)41 b Fk(lsi.pl)450 4760 y(Constructs)18
b(a)h(latent)g(semantic)f(inde)o(x)f(from)g(a)i(corpus)e(of)h(baseball)
g(and)g(hock)o(e)o(y)f(documents,)f(then)i(uses)h(that)g(in-)450
4859 y(de)o(x)e(to)g(map)g(terms,)g(queries,)g(and)g(documents)e(to)j
(latent)f(semantic)g(space.)24 b(The)17 b(position)f(v)o(ectors)g(of)h
(documents)450 4959 y(in)i(that)g(space)g(are)g(then)g(used)g(to)g
(train)g(and)f(e)n(v)n(aluate)g(a)i(SVM)f(classi\002er)h(using)e(the)h
(W)-7 b(eka)20 b(interf)o(ace)e(pro)o(vided)e(in)450
5059 y(Clair::Interf)o(ace::W)-7 b(eka)367 5192 y Fi(\226)41
b Fk(mead)p 636 5192 V 29 w(summary)-5 b(.pl)450 5308
y(T)f(ests)29 b(MEAD')-5 b(s)28 b(summarizer)e(on)i(a)g(cluster)g(of)f
(tw)o(o)h(documents,)g(prints)f(features)g(for)g(each)h(sentence)f(of)h
(the)450 5407 y(summary)1893 5809 y(50)p eop end
%%Page: 51 51
TeXDict begin 51 50 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(me)o(ga.pl)450 326 y(Do)n(wnloads)21 b(documents)g(using)i
(CorpusDo)n(wnload,)d(then)i(mak)o(es)g(IDFs,)i(TFs,)g(b)n(uilds)e(a)h
(cluster)g(from)f(them,)g(a)450 426 y(netw)o(ork)d(based)h(on)g(a)g
(binary)f(cosine,)h(and)g(tests)h(the)f(netw)o(ork)f(for)h(a)g(couple)f
(of)h(properties)367 559 y Fi(\226)41 b Fk(mmr)-5 b(.pl)450
675 y(T)f(ests)21 b(the)g(le)o(xrank)d(rerank)o(er)h(on)g(a)i(netw)o
(ork)367 808 y Fi(\226)41 b Fk(netw)o(orkstat.pl)450
924 y(Generates)20 b(a)g(netw)o(ork,)f(then)h(computes)f(and)h
(displays)f(a)i(lar)o(ge)e(number)g(of)h(netw)o(ork)f(statistics)367
1057 y Fi(\226)41 b Fk(pagerank.pl)450 1173 y(Creates)21
b(a)g(small)f(cluster)g(and)g(runs)g(pagerank,)d(displaying)i(the)h
(pagerank)e(distrib)n(ution)367 1306 y Fi(\226)41 b Fk(parse.pl)450
1422 y(P)o(arses)21 b(an)f(input)f(\002le)i(and)f(then)g(runs)f
(chunklink)f(on)i(it)367 1555 y Fi(\226)41 b Fk(query)-5
b(.pl)450 1671 y(Requires)22 b(inde)o(x)o(es)g(to)g(be)h(b)n(uilt)g
(via)f(inde)o(x)p 1720 1671 25 4 v 28 w(*.pl)g(scripts,)i(sho)n(ws)e
(queries)g(implemented)f(in)i(Clair::Info::Query)-5 b(,)450
1771 y(single-w)o(ord)19 b(and)g(phrase)h(queries,)f(meta-data)g
(retrie)n(v)n(al)g(methods)367 1904 y Fi(\226)41 b Fk(random)p
711 1904 V 28 w(w)o(alk.pl)450 2020 y(Creates)22 b(a)f(netw)o(ork,)f
(assigns)i(initial)f(probabilities)f(and)h(tests)h(taking)e(single)h
(steps)h(and)f(calculating)f(stationary)450 2120 y(distrib)n(ution)367
2253 y Fi(\226)41 b Fk(read)p 599 2253 V 29 w(dir\002les.pl)450
2369 y(Requires)27 b(inde)o(x)p 963 2369 V 29 w(*.pl)f(scripts)i(to)g
(ha)n(v)o(e)f(been)g(run,)h(sho)n(ws)f(ho)n(w)g(to)h(access)g(the)g
(document)p 3207 2369 V 27 w(inde)o(x)e(and)h(the)h(in-)450
2468 y(v)o(erted)p 663 2468 V 28 w(inde)o(x,)19 b(ho)n(w)h(to)g(use)g
(common)f(access)i(API)f(to)g(retrie)n(v)o(e)f(information)367
2601 y Fi(\226)41 b Fk(sampling.pl)450 2717 y(Ex)o(ercises)20
b(netw)o(ork)f(sampling)g(using)h(RandomNode)e(and)h(F)o(orestFire)367
2850 y Fi(\226)41 b Fk(statistics.pl)450 2967 y(T)-6
b(ests)21 b(linear)f(re)o(gression)f(and)h(T)g(test)h(code)367
3099 y Fi(\226)41 b Fk(stem.pl)450 3216 y(T)-6 b(ests)21
b(the)g(Clair::Utils::Stem)g(stemmer)367 3348 y Fi(\226)41
b Fk(summary)-5 b(.pl)450 3465 y(T)f(est)21 b(the)f(cluster)g
(summarization)f(ability)h(using)f(v)n(arious)g(features)367
3597 y Fi(\226)41 b Fk(w)o(ordcount)p 812 3597 V 27 w(dir)-5
b(.pl)450 3714 y(Counts)20 b(the)g(w)o(ords)g(in)h(each)e(\002le)i(of)f
(a)h(directory;)d(outputs)i(report)367 3847 y Fi(\226)41
b Fk(w)o(ordcount.pl)450 3963 y(Using)20 b(Cluster)h(and)f(Document,)e
(counts)h(the)i(w)o(ords)e(in)i(each)f(\002le)h(of)e(a)i(directory)367
4096 y Fi(\226)41 b Fk(xmldoc.pl)450 4212 y(T)-6 b(ests)21
b(the)g(XML)f(to)g(te)o(xt)g(function)f(of)h(Document)367
4345 y Fi(\226)41 b Fk(classify)p 709 4345 V 30 w(weka.pl)450
4461 y(Extracts)21 b(bag-of-w)o(ords)e(features)i(from)f(each)i
(document)d(in)j(a)g(training)f(corpus)f(of)h(baseball)h(and)f(hock)o
(e)o(y)e(doc-)450 4561 y(uments,)h(then)f(trains)i(and)e(e)n(v)n
(aluates)h(a)g(W)-7 b(eka)21 b(decision)e(tree)i(classi\002er)m(,)f(sa)
n(ving)g(its)h(output)e(to)h(\002les)367 4693 y Fi(\226)41
b Fk(lsi.pl)450 4810 y(Constructs)18 b(a)h(latent)g(semantic)f(inde)o
(x)f(from)g(a)i(corpus)e(of)h(baseball)g(and)g(hock)o(e)o(y)f
(documents,)f(then)i(uses)h(that)g(in-)450 4909 y(de)o(x)e(to)g(map)g
(terms,)g(queries,)g(and)g(documents)e(to)j(latent)f(semantic)g(space.)
24 b(The)17 b(position)f(v)o(ectors)g(of)h(documents)450
5009 y(in)i(that)g(space)g(are)g(then)g(used)g(to)g(train)g(and)f(e)n
(v)n(aluate)g(a)i(SVM)f(classi\002er)h(using)e(the)h(W)-7
b(eka)20 b(interf)o(ace)e(pro)o(vided)e(in)450 5108 y(Clair::Interf)o
(ace::W)-7 b(eka)367 5241 y Fi(\226)41 b Fk(parse.pl)450
5358 y(P)o(arses)21 b(an)f(input)f(\002le)i(and)f(then)g(runs)f
(chunklink)f(on)i(it)185 5540 y Fg(\017)41 b Fk(Utilities)1893
5809 y(51)p eop end
%%Page: 52 52
TeXDict begin 52 51 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(bfs)p 557 210 25 4 v 30 w(e)o(xtract)p 813 210 V
28 w(subnet.pl)367 343 y Fi(\226)g Fk(chunk)p 660 343
V 28 w(document.pl)450 459 y(Breaks)21 b(a)f(te)o(xt)g(\002le)h(into)f
(multiple)g(\002les)h(of)f(a)g(gi)n(v)o(en)f(w)o(ord)h(length)367
592 y Fi(\226)41 b Fk(compute)p 743 592 V 28 w(le)o(xrank.pl)367
725 y Fi(\226)g Fk(con)m(v)o(ert)p 702 725 V 28 w(netw)o(ork.pl)367
858 y Fi(\226)g Fk(corpus)p 678 858 V 28 w(to)p 771 858
V 30 w(cos.pl)450 974 y(Calculates)21 b(cosine)f(similarity)g(for)f(a)i
(corpus)367 1107 y Fi(\226)41 b Fk(corpus)p 678 1107
V 28 w(to)p 771 1107 V 30 w(cos-threaded.pl)450 1223
y(Calculates)21 b(cosine)f(similarity)g(using)f(multiple)h(threads)367
1356 y Fi(\226)41 b Fk(corpus)p 678 1356 V 28 w(to)p
771 1356 V 30 w(le)o(xical)p 1022 1356 V 29 w(netw)o(ork.pl)450
1472 y(Generates)20 b(a)g(le)o(xical)g(netw)o(ork)f(for)h(a)h(corpus)
367 1605 y Fi(\226)41 b Fk(corpus)p 678 1605 V 28 w(to)p
771 1605 V 30 w(netw)o(ork.pl)450 1721 y(Generates)20
b(a)g(hyperlink)e(netw)o(ork)h(from)g(corpus)g(HTML)h(\002les)367
1854 y Fi(\226)41 b Fk(cos)p 566 1854 V 30 w(to)p 661
1854 V 29 w(cosplots.pl)450 1970 y(Generates)27 b(cosine)h(distrib)n
(ution)e(plots,)k(creating)d(a)h(histogram)e(in)i(log-log)e(space,)k
(and)d(a)h(cumulati)n(v)o(e)e(cosine)450 2070 y(plot)20
b(histogram)f(in)h(log-log)f(space)367 2203 y Fi(\226)41
b Fk(cos)p 566 2203 V 30 w(to)p 661 2203 V 29 w(histograms.pl)450
2319 y(Generates)20 b(de)o(gree)f(distrib)n(ution)g(histograms)g(from)g
(de)o(gree)g(distrib)n(ution)g(data)367 2452 y Fi(\226)41
b Fk(cos)p 566 2452 V 30 w(to)p 661 2452 V 29 w(netw)o(orks.pl)450
2568 y(Generate)20 b(series)g(of)g(netw)o(orks)g(by)f(incrementing)f
(through)g(cosine)i(cutof)n(fs)367 2701 y Fi(\226)41
b Fk(cos)p 566 2701 V 30 w(to)p 661 2701 V 29 w(stats.pl)450
2817 y(Generates)20 b(a)g(table)h(of)f(netw)o(ork)f(statistics)i(for)f
(netw)o(orks)f(by)h(incrementing)e(through)g(cosine)i(cutof)n(fs)367
2950 y Fi(\226)41 b Fk(cra)o(wl)p 639 2950 V 29 w(url.pl)450
3066 y(Cra)o(wls)21 b(from)e(a)i(starting)e(URL,)i(returning)d(a)j
(list)g(of)f(URLs)367 3199 y Fi(\226)41 b Fk(directory)p
757 3199 V 28 w(to)p 850 3199 V 29 w(corpus.pl)450 3315
y(Generates)20 b(a)g(clairlib)g(Corpus)g(from)f(a)i(directory)d(of)i
(documents)367 3448 y Fi(\226)41 b Fk(do)n(wnload)p 783
3448 V 27 w(urls.pl)450 3564 y(Do)n(wnloads)19 b(a)i(set)g(of)f(URLs)
367 3697 y Fi(\226)41 b Fk(erase)p 626 3697 V 30 w(corpus.pl)367
3830 y Fi(\226)g Fk(erase)p 626 3830 V 30 w(isolated)p
915 3830 V 29 w(nodes.pl)367 3963 y Fi(\226)g Fk(e)o(xtract)p
681 3963 V 29 w(ngrams.pl)450 4079 y(Extracts)20 b(n-gram)f(counts)g
(from)g(a)i(\002le)g(or)f(set)h(of)f(\002les)h(in)f(a)h(directory)-5
b(,)367 4212 y Fi(\226)41 b Fk(generate)p 738 4212 V
28 w(random)p 1022 4212 V 28 w(netw)o(ork.pl)450 4328
y(Generates)20 b(a)g(random)f(netw)o(ork)367 4461 y Fi(\226)41
b Fk(idf)p 548 4461 V 29 w(query)-5 b(.pl)450 4577 y(Looks)20
b(up)f(idf)h(v)n(alues)g(for)g(terms)g(in)g(a)h(corpus)367
4710 y Fi(\226)41 b Fk(inde)o(x)p 640 4710 V 28 w(corpus.pl)450
4826 y(Builds)21 b(the)f(TF)h(and)e(IDF)i(indices)f(for)f(a)i(corpus)e
(as)i(well)g(as)g(se)n(v)o(eral)e(other)g(support)g(indices)367
4959 y Fi(\226)41 b Fk(lines)p 612 4959 V 30 w(to)p 707
4959 V 29 w(docs.pl)450 5075 y(Con)m(v)o(erts)19 b(a)i(document)d(with)
i(sentences)g(into)g(a)h(set)g(of)f(documents)e(with)j(one)e(sentence)h
(per)g(document)367 5208 y Fi(\226)41 b Fk(link)p 585
5208 V 29 w(synthetic)p 915 5208 V 29 w(collection.pl)450
5324 y(Links)20 b(a)h(collection)e(using)h(a)g(certain)g(netw)o(ork)f
(generator)367 5457 y Fi(\226)41 b Fk(list)p 556 5457
V 31 w(to)p 652 5457 V 29 w(cos)p 792 5457 V 30 w(stats.pl)1893
5809 y(52)p eop end
%%Page: 53 53
TeXDict begin 53 52 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 367 210 a Fi(\226)41
b Fk(list)p 556 210 25 4 v 31 w(to)p 652 210 V 29 w(le)o(xrank.pl)450
326 y(uses)21 b(\002le)g(containing)d(a)j(list)g(of)f(sentences)g(and)f
(thier)h(cosines)367 459 y Fi(\226)41 b Fk(mak)o(e)p
635 459 V 29 w(synth)p 845 459 V 29 w(collection.pl)450
575 y(Mak)o(es)20 b(a)h(synthetic)f(document)e(set)367
708 y Fi(\226)41 b Fk(manage)p 715 708 V 28 w(corpus.pl)367
841 y Fi(\226)g Fk(netw)o(ork)p 728 841 V 28 w(gro)n(wth.pl)450
957 y(Generates)20 b(graphs)f(for)h(queries)f(in)h(web)g(search)g
(engine)f(query)g(logs)h(and)g(measures)g(netw)o(ork)f(statistics)367
1090 y Fi(\226)41 b Fk(netw)o(ork)p 728 1090 V 28 w(to)p
821 1090 V 30 w(plots.pl)450 1206 y(Generates)26 b(de)o(gree)f(distrib)
n(ution)h(plots,)i(creating)d(a)i(histogram)f(in)g(log-log)f(space,)j
(and)e(a)h(cumulati)n(v)o(e)e(de)o(gree)450 1306 y(distrib)n(ution)19
b(histogram)g(in)h(log-log)f(space.)367 1439 y Fi(\226)41
b Fk(print)p 613 1439 V 29 w(netw)o(ork)p 915 1439 V
28 w(stats.pl)450 1555 y(Prints)21 b(v)n(arious)e(netw)o(ork)g
(statistics)367 1688 y Fi(\226)41 b Fk(search)p 668 1688
V 29 w(to)p 762 1688 V 30 w(url.pl)450 1804 y(Searches)20
b(on)g(a)g(Google)g(query)e(and)i(prints)g(a)h(list)g(of)f(URLs)367
1937 y Fi(\226)41 b Fk(sentences)p 774 1937 V 29 w(to)p
868 1937 V 30 w(docs.pl)450 2053 y(Con)m(v)o(erts)19
b(a)i(document)d(with)i(sentences)g(into)g(a)h(set)g(of)f(documents)e
(with)j(one)e(sentence)h(per)g(document)367 2186 y Fi(\226)41
b Fk(stats2html.pl)367 2319 y Fi(\226)g Fk(stats2matlab)m(.pl)367
2452 y Fi(\226)g Fk(tf)p 506 2452 V 30 w(query)-5 b(.pl)450
2568 y(Looks)20 b(up)f(tf)i(v)n(alues)f(for)f(terms)h(in)h(a)f(corpus)
367 2701 y Fi(\226)41 b Fk(w)o(ordnet)p 728 2701 V 28
w(to)p 821 2701 V 30 w(netw)o(ork.pl)450 2817 y(Generates)20
b(a)g(synon)o(ym)e(netw)o(ork)h(from)h(W)-7 b(ordNet)367
2950 y Fi(\226)41 b Fk(search)p 668 2950 V 29 w(to)p
762 2950 V 30 w(url.pl)450 3066 y(Searches)20 b(on)g(a)g(Google)g
(query)e(and)i(prints)g(a)h(list)g(of)f(URLs)367 3199
y Fi(\226)41 b Fk(w)o(ordnet)p 728 3199 V 28 w(to)p 821
3199 V 30 w(netw)o(ork.pl)450 3315 y(Generates)20 b(a)g(synon)o(ym)e
(netw)o(ork)h(from)h(W)-7 b(ordNet)60 3553 y Fh(10.2)99
b(Unit)25 b(T)-9 b(ests)60 3709 y Fk(This)20 b(section)g(contains)g
(the)g(unit)g(tests)h(included)e(with)h(Clairlib)m(.)1893
5809 y(53)p eop end
%%Page: 54 54
TeXDict begin 54 53 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.1)81
b(test)p 481 210 25 4 v 29 w(aleextract.t)p 185 279 3205
4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_aleextract.t)
213 462 y(#)g(functionality:)f(Using)h(ALE,)h(extract)e(a)i(corpus)f
(in)h(a)f(DB)h(and)f(perform)g(several)213 541 y(#)g(functionality:)f
(searches)h(on)g(it)213 698 y(use)g(warnings;)213 777
y(use)g(strict;)213 856 y(use)g(Clair::Config)f(qw\($ALE_PORT)g
($ALE_DB_USER)g($ALE_DB_PASS\);)213 935 y(use)h(FindBin;)213
1014 y(use)g(Test::More;)213 1172 y(if)g(\(not)h(defined)e($ALE_PORT)h
(or)g(not)h(-e)f($ALE_PORT\))g({)372 1250 y(plan\(skip_all)f(=>)i
("ALE_PORT)e(not)i(defined)e(in)i(Clair::Config)e(or)h(doesn't)g
(exist"\);)213 1329 y(})g(else)h({)372 1408 y(plan\(tests)f(=>)g(10\);)
213 1487 y(})213 1645 y(use_ok\("Clair::ALE::Extract"\);)213
1724 y(use_ok\("Clair::ALE::Search"\);)213 1802 y(use)g
(Clair::Utils::ALE)e(qw\(\045ALE_ENV\);)213 1960 y(#)i(Set)h(up)f(the)h
(ALE)f(environment)213 2039 y(my)g($doc_dir)g(=)h
("$FindBin::Bin/input/ale";)213 2118 y($ENV{MYSQL_UNIX_PORT})c(=)k
($ALE_PORT;)213 2197 y($ALE_ENV{ALESPACE})d(=)j("test_extract";)213
2276 y($ALE_ENV{ALECACHE})d(=)j($doc_dir;)213 2355 y(if)f(\(defined)g
($ALE_DB_USER\))f({)372 2433 y($ALE_ENV{ALE_DB_USER})f(=)j
($ALE_DB_USER;)213 2512 y(})213 2591 y(if)f(\(defined)g($ALE_DB_PASS\))
f({)372 2670 y($ALE_ENV{ALE_DB_PASS})f(=)j($ALE_DB_PASS;)213
2749 y(})213 2907 y(#)f(Extract)g(the)h(links)213 2986
y(my)f($e)h(=)g(Clair::ALE::Extract->new\(\);)213 3064
y(my)f(@files)g(=)h(glob\("$doc_dir/tangra.si.umich.edu/clair/tes)o
(thtml/)2690 3076 y(*)2729 3064 y(.html")o(\);)213 3143
y($e->extract\()e(drop_tables)g(=>)i(1,)f(files)g(=>)h(\\@files)f(\);)
213 3301 y(#)g(TEST)h(1)f(-)h(total)f(pages)213 3380
y(my)g($search)g(=)h(Clair::ALE::Search->new\()372 3459
y(limit)f(=>)h(200,)213 3538 y(\);)213 3617 y
(is\(count_results\($search\),)c(107,)j("Total)g(links)g(indexed"\);)
213 3774 y(#)g(TEST)h(2)f(-)h(just)f(from)h(index.html)213
3853 y($search)f(=)g(Clair::ALE::Search->new\()372 3932
y(limit)g(=>)h(100,)372 4011 y(source_url)f(=>)g
("http://tangra.si.umich.edu/clair/testhtml")213 4090
y(\);)213 4169 y(is\(count_results\($search\),)d(3,)j("From)g
(index.html"\);)213 4326 y(#)g(TEST)h(3)f(-)h(just)f(to)h(google)213
4405 y($search)f(=)g(Clair::ALE::Search->new\()372 4484
y(limit)g(=>)h(100,)372 4563 y(dest_url)f(=>)g("http://www.google.com")
213 4642 y(\);)213 4721 y(is\(count_results\($search\),)d(1,)j("To)h
(google.com"\);)213 4878 y(#)f(TEST)h(4)f(-)h("search)f(the)g(web")213
4957 y($search)g(=)g(Clair::ALE::Search->new\()372 5036
y(limit)g(=>)h(100,)372 5115 y(link1_text)f(=>)g("Search)g(the)g(web")
213 5194 y(\);)213 5273 y(is\(count_results\($search\),)d(1,)j("With)g
(text)h(\\"Search)e(the)i(web\\""\);)213 5431 y(#)f(TEST)h(5,6)f(-)h
("search)f(the)g(web")g(urls)213 5509 y($search)g(=)g
(Clair::ALE::Search->new\()372 5588 y(limit)g(=>)h(100,)p
3386 5692 V 185 5695 3205 4 v 1893 5809 a Fk(54)p eop
end
%%Page: 55 55
TeXDict begin 55 54 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2846 4 v 185
2783 4 2653 v 372 234 a Fa(link1_text)39 b(=>)g("Search)g(the)g(web")
213 313 y(\);)213 392 y(my)g($conn)g(=)h($search->queryresult\(\);)213
471 y(my)f($link)g(=)h($conn->{links}->[0];)213 550 y
(is\($link->{from}->{url},)372 629 y
("http://tangra.si.umich.edu/clair/testhtml",)33 b("link)40
b(from"\);)213 708 y(is\($link->{to}->{url},)c
("http://www.google.com",)h("link)i(to"\);)213 865 y(#)g(Clean)h(up)213
944 y($e->drop_tables\(\);)213 1102 y(#)f(TEST)h(7,8)f(-)h(from)f
(CorpusDownload)f(style)h(corpus)213 1181 y($e)g(=)h
(Clair::ALE::Extract->new\(\);)213 1260 y(my)f($old_space)g(=)g
($ALE_ENV{ALESPACE};)213 1338 y($e->extract\()372 1417
y(corpusname)g(=>)g("myCorpus",)372 1496 y(rootdir)g(=>)h
("$FindBin::Bin/input/ale/corpus")213 1575 y(\);)213
1654 y(is\($ALE_ENV{ALESPACE},)c($old_space,)j("extract)f(doesn't)h
(change)g(ALESPACE"\);)213 1733 y($ALE_ENV{ALESPACE})e(=)j("myCorpus";)
213 1812 y($search)f(=)g(Clair::ALE::Search->new\(\);)213
1891 y(is\(count_results\($search\),)d(5,)j("Total)g(links"\);)213
1969 y(#$e->drop_tables\(\);)213 2206 y(#)g(Helper)213
2285 y(sub)g(count_results)f({)372 2364 y(my)i($search)f(=)g(shift;)372
2443 y(my)h($total)f(=)g(0;)372 2522 y($total++)g(while)g
($search->queryresult\(\);)372 2600 y(return)g($total;)213
2679 y(})p 3027 2783 V 185 2786 2846 4 v 1893 5809 a
Fk(55)p eop end
%%Page: 56 56
TeXDict begin 56 55 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.2)81
b(test)p 481 210 25 4 v 29 w(alesear)o(ch.t)p 185 279
3205 4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g
(test_alesearch.t)213 462 y(#)g(functionality:)f(From)h(a)h(small)f
(set)h(of)f(documents,)g(build)g(an)g(ALE)h(DB)f(and)h(do)f(some)213
541 y(#)g(functionality:)f(searches)213 698 y(use)h(warnings;)213
777 y(use)g(strict;)213 856 y(use)g(Clair::Config;)213
935 y(use)g(FindBin;)213 1014 y(use)g(Test::More;)213
1172 y(if)g(\(not)h(defined)e($ALE_PORT)h(or)g(not)h(-e)f($ALE_PORT\))g
({)372 1250 y(plan\(skip_all)f(=>)i("ALE_PORT)e(not)i(defined)e(in)i
(Clair::Config)e(or)h(doesn't)g(exist"\);)213 1329 y(})g(else)h({)372
1408 y(plan\(tests)f(=>)g(7\);)213 1487 y(})213 1645
y(use_ok\("Clair::ALE::Extract"\);)213 1724 y
(use_ok\("Clair::ALE::Search"\);)213 1802 y(use)g(Clair::Utils::ALE)e
(qw\(\045ALE_ENV\);)213 1960 y(#)i(Set)h(up)f(the)h(ALE)f(environment)
213 2039 y(my)g($doc_dir)g(=)h("$FindBin::Bin/input/ale";)213
2118 y($ENV{MYSQL_UNIX_PORT})c(=)k($ALE_PORT;)213 2197
y($ALE_ENV{ALESPACE})d(=)j("test_search";)213 2276 y
($ALE_ENV{ALECACHE})d(=)j($doc_dir;)213 2355 y(if)f(\(defined)g
($ALE_DB_USER\))f({)372 2433 y($ALE_ENV{ALE_DB_USER})f(=)j
($ALE_DB_USER;)213 2512 y(})213 2591 y(if)f(\(defined)g($ALE_DB_PASS\))
f({)372 2670 y($ALE_ENV{ALE_DB_PASS})f(=)j($ALE_DB_PASS;)213
2749 y(})213 2986 y(my)f($extract)g(=)h(Clair::ALE::Extract->new\(\);)
213 3064 y(my)f(@files)g(=)h(glob\("$doc_dir/foo.com/)1611
3076 y(*)1651 3064 y(.html"\);)213 3143 y($extract->extract\(files)c
(=>)k(\\@files\);)213 3301 y(#)f(TEST)h(1)f(-)h(total)f(links)213
3380 y(my)g($search)g(=)h(Clair::ALE::Search->new\(\);)213
3459 y(is\(count_results\($search\),)c(5,)j("Total)g(links"\);)213
3617 y(#)g(TEST)h(2)f(-)h(links)f(to)h(self)213 3695
y($search)78 b(=)40 b(Clair::ALE::Search->new\(link1_word)35
b(=>)k("self"\);)213 3774 y(is\(count_results\($search\),)d(2,)j("Self)
g(links"\);)213 3932 y(#)g(TEST)h(3)f(-)h(limit)f(the)h(results)213
4011 y($search)f(=)g(Clair::ALE::Search->new\(limit)d(=>)j(1\);)213
4090 y(is\(count_results\($search\),)d(1,)j("limit)g(results"\);)213
4247 y(#)g(TEST)h(4)f(-)h(case)f(shouldn't)g(matter)213
4326 y($search)g(=)g(Clair::ALE::Search->new\(link1_word)c(=>)40
b("self"\);)213 4405 y(my)f($search2)g(=)h
(Clair::ALE::Search->new\(link1_word)34 b(=>)40 b("SeLF"\);)213
4484 y(is\(count_results\($search\),)c(count_results\($search2\),)g
("case"\);)213 4642 y(#)j(TEST)h(5)f(-)h(mulltilink)e(testing)213
4721 y($search)h(=)g(Clair::ALE::Search->new\()e(link2_word)h(=>)h
("web",)g(link1_word)g(=>)g("self")g(\);)213 4800 y
(is\(count_results\($search\),)d(1,)j("multilink)g(search"\);)213
4957 y(#)g(Clean)h(up)213 5036 y($extract->drop_tables\(\);)213
5194 y(sub)f(count_results)f({)372 5273 y(my)i($search)f(=)g(shift;)372
5352 y(my)h($total)f(=)g(0;)372 5431 y($total++)g(while)g
($search->queryresult\(\);)372 5509 y(return)g($total;)213
5588 y(})p 3386 5692 V 185 5695 3205 4 v 1893 5809 a
Fk(56)p eop end
%%Page: 57 57
TeXDict begin 57 56 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.3)81
b(test)p 481 210 25 4 v 29 w(biased)p 736 210 V 30 w(lexrank.t)p
185 279 3125 4 v 185 5613 4 5335 v 213 383 a Fa(#)39
b(script:)g(test_biased_lexrank.t)213 462 y(#)g(functionality:)f
(Computes)h(the)g(lexrank)g(value)g(of)h(a)f(network)g(given)g(bias)h
(sentences)213 619 y(use)f(strict;)213 698 y(use)g(FindBin;)213
777 y(use)g(Test::More;)213 856 y(use)g(Clair::Config;)213
1014 y(if)g(\(not)h(defined)e($PRMAIN)h(or)h(-d)f($PRMAIN\))g({)372
1093 y(plan\()g(skip_all)g(=>)532 1172 y('$PRMAIN)f(not)i(defined)e(in)
i(Clair::Config)e(or)h(doesn\\'t)g(exist')g(\);)213 1250
y(})g(else)h({)372 1329 y(plan\()f(tests)g(=>)h(5)g(\);)213
1408 y(})213 1566 y(use_ok\("Clair::Cluster"\);)213 1645
y(use_ok\("Clair::Document"\);)213 1724 y
(use_ok\("Clair::NetworkWrapper"\);)213 1802 y
(use_ok\("Clair::Network::Centrality::LexRan)o(k"\);)213
1960 y(my)f(@sents)g(=)h(\("The)f(president's)f(neck)i(is)f(missing",)
731 2039 y("The)g(human)g(torch)g(was)h(denied)f(a)g(bank)h(loan)f
(today",)731 2118 y("The)g(verdict)g(was)g(mail)h(fraud"\);)213
2197 y(my)f(@bias)g(=)h(\("The)f(president's)f(neck)i(is)f(missing",)
731 2276 y("The)g(president)g(was)g(given)g(a)h(bank)f(loan"\);)213
2355 y(my)g(@expected)g(=)h(\(1,)f(2,)g(3\);)213 2512
y(my)g($cluster)g(=)h(Clair::Cluster->new\(\);)213 2591
y(my)f($i)h(=)g(1;)213 2749 y(for)f(\(@sents\))g({)372
2828 y(chomp;)372 2907 y(my)h($doc)f(=)h(Clair::Document->new\()532
2986 y(string)f(=>)g($_,)532 3064 y(type)g(=>)g("text",)372
3143 y(\);)372 3222 y($doc->stem\(\);)372 3301 y($cluster->insert\($i,)
e($doc\);)372 3380 y($i++;)213 3459 y(})213 3617 y(my)i(\045matrix)g(=)
h($cluster->compute_cosine_matrix\(\);)213 3695 y(my)f($network)g(=)h
($cluster->create_network\()372 3774 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 3853 y(include_zeros)e(=>)i(1)213
3932 y(\);)213 4011 y(my)f($wn)h(=)f(Clair::NetworkWrapper->new\()372
4090 y(prmain)g(=>)h($PRMAIN,)372 4169 y(network)f(=>)h($network,)372
4247 y(clean)f(=>)h(1)213 4326 y(\);)213 4484 y(my)f(@verts)g(=)h
($wn->{graph}->vertices\(\);)213 4642 y(my)f($bet)h(=)f
(Clair::Network::Centrality::LexRank->new\($wn\);)213
4800 y($bet->compute_lexrank_from_bias_sents\()34 b
(bias_sents=>\\@bias)j(\);)213 4878 y(my)i($lrv)h(=)f
($wn->get_property_vector\(\\@verts,)c("lexrank_value"\);)213
5036 y(my)k(\045scores;)213 5115 y(for)g(\(my)h($i)f(=0;)h($i)f(<)h
(@verts;)f($i++\))g({)372 5194 y($scores{$verts[$i]})e(=)j
($lrv->element\($i)d(+)j(1,)g(1\);)213 5273 y(})213 5352
y(my)f(@sorted)g(=)h(sort)f({)h($scores{$a})e(<=>)h($scores{$b})g(})g
(keys)h(\045scores;)213 5509 y(is\(@sorted,)e(@expected,)g("Correct)h
(order"\);)p 3306 5613 V 185 5616 3125 4 v 1893 5809
a Fk(57)p eop end
%%Page: 58 58
TeXDict begin 58 57 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.4)81
b(test)p 481 210 25 4 v 29 w(centrality)-6 b(.t)p 185
295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
556 y(use)39 b(strict;)213 635 y(use)g(warnings;)213
714 y(use)g(FindBin;)213 793 y(use)g(Test::More)g(tests)g(=>)g(299;)213
872 y(#use)g(Clair::GraphWrapper::Boost;)213 1030 y
(use_ok\('Clair::Network::Reader::Edgelist'\))o(;)213
1108 y(use_ok\('Clair::Network::Centrality::Betwee)o(nness'\))o(;)213
1187 y(use_ok\('Clair::Network::Centrality::Closen)o(ess'\);)213
1266 y(use_ok\('Clair::Network::Centrality::Degree)o('\);)213
1345 y(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
1424 y(use_ok\('Clair::Util'\);)213 1582 y(my)g($file_doc_dir)f(=)i
("$FindBin::Bin/input/centrality";)213 1660 y(my)f($circle)g(=)h
("circle.graph";)213 1739 y(my)f($line)g(=)h("line.graph";)213
1818 y(my)f($star)g(=)h("star.graph";)213 1897 y(my)f($complex)g(=)h
("complex.graph";)213 1976 y(my)f($directed_fn)f(=)i("directed.graph";)
213 2055 y(my)f($lexrank_fn)g(=)g("lexrank2.cos";)213
2213 y(my)g($reader)g(=)h(Clair::Network::Reader::Edgelist->new\(\);)
213 2291 y(#my)f($circle_graph)f(=)i(new)f
(Clair::GraphWrapper::Boost\(\);)213 2370 y(#my)g($circle_net)f(=)i
($reader->read_network\($file_doc_dir)35 b(.)k("/")h(.)g($circle,)397
b(\\)213 2449 y(filebased)38 b(=>)i(0,)f(undirected)g(=>)g(1,)h(graph)f
(=>)g($circle_graph\);)213 2528 y(my)g($circle_net)g(=)g
($reader->read_network\($file_doc_dir)c(.)40 b("/")f(.)h($circle,)e
(filebased)h(\\)213 2607 y(=>)g(0,)h(undirected)e(=>)i(1\);)213
2686 y(is\($circle_net->num_nodes,)c(9,)j("Loading)g(circle)g
(network"\);)213 2844 y(my)g($line_net)g(=)h
($reader->read_network\($file_doc_dir)34 b(.)40 b("/")f(.)h($line,)f
(filebased)f(=>)80 b(\\)213 2922 y(0,)39 b(undirected)g(=>)g(1\);)213
3001 y(is\($line_net->num_nodes,)d(7,)k("Loading)e(line)h(network"\);)
213 3159 y(my)g($star_net)g(=)h($reader->read_network\($file_doc_dir)34
b(.)40 b("/")f(.)h($star,)f(filebased)f(=>)80 b(\\)213
3238 y(0,)39 b(undirected)g(=>)g(1\);)213 3317 y
(is\($star_net->num_nodes\(\),)d(8,)j("Loading)g(star)g(network"\);)213
3475 y(my)g($complex_net)f(=)i($reader->read_network\($file_doc_dir)35
b(.)k("/")h(.)g($complex,)357 b(\\)213 3553 y(filebased)38
b(=>)i(0,)f(undirected)g(=>)g(1\);)213 3632 y
(is\($complex_net->num_nodes\(\),)c(13,)40 b("Loading)e(complex)h
(network"\);)213 3790 y(my)g($directed_net)f(=)i
($reader->read_network\($file_doc_dir)35 b(.)k("/")h(.)f($directed_fn,)
158 b(\\)213 3869 y(filebased)38 b(=>)i(0\);)213 3948
y(is\($directed_net->num_nodes\(\),)35 b(5,)40 b("Loading)e(directed)h
(network"\);)213 4105 y(my)g($undirected_net)f(=)i
($reader->read_network\($file_doc_dir)34 b(.)40 b("/")f(.)h
($directed_fn,)1926 4184 y(undirected)f(=>)g(1,)h(filebased)e(=>)i
(0\);)213 4263 y(is\($undirected_net->num_nodes\(\),)35
b(5,)k("Loading)g(undirected)f(network"\);)213 4421 y(my)h
($lexrank_net)f(=)i($reader->read_network\($file_doc_dir)35
b(.)k("/")h(.)g($lexrank_fn,)1807 4500 y(undirected)e(=>)i(1,)f
(filebased)g(=>)g(0,)1807 4579 y(edge_property)f(=>)h
("lexrank_transition"\);)213 4658 y
(is\($undirected_net->num_nodes\(\),)c(5,)k("Loading)g(lexrank)g
(network"\);)213 4894 y(#)g(test)h(degree)f(centrality)213
4973 y(my)g($degree)g(=)h(Clair::Network::Centrality::Degree->new\($ci)
o(rcle_ne)o(t\);)213 5052 y(my)f($b)h(=)g($degree->centrality\(\);)213
5131 y(is\($b->{"n1"},)e(2,)h("degree)g(centrality)f(ring)h(n1)h(==)g
(2"\);)213 5210 y(is\($b->{"n2"},)e(2,)h("degree)g(centrality)f(ring)h
(n2)h(==)g(2"\);)213 5289 y(is\($b->{"n3"},)e(2,)h("degree)g
(centrality)f(ring)h(n3)h(==)g(2"\);)213 5367 y(is\($b->{"n4"},)e(2,)h
("degree)g(centrality)f(ring)h(n4)h(==)g(2"\);)213 5446
y(is\($b->{"n5"},)e(2,)h("degree)g(centrality)f(ring)h(n5)h(==)g(2"\);)
213 5525 y(is\($b->{"n6"},)e(2,)h("degree)g(centrality)f(ring)h(n6)h
(==)g(2"\);)213 5604 y(is\($b->{"n7"},)e(2,)h("degree)g(centrality)f
(ring)h(n7)h(==)g(2"\);)p 3466 5708 V 185 5711 3285 4
v 1893 5809 a Fk(58)p eop end
%%Page: 59 59
TeXDict begin 59 58 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2886 4 v 185
5544 4 5414 v 213 234 a Fa(is\($b->{"n8"},)38 b(2,)h("degree)g
(centrality)f(ring)h(n8)h(==)g(2"\);)213 313 y(is\($b->{"n9"},)e(2,)h
("degree)g(centrality)f(ring)h(n9)h(==)g(2"\);)213 392
y(my)f($nb)h(=)f($degree->normalized_centrality\(\);)213
471 y(is\($nb->{"n1"},)e(0.25,)i("degree)g(centrality)g(normalized)f
(ring)h(n1)h(==)f(0.25"\);)213 550 y(is\($nb->{"n2"},)e(0.25,)i
("degree)g(centrality)g(normalized)f(ring)h(n2)h(==)f(0.25"\);)213
629 y(is\($nb->{"n3"},)e(0.25,)i("degree)g(centrality)g(normalized)f
(ring)h(n3)h(==)f(0.25"\);)213 708 y(is\($nb->{"n4"},)e(0.25,)i
("degree)g(centrality)g(normalized)f(ring)h(n4)h(==)f(0.25"\);)213
786 y(is\($nb->{"n5"},)e(0.25,)i("degree)g(centrality)g(normalized)f
(ring)h(n5)h(==)f(0.25"\);)213 865 y(is\($nb->{"n6"},)e(0.25,)i
("degree)g(centrality)g(normalized)f(ring)h(n6)h(==)f(0.25"\);)213
944 y(is\($nb->{"n7"},)e(0.25,)i("degree)g(centrality)g(normalized)f
(ring)h(n7)h(==)f(0.25"\);)213 1023 y(is\($nb->{"n8"},)e(0.25,)i
("degree)g(centrality)g(normalized)f(ring)h(n8)h(==)f(0.25"\);)213
1102 y(is\($nb->{"n9"},)e(0.25,)i("degree)g(centrality)g(normalized)f
(ring)h(n9)h(==)f(0.25"\);)213 1260 y($degree)g(=)g
(Clair::Network::Centrality::Degree->new\($line_)o(net\);)213
1338 y($b)g(=)h($degree->centrality\(\);)213 1417 y(is\($b->{"n1"},)e
(2,)h("degree)g(centrality)f(line)h(n1)h(==)g(2"\);)213
1496 y(is\($b->{"n2"},)e(2,)h("degree)g(centrality)f(line)h(n2)h(==)g
(2"\);)213 1575 y(is\($b->{"n3"},)e(2,)h("degree)g(centrality)f(line)h
(n3)h(==)g(2"\);)213 1654 y(is\($b->{"n4"},)e(2,)h("degree)g
(centrality)f(line)h(n4)h(==)g(2"\);)213 1733 y(is\($b->{"n5"},)e(2,)h
("degree)g(centrality)f(line)h(n5)h(==)g(2"\);)213 1812
y(is\($b->{"n6"},)e(1,)h("degree)g(centrality)f(line)h(n6)h(==)g(2"\);)
213 1891 y(is\($b->{"n7"},)e(1,)h("degree)g(centrality)f(line)h(n7)h
(==)g(2"\);)213 1969 y($nb)f(=)h($degree->normalized_centrality\(\);)
213 2048 y(is\($nb->{"n1"},)d(1/3,)j("degree)e(centrality)h(normalized)
f(line)h(n1)h(==)g(")f(.)h(1/3\);)213 2127 y(is\($nb->{"n2"},)d(1/3,)j
("degree)e(centrality)h(normalized)f(line)h(n2)h(==)g(")f(.)h(1/3\);)
213 2206 y(is\($nb->{"n3"},)d(1/3,)j("degree)e(centrality)h(normalized)
f(line)h(n3)h(==)g(")f(.)h(1/3\);)213 2285 y(is\($nb->{"n4"},)d(1/3,)j
("degree)e(centrality)h(normalized)f(line)h(n4)h(==)g(")f(.)h(1/3\);)
213 2364 y(is\($nb->{"n5"},)d(1/3,)j("degree)e(centrality)h(normalized)
f(line)h(n5)h(==)g(")f(.)h(1/3\);)213 2443 y(is\($nb->{"n6"},)d(1/6,)j
("degree)e(centrality)h(normalized)f(line)h(n6)h(==)g(")f(.)h(1/6\);)
213 2522 y(is\($nb->{"n7"},)d(1/6,)j("degree)e(centrality)h(normalized)
f(line)h(n7)h(==)g(")f(.)h(1/6\);)213 2679 y($degree)f(=)g
(Clair::Network::Centrality::Degree->new\($star_)o(net\);)213
2758 y($b)g(=)h($degree->centrality\(\);)213 2837 y(is\($b->{"n1"},)e
(7,)h("degree)g(centrality)f(star)h(n1)h(==)g(7"\);)213
2916 y(is\($b->{"n2"},)e(1,)h("degree)g(centrality)f(star)h(n2)h(==)g
(1"\);)213 2995 y(is\($b->{"n3"},)e(1,)h("degree)g(centrality)f(star)h
(n3)h(==)g(1"\);)213 3074 y(is\($b->{"n4"},)e(1,)h("degree)g
(centrality)f(star)h(n4)h(==)g(1"\);)213 3153 y(is\($b->{"n5"},)e(1,)h
("degree)g(centrality)f(star)h(n5)h(==)g(1"\);)213 3231
y(is\($b->{"n6"},)e(1,)h("degree)g(centrality)f(star)h(n6)h(==)g(1"\);)
213 3310 y(is\($b->{"n7"},)e(1,)h("degree)g(centrality)f(star)h(n7)h
(==)g(1"\);)213 3389 y(is\($b->{"n8"},)e(1,)h("degree)g(centrality)f
(star)h(n8)h(==)g(1"\);)213 3468 y($nb)f(=)h
($degree->normalized_centrality\(\);)213 3547 y(is\($nb->{"n1"},)d(1,)j
("degree)f(centrality)f(normalized)g(star)i(n1)f(==)h(")g(.)f(1\);)213
3626 y(is\($nb->{"n2"},)e(1/7,)j("degree)e(centrality)h(normalized)f
(star)h(n2)h(==)g(")f(.)h(1/7\);)213 3705 y(is\($nb->{"n3"},)d(1/7,)j
("degree)e(centrality)h(normalized)f(star)h(n3)h(==)g(")f(.)h(1/7\);)
213 3783 y(is\($nb->{"n4"},)d(1/7,)j("degree)e(centrality)h(normalized)
f(star)h(n4)h(==)g(")f(.)h(1/7\);)213 3862 y(is\($nb->{"n5"},)d(1/7,)j
("degree)e(centrality)h(normalized)f(star)h(n5)h(==)g(")f(.)h(1/7\);)
213 3941 y(is\($nb->{"n6"},)d(1/7,)j("degree)e(centrality)h(normalized)
f(star)h(n6)h(==)g(")f(.)h(1/7\);)213 4020 y(is\($nb->{"n7"},)d(1/7,)j
("degree)e(centrality)h(normalized)f(star)h(n7)h(==)g(")f(.)h(1/7\);)
213 4099 y(is\($nb->{"n8"},)d(1/7,)j("degree)e(centrality)h(normalized)
f(star)h(n8)h(==)g(")f(.)h(1/7\);)213 4257 y($degree)f(=)g
(Clair::Network::Centrality::Degree->new\($compl)o(ex_net\))o(;)213
4336 y($b)g(=)h($degree->centrality\(\);)213 4414 y(is\($b->{"n1"},)e
(3,)h("degree)g(centrality)f(complex)h(n1)h(==)f(3"\);)213
4493 y(is\($b->{"n2"},)f(3,)h("degree)g(centrality)f(complex)h(n2)h(==)
f(3"\);)213 4572 y(is\($b->{"n3"},)f(3,)h("degree)g(centrality)f
(complex)h(n3)h(==)f(3"\);)213 4651 y(is\($b->{"n4"},)f(3,)h("degree)g
(centrality)f(complex)h(n4)h(==)f(3"\);)213 4730 y(is\($b->{"n5"},)f
(3,)h("degree)g(centrality)f(complex)h(n5)h(==)f(3"\);)213
4809 y(is\($b->{"n6"},)f(3,)h("degree)g(centrality)f(complex)h(n6)h(==)
f(3"\);)213 4888 y(is\($b->{"n7"},)f(2,)h("degree)g(centrality)f
(complex)h(n7)h(==)f(2"\);)213 4967 y(is\($b->{"n8"},)f(3,)h("degree)g
(centrality)f(complex)h(n8)h(==)f(3"\);)213 5045 y(is\($b->{"n9"},)f
(3,)h("degree)g(centrality)f(complex)h(n9)h(==)f(3"\);)213
5124 y(is\($b->{"n10"},)e(2,)j("degree)f(centrality)f(complex)h(n10)g
(==)h(2"\);)213 5203 y(is\($b->{"n11"},)d(3,)j("degree)f(centrality)f
(complex)h(n11)g(==)h(3"\);)213 5282 y(is\($b->{"n12"},)d(3,)j("degree)
f(centrality)f(complex)h(n12)g(==)h(3"\);)213 5361 y(is\($b->{"n13"},)d
(2,)j("degree)f(centrality)f(complex)h(n13)g(==)h(2"\);)213
5440 y($nb)f(=)h($degree->normalized_centrality\(\);)p
3067 5544 V 185 5547 2886 4 v 1893 5809 a Fk(59)p eop
end
%%Page: 60 60
TeXDict begin 60 59 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3205 4 v 185
5544 4 5414 v 213 234 a Fa(is\($nb->{"n1"},)37 b(.25,)j("degree)e
(centrality)h(normalized)f(complex)h(n1)h(==)f(.25"\);)213
313 y(is\($nb->{"n2"},)e(.25,)j("degree)e(centrality)h(normalized)f
(complex)h(n2)h(==)f(.25"\);)213 392 y(is\($nb->{"n3"},)e(.25,)j
("degree)e(centrality)h(normalized)f(complex)h(n3)h(==)f(.25"\);)213
471 y(is\($nb->{"n4"},)e(.25,)j("degree)e(centrality)h(normalized)f
(complex)h(n4)h(==)f(.25"\);)213 550 y(is\($nb->{"n5"},)e(.25,)j
("degree)e(centrality)h(normalized)f(complex)h(n5)h(==)f(.25"\);)213
629 y(is\($nb->{"n6"},)e(.25,)j("degree)e(centrality)h(normalized)f
(complex)h(n6)h(==)f(.25"\);)213 708 y(is\($nb->{"n7"},)e(2/12,)i
("degree)g(centrality)g(normalized)f(complex)h(n7)g(==)h(")g(.)f(2)h(/)
g(12\);)213 786 y(is\($nb->{"n8"},)d(.25,)j("degree)e(centrality)h
(normalized)f(complex)h(n8)h(==)f(.25"\);)213 865 y(is\($nb->{"n9"},)e
(.25,)j("degree)e(centrality)h(normalized)f(complex)h(n9)h(==)f
(.25"\);)213 944 y(is\($nb->{"n10"},)e(2/12,)i("degree)g(centrality)f
(normalized)h(complex)g(n10)g(==)h(")f(.)h(2/12\);)213
1023 y(is\($nb->{"n11"},)d(.25,)i("degree)g(centrality)g(normalized)f
(complex)h(n11)g(==)h(.25"\);)213 1102 y(is\($nb->{"n12"},)d(.25,)i
("degree)g(centrality)g(normalized)f(complex)h(n12)g(==)h(.25"\);)213
1181 y(is\($nb->{"n13"},)d(2/12,)i("degree)g(centrality)f(normalized)h
(complex)g(n13)g(==)h(")f(.)h(2/12\);)213 1338 y($degree)f(=)g
(Clair::Network::Centrality::Degree->new\($direc)o(ted_net)o(\);)213
1417 y($b)g(=)h($degree->centrality\(\);)213 1496 y(is\($b->{"n1"},)e
(1,)h("degree)g(centrality)f(directed)h(n1)g(==)h(1"\);)213
1575 y(is\($b->{"n2"},)e(1,)h("degree)g(centrality)f(directed)h(n2)g
(==)h(2"\);)213 1654 y(is\($b->{"n3"},)e(1,)h("degree)g(centrality)f
(directed)h(n3)g(==)h(2"\);)213 1733 y(is\($b->{"n4"},)e(1.5,)h
("degree)g(centrality)f(directed)h(n4)g(==)h(1.5"\);)213
1812 y(is\($b->{"n5"},)e(0.5,)h("degree)g(centrality)f(directed)h(n5)g
(==)h(0.5"\);)213 1891 y($nb)f(=)h($degree->normalized_centrality\(\);)
213 1969 y(is\($nb->{"n1"},)d(0.25,)i("degree)g(centrality)g
(normalized)f(directed)h(n1)g(==)h(")f(.)h(0.25\);)213
2048 y(is\($nb->{"n2"},)d(0.25,)i("degree)g(centrality)g(normalized)f
(directed)h(n2)g(==)h(")f(.)h(0.25\);)213 2127 y(is\($nb->{"n3"},)d
(0.25,)i("degree)g(centrality)g(normalized)f(directed)h(n3)g(==)h(")f
(.)h(0.25\);)213 2206 y(is\($nb->{"n4"},)d(0.375,)i("degree)g
(centrality)f(normalized)h(directed)g(n4)g(==)h(")f(.)h(0.375\);)213
2285 y(is\($nb->{"n5"},)d(0.125,)i("degree)g(centrality)f(normalized)h
(directed)g(n5)g(==)h(")f(.)h(0.125\);)213 2443 y($degree)f(=)g
(Clair::Network::Centrality::Degree->new\($undir)o(ected_n)o(et\);)213
2522 y($b)g(=)h($degree->centrality\(\);)213 2600 y(is\($b->{"n1"},)e
(2,)h("degree)g(centrality)f(unundirected)g(n1)i(==)f(2"\);)213
2679 y(is\($b->{"n2"},)f(2,)h("degree)g(centrality)f(undirected)h(n2)g
(==)h(2"\);)213 2758 y(is\($b->{"n3"},)e(2,)h("degree)g(centrality)f
(undirected)h(n3)g(==)h(2"\);)213 2837 y(is\($b->{"n4"},)e(3,)h
("degree)g(centrality)f(undirected)h(n4)g(==)h(3"\);)213
2916 y(is\($b->{"n5"},)e(1,)h("degree)g(centrality)f(undirected)h(n5)g
(==)h(1"\);)213 2995 y($nb)f(=)h($degree->normalized_centrality\(\);)
213 3074 y(is\($nb->{"n1"},)d(0.5,)j("degree)e(centrality)h(normalized)
f(undirected)h(n1)g(==)h(")f(.)h(0.5\);)213 3153 y(is\($nb->{"n2"},)d
(0.5,)j("degree)e(centrality)h(normalized)f(undirected)h(n2)g(==)h(")f
(.)h(0.5\);)213 3231 y(is\($nb->{"n3"},)d(0.5,)j("degree)e(centrality)h
(normalized)f(undirected)h(n3)g(==)h(")f(.)h(0.5\);)213
3310 y(is\($nb->{"n4"},)d(0.75,)i("degree)g(centrality)g(normalized)f
(undirected)g(n4)i(==)f(")h(.)g(0.75\);)213 3389 y(is\($nb->{"n5"},)d
(0.25,)i("degree)g(centrality)g(normalized)f(undirected)g(n5)i(==)f(")h
(.)g(0.25\);)213 3626 y(#)f(Test)h(closeness)e(centrality)213
3705 y(my)h($closeness)g(=)g
(Clair::Network::Centrality::Closeness->new\($cir)o(cle_ne)o(t\);)213
3783 y($b)g(=)h($closeness->centrality\(\);)213 3862
y(is\($b->{"n1"},)e(0.05,)h("closeness)f(centrality)g(ring)i(n1)f(==)h
(0.05"\);)213 3941 y(is\($b->{"n2"},)e(0.05,)h("closeness)f(centrality)
g(ring)i(n2)f(==)h(0.05"\);)213 4020 y(is\($b->{"n3"},)e(0.05,)h
("closeness)f(centrality)g(ring)i(n3)f(==)h(0.05"\);)213
4099 y(is\($b->{"n4"},)e(0.05,)h("closeness)f(centrality)g(ring)i(n4)f
(==)h(0.05"\);)213 4178 y(is\($b->{"n5"},)e(0.05,)h("closeness)f
(centrality)g(ring)i(n5)f(==)h(0.05"\);)213 4257 y(is\($b->{"n6"},)e
(0.05,)h("closeness)f(centrality)g(ring)i(n6)f(==)h(0.05"\);)213
4336 y(is\($b->{"n7"},)e(0.05,)h("closeness)f(centrality)g(ring)i(n7)f
(==)h(0.05"\);)213 4414 y(is\($b->{"n8"},)e(0.05,)h("closeness)f
(centrality)g(ring)i(n8)f(==)h(0.05"\);)213 4493 y(is\($b->{"n9"},)e
(0.05,)h("closeness)f(centrality)g(ring)i(n9)f(==)h(0.05"\);)213
4572 y($nb)f(=)h($closeness->normalized_centrality\(\);)213
4651 y(is\($nb->{"n1"},)d(0.4,)j("closeness)e(centrality)g(normalized)h
(ring)g(n1)h(==)f(0.4"\);)213 4730 y(is\($nb->{"n2"},)e(0.4,)j
("closeness)e(centrality)g(normalized)h(ring)g(n2)h(==)f(0.4"\);)213
4809 y(is\($nb->{"n3"},)e(0.4,)j("closeness)e(centrality)g(normalized)h
(ring)g(n3)h(==)f(0.4"\);)213 4888 y(is\($nb->{"n4"},)e(0.4,)j
("closeness)e(centrality)g(normalized)h(ring)g(n4)h(==)f(0.4"\);)213
4967 y(is\($nb->{"n5"},)e(0.4,)j("closeness)e(centrality)g(normalized)h
(ring)g(n5)h(==)f(0.4"\);)213 5045 y(is\($nb->{"n6"},)e(0.4,)j
("closeness)e(centrality)g(normalized)h(ring)g(n6)h(==)f(0.4"\);)213
5124 y(is\($nb->{"n7"},)e(0.4,)j("closeness)e(centrality)g(normalized)h
(ring)g(n7)h(==)f(0.4"\);)213 5203 y(is\($nb->{"n8"},)e(0.4,)j
("closeness)e(centrality)g(normalized)h(ring)g(n8)h(==)f(0.4"\);)213
5282 y(is\($nb->{"n9"},)e(0.4,)j("closeness)e(centrality)g(normalized)h
(ring)g(n9)h(==)f(0.4"\);)213 5440 y($closeness)f(=)i
(Clair::Network::Centrality::Closeness->new\()o($line_n)o(et\);)p
3386 5544 V 185 5547 3205 4 v 1893 5809 a Fk(60)p eop
end
%%Page: 61 61
TeXDict begin 61 60 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3285 4 v 185
5544 4 5414 v 213 234 a Fa($b)39 b(=)h($closeness->centrality\(\);)213
313 y(is\($b->{"n1"},)e(1/12,)h("closeness)f(centrality)g(line)i(n1)f
(==)h(")f(.)h(1/12\);)213 392 y(is\($b->{"n2"},)e(1/13,)h("closeness)f
(centrality)g(line)i(n2)f(==)h(")f(.)h(1/13\);)213 471
y(is\($b->{"n3"},)e(1/13,)h("closeness)f(centrality)g(line)i(n3)f(==)h
(")f(.)h(1/13\);)213 550 y(is\($b->{"n4"},)e(1/16,)h("closeness)f
(centrality)g(line)i(n4)f(==)h(")f(.)h(1/16\);)213 629
y(is\($b->{"n5"},)e(1/16,)h("closeness)f(centrality)g(line)i(n5)f(==)h
(")f(.)h(1/16\);)213 708 y(is\($b->{"n6"},)e(1/21,)h("closeness)f
(centrality)g(line)i(n6)f(==)h(")f(.)h(1/21\);)213 786
y(is\($b->{"n7"},)e(1/21,)h("closeness)f(centrality)g(line)i(n7)f(==)h
(")f(.)h(1/21\);)213 865 y($nb)f(=)h
($closeness->normalized_centrality\(\);)213 944 y(is\($nb->{"n1"},)d
(6/12,)i("closeness)g(centrality)f(normalized)h(line)g(n1)g(==)h(")g(.)
f(6/12\);)213 1023 y(is\($nb->{"n2"},)e(6/13,)i("closeness)g
(centrality)f(normalized)h(line)g(n2)g(==)h(")g(.)f(6/13\);)213
1102 y(is\($nb->{"n3"},)e(6/13,)i("closeness)g(centrality)f(normalized)
h(line)g(n3)g(==)h(")g(.)f(6/13\);)213 1181 y(is\($nb->{"n4"},)e(6/16,)
i("closeness)g(centrality)f(normalized)h(line)g(n4)g(==)h(")g(.)f
(6/16\);)213 1260 y(is\($nb->{"n5"},)e(6/16,)i("closeness)g(centrality)
f(normalized)h(line)g(n5)g(==)h(")g(.)f(6/16\);)213 1338
y(is\($nb->{"n6"},)e(6/21,)i("closeness)g(centrality)f(normalized)h
(line)g(n6)g(==)h(")g(.)f(6/21\);)213 1417 y(is\($nb->{"n7"},)e(6/21,)i
("closeness)g(centrality)f(normalized)h(line)g(n7)g(==)h(")g(.)f
(6/21\);)213 1575 y($closeness)f(=)i
(Clair::Network::Centrality::Closeness->new\()o($star_n)o(et\);)213
1654 y($b)f(=)h($closeness->centrality\(\);)213 1733
y(is\($b->{"n1"},)e(1/7,)h("closeness)f(centrality)g(star)i(n1)f(==)h
(")g(.)f(1/7\);)213 1812 y(is\($b->{"n2"},)f(1/13,)h("closeness)f
(centrality)g(star)i(n2)f(==)h(1")f(.)h(1/13\);)213 1891
y(is\($b->{"n3"},)e(1/13,)h("closeness)f(centrality)g(star)i(n3)f(==)h
(1")f(.)h(1/13\);)213 1969 y(is\($b->{"n4"},)e(1/13,)h("closeness)f
(centrality)g(star)i(n4)f(==)h(1")f(.)h(1/13\);)213 2048
y(is\($b->{"n5"},)e(1/13,)h("closeness)f(centrality)g(star)i(n5)f(==)h
(1")f(.)h(1/13\);)213 2127 y(is\($b->{"n6"},)e(1/13,)h("closeness)f
(centrality)g(star)i(n6)f(==)h(1")f(.)h(1/13\);)213 2206
y(is\($b->{"n7"},)e(1/13,)h("closeness)f(centrality)g(star)i(n7)f(==)h
(1")f(.)h(1/13\);)213 2285 y(is\($b->{"n8"},)e(1/13,)h("closeness)f
(centrality)g(star)i(n8)f(==)h(1")f(.)h(1/13\);)213 2364
y($nb)f(=)h($closeness->normalized_centrality\(\);)213
2443 y(is\($nb->{"n1"},)d(1,)j("closeness)e(centrality)h(normalized)f
(star)h(n1)h(==)f(")h(.)g(1\);)213 2522 y(is\($nb->{"n2"},)d(1/13)1050
2534 y(*)1129 2522 y(7,)j("closeness)e(centrality)h(normalized)f(star)h
(n2)h(==)f(")h(.)g(1/13)79 b(\\)213 2612 y(*)292 2600
y(7\);)213 2679 y(is\($nb->{"n3"},)37 b(1/13)1050 2691
y(*)1129 2679 y(7,)j("closeness)e(centrality)h(normalized)f(star)h(n3)h
(==)f(")h(.)g(1/13)79 b(\\)213 2770 y(*)292 2758 y(7\);)213
2837 y(is\($nb->{"n4"},)37 b(1/13)1050 2849 y(*)1129
2837 y(7,)j("closeness)e(centrality)h(normalized)f(star)h(n4)h(==)f(")h
(.)g(1/13)79 b(\\)213 2928 y(*)292 2916 y(7\);)213 2995
y(is\($nb->{"n5"},)37 b(1/13)1050 3007 y(*)1129 2995
y(7,)j("closeness)e(centrality)h(normalized)f(star)h(n5)h(==)f(")h(.)g
(1/13)79 b(\\)213 3086 y(*)292 3074 y(7\);)213 3153 y(is\($nb->{"n6"},)
37 b(1/13)1050 3165 y(*)1129 3153 y(7,)j("closeness)e(centrality)h
(normalized)f(star)h(n6)h(==)f(")h(.)g(1/13)79 b(\\)213
3243 y(*)292 3231 y(7\);)213 3310 y(is\($nb->{"n7"},)37
b(1/13)1050 3322 y(*)1129 3310 y(7,)j("closeness)e(centrality)h
(normalized)f(star)h(n7)h(==)f(")h(.)g(1/13)79 b(\\)213
3401 y(*)292 3389 y(7\);)213 3468 y(is\($nb->{"n8"},)37
b(1/13)1050 3480 y(*)1129 3468 y(7,)j("closeness)e(centrality)h
(normalized)f(star)h(n8)h(==)f(")h(.)g(1/13)79 b(\\)213
3559 y(*)292 3547 y(7\);)213 3705 y($closeness)38 b(=)i
(Clair::Network::Centrality::Closeness->new\()o($comple)o(x_net\))o(;)
213 3783 y($b)f(=)h($closeness->centrality\(\);)213 3862
y(is\($b->{"n1"},)e(1/24,)h("closeness)f(centrality)g(complex)h(n1)h
(==)f(")h(.)g(1/24\);)213 3941 y(is\($b->{"n2"},)e(1/29,)h("closeness)f
(centrality)g(complex)h(n2)h(==)f(")h(.)g(1/29\);)213
4020 y(is\($b->{"n3"},)e(1/29,)h("closeness)f(centrality)g(complex)h
(n3)h(==)f(")h(.)g(1/29\);)213 4099 y(is\($b->{"n4"},)e(1/29,)h
("closeness)f(centrality)g(complex)h(n4)h(==)f(")h(.)g(1/29\);)213
4178 y(is\($b->{"n5"},)e(1/37,)h("closeness)f(centrality)g(complex)h
(n5)h(==)f(")h(.)g(1)f(/)h(37\);)213 4257 y(is\($b->{"n6"},)e(1/37,)h
("closeness)f(centrality)g(complex)h(n6)h(==)f(")h(.)g(1)f(/)h(37\);)
213 4336 y(is\($b->{"n7"},)e(1/47,)h("closeness)f(centrality)g(complex)
h(n7)h(==)f(")h(.)g(1)f(/)h(47\);)213 4414 y(is\($b->{"n8"},)e(1/37,)h
("closeness)f(centrality)g(complex)h(n8)h(==)f(")h(.)g(1)f(/)h(37\);)
213 4493 y(is\($b->{"n9"},)e(1/37,)h("closeness)f(centrality)g(complex)
h(n9)h(==)f(")h(.)g(1)f(/)h(37\);)213 4572 y(is\($b->{"n10"},)d(1/47,)i
("closeness)g(centrality)f(complex)h(n10)g(==)h(")g(.)f(1)h(/)g(47\);)
213 4651 y(is\($b->{"n11"},)d(1/37,)i("closeness)g(centrality)f
(complex)h(n11)g(==)h(")g(.)f(1)h(/)g(37\);)213 4730
y(is\($b->{"n12"},)d(1/37,)i("closeness)g(centrality)f(complex)h(n12)g
(==)h(")g(.)f(1)h(/)g(37\);)213 4809 y(is\($b->{"n13"},)d(1/47,)i
("closeness)g(centrality)f(complex)h(n13)g(==)h(")g(.)f(1)h(/)g(47\);)
213 4888 y($nb)f(=)h($closeness->normalized_centrality\(\);)213
4967 y(is\($nb->{"n1"},)d(1/24)1050 4979 y(*)1129 4967
y(12,)332 5045 y("closeness)i(centrality)f(normalized)g(complex)h(n1)h
(==)f(")h(.)g(1)f(/)h(24)2644 5057 y(*)2723 5045 y(12\);)213
5124 y(is\($nb->{"n2"},)d(1/29)1050 5136 y(*)1129 5124
y(12,)332 5203 y("closeness)i(centrality)f(normalized)g(complex)h(n2)h
(==)f(")h(.)g(1/29)2564 5215 y(*)2644 5203 y(12\);)213
5282 y(is\($nb->{"n3"},)d(1/29)1050 5294 y(*)1129 5282
y(12,)332 5361 y("closeness)i(centrality)f(normalized)g(complex)h(n3)h
(==)f(")h(.)g(1)f(/)h(29)2644 5373 y(*)2723 5361 y(12\);)213
5440 y(is\($nb->{"n4"},)d(1/29)1050 5452 y(*)1129 5440
y(12,)p 3466 5544 V 185 5547 3285 4 v 1893 5809 a Fk(61)p
eop end
%%Page: 62 62
TeXDict begin 62 61 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3086 4 v 185
5544 4 5414 v 332 234 a Fa("closeness)39 b(centrality)f(normalized)g
(complex)h(n4)h(==)f(")h(.)g(1)f(/)h(29)2644 246 y(*)2723
234 y(12\);)213 313 y(is\($nb->{"n5"},)d(1/37)1050 325
y(*)1129 313 y(12,)332 392 y("closeness)i(centrality)f(normalized)g
(complex)h(n5)h(==)f(")h(.)g(1)f(/)h(37)2644 404 y(*)2723
392 y(12\);)213 471 y(is\($nb->{"n6"},)d(1/37)1050 483
y(*)1129 471 y(12,)332 550 y("closeness)i(centrality)f(normalized)g
(complex)h(n6)h(==)f(")h(.)g(1)f(/)h(37)2644 562 y(*)2723
550 y(12\);)213 629 y(is\($nb->{"n7"},)d(1/47)1050 641
y(*)1129 629 y(12,)332 708 y("closeness)i(centrality)f(normalized)g
(complex)h(n7)h(==)f(")h(.)g(1)f(/)h(47)2644 720 y(*)2723
708 y(12\);)213 786 y(is\($nb->{"n8"},)d(1/37)1050 798
y(*)1129 786 y(12,)332 865 y("closeness)i(centrality)f(normalized)g
(complex)h(n8)h(==)f(")h(.)g(1)f(/)h(37)2644 877 y(*)2723
865 y(12\);)213 944 y(is\($nb->{"n9"},)d(1/37)1050 956
y(*)1129 944 y(12,)332 1023 y("closeness)i(centrality)f(normalized)g
(complex)h(n9)h(==)f(")h(.)g(1)f(/)h(37)2644 1035 y(*)2723
1023 y(12\);)213 1102 y(is\($nb->{"n10"},)d(1/47)1089
1114 y(*)1169 1102 y(12,)332 1181 y("closeness)i(centrality)f
(normalized)g(complex)h(n10)h(==)f(")h(.)g(1)f(/)h(47)2684
1193 y(*)2763 1181 y(12\);)213 1260 y(is\($nb->{"n11"},)d(1/37)1089
1272 y(*)1169 1260 y(12,)332 1338 y("closeness)i(centrality)f
(normalized)g(complex)h(n11)h(==)f(")h(.)g(1)f(/)h(37)2684
1350 y(*)2763 1338 y(12\);)213 1417 y(is\($nb->{"n12"},)d(1/37)1089
1429 y(*)1169 1417 y(12,)332 1496 y("closeness)i(centrality)f
(normalized)g(complex)h(n12)h(==)f(")h(.)g(1)f(/)h(37)2684
1508 y(*)2763 1496 y(12\);)213 1575 y(is\($nb->{"n13"},)d(1/47)1089
1587 y(*)1169 1575 y(12,)332 1654 y("closeness)i(centrality)f
(normalized)g(complex)h(n13)h(==)f(")h(.)g(1)f(/)h(47)2684
1666 y(*)2763 1654 y(12\);)213 1812 y($closeness)e(=)i
(Clair::Network::Centrality::Closeness->new\()o($direct)o(ed_net)o(\);)
213 1891 y($b)f(=)h($closeness->centrality\(\);)213 1969
y(is\($b->{"n1"},)e(1)h(/)h(7,)f("closeness)g(centrality)f(directed)h
(n1)g(==)h(")g(.)f(1)h(/)g(7\);)213 2048 y(is\($b->{"n2"},)e(1)h(/)h
(3,)f("closeness)g(centrality)f(directed)h(n2)g(==)h(")g(.)f(1)h(/)g
(3\);)213 2127 y(is\($b->{"n3"},)e(1)h(/)h(3,)f("closeness)g
(centrality)f(directed)h(n3)g(==)h(")g(.)f(1)h(/)g(3\);)213
2206 y(is\($b->{"n4"},)e(1,)h("closeness)f(centrality)h(directed)f(n4)i
(==)g(")f(.)h(1\);)213 2285 y(is\($b->{"n5"},)e(0,)h("closeness)f
(centrality)h(directed)f(n5)i(==)g(")f(.)h(0\);)213 2364
y($nb)f(=)h($closeness->normalized_centrality\(\);)213
2443 y(is\($nb->{"n1"},)d(4)j(/)g(7,)332 2522 y("closeness)f
(centrality)f(normalized)g(directed)h(n1)h(==)f(")h(.)g(4)f(/)h(7\);)
213 2600 y(is\($nb->{"n2"},)d(4)j(/)g(6,)332 2679 y("closeness)f
(centrality)f(normalized)g(directed)h(n2)h(==)f(")h(.)g(4)f(/)h(6\);)
213 2758 y(is\($nb->{"n3"},)d(4)j(/)g(6,)332 2837 y("closeness)f
(centrality)f(normalized)g(directed)h(n3)h(==)f(")h(.)g(4)f(/)h(6\);)
213 2916 y(is\($nb->{"n4"},)d(1,)332 2995 y("closeness)i(centrality)f
(normalized)g(directed)h(n4)h(==)f(")h(.)g(1\);)213 3074
y(is\($nb->{"n5"},)d(0,)332 3153 y("closeness)i(centrality)f
(normalized)g(directed)h(n5)h(==)f(")h(.)g(0\);)213 3310
y($closeness)e(=)i(Clair::Network::Centrality::Closeness->new\()o
($undire)o(cted_n)o(et\);)213 3389 y($b)f(=)h
($closeness->centrality\(\);)213 3468 y(is\($b->{"n1"},)e(1)h(/)h(7,)f
("closeness)g(centrality)f(undirected)h(n1)g(==)h(")f(.)h(1)g(/)f(7\);)
213 3547 y(is\($b->{"n2"},)f(1)h(/)h(6,)f("closeness)g(centrality)f
(undirected)h(n2)g(==)h(")f(.)h(1)g(/)f(6\);)213 3626
y(is\($b->{"n3"},)f(1)h(/)h(6,)f("closeness)g(centrality)f(undirected)h
(n3)g(==)h(")f(.)h(1)g(/)f(6\);)213 3705 y(is\($b->{"n4"},)f(1)h(/)h
(5,)f("closeness)g(centrality)f(undirected)h(n4)g(==)h(")f(.)h(1)g(/)f
(5\);)213 3783 y(is\($b->{"n5"},)f(1)h(/)h(8,)f("closeness)g
(centrality)f(undirected)h(n5)g(==)h(")f(.)h(1)g(/)f(8\);)213
3862 y($nb)g(=)h($closeness->normalized_centrality\(\);)213
3941 y(is\($nb->{"n1"},)d(4)j(/)g(7,)332 4020 y("closeness)f
(centrality)f(normalized)g(undirected)h(n1)g(==)h(")g(.)f(4)h(/)g(7\);)
213 4099 y(is\($nb->{"n2"},)d(4)j(/)g(6,)332 4178 y("closeness)f
(centrality)f(normalized)g(undirected)h(n2)g(==)h(")g(.)f(4)h(/)g(6\);)
213 4257 y(is\($nb->{"n3"},)d(4)j(/)g(6,)332 4336 y("closeness)f
(centrality)f(normalized)g(undirected)h(n3)g(==)h(")g(.)f(4)h(/)g(6\);)
213 4414 y(is\($nb->{"n4"},)d(4)j(/)g(5,)332 4493 y("closeness)f
(centrality)f(normalized)g(undirected)h(n4)g(==)h(")g(.)f(4)h(/)g(5\);)
213 4572 y(is\($nb->{"n5"},)d(4)j(/)g(8,)332 4651 y("closeness)f
(centrality)f(normalized)g(undirected)h(n5)g(==)h(")g(.)f(4)h(/)g(8\);)
213 4888 y(#)f(Test)h(betweenness)e(centrality)213 4967
y(my)h($betweenness)f(=)i
(Clair::Network::Centrality::Betweenness->new\()o($circl)o(e_net\);)213
5045 y($b)f(=)h($betweenness->centrality\(\);)213 5124
y(is\($b->{"n1"},)e(12,)h("betweenness)f(centrality)g(ring)i(n1)f(==)h
(12"\);)213 5203 y(is\($b->{"n2"},)e(12,)h("betweenness)f(centrality)g
(ring)i(n2)f(==)h(12"\);)213 5282 y(is\($b->{"n3"},)e(12,)h
("betweenness)f(centrality)g(ring)i(n3)f(==)h(12"\);)213
5361 y(is\($b->{"n4"},)e(12,)h("betweenness)f(centrality)g(ring)i(n4)f
(==)h(12"\);)213 5440 y(is\($b->{"n5"},)e(12,)h("betweenness)f
(centrality)g(ring)i(n5)f(==)h(12"\);)p 3266 5544 V 185
5547 3086 4 v 1893 5809 a Fk(62)p eop end
%%Page: 63 63
TeXDict begin 63 62 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2926 4 v 185
5544 4 5414 v 213 234 a Fa(is\($b->{"n6"},)38 b(12,)h("betweenness)f
(centrality)g(ring)i(n6)f(==)h(12"\);)213 313 y(is\($b->{"n7"},)e(12,)h
("betweenness)f(centrality)g(ring)i(n7)f(==)h(12"\);)213
392 y(is\($b->{"n8"},)e(12,)h("betweenness)f(centrality)g(ring)i(n8)f
(==)h(12"\);)213 471 y(is\($b->{"n9"},)e(12,)h("betweenness)f
(centrality)g(ring)i(n9)f(==)h(12"\);)213 550 y($nb)f(=)h
($betweenness->normalized_centrality\(\);)213 629 y(is\($nb->{"n1"},)d
(12)j(/)g(\(8)1169 641 y(*)1249 629 y(7\),)332 708 y("betweenness)e
(centrality)h(normalized)f(ring)h(n1)h(==)f(")h(.)g(12)f(/)h(\(8)2644
720 y(*)2723 708 y(7\)\);)213 786 y(is\($nb->{"n2"},)d(12)j(/)g(\(8)
1169 798 y(*)1249 786 y(7\),)332 865 y("betweenness)e(centrality)h
(normalized)f(ring)h(n2)h(==)f(")h(.)g(12)f(/)h(\(8)2644
877 y(*)2723 865 y(7\)\);)213 944 y(is\($nb->{"n3"},)d(12)j(/)g(\(8)
1169 956 y(*)1249 944 y(7\),)332 1023 y("betweenness)e(centrality)h
(normalized)f(ring)h(n3)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1035 y(*)2723 1023 y(7\)\);)213 1102 y(is\($nb->{"n4"},)d(12)j(/)g(\(8)
1169 1114 y(*)1249 1102 y(7\),)332 1181 y("betweenness)e(centrality)h
(normalized)f(ring)h(n4)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1193 y(*)2723 1181 y(7\)\);)213 1260 y(is\($nb->{"n5"},)d(12)j(/)g(\(8)
1169 1272 y(*)1249 1260 y(7\),)332 1338 y("betweenness)e(centrality)h
(normalized)f(ring)h(n5)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1350 y(*)2723 1338 y(7\)\);)213 1417 y(is\($nb->{"n6"},)d(12)j(/)g(\(8)
1169 1429 y(*)1249 1417 y(7\),)332 1496 y("betweenness)e(centrality)h
(normalized)f(ring)h(n6)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1508 y(*)2723 1496 y(7\)\);)213 1575 y(is\($nb->{"n7"},)d(12)j(/)g(\(8)
1169 1587 y(*)1249 1575 y(7\),)332 1654 y("betweenness)e(centrality)h
(normalized)f(ring)h(n7)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1666 y(*)2723 1654 y(7\)\);)213 1733 y(is\($nb->{"n8"},)d(12)j(/)g(\(8)
1169 1745 y(*)1249 1733 y(7\),)332 1812 y("betweenness)e(centrality)h
(normalized)f(ring)h(n8)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1824 y(*)2723 1812 y(7\)\);)213 1891 y(is\($nb->{"n9"},)d(12)j(/)g(\(8)
1169 1903 y(*)1249 1891 y(7\),)332 1969 y("betweenness)e(centrality)h
(normalized)f(ring)h(n9)h(==)f(")h(.)g(12)f(/)h(\(8)2644
1981 y(*)2723 1969 y(7\)\);)213 2127 y($betweenness)e(=)i
(Clair::Network::Centrality::Betweenness->)o(new\($li)o(ne_net)o(\);)
213 2206 y($b)f(=)h($betweenness->centrality\(\);)213
2285 y(is\($b->{"n1"},)e(18,)h("betweenness)f(centrality)g(line)i(n1)f
(==)h(")f(.)h(18\);)213 2364 y(is\($b->{"n2"},)e(16,)h("betweenness)f
(centrality)g(line)i(n2)f(==)h(")f(.)h(16\);)213 2443
y(is\($b->{"n3"},)e(16,)h("betweenness)f(centrality)g(line)i(n3)f(==)h
(")f(.)h(16\);)213 2522 y(is\($b->{"n4"},)e(10,)h("betweenness)f
(centrality)g(line)i(n4)f(==)h(")f(.)h(10\);)213 2600
y(is\($b->{"n5"},)e(10,)h("betweenness)f(centrality)g(line)i(n5)f(==)h
(")f(.)h(10\);)213 2679 y(is\($b->{"n6"},)e(0,)h("betweenness)f
(centrality)g(line)i(n6)f(==)h(")g(.)f(0\);)213 2758
y(is\($b->{"n7"},)f(0,)h("betweenness)f(centrality)g(line)i(n7)f(==)h
(")g(.)f(0\);)213 2837 y($nb)g(=)h
($betweenness->normalized_centrality\(\);)213 2916 y(is\($nb->{"n1"},)d
(18/\(6)1050 2928 y(*)1090 2916 y(5\),)332 2995 y("betweenness)h
(centrality)h(normalized)f(line)h(n1)h(==)f(")h(.)g(18/\(6)2525
3007 y(*)2565 2995 y(5\)\);)213 3074 y(is\($nb->{"n2"},)d(16/\(6)1050
3086 y(*)1090 3074 y(5\),)332 3153 y("betweenness)h(centrality)h
(normalized)f(line)h(n2)h(==)f(")h(.)g(16/\(6)2525 3165
y(*)2565 3153 y(5\)\);)213 3231 y(is\($nb->{"n3"},)d(16/\(6)1050
3243 y(*)1090 3231 y(5\),)332 3310 y("betweenness)h(centrality)h
(normalized)f(line)h(n3)h(==)f(")h(.)g(16/\(6)2525 3322
y(*)2565 3310 y(5\)\);)213 3389 y(is\($nb->{"n4"},)d(10/\(6)1050
3401 y(*)1090 3389 y(5\),)332 3468 y("betweenness)h(centrality)h
(normalized)f(line)h(n4)h(==)f(")h(.)g(10/\(6)2525 3480
y(*)2565 3468 y(5\)\);)213 3547 y(is\($nb->{"n5"},)d(10/\(6)1050
3559 y(*)1090 3547 y(5\),)332 3626 y("betweenness)h(centrality)h
(normalized)f(line)h(n5)h(==)f(")h(.)g(10/\(6)2525 3638
y(*)2565 3626 y(5\)\);)213 3705 y(is\($nb->{"n6"},)d(0,)332
3783 y("betweenness)h(centrality)h(normalized)f(line)h(n6)h(==)f(")h(.)
g(0\);)213 3862 y(is\($nb->{"n7"},)d(0,)332 3941 y("betweenness)h
(centrality)h(normalized)f(line)h(n7)h(==)f(")h(.)g(0\);)213
4099 y($betweenness)e(=)i(Clair::Network::Centrality::Betweenness->)o
(new\($st)o(ar_net)o(\);)213 4178 y($b)f(=)h
($betweenness->centrality\(\);)213 4257 y(is\($b->{"n1"},)e(42,)h
("betweenness)f(centrality)g(star)i(n1)f(==)h(")f(.)h(42\);)213
4336 y(is\($b->{"n2"},)e(0,)h("betweenness)f(centrality)g(star)i(n2)f
(==)h(1")f(.)h(0\);)213 4414 y(is\($b->{"n3"},)e(0,)h("betweenness)f
(centrality)g(star)i(n3)f(==)h(1")f(.)h(0\);)213 4493
y(is\($b->{"n4"},)e(0,)h("betweenness)f(centrality)g(star)i(n4)f(==)h
(1")f(.)h(0\);)213 4572 y(is\($b->{"n5"},)e(0,)h("betweenness)f
(centrality)g(star)i(n5)f(==)h(1")f(.)h(0\);)213 4651
y(is\($b->{"n6"},)e(0,)h("betweenness)f(centrality)g(star)i(n6)f(==)h
(1")f(.)h(0\);)213 4730 y(is\($b->{"n7"},)e(0,)h("betweenness)f
(centrality)g(star)i(n7)f(==)h(1")f(.)h(0\);)213 4809
y(is\($b->{"n8"},)e(0,)h("betweenness)f(centrality)g(star)i(n8)f(==)h
(1")f(.)h(0\);)213 4888 y($nb)f(=)h
($betweenness->normalized_centrality\(\);)213 4967 y(is\($nb->{"n1"},)d
(1,)j("betweenness)e(centrality)g(normalized)h(star)g(n1)h(==)f(")h(.)f
(1\);)213 5045 y(is\($nb->{"n2"},)e(0,)j("betweenness)e(centrality)g
(normalized)h(star)g(n2)h(==)f(")h(.)f(0\);)213 5124
y(is\($nb->{"n3"},)e(0,)j("betweenness)e(centrality)g(normalized)h
(star)g(n3)h(==)f(")h(.)f(0\);)213 5203 y(is\($nb->{"n4"},)e(0,)j
("betweenness)e(centrality)g(normalized)h(star)g(n4)h(==)f(")h(.)f
(0\);)213 5282 y(is\($nb->{"n5"},)e(0,)j("betweenness)e(centrality)g
(normalized)h(star)g(n5)h(==)f(")h(.)f(0\);)213 5361
y(is\($nb->{"n6"},)e(0,)j("betweenness)e(centrality)g(normalized)h
(star)g(n6)h(==)f(")h(.)f(0\);)213 5440 y(is\($nb->{"n7"},)e(0,)j
("betweenness)e(centrality)g(normalized)h(star)g(n7)h(==)f(")h(.)f
(0\);)p 3107 5544 V 185 5547 2926 4 v 1893 5809 a Fk(63)p
eop end
%%Page: 64 64
TeXDict begin 64 63 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3125 4 v 185
5544 4 5414 v 213 234 a Fa(is\($nb->{"n8"},)37 b(0,)j("betweenness)e
(centrality)g(normalized)h(star)g(n8)h(==)f(")h(.)f(0\);)213
392 y($betweenness)f(=)i(Clair::Network::Centrality::Betweenness->)o
(new\($co)o(mplex_)o(net\);)213 471 y($b)f(=)h
($betweenness->centrality\(\);)213 550 y(is\($b->{"n1"},)e(96,)h
("betweenness)f(centrality)g(complex)h(n1)h(==)f(")h(.)g(96\);)213
629 y(is\($b->{"n2"},)e(54,)h("betweenness)f(centrality)g(complex)h(n2)
h(==)f(")h(.)g(54\);)213 708 y(is\($b->{"n3"},)e(54,)h("betweenness)f
(centrality)g(complex)h(n3)h(==)f(")h(.)g(54\);)213 786
y(is\($b->{"n4"},)e(54,)h("betweenness)f(centrality)g(complex)h(n4)h
(==)f(")h(.)g(54\);)213 865 y(is\($b->{"n5"},)e(10,)h("betweenness)f
(centrality)g(complex)h(n5)h(==)f(")h(.)g(10\);)213 944
y(is\($b->{"n6"},)e(10,)h("betweenness)f(centrality)g(complex)h(n6)h
(==)f(")h(.)g(10\);)213 1023 y(is\($b->{"n7"},)e(0,)h("betweenness)f
(centrality)g(complex)h(n7)h(==)f(")h(.)g(0\);)213 1102
y(is\($b->{"n8"},)e(10,)h("betweenness)f(centrality)g(complex)h(n8)h
(==)f(")h(.)g(10\);)213 1181 y(is\($b->{"n9"},)e(10,)h("betweenness)f
(centrality)g(complex)h(n9)h(==)f(")h(.)g(10\);)213 1260
y(is\($b->{"n10"},)d(0,)j("betweenness)e(centrality)g(complex)h(n10)h
(==)f(")h(.)g(0\);)213 1338 y(is\($b->{"n11"},)d(10,)j("betweenness)e
(centrality)g(complex)h(n11)g(==)h(")g(.)f(10\);)213
1417 y(is\($b->{"n12"},)e(10,)j("betweenness)e(centrality)g(complex)h
(n12)g(==)h(")g(.)f(10\);)213 1496 y(is\($b->{"n13"},)e(0,)j
("betweenness)e(centrality)g(complex)h(n13)h(==)f(")h(.)g(0\);)213
1575 y($nb)f(=)h($betweenness->normalized_centrality\(\);)213
1654 y(is\($nb->{"n1"},)d(96)j(/)g(\(11)1209 1666 y(*)1289
1654 y(12\),)332 1733 y("betweenness)e(centrality)h(normalized)f
(complex)h(n1)g(==)h(")g(.)f(96)h(/)g(\(11)2803 1745
y(*)2883 1733 y(12\)\);)213 1812 y(is\($nb->{"n2"},)d(54)j(/)g(\(11)
1209 1824 y(*)1289 1812 y(12\),)332 1891 y("betweenness)e(centrality)h
(normalized)f(complex)h(n2)g(==)h(")g(.)f(54)h(/)g(\(11)2803
1903 y(*)2883 1891 y(12\)\);)213 1969 y(is\($nb->{"n3"},)d(54)j(/)g
(\(11)1209 1981 y(*)1289 1969 y(12\),)332 2048 y("betweenness)e
(centrality)h(normalized)f(complex)h(n3)g(==)h(")g(.)f(54)h(/)g(\(11)
2803 2060 y(*)2883 2048 y(12\)\);)213 2127 y(is\($nb->{"n4"},)d(54)j(/)
g(\(11)1209 2139 y(*)1289 2127 y(12\),)332 2206 y("betweenness)e
(centrality)h(normalized)f(complex)h(n4)g(==)h(")g(.)f(54)h(/)g(\(11)
2803 2218 y(*)2883 2206 y(12\)\);)213 2285 y(is\($nb->{"n5"},)d(10)j(/)
g(\(11)1209 2297 y(*)1289 2285 y(12\),)332 2364 y("betweenness)e
(centrality)h(normalized)f(complex)h(n5)g(==)h(")g(.)f(10)h(/)g(\(11)
2803 2376 y(*)2883 2364 y(12\)\);)213 2443 y(is\($nb->{"n6"},)d(10)j(/)
g(\(11)1209 2455 y(*)1289 2443 y(12\),)332 2522 y("betweenness)e
(centrality)h(normalized)f(complex)h(n6)g(==)h(")g(.)f(10)h(/)g(\(11)
2803 2534 y(*)2883 2522 y(12\)\);)213 2600 y(is\($nb->{"n7"},)d(0,)332
2679 y("betweenness)h(centrality)h(normalized)f(complex)h(n7)g(==)h(")g
(.)f(0\);)213 2758 y(is\($nb->{"n8"},)e(10)j(/)g(\(11)1209
2770 y(*)1289 2758 y(12\),)332 2837 y("betweenness)e(centrality)h
(normalized)f(complex)h(n8)g(==)h(")g(.)f(10)h(/)g(\(11)2803
2849 y(*)2883 2837 y(12\)\);)213 2916 y(is\($nb->{"n9"},)d(10)j(/)g
(\(11)1209 2928 y(*)1289 2916 y(12\),)332 2995 y("betweenness)e
(centrality)h(normalized)f(complex)h(n9)g(==)h(")g(.)f(10)h(/)g(\(11)
2803 3007 y(*)2883 2995 y(12\)\);)213 3074 y(is\($nb->{"n10"},)d(0,)332
3153 y("betweenness)h(centrality)h(normalized)f(complex)h(n10)g(==)h(")
g(.)f(0\);)213 3231 y(is\($nb->{"n11"},)e(10)j(/)f(\(11)1249
3243 y(*)1329 3231 y(12\),)332 3310 y("betweenness)f(centrality)h
(normalized)f(complex)h(n11)g(==)h(")g(.)f(10)h(/)g(\(11)2843
3322 y(*)2923 3310 y(12\)\);)213 3389 y(is\($nb->{"n12"},)d(10)j(/)f
(\(11)1249 3401 y(*)1329 3389 y(12\),)332 3468 y("betweenness)f
(centrality)h(normalized)f(complex)h(n12)g(==)h(")g(.)f(10)h(/)g(\(11)
2843 3480 y(*)2923 3468 y(12\)\);)213 3547 y(is\($nb->{"n13"},)d(0,)332
3626 y("betweenness)h(centrality)h(normalized)f(complex)h(n13)g(==)h(")
g(.)f(0\);)213 3783 y($betweenness)f(=)i
(Clair::Network::Centrality::Betweenness->)o(new\($di)o(rected)o
(_net\);)213 3862 y($b)f(=)h($betweenness->centrality\(\);)213
3941 y(is\($b->{"n1"},)e(0,)h("betweenness)f(centrality)g(directed)h
(n1)h(==)f(")h(.)g(0\);)213 4020 y(is\($b->{"n2"},)e(1,)h("betweenness)
f(centrality)g(directed)h(n2)h(==)f(")h(.)g(1\);)213
4099 y(is\($b->{"n3"},)e(1,)h("betweenness)f(centrality)g(directed)h
(n3)h(==)f(")h(.)g(1\);)213 4178 y(is\($b->{"n4"},)e(3,)h("betweenness)
f(centrality)g(directed)h(n4)h(==)f(")h(.)g(3\);)213
4257 y(is\($b->{"n5"},)e(0,)h("betweenness)f(centrality)g(directed)h
(n5)h(==)f(")h(.)g(0\);)213 4336 y($nb)f(=)h
($betweenness->normalized_centrality\(\);)213 4414 y(is\($nb->{"n1"},)d
(0,)332 4493 y("betweenness)h(centrality)h(normalized)f(directed)h(n1)g
(==)h(")g(.)f(0\);)213 4572 y(is\($nb->{"n2"},)e(1)j(/)g(12,)332
4651 y("betweenness)e(centrality)h(normalized)f(directed)h(n2)g(==)h(")
g(.)f(1)h(/)g(12\);)213 4730 y(is\($nb->{"n3"},)d(1)j(/)g(12,)332
4809 y("betweenness)e(centrality)h(normalized)f(directed)h(n3)g(==)h(")
g(.)f(1)h(/)g(12\);)213 4888 y(is\($nb->{"n4"},)d(1)j(/)g(4,)332
4967 y("betweenness)e(centrality)h(normalized)f(directed)h(n4)g(==)h(")
g(.)f(1)h(/)g(4\);)213 5045 y(is\($nb->{"n5"},)d(0,)332
5124 y("betweenness)h(centrality)h(normalized)f(directed)h(n5)g(==)h(")
g(.)f(0\);)213 5282 y($betweenness)f(=)i
(Clair::Network::Centrality::Betweenness->)o(new\($un)o(direct)o
(ed_net\))o(;)213 5361 y($b)f(=)h($betweenness->centrality\(\);)213
5440 y(is\($b->{"n1"},)e(1,)h("betweenness)f(centrality)g(undirected)h
(n1)g(==)h(")g(.)f(1\);)p 3306 5544 V 185 5547 3125 4
v 1893 5809 a Fk(64)p eop end
%%Page: 65 65
TeXDict begin 65 64 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2846 4 v 185
2468 4 2338 v 213 234 a Fa(is\($b->{"n2"},)38 b(2,)h("betweenness)f
(centrality)g(undirected)h(n2)g(==)h(")g(.)f(2\);)213
313 y(is\($b->{"n3"},)f(2,)h("betweenness)f(centrality)g(undirected)h
(n3)g(==)h(")g(.)f(2\);)213 392 y(is\($b->{"n4"},)f(7,)h("betweenness)f
(centrality)g(undirected)h(n4)g(==)h(")g(.)f(7\);)213
471 y(is\($b->{"n5"},)f(0,)h("betweenness)f(centrality)g(undirected)h
(n5)g(==)h(")g(.)f(0\);)213 550 y($nb)g(=)h
($betweenness->normalized_centrality\(\);)213 629 y(is\($nb->{"n1"},)d
(1)j(/)g(12,)332 708 y("betweenness)e(centrality)h(normalized)f
(undirected)g(n1)i(==)g(")f(.)h(1)g(/)f(12\);)213 786
y(is\($nb->{"n2"},)e(1)j(/)g(6,)332 865 y("betweenness)e(centrality)h
(normalized)f(undirected)g(n2)i(==)g(")f(.)h(1)g(/)f(6\);)213
944 y(is\($nb->{"n3"},)e(1)j(/)g(6,)332 1023 y("betweenness)e
(centrality)h(normalized)f(undirected)g(n3)i(==)g(")f(.)h(1)g(/)f(6\);)
213 1102 y(is\($nb->{"n4"},)e(7)j(/)g(12,)332 1181 y("betweenness)e
(centrality)h(normalized)f(undirected)g(n4)i(==)g(")f(.)h(7)g(/)f
(12\);)213 1260 y(is\($nb->{"n5"},)e(0,)332 1338 y("betweenness)h
(centrality)h(normalized)f(undirected)g(n5)i(==)g(")f(.)h(0\);)213
1496 y($betweenness)e(=)i(Clair::Network::Centrality::LexRank->new\()o
($lexran)o(k_net\))o(;)213 1575 y($b)f(=)h
($betweenness->centrality\(\);)213 1733 y
(ok\(Clair::Util::within_delta\($b->{"0"},)34 b(0.2968,)39
b(0.0001\),)332 1812 y("LexRank)g(centrality)f(undirected)h(0)g(==)h(")
g(.)f(0.2968\);)213 1891 y(ok\(Clair::Util::within_delta\($b->{"1"},)34
b(0.1169,)39 b(0.0001\),)332 1969 y("LexRank)g(centrality)f(undirected)
h(1)g(==)h(")g(.)f(0.1169\);)213 2048 y
(ok\(Clair::Util::within_delta\($b->{"2"},)34 b(0.2936,)39
b(0.0001\),)332 2127 y("LexRank)g(centrality)f(undirected)h(2)g(==)h(")
g(.)f(0.2936\);)213 2206 y(ok\(Clair::Util::within_delta\($b->{"3"},)34
b(0.2926,)39 b(0.0001\),)332 2285 y("LexRank)g(centrality)f(undirected)
h(3)g(==)h(")g(.)f(0.2926\);)p 3027 2468 V 185 2471 2846
4 v 1893 5809 a Fk(65)p eop end
%%Page: 66 66
TeXDict begin 66 65 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.5)81
b(test)p 481 210 25 4 v 29 w(cidr)-8 b(.t)p 185 279 3165
4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_cidr.t)213
462 y(#)g(functionality:)f(Verify)h(CIDR)g(functionality,)f(document)h
(sketches,)f(cluster)213 541 y(#)h(functionality:)f(insertion,)h
(clustering)213 698 y(use)g(Test::More)g(tests)g(=>)g(15;)213
777 y(use)g(Clair::CIDR;)213 856 y(use)g(Clair::Document;)213
1014 y(my)g($cidr)g(=)h(Clair::CIDR->new\(\);)213 1172
y(#######################)213 1250 y(#)f(Test)h(_sketch_document)213
1329 y(#######################)213 1408 y(my)f($text1)g(=)h("The)f(Cat)
h(loves)f(the)g(Dog";)213 1487 y(my)g($doc1)g(=)h
(Clair::Document->new\()d(type)i(=>)h("text",)e(string)h(=>)h($text1,)f
(id)g(=>)h(1)g(\);)213 1645 y(my)f($sketch1)g(=)h
($cidr->_sketch_document\($doc1\);)213 1724 y(is\()f
($sketch1->get_text\(\),)e("cat)i(loves)g(dog",)g("get_text")g(\);)213
1881 y(my)g($text2)g(=)h(join)f(")h(",)f(\()h(\("spam"\))f(x)h(500)f
(\);)213 1960 y(my)g($exp2)g(=)h(join)f(")h(",)g(\()f(\("spam"\))g(x)h
(200)f(\);)213 2039 y(my)g($doc2)g(=)h(Clair::Document->new\()d(type)i
(=>)h("text",)e(string)h(=>)h($text2,)f(id)g(=>)h(2)g(\);)213
2118 y(my)f($sketch2)g(=)h($cidr->_sketch_document\($doc2\);)213
2197 y(is\()f($sketch2->get_text\(\),)e($exp2,)i("get_text)f(with)i
(spam")f(\);)213 2433 y(##################################)213
2512 y(#)g(Test)h(_insert_into_sketch_cluster)213 2591
y(##################################)213 2670 y(my)f($text3)g(=)h("The)
f(Cat)h(and)f(the)g(dog)h(live)f(in)h(Egypt";)213 2749
y(my)f($doc3)g(=)h(Clair::Document->new\()d(type)i(=>)h("text",)e
(string)h(=>)h($text3,)f(id)g(=>)h(3)g(\);)213 2828 y(my)f($sketch3)g
(=)h($cidr->_sketch_document\($doc3\);)213 2907 y(my)f($cluster3)g(=)h
(Clair::Cluster->new\(\);)213 2986 y(my)f(\045centroid3)g(=)g
($cidr->_insert_into_sketch_cluster\($sketch3,)34 b($cluster3\);)213
3064 y(ok\(defined)k($centroid3{cat},)g("centroid{cat})f(defined"\);)
213 3143 y(ok\(defined)h($centroid3{dog},)g("centroid{dog})f
(defined"\);)213 3222 y(ok\(defined)h($centroid3{live},)f
("centroid{live})h(defined"\);)213 3301 y(ok\(defined)g
($centroid3{egypt},)f("centroid{egypt})h(defined"\);)213
3459 y(#)h(eleven)g(words)213 3538 y(my)g($text4)g(=)h("physiological)e
(statistically)g(president)g(establishment)g(constricted)g(")611
3617 y(.)i("limitations)e(monkey)h(specialise)f(specimen)h(nominated)g
(adventure";)213 3695 y(my)g($doc4)g(=)h(Clair::Document->new\()d(type)
i(=>)h("text",)e(string)h(=>)h($text4,)f(id)g(=>)h(4)g(\);)213
3774 y(my)f($cidr4)g(=)h(Clair::CIDR->new\()d(keep_words)i(=>)g(10,)h
(keep_threshold)d(=>)j(100)f(\);)213 3853 y(my)g($sketch4)g(=)h
($cidr4->_sketch_document\($doc4\);)213 3932 y(my)f(\045centroid4)g(=)g
($cidr4->_insert_into_sketch_cluster\($sketch4,)372 4011
y(Clair::Cluster->new\(\)\);)213 4090 y(is\(scalar)f(keys)i
(\045centroid4,)e(10,)h("ten)g(word)h(cluster"\);)213
4169 y($cidr4->param\()e(keep_threshold)f(=>)j(0)g(\);)213
4247 y(my)f(\045centroid5)g(=)g
($cidr4->_insert_into_sketch_cluster\($sketch4,)372 4326
y(Clair::Cluster->new\(\)\);)213 4405 y(is\(scalar)f(keys)i
(\045centroid5,)e(11,)h("now)g(eleven)g(words"\);)213
4642 y(################)213 4721 y(#)g(Test)h(cluster\(\))213
4800 y(################)213 4878 y(my)f(@text)g(=)h(\("Cats)f(and)g
(dogs)h(chase)f(each)g(other.",)g("Cats)g(chase)g(mice.",)372
4957 y("Hello,)g(Mr.)g(President."\);)213 5036 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 5115 y(for)f(\(my)h($i)f(=)h(0;)f($i<)h
(@text;)f($i++\))g({)372 5194 y(my)h($doc)f(=)h(Clair::Document->new\()
c(id)k(=>)f($i,)h(type)f(=>)h("text",)532 5273 y(string)f(=>)g
($text[$i])g(\);)372 5352 y($cluster->insert\($doc->get_id\(\),)c
($doc\);)213 5431 y(})213 5588 y(my)k($cidr5)g(=)h
(Clair::CIDR->new\(\);)p 3346 5692 V 185 5695 3165 4
v 1893 5809 a Fk(66)p eop end
%%Page: 67 67
TeXDict begin 67 66 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3006 4 v 185
1600 4 1470 v 213 234 a Fa(my)39 b(@results)g(=)h
($cidr5->cluster\($cluster\);)213 313 y(is\(scalar)e(@results,)h(2,)g
("clustered)g(into)g(2)h(clusters"\);)213 392 y(foreach)f(my)g
($hashref)g(\(@results\))f({)372 471 y(my)i($subcluster)e(=)i
($hashref->{cluster};)372 550 y(my)g($centroid)e(=)i
($hashref->{centroid};)372 708 y(if)g
(\($subcluster->count_elements\(\))35 b(==)40 b(1\))f({)532
786 y(ok\($subcluster->has_document\(2\),)c("unit)k(subcluster)f
(contains)h(2"\);)532 865 y(ok\(defined)f($centroid->{hello},)f("unit)i
(subcluster)f(centroid{hello}"\);)372 944 y(})i(elsif)f
(\($subcluster->count_elements\(\))c(==)40 b(2\))f({)532
1023 y(ok\($subcluster->has_document\(0\),)c("subcluster)j(contains)h
(0"\);)532 1102 y(ok\($subcluster->has_document\(1\),)c("subcluster)j
(contains)h(1"\);)532 1181 y(ok\(defined)f($centroid->{cats},)f
("subcluster)h(centroid{cats}"\);)532 1260 y(ok\(defined)g
($centroid->{chase},)f("subcluster)h(centroid{chase}"\);)372
1338 y(})213 1496 y(})p 3187 1600 V 185 1603 3006 4 v
60 1796 a Fi(10.2.6)81 b(test)p 481 1796 25 4 v 29 w(cidrwrapper)-8
b(.t)p 185 1881 2886 4 v 185 5401 4 3521 v 213 1984 a
Fa(#)39 b(script:)g(test_cidrwrapper.t)213 2063 y(#)g(functionality:)f
(Using)h(CIDR::Wrapper,)f(add)h(a)h(document)f(cluster)g(and)g(verify)
213 2142 y(#)g(functionality:)f(clustering)213 2300 y(use)h(strict;)213
2379 y(use)g(warnings;)213 2458 y(use)g(FindBin;)213
2537 y(use)g(Test::More;)213 2615 y(use)g(Clair::Config;)213
2694 y(use)g(DB_File;)213 2852 y(if)g(\(not)h(defined)e($CIDR_HOME)h
(or)g(not)h(-d)f($CIDR_HOME\))f({)372 2931 y(plan\()h(skip_all)g(=>)532
3010 y('$CIDR_HOME)f(not)h(defined)g(or)h(doesn\\'t)e(exist)h(in)h
(Clair::Config')e(\);)213 3089 y(})h(else)h({)372 3168
y(plan\()f(tests)g(=>)h(6)g(\);)213 3246 y(})213 3404
y(use_ok\("Clair::CIDR::Wrapper"\);)213 3483 y
(use_ok\("Clair::Cluster"\);)213 3641 y(my)f($cidr)g(=)h
(Clair::CIDR::Wrapper->new\()372 3720 y(cidr_home)f(=>)g($CIDR_HOME,)
372 3798 y(dest)g(=>)h("$FindBin::Bin/produced/cidrwrapper/temp.cid)o
(r")213 3877 y(\);)213 4035 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 4114 y
($cluster->load_documents\("$FindBin::Bin/in)o(put/cid)o(rwrappe)o(r/)
2530 4126 y(*)2570 4114 y("\);)213 4193 y
($cidr->add_cluster\($cluster\);)213 4351 y(my)f(@results)g(=)h
($cidr->run_cidr\(\);)213 4429 y(is\(@results,)e(2,)h("Two)h
(clusters"\);)213 4587 y(foreach)f(my)g($map\(@results\))f({)372
4666 y(my)i($cluster)e(=)i($map->{cluster};)372 4745
y(my)g($docs)f(=)h($cluster->documents\(\);)372 4824
y(if)g(\($cluster->count_elements\(\))c(==)j(2\))h({)532
4903 y(ok\(exists)e($docs->{"fed1.txt"},)f("fed1.txt)h(exists"\);)532
4982 y(ok\(exists)g($docs->{"fed2.txt"},)f("fed2)i(txt)g(exists"\);)372
5060 y(})h(else)f({)532 5139 y(ok\(exists)f($docs->{"41.docsent"},)f
("41.docsent)h(exists"\);)372 5218 y(})213 5297 y(})p
3067 5401 V 185 5404 2886 4 v 1893 5809 a Fk(67)p eop
end
%%Page: 68 68
TeXDict begin 68 67 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.7)81
b(test)p 481 210 25 4 v 29 w(cluster)-8 b(.t)p 185 279
3165 4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g
(test_cluster.t)213 462 y(#)g(functionality:)f(Test)h(many)h(basic)f
(functions)f(of)i(the)f(Cluster)g(class,)g(including)213
541 y(#)g(functionality:)f(Document)h(insertion,)f(Network)h
(generation,)f(and)i(more.)213 698 y(use)f(strict;)213
777 y(use)g(warnings;)213 856 y(use)g(FindBin;)213 935
y(use)g(Test::More)g(tests)g(=>)g(29;)213 1014 y(use)g(Clair::Config;)
213 1172 y(use_ok\('Clair::Document'\);)213 1250 y
(use_ok\('Clair::Cluster'\);)213 1329 y(use_ok\('Clair::Network'\);)213
1408 y(use_ok\('Clair::Util'\);)213 1566 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/cluster";)213 1645 y(my)f($file_doc_dir)f(=)i
("$FindBin::Bin/input/cluster";)213 1724 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/cluster";)213 1881 y(my)f($c1)h(=)f
(Clair::Cluster->new\(\);)213 1960 y(my)g($d1)h(=)f
(Clair::Document->new\()e(id)j(=>)f(1,)h(type)f(=>)h("text",)372
2039 y(string)f(=>)h('This)f(is)g(the)h(text)f(for)g(document)g(1.')g
(\);)213 2118 y($d1->stem\(\);)213 2197 y($c1->insert\(1,)f($d1\);)213
2276 y(is\($c1->count_elements\(\),)e(1,)j("count_elements"\);)213
2433 y(my)g($d2)h(=)f(Clair::Document->new\()e(id)j(=>)f(2,)h(string)f
(=>)g('Text)g(for)h(document)e(2.',)372 2512 y(type)h(=>)h('text'\);)
213 2591 y($d2->stem\(\);)213 2670 y($c1->insert\(2,)e($d2\);)213
2749 y(is\($c1->count_elements,)e(2,)k("count_elements"\);)213
2907 y(my)f($get_d2)g(=)h($c1->get\(2\);)213 2986 y(is\($get_d2,)e
($d2,)h("get"\);)213 3064 y(is\($c1->count_elements,)d(2,)k
("count_elements"\);)213 3222 y(my)f($d3)h(=)f(Clair::Document->new\()e
(id)j(=>)f(3,)h(type)f(=>)h("text",)372 3301 y(string)f(=>)h('This)f
(is)g(the)h(third)f(of)g(the)h(documents.')e(\);)213
3380 y($d3->stem\(\);)213 3459 y($c1->insert\(3,)g($d3\);)213
3538 y(is\($c1->count_elements,)e(3,)k("count_elements"\);)213
3695 y(my)f($n)h(=)g($c1->create_sentence_based_network\(\);)213
3774 y(isa_ok\($n,)e("Clair::Network",)f
("create_sentence_based_network"\);)213 3853 y(is\($n->num_nodes\(\),)g
(3,)i("Network::num_nodes"\);)213 3932 y(is\($n->num_links\(\),)e(4,)i
("Network::num_links"\);)213 4090 y(my)g(\045cos_hash_stem_assumed)276
b(=)40 b($c1->compute_cosine_matrix\(\);)213 4169 y(my)f
(\045largest_cosine_stem_assumed)d(=)k($c1->get_largest_cosine\(\);)213
4247 y(my)f($val)h(=)f($cos_hash_stem_assumed{1}{2};)213
4326 y(cmp_ok\(abs\($val)e(-)j(0.4645\),)f('<',)g(0.0005,)g
("compute_cosine_matrix"\);)213 4484 y(my)g
(\045cos_hash_stem_specified)e(=)i
($c1->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
4563 y(my)g(\045largest_cosine_stem_specified)d(=)j
($c1->get_largest_cosine\(\);)213 4642 y($val)g(=)h
($cos_hash_stem_specified{2}{3};)213 4721 y(cmp_ok\(abs\($val)d(-)j
(0.1445\),)f('<',)g(0.0005,)g("compute_cosine_matrix)d(2"\);)213
4878 y(is\($largest_cosine_stem_assumed{'value'},)372
4957 y($largest_cosine_stem_specified{'value'},)e
("get_largest_cosine"\);)213 5194 y(my)39 b(\045cos_hash_text)277
b(=)40 b($c1->compute_cosine_matrix\(text_type)34 b(=>)40
b('text'\);)213 5273 y(my)f(\045largest_cosine_text)e(=)j
($c1->get_largest_cosine\(\);)213 5352 y($val)f(=)h
($cos_hash_text{1}{3};)213 5431 y(cmp_ok\(abs\($val)d(-)j(0.0215\),)f
('<',)g(0.0005,)g("compute_cosine_matrix)d(unstemmed"\);)213
5588 y($c1->write_cos\("$file_gen_dir/text.cos"\);)p
3346 5692 V 185 5695 3165 4 v 1893 5809 a Fk(68)p eop
end
%%Page: 69 69
TeXDict begin 69 68 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3285 4 v 185
5544 4 5414 v 213 234 a Fa(ok\(compare_proper_files\('text.cos'\),)34
b("write_cos"\);)213 392 y($c1->write_cos\("$file_gen_dir/stem.cos",)
372 471 y(cosine_matrix)k(=>)i(\\\045cos_hash_stem_assumed\);)213
550 y(ok\(compare_proper_files\('stem.cos'\),)34 b("write_cos)39
b(unstemmed"\);)213 708 y($c1->write_cos\("$file_gen_dir/stem_zeros.c)o
(os",)372 786 y(cosine_matrix)f(=>)i(\\\045cos_hash_stem_specified,)c
(write_zeros)i(=>)h(1\);)213 865 y
(ok\(compare_proper_files\('stem_zeros.cos'\),)33 b("write_cos)39
b(stemmed)g(zeros"\);)213 1102 y(#)g(Test)h(the)f(compute_lexrank)f
(method)213 1260 y($d1)h(=)h(Clair::Document->new\(string)c(=>)j("foo)g
(bar",)h(type)f(=>)g("text",)g(id)h(=>)f(1\);)213 1338
y($d2)g(=)h(Clair::Document->new\(string)c(=>)j("bar)g(baz",)h(type)f
(=>)g("text",)g(id)h(=>)f(2\);)213 1417 y($d3)g(=)h
(Clair::Document->new\(string)c(=>)j("qux",)199 b(type)39
b(=>)g("text",)g(id)h(=>)f(3\);)213 1496 y(my)g($c)h(=)g
(Clair::Cluster->new\(\);)213 1575 y($c->insert\(1,)e($d1\);)213
1654 y($c->insert\(2,)g($d2\);)213 1733 y($c->insert\(3,)g($d3\);)213
1812 y(my)h(\045scores)g(=)h($c->compute_lexrank\(\);)213
1891 y(is\(scalar)e(keys)i(\045scores,)e(3,)i("compute_lexrank)d
(number)i(of)h(scores"\);)213 1969 y(ok\($scores{3})e(<=)h($scores{2},)
f("compute_lexrank)g(scores)h(1"\);)213 2048 y(ok\($scores{3})f(<=)h
($scores{1},)f("compute_lexrank)g(scores)h(2"\);)213
2127 y(cmp_ok\(abs\($scores{1})d(-)k($scores{2}\),)e('<',)h(0.1,)h
("compute_lexrank)d(scores"\);)213 2364 y(#)i(Test)h(the)f
(get_unique_words)f(method)213 2522 y($d1)h(=)h
(Clair::Document->new\(string)c(=>)j("Cat)g(dogs)h(bears",)f(type)g(=>)
g("text",)g(id)h(=>)159 b(\\)213 2600 y(1\);)213 2679
y($d2)39 b(=)h(Clair::Document->new\(string)c(=>)j("cat)g(Bear",)g
(type)h(=>)f("text",)g(id)h(=>)f(2\);)213 2758 y($c)g(=)h
(Clair::Cluster->new\(\);)213 2837 y($c->insert\(1,)e($d1\);)213
2916 y($c->insert\(2,)g($d2\);)213 2995 y(my)h(@words)g(=)h
($c->get_unique_words\(\);)213 3074 y(ok\(eq_set\(\\@words,)d(["cat",)i
("dog",)g("bear"]\),)f("get)h(unique)g(words"\);)213
3310 y(#)g(Test)h(the)f(genprob)g(functionality)213 3468
y(SKIP:)g({)372 3626 y(if)h(\(not)f(defined)g($GENPROB)f(or)i(not)f(-e)
h($GENPROB\))e({)532 3705 y(skip\("because)f(\\$GENPROB)i(not)g
(defined)g(in)h(Clair::Config)e(or)h(doesn't)g(exist",)691
3783 y(5\);)372 3862 y(})372 4020 y($d1)h(=)f
(Clair::Document->new\(string)d(=>)k("cat)f(dogs)g(bear",)g(type)g(=>)h
("text",)532 4099 y(id)f(=>)h(1\);)372 4178 y($d2)g(=)f
(Clair::Document->new\(string)d(=>)k("dog)f(cat)g(dog",)g(type)h(=>)f
("text",)532 4257 y(id)g(=>)h(2\);)372 4336 y($d3)g(=)f
(Clair::Document->new\(string)d(=>)k("bear)f(bear",)g(type)g(=>)h
("text",)532 4414 y(id)f(=>)h(3\);)372 4493 y($c)g(=)f
(Clair::Cluster->new\(\);)372 4572 y($c->insert\(1,)f($d1\);)372
4651 y($c->insert\(2,)g($d2\);)372 4730 y($c->insert\(3,)g($d3\);)372
4809 y(my)i(\045genprob)e(=)i($c->compute_genprob_matrix\(\);)372
4888 y(foreach)f(\(keys)g(\045genprob\))g({)532 4967
y(is\($genprob{$_}->{$_},)d(0,)k("0)f(diag"\);)372 5045
y(})372 5124 y(cmp_ok\(abs\($genprob{1}->{2})d(-)k(0.3271924516\),)d
('<',)j(0.01,)f("genprob)f(1"\);)372 5203 y
(cmp_ok\(abs\($genprob{1}->{3})e(-)k(0.3275189910\),)d('<',)j(0.01,)f
("genprob)f(2"\);)213 5282 y(})213 5440 y(#)h(Compares)g(two)h(files)f
(named)g(filename)p 3466 5544 V 185 5547 3285 4 v 1893
5809 a Fk(69)p eop end
%%Page: 70 70
TeXDict begin 70 69 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2448 4 v 185
811 4 681 v 213 234 a Fa(#)39 b(from)h(the)f(t/docs/expected)f
(directory)g(and)213 313 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 392 y(sub)h(compare_proper_files)e({)213
471 y(my)i($filename)g(=)h(shift;)213 550 y(return)f
(Clair::Util::compare_files\("$file_exp_dir/)o($filena)o(me",)532
629 y("$file_gen_dir/$filename"\);)213 708 y(})p 2629
811 V 185 814 2448 4 v 60 1007 a Fi(10.2.8)81 b(test)p
481 1007 25 4 v 29 w(compar)o(e)p 819 1007 V 28 w(idf)o(.t)p
185 1092 3086 4 v 185 5480 4 4388 v 213 1196 a Fa(#)39
b(script:)g(test_compare_idf.t)213 1275 y(#)g(functionality:)f(Compare)
h(results)g(of)g(Clair::Util)g(idf)g(calculations)f(with)213
1353 y(#)h(functionality:)f(those)h(performed)g(by)g(the)h(build_idf)e
(script)213 1590 y(#)h(This)h(is)f(used)h(to)f(compare)g(the)g(results)
g(of)h(the)f(idf)g(calculations)g(in)g(Clair::Util)213
1669 y(#)g(to)h(the)f(ones)h(performed)e(by)i(the)f(build_idf)g(script)
213 1748 y(#)g(Input)h(should)f(be)g(a)h(single)f(file)g(that)g(has)h
(already)e(been)i(stemmed)213 1827 y(use)f(strict;)213
1906 y(use)g(warnings;)213 1984 y(use)g(FindBin;)213
2063 y(use)g(Test::More)g(tests)g(=>)g(7;)213 2221 y
(use_ok\('Clair::Util'\);)213 2300 y(use_ok\('Clair::Cluster'\);)213
2379 y(use_ok\('Clair::Document'\);)213 2537 y(my)g($file_exp_dir)f(=)i
("$FindBin::Bin/expected/compare_idf";)213 2615 y(my)f($file_gen_dir)f
(=)i("$FindBin::Bin/produced/compare_idf";)213 2694 y(my)f($root_dir)g
(=)h($FindBin::Bin;)213 2852 y(#)f(Create)g(cluster)213
2931 y(my)g(\045documents)g(=)g(\(\);)213 3010 y(my)g($c)h(=)g
(Clair::Cluster->new\(documents)35 b(=>)40 b(\\\045documents\);)213
3168 y(#)f(Read)h(input)f(file)213 3246 y(my)g($input_file)g(=)g
("$FindBin::Bin/input/compare_idf/test.txt";)213 3404
y(my)g($text)g(=)h("";)213 3562 y(#)f(Create)g(each)h(document,)e(stem)
h(it,)h(and)f(insert)g(it)h(into)f(the)g(cluster)213
3641 y(#)g(Add)h(the)f(stemmed)g(text)g(to)h(the)f($text)g(variable)213
3720 y(my)g($doc)h(=)f(Clair::Document->new\(type)d(=>)k('text',)f
(file)g(=>)h($input_file,)372 3798 y(id)g(=>)f($input_file\);)213
3877 y($c->insert\(document)e(=>)i($doc,)g(id)h(=>)g($input_file\);)213
3956 y($text)f(.=)g($doc->{text})f(.)i(")g(";)213 4114
y(#)f(Take)h(off)f(the)h(last)f(newline)g(like)g(the)g(other)g
(build_idf)g(does)g(\(for)g(comparison\))213 4193 y($text)g(=)h
(substr\($text,)d(0,)j(length\($text\))e(-)i(1\);)213
4351 y(#)f(Change)g(directory)g(so)g(dbm)h(files)f(are)g(created)g(in)h
(the)f(docs)g(directory)213 4429 y(chdir)g($file_gen_dir)f(or)h(die)h
("Couldn't)e(chdir)h(to)h($file_gen_dir:)e($!";)213 4587
y(Clair::Util::build_idf_by_line\($text,)c("dbm2"\);)213
4745 y(my)39 b(\045idf)h(=)f(Clair::Util::read_idf\("dbm2"\);)213
4824 y(my)g($l;)213 4903 y(my)g($r;)213 4982 y(my)g($ct)h(=)f(0;)213
5139 y(is\()g($idf{'This'},)f(log\(6/1.5\),)g('idf{This}')g(\);)213
5218 y(is\()h($idf{'on'},)f(log\(6/2.5\),)h('idf{on}')f(\);)213
5297 y(is\()h($idf{'not'},)f(log\(6/1.5\),)g('idf{not}')h(\);)213
5376 y(is\()g($idf{'one'},)f(log\(6/3.5\),)g('idf{one}')h(\);)p
3266 5480 V 185 5483 3086 4 v 1893 5809 a Fk(70)p eop
end
%%Page: 71 71
TeXDict begin 71 70 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.9)81
b(test)p 481 210 25 4 v 29 w(connection.t)p 185 279 3285
4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_connection.t)
213 462 y(#)g(functionality:)f(As)i(part)f(of)h(Bio,)f(test)g(many)g
(basic)g(functions)g(of)h(Connection,)213 541 y(#)f(functionality:)f
(such)h(as)h(abstract)f(retrieval,)f(citation)h(network)g(analysis,)f
(etc.)213 698 y(use)h(strict;)213 777 y(use)g(warnings;)213
856 y(use)g(Test::More)g(tests)g(=>)g(11;)213 935 y(use)g(FindBin;)213
1093 y(use)g(Clair::Bio::Connection;)213 1172 y(use)g
(Clair::Network::Centrality::PageRank;)213 1329 y(my)g($c)h(=)g
(Clair::Bio::Connection->new\(\);)213 1487 y(my)f(@ids)h(=)f
($c->get_ids\(\);)213 1566 y(ok\()g($#ids)g(>)h(100,)f("Can)g(get)h(at)
f(least)h(100)f(ids)g(\(returned)g($#ids\)")g(\);)213
1724 y(my)g(@sents)g(=)h($c->get_sentences\("29019"\);)213
1802 y(ok)f(\(@sents)g(==)h(70,)f("Can)g(get)h(sentences"\);)213
1960 y(my)f($title)g(=)h($c->get_title\("29100"\);)213
2039 y(my)f($actual_title)f(=)i("Delta-opioid)e(receptor)g(endocytosis)
h(in)g(spinal)g(cord)g(after)239 b(\\)213 2118 y(dermenkephalin)38
b(activation";)213 2197 y(ok)h(\($title)g(eq)h($actual_title,)d("Can)j
(get)f(title"\);)213 2355 y(@sents)g(=)g
($c->get_citing_sentences\("1242180",)c("64497"\);)213
2433 y(ok)k(\(@sents)g(==)h(1,)f("Citation)g(size"\);)213
2512 y(my)g($sent)g(=)h($sents[0];)213 2591 y(ok)f(\($sent->{parno})f
(eq)h("30")h(&&)f($sent->{rsnt})f(eq)i("7")f(&&)h($sent->{sno})e(eq)h
("168",)372 2670 y("Citation)g(sentence"\);)213 2828
y(my)g(@asents)g(=)h($c->get_abstract_sentences\("64497"\);)213
2907 y(ok)f(\(@asents)g(==)h(8,)f("Abstract)g(sentences"\);)213
3064 y(my)g($in)h(=)f($c->get_degree_in\("64497"\);)213
3143 y(ok)g(\($in)h(==)f(1,)h("In)f(degree"\);)213 3222
y(my)g($out)h(=)f($c->get_degree_out\("64497"\);)213
3301 y(ok)g(\($out)g(==)h(0,)g("Out)f(degree"\);)213
3459 y(#)g(Test)h(citation)e(networks)213 3538 y(my)h($hashref)g(=)h({)
372 3617 y(1242180)f(=>)h({)f(64497)g(=>)h(1,)f(126263)g(=>)h(1)g(},)
372 3695 y(545969)f(=>)h({)f(126263)g(=>)h(1,)f(400652)g(=>)h(1)g(},)
372 3774 y(400652)f(=>)h({)f(400653)g(=>)h(1)g(},)372
3853 y(400663)f(=>)h({)f(400652)g(=>)h(1)g(,)f(400653)g(=>)h(1},)372
3932 y(400653)f(=>)h({)f(400652)g(=>)h(1)g(},)372 4011
y(524696)f(=>)h({)f(400653)g(=>)h(1)g(})213 4090 y(};)213
4169 y(my)f($expected)g(=)h(new)f(Clair::Network\(\);)213
4247 y(foreach)g(my)g($from)g(\(keys)g(\045$hashref\))g({)372
4326 y($expected->add_node\($from\))d(unless)j
($expected->has_node\($from\);)372 4405 y(foreach)g(my)h($to)f(\(keys)g
(\045{)h($hashref->{$from})d(}\))i({)532 4484 y
($expected->add_node\($to\))d(unless)j($expected->has_node\($to\);)532
4563 y($expected->add_edge\($from,)d($to\);)532 4642
y($expected->set_edge_attribute\($from,)e($to,)39 b
('pagerank_transition',)e(1\);)372 4721 y(})213 4800
y(})213 4957 y(my)i($n1)h(=)f($c->get_citation_network\(1242180\);)213
5115 y(#)g(Part)h(of)f(the)h(same)f(network,)g(should)g(be)g(the)g
(same)213 5194 y(my)g($n2)h(=)f($c->get_citation_network\(64497,)d
(524696\);)213 5352 y(is_deeply\($n1,)i($expected,)g("citation)g
(network)h(1"\);)213 5431 y(is_deeply\($n2,)f($expected,)g("citation)g
(network)h(2"\);)213 5588 y(#)g(Test)h(pagerank.)e(400653)h(should)g
(be)h(highest)e(ranked)p 3466 5692 V 185 5695 3285 4
v 1893 5809 a Fk(71)p eop end
%%Page: 72 72
TeXDict begin 72 71 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2767 4 v 185
1679 4 1549 v 213 234 a Fa(my)39 b(\045scores)g(=)h(\(\);)213
392 y(my)f($cent)g(=)h(Clair::Network::Centrality::PageRank->new\($n1)o
(\);)213 471 y($cent->centrality\(\);)213 629 y(foreach)f(my)g($id)h
(\(keys)f(\045$hashref\))f({)372 708 y($scores{$id})g(=)i
($n1->get_vertex_attribute\($id,)35 b('pagerank_value'\);)213
786 y(})213 944 y(my)k($ok)h(=)f(1;)213 1023 y(my)g($score)g(=)h
($scores{400653};)213 1102 y(foreach)f(my)g($id)h(\(keys)f
(\045scores\))f({)372 1181 y(if)i(\($scores{$id})e(>)h($score\))g({)532
1260 y($ok)g(=)h(0;)532 1338 y(last;)372 1417 y(})213
1496 y(})213 1575 y(ok\($ok,)f("Pagerank"\);)p 2948 1679
V 185 1682 2767 4 v 1893 5809 a Fk(72)p eop end
%%Page: 73 73
TeXDict begin 73 72 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.10)80
b(test)p 522 210 25 4 v 29 w(cor)o(pus)p 790 210 V 30
w(do)o(wnload.t)p 185 295 3165 4 v 185 5077 4 4783 v
213 399 a Fa(#)39 b(script:)g(test_corpus_download.t)213
477 y(#)g(functionality:)f(Test)h(CorpusDownload,)f(downloading)g(a)i
(corpus)f(and)g(checking)g(the)213 556 y(#)g(functionality:)f(produced)
h(TF)g(and)h(IDF)f(against)g(expected)g(results)213 714
y($ENV{ALECACHE})f(=)h("/tmp";)213 793 y(use)g(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Test::More)g(tests)g(=>)g(11;)213 1187 y
(use_ok\('Clair::Utils::CorpusDownload'\);)213 1266 y
(use_ok\('Clair::Util'\);)213 1424 y(my)g($base_dir)g(=)h
($FindBin::Bin;)213 1503 y(my)f($input_dir)g(=)g
("$base_dir/input/corpus_download";)213 1582 y(my)g($root_dir)g(=)h
("$base_dir/produced/corpus_download";)213 1739 y(my)f($corpus_name)f
(=)i("download_test";)213 1818 y(my)f($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b($corpus_name,)372 1897 y(rootdir)g(=>)h($root_dir\);)213
2055 y(#)f(Make)h(sure)f(we)h(read)f(in)g(the)h(correct)f(number)f(of)i
(URLs)213 2134 y(my)f($uref)g(=)h
($corpusref->readUrlsFile\("$base_dir/input/cor)o(pus_dow)o(nload/)o
(t.urls")o(\);)213 2213 y(is\(scalar)e(@$uref,)h(6,)h("Number)e(of)i
(url)f(refs"\);)213 2370 y(#)g(Build)h(the)f(corpus)213
2449 y($corpusref->buildCorpus\(urlsref)c(=>)40 b($uref\);)213
2607 y(#)f(Now)h(check)f(to)h(make)f(sure)g(the)g(correct)g(files)g
(have)h(been)f(downloaded)213 2686 y(foreach)g(my)g($url)g(\(@$uref\))g
({)372 2765 y(my)h($remote_path)e(=)h($url;)372 2844
y($remote_path)f(=\230)i(s{\210http://}{}g;)372 2922
y(if)g(\($remote_path)e(=\230)h(m{/\([\210/]+\)$}\))f({)532
3001 y(my)h($file_name)f(=)i($1;)532 3080 y(ok\()f
(cd_compare\("download/$corpus_name/$remote_pa)o(th",)34
b($file_name\),)691 3159 y("downloaded)k($file_name")g(\);)372
3238 y(})i(else)f({)532 3317 y(fail\("Bad)f(URL:)h($url,)g(check)h
(input)f(dir)g($input_dir"\);)372 3396 y(})213 3475 y(})213
3632 y($corpusref->buildIdf\(stemmed)c(=>)40 b(1\);)213
3711 y($corpusref->buildIdf\(stemmed)35 b(=>)40 b(0\);)213
3790 y($corpusref->build_docno_dbm\(\);)213 3869 y
($corpusref->buildTf\(stemmed)c(=>)j(1\);)213 3948 y
($corpusref->buildTf\(stemmed)d(=>)j(0\);)213 4105 y(ok\()g
(cd_compare\("corpus-data/$corpus_name-tf/a/ab/)o(abused.)o(tf",)34
b("abused.tf"\),)372 4184 y("abused.tf")k(\);)213 4263
y(ok\()h(cd_compare\("corpus-data/$corpus_name-tf-s/a/a)o(b/abus.)o
(tf",)34 b("abus.tf"\),)372 4342 y("abus.tf")39 b(\);)213
4500 y(sub)g(cd_compare)g({)372 4579 y(my)h(\($file1,)e($file2\))h(=)h
(@_;)372 4658 y(return)f(Clair::Util::compare_files\()532
4736 y("$base_dir/produced/corpus_download/$file)o(1",)532
4815 y("$base_dir/expected/corpus_download/$file)o(2")372
4894 y(\);)213 4973 y(})p 3346 5077 V 185 5080 3165 4
v 1893 5809 a Fk(73)p eop end
%%Page: 74 74
TeXDict begin 74 73 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.11)80
b(test)p 522 210 25 4 v 29 w(document)p 902 210 V 30
w(idf)o(.t)p 185 279 3125 4 v 185 5061 4 4783 v 213 383
a Fa(#)39 b(script:)g(test_document_idf.t)213 462 y(#)g(functionality:)
f(Test)h(the)h(values)f(assigned)f(to)i(various)f(words)g(in)h(a)f
(generated)g(IDF)213 619 y(use)g(strict;)213 698 y(use)g(warnings;)213
777 y(use)g(FindBin;)213 856 y(use)g(Test::More)g(tests)g(=>)g(13;)213
1093 y(use_ok\('Clair::Document'\);)213 1172 y
(use_ok\('Clair::Cluster'\);)213 1329 y(my)g($c)h(=)g
(Clair::Cluster->new\(\);)213 1487 y(my)f($input_dir)g(=)g
("$FindBin::Bin/input/document_idf";)213 1566 y(my)g($output_dir)g(=)g
("$FindBin::Bin/produced/document_idf";)213 1645 y
($c->load_documents\("$input_dir/)1453 1657 y(*)1493
1645 y(",)c(type)k(=>)g('html'\);)213 1724 y
($c->strip_all_documents\(\);)213 1802 y($c->stem_all_documents\(\);)
213 1960 y(my)g($num_docs)g(=)h($c->count_elements\(\);)213
2039 y(is\($num_docs,)e(4,)h("correct)g(num)g(docs"\);)213
2197 y(my)g(\045idf_hash)g(=)h($c->build_idf\("$output_dir/idf-dbm",)34
b(type)39 b(=>)h('text'\);)213 2355 y(my)f($numerator)g(=)g($num_docs)g
(+)h(1;)213 2512 y(my)f($value)g(=)h($idf_hash{'one'};)213
2591 y(is\($value,)e(log\()h($numerator)g(/)g(1.5)h(\),)f("one"\);)213
2749 y($value)g(=)g($idf_hash{'and'};)213 2828 y(is\($value,)f(log\()h
($numerator)g(/)g(2.5)h(\),)f("and"\);)213 2986 y($value)g(=)g
($idf_hash{'the'};)213 3064 y(is\($value,)f(log\()h($numerator)g(/)g
(2.5)h(\),)f("the"\);)213 3222 y($value)g(=)g($idf_hash{'The'};)213
3301 y(is\($value,)f(log\()h($numerator)g(/)g(4.5)h(\),)f("The"\);)213
3459 y($value)g(=)g($idf_hash{'sales'};)213 3538 y(is\($value,)f(log\()
h($numerator)g(/)g(1.5)h(\),)f("sales"\);)213 3695 y($value)g(=)g
($idf_hash{'rescuers'};)213 3774 y(is\($value,)f(log\()h($numerator)g
(/)g(2.5)h(\),)f("rescuers"\);)213 4011 y(\045idf_hash)f(=)i
($c->build_idf\("$output_dir/idf-dbm",)34 b(type)40 b(=>)f('stem'\);)
213 4169 y($value)g(=)g($idf_hash{'the'};)213 4247 y(is\($value,)f
(log\()h($numerator)g(/)g(4.5)h(\),)f("the)h(\(stemmed\)"\);)213
4405 y($value)f(=)g($idf_hash{'sale'};)213 4484 y(is\($value,)f(log\()h
($numerator)g(/)g(1.5)h(\),)f("sale)g(\(stemmed\)"\);)213
4642 y($value)g(=)g($idf_hash{'rescu'};)213 4721 y(is\($value,)f(log\()
h($numerator)g(/)g(2.5)h(\),)f("rescu)g(\(stemmed\)"\);)213
4878 y($value)g(=)g($idf_hash{'The'};)213 4957 y(is\($value,)f(undef,)h
("'The')g(not)g(defined"\);)p 3306 5061 V 185 5064 3125
4 v 1893 5809 a Fk(74)p eop end
%%Page: 75 75
TeXDict begin 75 74 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.12)80
b(test)p 522 210 25 4 v 29 w(document.t)p 185 279 3046
4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_document.t)213
462 y(#)g(functionality:)f(Test)h(basic)h(Document)e(functionality:)g
(stripping,)g(splitting,)213 541 y(#)h(functionality:)f(TF)i
(generation,)e(filtering,)g(etc.)213 698 y(use)h(strict;)213
777 y(use)g(warnings;)213 856 y(use)g(Test::More)g(tests)g(=>)g(23;)213
935 y(use)g(FindBin;)213 1093 y(use_ok\('Clair::Document'\);)213
1172 y(use_ok\('Clair::Cluster'\);)213 1329 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/document";)213 1408 y(my)f($file_input_dir)f
(=)i("$FindBin::Bin/input/document";)213 1566 y(my)f($doc1)g(=)h
(Clair::Document->new\()372 1645 y(string)f(=>)h('I)f(am)h(some)f
(pretty)g(nifty)g(text...',)372 1724 y(type)g(=>)h('text',)213
1802 y(\);)213 1960 y(#)f(Test)h(word)f(count)213 2039
y(is\($doc1->count_words\(\),)d(6,)k("word)f(count"\);)213
2276 y(#)g(Test)h(for)f(correct)g(html)g(stripping)213
2355 y(my)g($doc2)g(=)h(Clair::Document->new\()d(file)i(=>)h
("$file_input_dir/test.html",)372 2433 y(type)f(=>)h('html'\);)213
2512 y(my)f($stripped_text)f(=)i($doc2->strip_html\(\);)213
2591 y(is\($stripped_text,)d("This)i(is)h(a)f(test.\\n\\n",)f
("strip_html"\);)213 2828 y(#)h(Test)h(for)f(split_into_lines)213
2907 y(my)g($doc3)g(=)h(Clair::Document->new\()d(file)i(=>)h
("$file_input_dir/test.txt",)372 2986 y(type)f(=>)h('text'\);)213
3064 y(my)f($line_count)g(=)g(scalar)g($doc3->split_into_lines\(\);)213
3143 y(is\($line_count,)e(5,)j("split_into_lines"\);)213
3380 y(#)f(Test)h(for)f(split_into_sentences)213 3459
y(my)g($sentence_count)f(=)i(scalar)f($doc3->split_into_sentences\(\);)
213 3538 y(is\($sentence_count,)e(7,)i("split_into_sentences"\);)213
3932 y(#)g(Make)h(sure)f(that)g(we)h(can)f(get)h(the)f(stemmed)g
(document)f(without)h(calling)g(stem)213 4011 y(#)g(directly.)213
4090 y(my)g($stem_doc)g(=)h(Clair::Document->new\()c(string)j(=>)h
("This)f(is)g(unstemmed)g(text.",)372 4169 y(type)g(=>)h("text")f(\);)
213 4247 y(my)g($stemmed_text)f(=)i($stem_doc->get_stem\(\);)213
4326 y(ok\(defined)e($stemmed_text,)g("get_stem"\);)213
4484 y(#)h(Test)h(TF)f(calculations)213 4563 y(my)g($text)g(=)h("Cat)f
(cats)h(dog)f(mouse)g(mouse)g(mouse)g(dog.";)213 4642
y(my)g($doc)h(=)f(Clair::Document->new\()e(string)i(=>)g($text,)g(type)
h(=>)f("text",)g(id)h(=>)f(1)h(\);)213 4721 y(my)f(\045tf)h(=)f
($doc->tf\(\);)213 4878 y(is\(scalar)f(keys)i(\045tf,)f(3,)g("numterms)
g(stemmed"\);)213 4957 y(is\($tf{cat},)f(2,)h('tf{cat})g(stemmed'\);)
213 5036 y(is\($tf{dog},)f(2,)h('tf{dog})g(stemmed'\);)213
5115 y(is\($tf{mous},)f(3,)h('tf{mous})g(stemmed'\);)213
5273 y(#)g(should)g(be)h(able)f(to)h(do)f(an)h(unstemmed)e(version)213
5352 y(\045tf)h(=)h($doc->tf\()e(type)i(=>)f("text")g(\);)213
5431 y(is\(scalar)f(keys)i(\045tf,)f(5,)g("numterms)g(stemmed"\);)213
5509 y(is\($tf{Cat},)f(1,)h('tf{Cat})g(unstemmed'\);)213
5588 y(is\($tf{cats},)f(1,)h('tf{cats})g(unstemmed'\);)p
3226 5692 V 185 5695 3046 4 v 1893 5809 a Fk(75)p eop
end
%%Page: 76 76
TeXDict begin 76 75 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3165 4 v 185
2862 4 2732 v 213 234 a Fa(is\($tf{"dog."},)37 b(1,)j('tf{dog.})e
(unstemmed'\);)213 313 y(is\($tf{dog},)g(1,)h('tf{dog})g(unstemmed'\);)
213 392 y(is\($tf{mouse},)f(3,)h('tf{mouse})f(unstemmed'\);)213
550 y(#)h(Get)h(stemmed)f(unique)g(words)213 629 y($doc)g(=)h
(Clair::Document->new\()c(string)j(=>)h("Cat)f(dog)h(cats.",)e(type)i
(=>)f("text")g(\);)213 708 y($doc->stem\(\);)213 786
y(my)g(@words)g(=)h(sort)f($doc->get_unique_words\()e(type)i(=>)g
("stem")g(\);)213 865 y(is_deeply\(\\@words,)e(["cat",)i("dog"],)g
("stemmed)f(unique)h(words"\);)213 1023 y(#)g(Shouldn't)g
(automatically)f(stem)213 1102 y($doc)h(=)h(Clair::Document->new\()c
(string)j(=>)h("Cat)f(cats)g(cat)h(cat",)f(type)g(=>)h("text"\);)213
1181 y(@words)f(=)g(sort)h($doc->get_unique_words\()c(type)j(=>)h
("text")f(\);)213 1260 y(is_deeply\(\\@words,)e(["Cat",)i("cat",)g
("cats"],)f("unstemmed)h(unique)g(words"\);)213 1417
y(#)g(Should)g(default)g(to)h(getting)f(stemmed)213 1496
y($doc)g(=)h(Clair::Document->new\()c(string)j(=>)h("Cat)f(cats)g(cat)h
(cat",)f(type)g(=>)h("text"\);)213 1575 y($doc->stem\(\);)213
1654 y(@words)f(=)g(sort)h($doc->get_unique_words\(\);)213
1733 y(is_deeply\(\\@words,)d(["cat"],)i("stemmed)f(unique)h(words)g
(default"\);)213 1891 y(#)g(Filter)g(sentences)g(from)g(a)h(document)
213 1969 y($doc)f(=)h(Clair::Document->new\()372 2048
y(string)f(=>)h("I)f(like)g(rice.)h(Rice)f(is)g(good.)g(I)h(prefer)f
(to)h(eat)f(it)h(with)f(soy)g(sauce.",)372 2127 y(type)g(=>)h("text",)f
(id)g(=>)h("doc")f(\);)213 2206 y(my)g($filtered_doc)f(=)i
($doc->filter_sents\()d(matches)i(=>)g("\(?i\)rice")g(\);)213
2285 y(like\($filtered_doc->get_text\(\),)c(qr/I)k(like)g(rice\\.)g
(Rice)h(is)f(good\\./,)372 2364 y("fileterd)g(by)g(match"\);)213
2443 y(is\($filtered_doc->get_id\(\),)d("doc",)j("preserves)f(id"\);)
213 2522 y($filtered_doc)g(=)h($doc->filter_sents\()e(test)j(=>)f(sub)h
({)f(length\($_\))g(>=)g(25)h(})f(\);)213 2600 y
(like\($filtered_doc->get_text\(\),)c(qr/I)k(prefer)g(to)h(eat)f(it)h
(with)f(soy)g(sauce\\./,)372 2679 y("filtered)g(by)g(sub"\);)p
3346 2862 V 185 2865 3165 4 v 1893 5809 a Fk(76)p eop
end
%%Page: 77 77
TeXDict begin 77 76 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.13)80
b(test)p 522 210 25 4 v 29 w(esear)o(chhandler)-8 b(.t)p
185 279 3285 4 v 185 3010 4 2732 v 213 383 a Fa(#)39
b(script:)g(test_esearchhandler.t)213 462 y(#)g(functionality:)f(Test)h
(Bio's)h(ESearchHandler)d(against)i(a)h(reference)e(XML)i(parser)213
619 y(use)f(strict;)213 698 y(use)g(warnings;)213 777
y(use)g(Test::More)g(tests)g(=>)g(6;)213 856 y(use)g
(XML::Parser::PerlSAX;)213 935 y(use)g
(Clair::Bio::EUtils::ESearchHandler;)213 1014 y(use)g(FindBin;)213
1172 y(my)g($doc)h(=)f("$FindBin::Bin/input/esearchhandler/ESearch.xm)o
(l";)213 1329 y(my)g(@eidlist)g(=)h(\()f(16881078,)g(16881077,)f
(16881074,)h(16881038,)f(16881031,)h(16880988,)198 b(\\)213
1408 y(16880979,)38 b(16880955,)h(16880943,)f(16880941,)h(16880828,)f
(16880809,)h(16880795,)f(16880794,)h(\\)213 1487 y(16880793,)f
(16880792,)h(16880791,)f(16880790,)h(16880789,)f(16880788)h(\);)213
1566 y(my)g($ecount)g(=)h(9074;)213 1645 y(my)f($eretmax)g(=)h(20;)213
1724 y(my)f($eretstart)g(=)g(0;)213 1802 y(my)g($equerykey)g(=)g(1;)213
1881 y(my)g($ewebenv)g(=)2670 b(\\)213 1960 y
('0RzvzWJFkod9XeS088A6h8wyCBWc2efqy2U8HhDmY)o(s0Kxt-L)o(urDl5v@)o
(2B5F4F8)o(54D15A)o(D50_002)o(4SI)34 b(\\)213 2039 y(D';)213
2197 y(my)39 b($handler)g(=)h(new)f
(Clair::Bio::EUtils::ESearchHandler;)213 2276 y(my)g($parser)g(=)h(new)
f(XML::Parser::PerlSAX\()e(Handler)i(=>)g($handler)g(\);)213
2355 y($parser->parse\(Source)d(=>)k({)g(SystemId)e(=>)i($doc)f(}\);)
213 2512 y(ok\(eq_set\(\\@eidlist,)e($handler->{IdList}\),)f
("IdList"\);)213 2591 y(is\($handler->{Count},)g($ecount,)j("Count"\);)
213 2670 y(is\($handler->{RetMax},)d($eretmax,)j("RetMax"\);)213
2749 y(is\($handler->{RetStart},)d($eretstart,)i("RetStart"\);)213
2828 y(is\($handler->{QueryKey},)e($equerykey,)i("QueryKey"\);)213
2907 y(is\($handler->{WebEnv},)e($ewebenv,)j("WebEnv"\);)p
3466 3010 V 185 3013 3285 4 v 1893 5809 a Fk(77)p eop
end
%%Page: 78 78
TeXDict begin 78 77 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.14)80
b(test)p 522 210 25 4 v 29 w(esear)o(ch.t)p 185 279 2408
4 v 185 3878 4 3600 v 213 383 a Fa(#)39 b(script:)g(test_esearch.t)213
462 y(#)g(functionality:)f(Perform)h(a)h(few)f(basic)g(ESearch)g
(queries)213 619 y(use)g(strict;)213 698 y(use)g(warnings;)213
777 y(use)g(Test::More)g(tests)g(=>)g(6;)213 856 y(use)g
(Clair::Bio::EUtils::ESearch;)213 1014 y(my)g(\045query)g(=)h(\()372
1093 y(term)f(=>)h("cancer",)372 1172 y(reldate)f(=>)h(60,)372
1250 y(datetype)f(=>)g("edat",)372 1329 y(retmax)g(=>)h(100)213
1408 y(\);)213 1566 y(my)f($esearch)g(=)h(new)f
(Clair::Bio::EUtils::ESearch\(\045query\);)213 1645 y(my)g(@ids)h(=)f
(@{)h($esearch->{IdList})d(};)213 1802 y(is\(scalar)h(@ids,)h(100,)h
("Return)e(100"\);)213 1960 y(#)h(Each)h(ID)f(should)g(be)h(at)f(least)
g(5)h(digits)f(long)213 2039 y(my)g($ok)h(=)f(1;)213
2118 y(foreach)g(my)g($id)h(\(@ids\))e({)372 2197 y(if)i(\($id)f(<)h
(10000\))f({)532 2276 y($ok)g(=)h(0;)532 2355 y(last;)372
2433 y(})213 2512 y(})213 2591 y(ok\($ok,)f("IDs)g(are)g(large)g
(enough"\);)213 2670 y(is\($esearch->{RetMax},)d(100,)k("RetMax"\);)213
2749 y(ok\(length\($esearch->{WebEnv}\))35 b(>=)40 b(10,)f("WebEnv)g
(long)g(enough"\);)213 2907 y(#)g(Wait)h(before)f(making)g(another)f
(query)213 2986 y(sleep\(3\);)213 3143 y(\045query)h(=)g(\()372
3222 y(term)g(=>)h("david)f(states",)372 3301 y(mindate)g(=>)h
("2002/10/15",)372 3380 y(maxdate)f(=>)h("2002/11/30")213
3459 y(\);)213 3538 y($esearch)e(=)i(new)g
(Clair::Bio::EUtils::ESearch\(\045query\);)213 3617 y(@ids)f(=)h(@{)f
($esearch->{IdList})e(};)213 3695 y(is\(scalar)h(@ids,)h(1,)h
("idlist"\);)213 3774 y(is\($ids[0],)e(12434005,)g("first)h(id"\);)p
2589 3878 V 185 3881 2408 4 v 1893 5809 a Fk(78)p eop
end
%%Page: 79 79
TeXDict begin 79 78 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.15)80
b(test)p 522 210 25 4 v 29 w(eutils.t)p 185 279 3205
4 v 185 2143 4 1864 v 213 383 a Fa(#)39 b(script:)g(test_eutils.t)213
462 y(#)g(functionality:)f(Test)h(Clair::Bio::EUtils')e(hash2args)i
(and)g(build_url)213 619 y(use)g(strict;)213 698 y(use)g
(Clair::Bio::EUtils)e(qw\(hash2args)h(build_url\);)213
777 y(use)h(Test::More)g(tests)g(=>)g(3;)213 935 y(my)g(\045hash)g(=)h
(\()372 1014 y(foo)g(=>)f("bar",)372 1093 y(baz)h(=>)f("qux",)372
1172 y('<foo>')g(=>)h("hello)e(world")213 1250 y(\);)213
1408 y(my)h($str)h(=)f(hash2args\(\045hash\);)213 1487
y(is\($str,)f("\0453Cfoo\0453E=hello\04520world&baz=qux&foo=bar",)c
("hash2args"\);)213 1645 y(\045hash)39 b(=)h(\()f(foo)h(=>)f("bar")g
(\);)213 1724 y(my)g($base1)g(=)h("http://foo.bar/thing.cgi";)213
1802 y(my)f($base2)g(=)h("http://foo.bar/thing.cgi?";)213
1960 y(is\(build_url\(base)d(=>)j($base1,)e(args)i(=>)f(\\\045hash\),)g
("$base1?foo=bar",)e("build_url"\);)213 2039 y(is\(build_url\(base)g
(=>)j($base2,)e(args)i(=>)f(\\\045hash\),)g("$base1?foo=bar",)e
("build_url)i(2"\);)p 3386 2143 V 185 2146 3205 4 v 1893
5809 a Fk(79)p eop end
%%Page: 80 80
TeXDict begin 80 79 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.16)80
b(test)p 522 210 25 4 v 29 w(generif)o(.t)p 185 295 3285
4 v 185 5077 4 4783 v 213 399 a Fa(#)39 b(script:)g(test_generif.t)213
477 y(#)g(functionality:)f(Test)h(Clair::Bio::GeneRIF's)e(basic)i
(record)g(retrieval)g(functions)213 635 y(use)g(strict;)213
714 y(use)g(warnings;)213 793 y(use)g(FindBin;)213 872
y(use)g(File::Copy;)213 951 y(use)g(Clair::Bio::GeneRIF;)213
1030 y(use)g(Test::More)g(tests)g(=>)g(5;)213 1187 y(my)g($docs_dir)g
(=)h("$FindBin::Bin/input/generif";)213 1266 y(my)f($out_dir)g(=)h
("$FindBin::Bin/produced/generif";)213 1345 y(my)f($testfile)g(=)h
("test_inter.txt";)213 1424 y(my)f($testfile2)g(=)g("test_inter2.txt";)
213 1582 y(unless)g(\(-d)g($out_dir\))g({)372 1660 y(mkdir\($out_dir\))
f(or)h(die)h("Could)f(not)g(create)g(directory)g($out_dir:)f($!";)213
1739 y(})213 1897 y(if)h(\(-f)h("$out_dir/$testfile"\))c({)372
1976 y(unlink\("$out_dir/$testfile"\))g(or)j(die)h("Could)f(not)g
(delete)g(pre-existing)f(output)119 b(\\)213 2055 y(file)39
b($out_dir/$testfile:)e($!";)213 2134 y(})213 2291 y(if)i(\(-f)h
("$out_dir/$testfile.dbm"\))c({)372 2370 y
(unlink\("$out_dir/$testfile.dbm"\))f(or)40 b(die)f("Could)g(not)h
(delete)f(pre-existing)f(DBM)79 b(\\)213 2449 y(output)39
b(file)g($out_dir/$testfile.dbm:)d($!";)213 2528 y(})213
2686 y(copy\("$docs_dir/$testfile",)g("$out_dir/$testfile"\))372
2765 y(or)k(die)f("Could)g(not)g(copy)h($docs_dir/$testfile)d(to)i
($out_dir/$testfile:)e($!";)213 2922 y(my)i($generif)g(=)h
(Clair::Bio::GeneRIF->new\()372 3001 y(path)f(=>)h
("$out_dir/$testfile")213 3080 y(\);)213 3238 y
(is\($generif->get_total_records\(\),)35 b(9,)k("Test)g(records)g
(before"\);)213 3396 y($generif)f(=)i(Clair::Bio::GeneRIF->new\()372
3475 y(path)f(=>)h("$out_dir/$testfile")213 3553 y(\);)213
3632 y(is\($generif->get_total_records\(\),)35 b(9,)k("Same)g(number)g
(of)h(records"\);)213 3790 y(#)f(Trim)h(off)f(the)h(bottom)e(line)213
3869 y(system\("head)g(-9)h($out_dir/$testfile)f(>)h
($out_dir/$testfile2"\);)213 3948 y(move\("$out_dir/$testfile2",)d
("$out_dir/$testfile"\);)213 4184 y($generif)i(=)i
(Clair::Bio::GeneRIF->new\()372 4263 y(path)f(=>)h
("$out_dir/$testfile",)372 4342 y(reload)f(=>)h(1)213
4421 y(\);)213 4500 y(is\($generif->get_total_records\(\),)35
b(8,)k("Test)g(records)g(after"\);)213 4736 y(my)g(@records)g(=)h
($generif->get_records_from_id\(1224324\);)213 4815 y(is\(@records,)e
(2,)h("Sample)g(records)g(size"\);)213 4894 y(my)g($record)g(=)h
($records[0];)213 4973 y(is\($record->[4],)d("",)j("Convert)e('-')i(to)
f(''"\);)p 3466 5077 V 185 5080 3285 4 v 1893 5809 a
Fk(80)p eop end
%%Page: 81 81
TeXDict begin 81 80 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.17)80
b(test)p 522 210 25 4 v 29 w(gen.t)p 185 295 2846 4 v
185 3815 4 3521 v 213 399 a Fa(#)39 b(script:)g(test_gen.t)213
477 y(#)g(functionality:)f(Test)h(some)h(statistical)e(computations)g
(using)h(Clair::Gen)213 635 y(use)g(strict;)213 714 y(use)g(warnings;)
213 793 y(use)g(FindBin;)213 872 y(use)g(Test::More)g(tests=>)f(9;)213
1030 y(use_ok\('Clair::Gen'\);)213 1187 y(my)h($file_input_dir)f(=)i
("$FindBin::Bin/input/gen";)213 1345 y(my)f($g)h(=)g(new)f(Clair::Gen;)
213 1424 y($g->read_from_file\("$file_input_dir/j.dist)o("\);)213
1503 y(my)g($n)h(=)g($g->count;)213 1660 y(is\($n,)f(8,)g("count"\);)
213 1818 y(my)g(@expected_dist)f(=)i(\(7,)f(4,)h(1,)f(0,)h(0,)f(0,)h
(0,)f(3\);)213 1897 y(my)g(@observed)g(=)h($g->distribution;)213
1976 y(is_deeply\(\\@observed,)c(\\@expected_dist,)i("distribution"\);)
213 2134 y(my)h(\($c_hat,)g($alpha_hat\))f(=)i
($g->plEstimate\(\\@observed\);)213 2213 y(cmp_ok\()f(abs\($c_hat)f(-)i
(4.7265\),)e('<',)i(0.0005,)e("plEstimate)h(c_hat")g(\);)213
2291 y(cmp_ok\()g(abs\($alpha_hat)e(+)j(0.465\),)f('<',)g(0.005,)g
("plEstimate)f(alpha_hat")h(\);)213 2449 y(my)g(@expected)g(=)h
($g->genPL\($c_hat,)d($alpha_hat,)h($n\);)213 2528 y(my)h(\($df,)g
($pv\))h(=)f($g->compareChiSquare\(\\@observed,)c(\\@expected,)k(2\);)
213 2607 y(is\($df,)g(5,)g("compareChiSquare)e(df"\);)213
2686 y(cmp_ok\()i(abs\($pv)f(-)i(0.0895\),)f('<',)g(0.0005,)g
("compareChiSquare)e(pv")j(\);)213 2844 y(#)f(lambda)g(=)h(8,)g
(nsamples)e(=)i(20)213 2922 y(my)f($lambda)g(=)h(8;)213
3001 y(my)f($n_samples)g(=)g(20;)213 3080 y(my)g(@samples)g(=)h
($g->genPois\($lambda,)d($n_samples\);)213 3238 y(is\(scalar)h
(@samples,)h($n_samples,)f("genPois)h(number)g(of)g(samples"\);)213
3317 y(my)g($all_pos)g(=)h(1;)213 3396 y(for)f(\(@samples\))g({)372
3475 y(last)g(and)h($all_pos)e(=)i(0)g(if)f($_)h(<=)g(0;)213
3553 y(})213 3632 y(ok\($all_pos,)e("genPois)g(positive)h(samples"\);)p
3027 3815 V 185 3818 2846 4 v 1893 5809 a Fk(81)p eop
end
%%Page: 82 82
TeXDict begin 82 81 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.18)80
b(test)p 522 210 25 4 v 29 w(gir)o(v)o(anNewman.t)p 185
295 2448 4 v 185 2474 4 2180 v 213 399 a Fa(#)39 b(script:)g
(test_girvanNewman)213 477 y(#)g(functionality:)f(Test)h(GirvanNewman)g
(algorithm)f(on)i(Karate)f(data)213 635 y(use)g
(Clair::Network::GirvanNewman;)213 714 y(use)g
(Clair::Network::Reader::GML;)213 793 y(use)g(FindBin;)213
872 y(use)g(Test::More)g(tests)g(=>)g(5;)213 1030 y
(use_ok\('Clair::Network::GirvanNewman'\);)213 1108 y
(use_ok\('Clair::Network::Reader::GML'\);)213 1266 y(my)g($base_dir)g
(=)h($FindBin::Bin;)213 1345 y(my)f($fileName)g(=)h
("$base_dir/input/network/karate.gml";)213 1424 y(my)f($reader)g(=)h
(Clair::Network::Reader::GML->new\(\);)213 1503 y(my)f($net)h(=)f
($reader->read_network\($fileName\);)213 1660 y(my)g($GN)h(=)f(new)h
(Clair::Network::GirvanNewman\($net\);)213 1739 y($graphPartition)d(=)j
($GN->partition\(\);)213 1897 y(my)f($str1)g(=)h($$graphPartition{1};)
213 1976 y(my)f($str2)g(=)h($$graphPartition{2};)213
2055 y(my)f($str3)g(=)h($$graphPartition{3};)213 2213
y(is\(substr\($str1,)d(2,)j(1\),)f(0,)h("Check)f(the)g(partition)g(of)g
(node)g(1"\);)213 2291 y(is\(substr\($str2,)e(2,)j(1\),)f(0,)h("Check)f
(the)g(partition)g(of)g(node)g(2"\);)213 2370 y(is\(substr\($str3,)e
(2,)j(1\),)f(1,)h("Check)f(the)g(partition)g(of)g(node)g(3"\);)p
2629 2474 V 185 2477 2448 4 v 1893 5809 a Fk(82)p eop
end
%%Page: 83 83
TeXDict begin 83 82 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.19)80
b(test)p 522 210 25 4 v 29 w(graf)o(.t)p 185 295 3006
4 v 185 3815 4 3521 v 213 399 a Fa(#)39 b(script:)g(test_graf.t)213
477 y(#)g(functionality:)f(As)i(part)f(of)h(Clair::Polisci,)d(test)i
(basic)h(Graf)f(functions)f(like)213 556 y(#)h(functionality:)f
(to_document)213 714 y(use)h(strict;)213 793 y(use)g
(Clair::Polisci::Graf;)213 872 y(use)g(Clair::Polisci::Speaker;)213
951 y(use)g(Test::More)g(tests)g(=>)g(4;)213 1187 y(#)g(TEST)h(1)213
1345 y(eval)f({)372 1424 y(my)h($graf)f(=)h
(Clair::Polisci::Graf->new\(\);)213 1503 y(};)213 1582
y(ok\($@,)f("Graf)g(needs)g(source,)g(index,)g(content,)f(speaker"\);)
213 1660 y(undef)h($@;)213 1976 y(my)g($speaker)g(=)h
(Clair::Polisci::Speaker->new\()372 2055 y(source)f(=>)h("source",)372
2134 y(id)g(=>)f("speakerID")213 2213 y(\);)213 2370
y(my)g($content)g(=)h("Sentence)e(one.)h(Sentence)g(two.)g(Sentence)g
(three.";)213 2449 y(my)g(@exp_sents)g(=)g(\()h("Sentence)f(one.",)g
("Sentence)f(two.",)h("Sentence)g(three.")f(\);)213 2607
y(my)h($graf)g(=)h(Clair::Polisci::Graf->new\()372 2686
y(source)f(=>)h("source",)372 2765 y(index)f(=>)h(1,)372
2844 y(content)f(=>)h($content,)372 2922 y(speaker)f(=>)h($speaker)213
3001 y(\);)213 3159 y(my)f($doc)h(=)f($graf->to_document\(\);)213
3238 y(my)g(@sents)g(=)h($doc->split_into_sentences\(\);)213
3317 y(foreach)f(my)g($i)h(\(0)f(..)h($#exp_sents\))e({)372
3396 y(my)i($exp_sent)e(=)i($exp_sents[$i];)372 3553
y(#)g(TESTS)f(2)h(-)f(4)372 3632 y(like\($sents[$i],)f(qr/$exp_sent/,)f
("Split)i(into)h(sents)f(\($i\)"\);)213 3711 y(})p 3187
3815 V 185 3818 3006 4 v 1893 5809 a Fk(83)p eop end
%%Page: 84 84
TeXDict begin 84 83 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.20)80
b(test)p 522 210 25 4 v 29 w(h)o(yperlink.t)p 185 295
3285 4 v 185 4052 4 3757 v 213 399 a Fa(#)39 b(script:)g
(test_hyperlink.t)213 477 y(#)g(functionality:)f(Test)h(the)h(ability)f
(to)g(generate)g(a)h(hyperlink-based)d(network)i(from)213
556 y(#)g(functionality:)f(a)i(small)f(document)g(cluster)213
714 y(use)g(strict;)213 793 y(use)g(warnings;)213 872
y(use)g(FindBin;)213 951 y(use)g(Test::More)g(tests)g(=>)g(7;)213
1108 y(use_ok\('Clair::Network'\);)213 1187 y
(use_ok\('Clair::Cluster'\);)213 1266 y(use_ok\('Clair::Document'\);)
213 1345 y(use_ok\('Clair::Util'\);)213 1503 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/hyperlink";)213 1582 y(my)f($file_input_dir)f
(=)i("$FindBin::Bin/input/hyperlink";)213 1660 y(my)f($file_exp_dir)f
(=)i("$FindBin::Bin/expected/hyperlink";)213 1818 y(my)f($c)h(=)g(new)f
(Clair::Cluster\(\);)213 1897 y(my)g($d1)h(=)f(new)h
(Clair::Document\(id)d(=>)j(1,)f(type)g(=>)h('text',)f(string)g(=>)g
('Document)g(1'\);)213 1976 y($c->insert\(1,)f($d1\);)213
2055 y(my)h($d2)h(=)f(new)h(Clair::Document\(id)d(=>)j(2,)f(type)g(=>)h
('text',)f(string)g(=>)g('Document)g(2'\);)213 2134 y($c->insert\(2,)f
($d2\);)213 2213 y(my)h($d3)h(=)f(new)h(Clair::Document\(id)d(=>)j(3,)f
(type)g(=>)h('text',)f(string)g(=>)g('Document)g(3'\);)213
2291 y($c->insert\(3,)f($d3\);)213 2370 y(my)h($d4)h(=)f(new)h
(Clair::Document\(id)d(=>)j(4,)f(type)g(=>)h('text',)f(string)g(=>)g
('Document)g(4'\);)213 2449 y($c->insert\(4,)f($d4\);)213
2607 y(is\($c->count_elements,)e(4,)k("count_elements"\);)213
2765 y(my)f($n)h(=)g($c->create_hyperlink_network_from_file\("$)o
(file_in)o(put_dir)o(/hyper)o(links"\))o(;)213 2922 y(#)f(Original)g
(edges)213 3001 y($n->save_hyperlink_edges_to_file\("$file_ge)o
(n_dir/h)o(yperlin)o(k1"\);)213 3080 y(ok\()g
(compare_proper_files\("hyperlink1"\),)c
("save_hyperlink_edges_to_file")g(\);)213 3238 y(my)k($n2)h(=)f
($n->create_subset_network_from_file\("$file_inpu)o(t_dir/s)o(ubset")o
(\);)213 3317 y($n2->save_hyperlink_edges_to_file\("$file_g)o(en_dir/)o
(hyperli)o(nk2"\);)213 3396 y
(ok\(compare_proper_files\("hyperlink2"\),)34 b
("create_subset_network_from_file")h(\);)213 3553 y(sub)k
(compare_proper_files)e({)292 3632 y(my)j($filename)f(=)g(shift;)292
3711 y(return)g(Clair::Util::compare_files\("$file_exp_dir/$file)o
(name",)711 b(\\)213 3790 y("$file_gen_dir/$filename"\);)213
3869 y(})p 3466 4052 V 185 4055 3285 4 v 1893 5809 a
Fk(84)p eop end
%%Page: 85 85
TeXDict begin 85 84 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.21)80
b(test)p 522 210 25 4 v 29 w(idf)o(.t)p 185 279 3205
4 v 185 4667 4 4388 v 213 383 a Fa(#)39 b(script:)g(test_idf.t)213
462 y(#)g(functionality:)f(Test)h(TF)h(and)f(IDF)h(functions)e(drawing)
h(on)h(a)f(pre-downloaded)f(corpus)213 619 y($ENV{ALECACHE})g(=)h
("/tmp";)213 698 y(use)g(strict;)213 777 y(use)g(warnings;)213
856 y(use)g(FindBin;)213 935 y(use)g(DB_File;)213 1014
y(use)g(Test::More)g(tests)g(=>)g(9;)213 1172 y
(use_ok\('Clair::Utils::Idf'\);)213 1250 y
(use_ok\('Clair::Utils::Tf'\);)213 1329 y
(use_ok\('Clair::Utils::CorpusDownload'\);)213 1487 y(my)g
($corpus_name)f(=)i('download_test';)213 1566 y(my)f($word)g(=)h
('abused';)213 1645 y(my)f($s_word)g(=)h('abus';)213
1724 y(my)f($base_dir)g(=)h($FindBin::Bin;)213 1802 y(my)f($root_dir)g
(=)h("$base_dir/input/idf";)213 1960 y(my)f($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b($corpus_name,)1647 2039 y(rootdir)g(=>)h($root_dir\);)213
2118 y($corpusref->buildIdf\(stemmed)35 b(=>)40 b(1\);)213
2197 y($corpusref->buildIdf\(stemmed)35 b(=>)40 b(0\);)213
2276 y($corpusref->build_docno_dbm\(\);)213 2355 y
($corpusref->buildTf\(stemmed)c(=>)j(1\);)213 2433 y
($corpusref->buildTf\(stemmed)d(=>)j(0\);)213 2591 y(my)g
(\045param_hash;)213 2670 y($param_hash{corpusname})d(=)k
($corpus_name;)213 2749 y($param_hash{rootdir})d(=)i($root_dir;)213
2907 y(#)g(Compute)g(the)h(IDF)f(\(without)g(stemming\))213
2986 y($param_hash{stemmed})e(=)i(0;)213 3064 y(my)g($idfref)g(=)h
(Clair::Utils::Idf->new\(\045param_hash\);)213 3143 y(my)f($result)g(=)
h($idfref->getIdfForWord\($word\);)213 3222 y(cmp_ok\()f(abs\($result)f
(-)h(2.705\),)g('<',)h(0.005,)e("getIdfForWord)g($word")h(\);)213
3380 y($param_hash{stemmed})e(=)i(1;)213 3459 y($idfref)g(=)g
(Clair::Utils::Idf->new\(\045param_hash\);)213 3538 y($result)g(=)g
($idfref->getIdfForWord\($s_word\);)213 3617 y(cmp_ok\()g(abs\($result)
f(-)h(4\),)h('<',)f(0.005,)g("getIdfForWord)f($s_word)h(\(stemmed\)")f
(\);)213 3774 y($param_hash{stemmed})f(=)i(0;)213 3853
y(my)g($tfref)g(=)h(Clair::Utils::Tf->new\(\045param_hash\);)213
3932 y($result)f(=)g($tfref->getNumDocsWithWord\($word\);)213
4011 y(my)g($freq)g(=)h($tfref->getFreq\($word\);)213
4090 y(my)f(@urls)g(=)h($tfref->getDocs\($word\);)213
4169 y(is\($freq,)e(1,)i("tf)f($word"\);)213 4247 y(is\($result,)f(1,)i
("num)f(docs)g(with)g($word"\);)213 4326 y(is\($urls[0],)372
4405 y("http://tangra.si.umich.edu/clair/testhtml/AP)o(W199812)o
(01.0005)o(.txt.b)o(ody.htm)o(l",)372 4484 y("urls[0]"\);)213
4563 y(is\(scalar)f(@urls,)h(1,)h("number)f(of)g(urls"\);)p
3386 4667 V 185 4670 3205 4 v 1893 5809 a Fk(85)p eop
end
%%Page: 86 86
TeXDict begin 86 85 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.22)80
b(test)p 522 210 25 4 v 29 w(k)o(er)o(nighanLin.t)p 185
295 2448 4 v 185 2395 4 2101 v 213 399 a Fa(#)39 b(script:)g
(test_kernighanlin.t)213 477 y(#)g(funcationality:)f(Test)h
(KernighanLin)f(algorithm)h(on)g(Karate)g(data)213 635
y(use)g(Clair::Network::KernighanLin;)213 714 y(use)g
(Clair::Network::Reader::GML;)213 793 y(use)g(FindBin;)213
872 y(use)g(Test::More)g(tests)g(=>)g(5;)213 1030 y
(use_ok\('Clair::Network::KernighanLin'\);)213 1108 y
(use_ok\('Clair::Network::Reader::GML'\);)213 1266 y(my)g($base_dir)g
(=)h($FindBin::Bin;)213 1345 y(my)f($fileName)g(=)h
("$base_dir/input/network/karate.gml";)213 1424 y(my)f($reader)g(=)h
(Clair::Network::Reader::GML->new\(\);)213 1503 y(my)f($net)h(=)f
($reader->read_network\($fileName\);)213 1660 y(my)g($KL)h(=)f(new)h
(Clair::Network::KernighanLin\($net\);)213 1818 y($graphPartition)d(=)j
($KL->generatePartition\(4\);)213 1976 y(is\($$graphPartition{1},1,)c
("Check)j(the)g(partition)g(of)g(node)h(1"\);)213 2055
y(is\($$graphPartition{2},1,)c("Check)j(the)g(partition)g(of)g(node)h
(2"\);)213 2134 y(is\($$graphPartition{3},1,)c("Check)j(the)g
(partition)g(of)g(node)h(3"\);)p 2629 2395 V 185 2398
2448 4 v 1893 5809 a Fk(86)p eop end
%%Page: 87 87
TeXDict begin 87 86 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.23)80
b(test)p 522 210 25 4 v 29 w(lexrank2.t)p 185 279 3285
4 v 185 5061 4 4783 v 213 383 a Fa(#)39 b(script:)g(test_lexrank2.t)213
462 y(#)g(functionality:)f(Computes)h(lexrank)g(from)g(a)h(stemmed)e
(line-based)h(cluster)213 619 y(use)g(strict;)213 698
y(use)g(warnings;)213 777 y(use)g(FindBin;)213 856 y(use)g(Test::More)g
(tests)g(=>)g(13;)213 1014 y(use_ok\('Clair::Network'\);)213
1093 y(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
1172 y(use_ok\('Clair::Cluster'\);)213 1250 y
(use_ok\('Clair::Document'\);)213 1329 y(use_ok\('Clair::Util'\);)213
1487 y(my)g($file_gen_dir)f(=)i("$FindBin::Bin/produced/lexrank2";)213
1566 y(my)f($file_input_dir)f(=)i("$FindBin::Bin/input/lexrank2";)213
1645 y(my)f($file_exp_dir)f(=)i("$FindBin::Bin/expected/lexrank2";)213
1802 y(my)f($c)h(=)g(new)f(Clair::Cluster\(\);)213 1960
y($c->load_lines_from_file\("$file_input_dir/)o(lexrank)o(.input")o
(\);)213 2039 y(is\($c->count_elements\(\),)d(4,)k("count_elements"\);)
213 2197 y($c->stem_all_documents\(\);)213 2276 y(my)f(\045cos_matrix)g
(=)g($c->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
2433 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)35
b(=>)k(\\\045cos_matrix\);)213 2512 y(is\($n->num_nodes,)e(4,)j
("num_nodes"\);)213 2591 y(is\($n->num_links,)d(12,)i("num_links"\);)
213 2749 y(my)g($b)h(=)g(Clair::Network::Centrality::LexRank->new\()o
($n\);)213 2828 y($b->centrality\(\);)213 2986 y
($b->save\("$file_gen_dir/lexrank.dist"\);)213 3064 y
(ok\(compare_proper_files\("lexrank.dist"\),)34 b("save")39
b(\);)213 3222 y(my)g(@expected)g(=)h(\()f(["0",)g(0.2733],)890
3301 y(["1",)g(0.1845],)890 3380 y(["2",)g(0.2714],)890
3459 y(["3",)g(0.2708])g(\);)213 3617 y(foreach)g(my)g($e)h
(\(@expected\))e({)292 3695 y(my)i($v)g(=)f($e->[0];)292
3774 y(if)h(\($n->has_vertex_attribute\($v,)c("lexrank_value"\)\))h({)
372 3853 y(ok\(Clair::Util::within_delta\($e->[1],)1528
3932 y($n->get_vertex_attribute\($v,)f("lexrank_value"\),)1528
4011 y(0.0001\),)i("lexrank)h(vertex)g($v"\);)292 4090
y(})213 4169 y(})213 4326 y(#)g(Compares)g(two)h(files)f(named)g
(filename)213 4405 y(#)g(from)h(the)f(t/docs/expected)f(directory)g
(and)213 4484 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
4563 y(sub)h(compare_proper_files)e({)292 4642 y(my)j($filename)f(=)g
(shift;)292 4800 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 4878 y("$file_gen_dir/$filename"\);)213 4957
y(})p 3466 5061 V 185 5064 3285 4 v 1893 5809 a Fk(87)p
eop end
%%Page: 88 88
TeXDict begin 88 87 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.24)80
b(test)p 522 210 25 4 v 29 w(lexrank3.t)p 185 279 3285
4 v 185 4430 4 4152 v 213 383 a Fa(#)39 b(script:)g(test_lexrank3.t)213
462 y(#)g(functionality:)f(Computes)h(lexrank)g(from)g(line-based,)f
(stripped)h(and)g(stemmed)213 541 y(#)g(functionality:)f(cluster)213
698 y(use)h(strict;)213 777 y(use)g(warnings;)213 856
y(use)g(FindBin;)213 935 y(use)g(Test::More)g(tests)g(=>)g(9;)213
1093 y(use_ok\('Clair::Network'\);)213 1172 y
(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
1250 y(use_ok\('Clair::Cluster'\);)213 1329 y
(use_ok\('Clair::Document'\);)213 1408 y(use_ok\('Clair::Util'\);)213
1566 y(my)g($file_gen_dir)f(=)i("$FindBin::Bin/produced/lexrank3";)213
1645 y(my)f($file_input_dir)f(=)i("$FindBin::Bin/input/lexrank3";)213
1724 y(my)f($file_exp_dir)f(=)i("$FindBin::Bin/expected/lexrank3";)213
1881 y(my)f($c)h(=)g(new)f(Clair::Cluster\(\);)213 2039
y($c->load_documents\("$file_input_dir/)1653 2051 y(*)1693
2039 y(",)34 b(type)39 b(=>)h('html',)e(count_id)h(=>)h(1\);)213
2118 y(is\($c->count_elements,)c(5,)k("count_elements"\);)213
2276 y($c->strip_all_documents\(\);)213 2355 y
($c->stem_all_documents\(\);)213 2433 y(my)f(\045cos_matrix)g(=)g
($c->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
2591 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)35
b(=>)k(\\\045cos_matrix\);)213 2670 y(is\($n->num_nodes,)e(5,)j
("num_nodes"\);)213 2828 y(is\($n->num_links,)d(20,)i("num_links"\);)
213 2986 y(my)g($b)h(=)g(Clair::Network::Centrality::LexRank->new\()o
($n\);)213 3064 y($b->centrality\(\);)213 3301 y
($b->save\("$file_gen_dir/lexrank_result"\);)213 3380
y(ok\(compare_proper_files\("lexrank_result"\),)33 b("save"\);)213
3617 y(#)39 b(Compares)g(two)h(files)f(named)g(filename)213
3695 y(#)g(from)h(the)f(t/docs/expected)f(directory)g(and)213
3774 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
3853 y(sub)h(compare_proper_files)e({)292 3932 y(my)j($filename)f(=)g
(shift;)292 4090 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 4169 y("$file_gen_dir/$filename"\);)213 4247
y(})p 3466 4430 V 185 4433 3285 4 v 1893 5809 a Fk(88)p
eop end
%%Page: 89 89
TeXDict begin 89 88 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.25)80
b(test)p 522 210 25 4 v 29 w(lexrank4.t)p 185 279 3205
4 v 185 5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_lexrank4.t)213
462 y(#)g(functionality:)f(Based)h(on)h(an)f(interactive)g(script,)f
(this)i(test)f(builds)g(a)h(sentence-)213 541 y(#)f(functionality:)f
(based)h(cluster,)g(then)g(a)h(network,)f(computes)f(lexrank,)h(and)g
(then)213 619 y(#)g(functionality:)f(runs)h(MMR)h(on)f(it)213
777 y(use)g(strict;)213 856 y(use)g(warnings;)213 935
y(use)g(Test::More;)213 1014 y(use)g(Clair::Config;)213
1093 y(use)g(FindBin;)213 1172 y(use)g(Data::Dumper;)213
1329 y(if)g(\(not)h(defined)e($PRMAIN)h(or)h(not)f(-e)h($PRMAIN\))e({)
372 1408 y(plan\()h(skip_all)g(=>)g("PRMAIN)g(not)h(defined)e(in)i
(Clair::Config)e(or)i(doesn't)e(exist")h(\);)213 1487
y(})g(else)h({)372 1566 y(plan\()f(tests)g(=>)h(15)f(\);)213
1645 y(})213 1802 y(use_ok\("Clair::Cluster"\);)213 1881
y(use_ok\("Clair::Document"\);)213 1960 y(use_ok\("Clair::Network"\);)
213 2039 y(use_ok\("Clair::NetworkWrapper"\);)213 2118
y(use_ok\("Clair::Network::Centrality::LexRan)o(k"\);)213
2197 y(use_ok\("Clair::Network::Centrality::CPPLex)o(Rank"\);)213
2355 y(my)g($docs_dir)g(=)h("$FindBin::Bin/input/lexrank4";)213
2433 y(my)f($file1)g(=)h("$docs_dir/file1.txt";)213 2512
y(my)f($file2)g(=)h("$docs_dir/file2.txt";)213 2591 y(my)f($bias)g(=)h
("$docs_dir/bias.txt";)213 2749 y(#)f(No)h(similarity,)e(no)i(bias)213
2828 y(my)f(@results1)g(=)h(run\()f(files)g(=>)g([$file1,)g($file2])g
(\);)213 2907 y(is\(@results1,)f(7,)h("Uniform)g(rank)g(length"\);)213
3064 y(my)g($ok)h(=)f(1;)213 3143 y(for)g(\(@results1\))f({)372
3222 y(my)i(\($meta,)f($text,)f($score\))h(=)h(@$_;)372
3301 y(unless)f(\(within_delta\($score,)e(1/7,)i(0.01\)\))g({)532
3380 y($ok)g(=)h(0;)532 3459 y(last;)372 3538 y(})213
3617 y(})213 3695 y(ok\($ok,)f("Uniform)f(rank)h(scores"\);)213
3853 y(#)g(Change)g(the)h(length)213 3932 y(my)f(@results2)g(=)h(run\()
f(files)g(=>)g([$file1,)g($file2],)g(s)g(=>)h(3)g(\);)213
4011 y(is\(@results2,)e(3,)h("Changed)g(length"\);)213
4169 y(#)g(Query-based)213 4247 y(my)g(@results3)g(=)h(run\()f(files)g
(=>)g([$file1,)g($file2],)g(q)g(=>)h($bias)f(\);)213
4326 y(is\(@results3,)f(7\);)213 4405 y(my)h(@top_result)g(=)g(@{)h
(shift)f(@results3)f(};)213 4642 y(is\()h($top_result[1],)f("mouse",)g
("Favor)h(the)h(mouse"\);)213 4721 y(cmp_ok\()f(abs\($top_result[2])e
(-)i(0.52\),)g("<",)h(0.01,)f("Mouse)g(within)g(delta"\);)213
4800 y($ok)g(=)h(1;)213 4878 y(for)f(\(@results3\))f({)372
4957 y(my)i(\($meta,)f($text,)f($score\))h(=)h(@$_;)372
5036 y(unless\(within_delta\($score,)c(0.08,)j(0.01\)\))g({)532
5115 y($ok)g(=)h(0;)532 5194 y(last;)372 5273 y(})213
5352 y(})213 5431 y(ok\($ok,)f("Non-mice)f(within)h(delta"\);)213
5588 y(#)g(Order-based)p 3386 5692 V 185 5695 3205 4
v 1893 5809 a Fk(89)p eop end
%%Page: 90 90
TeXDict begin 90 89 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2966 4 v 185
5544 4 5414 v 213 234 a Fa(my)39 b(@results4)g(=)h(run\()f(files)g(=>)g
([$file1,)g($file2],)g(b)g(=>)h(1)g(\);)213 313 y(is\(@results4,)e
(7\);)213 392 y(my)h(@expected4)g(=)g(\()h(["dog",)f(0.28],)930
471 y(["monkey",)f(0.28],)930 550 y(["hippo",)h(0.18],)930
629 y(["mouse",)g(0.14],)930 708 y(["whale",)g(0.10],)930
786 y(["cat",)g(0.01],)930 865 y(["spider",)f(0.01])i(\);)213
944 y($ok)f(=)h(1;)213 1023 y(foreach)f(my)g($i)h(\(0)f(..)h
($#results4\))e({)372 1102 y(my)i(\($meta,)f($text,)f($score\))h(=)h
(@{)g($results4[$i])d(};)372 1181 y(my)j(\($text_e,)e($score_e\))h(=)g
(@{)h($expected4[$i])e(};)372 1260 y(unless)h(\()h($text)f(eq)g
($text_e)g(&&)h(within_delta\($score,)d($score_e,)h(0.01\))h(\))h({)532
1338 y($ok)f(=)h(0;)532 1417 y(last;)372 1496 y(})213
1575 y(})213 1654 y(ok\($ok,)f("Order-based"\);)213 1812
y(sub)g(run)h({)372 1969 y(my)g(\045params)f(=)g(@_;)372
2048 y(my)h(@files)f(=)g(@{)h($params{files})e(};)372
2127 y(my)i($rbias)f(=)g($params{b};)372 2206 y(my)h($qbias)f(=)g
($params{q};)372 2285 y(my)h($mmr)f(=)h($params{m};)372
2364 y(my)g($size)f(=)h($params{s};)372 2522 y(#)g(Create)f(a)h
(sentence)e(cluster)h(from)g(the)h(file)f(list)372 2679
y(my)h(@lines)f(=)g(combine_lines\(@files\);)372 2758
y(my)h($sent_cluster)e(=)h(Clair::Cluster->new\(\);)372
2837 y(for)h(\(@lines\))e({)532 2916 y(my)h(@tokens)g(=)h(split)f
(/\\t/;)532 2995 y(die)g("Malformed)f(line:)h($_")h(unless)f(@tokens)g
(==)g(2;)532 3074 y(my)g(\($meta,)g($text\))g(=)h(@tokens;)532
3153 y(my)f($doc)g(=)h(Clair::Document->new\()691 3231
y(string)f(=>)g($text,)691 3310 y(type)g(=>)h("text",)691
3389 y(id)g(=>)f($meta)532 3468 y(\);)532 3547 y($doc->stem\(\);)532
3626 y($sent_cluster->insert\($meta,)c($doc\);)372 3705
y(})372 4020 y(#)40 b(Create)f(a)h(network)e(from)i(the)f(sentence)g
(cluster)372 4178 y(my)h(\045matrix)f(=)g
($sent_cluster->compute_cosine_matrix\(\);)372 4257 y(my)h($network)e
(=)i($sent_cluster->create_network\()532 4336 y(cosine_matrix)d(=>)j
(\\\045matrix,)532 4414 y(include_zeros)d(=>)j(1)372
4493 y(\);)372 4651 y(my)g($bet;)372 4809 y(#)g(Run)f(lexrank)372
4888 y(#)h(TODO:)f(in)h(Clair::NetworkWrapper,)c(allow)j(for)h
(node-based)e(biasing)372 4967 y(#)i(TODO:)f(in)h(Clair::Network,)d
(fix)j(compute_lexrank_from_bias_sents\(\))372 5124 y(if)g(\($rbias\))e
({)532 5203 y($bet)h(=)h(Clair::Network::Centrality::LexRank->new\()o
($networ)o(k\);)532 5282 y(#)f(Set)h(the)f(order)g(bias)532
5361 y(set_order_bias\($bet,)d(@files\);)p 3147 5544
V 185 5547 2966 4 v 1893 5809 a Fk(90)p eop end
%%Page: 91 91
TeXDict begin 91 90 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3006 4 v 185
5544 4 5414 v 532 234 a Fa($bet->centrality\(\);)372
392 y(})40 b(elsif)f(\($qbias\))g({)532 550 y(#)g(Wrap)h(the)f(network)
g(to)g(use)h(the)f(CPP)g(implementation)f(of)i(lexrank)532
629 y($network)e(=)i(Clair::NetworkWrapper->new\()691
708 y(network)f(=>)g($network,)691 786 y(prmain)g(=>)g($PRMAIN,)691
865 y(clean)g(=>)h(1)532 944 y(\);)532 1102 y(#)f(Read)h(the)f(bias)g
(files)532 1181 y(my)g(@bias_sents)f(=)i(\(\);)532 1260
y(open)f(BIAS,)g("<)g($qbias")g(or)h(die)f("Couldn't)g(read)g($qbias:)g
($!";)532 1338 y(while)g(\(<BIAS>\))f({)691 1417 y(chomp;)691
1496 y(push)h(@bias_sents,)f($_;)532 1575 y(})532 1654
y(close)h(BIAS;)532 1812 y(#)g(Run)h(query-based)e(lexrank)532
1891 y($bet)h(=)h(Clair::Network::Centrality::CPPLexRank->n)o(ew\($net)
o(work\);)532 1969 y($bet->compute_lexrank_from_bias_sents\(bia)o
(s_sents)33 b(=>)40 b(\\@bias_sents\);)372 2127 y(})g(else)f({)532
2285 y(#)g(Wrap)h(the)f(network)g(to)g(use)h(the)f(CPP)g
(implementation)f(of)i(lexrank)532 2364 y($network)e(=)i
(Clair::NetworkWrapper->new\()691 2443 y(network)f(=>)g($network,)691
2522 y(prmain)g(=>)g($PRMAIN,)691 2600 y(clean)g(=>)h(1)532
2679 y(\);)532 2837 y(#)f(Run)h(unbiased)e(lexrank)532
2916 y($bet)h(=)h(Clair::Network::Centrality::CPPLexRank->n)o(ew\($net)
o(work\);)532 2995 y($bet->centrality\(\);)372 3074 y(})372
3310 y(#)g(Run)f(the)h(MMR)f(reranker)g(if)g(necessary)372
3468 y(if)h(\(defined)e($mmr\))h({)532 3547 y
($network->mmr_rerank_lexrank\($mmr\);)372 3626 y(})372
3941 y(#)h(Get)f(the)h(results)e(and)i(print)f(them)g(out)372
4099 y(my)h(@results;)372 4178 y(my)g(\045scores)f(=)g(\045{)h
(get_scores\($network\))d(};)372 4257 y(my)j($counter)e(=)i(0;)372
4336 y(foreach)f(my)h($meta)f(\(sort)g({)g($scores{$b})g(cmp)g
($scores{$a})f(})i(keys)f(\045scores\))g({)532 4414 y(my)g($text)g(=)h
($sent_cluster->get\($meta\)->get_text\(\);)532 4493
y(push)f(@results,)f([)i($meta,)f($text,)g($scores{$meta})f(];)532
4572 y($counter++;)532 4651 y(if)h(\(defined)g($size)g(and)g($counter)g
(>=)g($size\))g({)691 4730 y(last;)532 4809 y(})372 4888
y(})372 5045 y(return)g(@results;)213 5203 y(})213 5361
y(##################)213 5440 y(#)g(Some)h(subroutines)p
3187 5544 V 185 5547 3006 4 v 1893 5809 a Fk(91)p eop
end
%%Page: 92 92
TeXDict begin 92 91 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3165 4 v 185
5544 4 5414 v 213 234 a Fa(##################)213 392
y(sub)39 b(combine_lines)f({)372 471 y(my)i(@files)f(=)g(@_;)372
550 y(my)h(@lines)f(=)g(\(\);)372 629 y(foreach)g(my)h($file)f
(\(@files\))f({)532 708 y(open)h(FILE,)g("<)g($file")g(or)h(die)f
("Couldn't)g(open)g($file:)g($!";)532 786 y(while\(<FILE>\))e({)691
865 y(chomp;)691 944 y(push)i(@lines,)g($_;)532 1023
y(})532 1102 y(close)g(FILE;)372 1181 y(})372 1260 y(return)g(@lines;)
213 1338 y(})213 1496 y(sub)g(get_scores)g({)372 1575
y(my)h($network)e(=)i(shift;)372 1654 y(my)g($graph)f(=)g
($network->{graph};)372 1733 y(my)h(@verts)f(=)g($graph->vertices\(\);)
372 1812 y(my)h(\045scores)f(=)g(\(\);)372 1891 y(foreach)g(my)h($vert)
f(\(@verts\))f({)532 1969 y($scores{$vert})f(=)j
($graph->get_vertex_attribute\($vert,)35 b("lexrank_value"\);)372
2048 y(})372 2127 y(return)k(\\\045scores;)213 2206 y(})213
2364 y(#)g(Given)h(a)f(list)h(of)f(files)g(each)g(containing)g(a)g
(list)h(of)f(sents,)g(makes)g(a)h(bias)f(file)213 2443
y(#)g(where)h(each)f(sentence)f(is)i(weighted)f(according)f(to)i(its)f
(relative)g(position)f(in)i(the)213 2522 y(#)f(file.)213
2600 y(sub)g(set_order_bias)f({)372 2758 y(my)i($centrality)e(=)i
(shift;)372 2837 y(my)g(@files)f(=)g(@_;)372 2995 y(#)h(Print)f(the)g
(bias)h(file)372 3074 y(open)f(TEMP,)h(">)f(bias.temp")f(or)i(die)f
("Couldn't)g(open)g(temp)g(file)h(bias.temp:)e($!";)372
3153 y(foreach)h(my)h($file)f(\(@files\))f({)532 3231
y(my)h(@metas;)532 3310 y(open)g(FILE,)g("<)g($file")g(or)h(die)f
("Couldn't)g(open)g($file)g(for)h(read:)f($!";)532 3389
y(while)g(\(<FILE>\))f({)691 3468 y(my)i(\($meta,)e($text\))h(=)h
(split)f(/\\t/,)g($_;)691 3547 y(push)g(@metas,)g($meta;)532
3626 y(})532 3705 y(close)g(FILE;)532 3862 y(my)g($denom)g(=)h
($#metas;)532 3941 y(if)f(\($denom)g(<)h(0\))f({)691
4020 y(warn)g("No)h(sentences)e(in)i($file";)691 4099
y(next;)532 4178 y(})f(elsif)g(\($denom)g(==)h(0\))f({)691
4257 y(print)g(TEMP)g("$metas[0])g(1\\n";)532 4336 y(})g(else)h({)691
4414 y(foreach)f(my)g($i)h(\(0)f(..)h($denom\))f({)850
4493 y(my)h($weight)f(=)g(\($denom)g(-)h($i\))f(/)h($denom;)850
4572 y(print)f(TEMP)h("$metas[$i])e($weight\\n";)691
4651 y(})532 4730 y(})372 4888 y(})372 4967 y(close)h(TEMP;)372
5124 y($centrality->read_lexrank_bias\("bias.temp"\);)372
5203 y(unlink\("bias.temp"\))e(or)j(warn)f("Couldn't)f(remove)h
(bias.temp:)g($!";)213 5361 y(})p 3346 5544 V 185 5547
3165 4 v 1893 5809 a Fk(92)p eop end
%%Page: 93 93
TeXDict begin 93 92 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 1850 4 v 185
732 4 602 v 213 234 a Fa(sub)39 b(within_delta)f({)372
313 y(my)i($number1)e(=)i(shift;)372 392 y(my)g($number2)e(=)i(shift;)
372 471 y(my)g($delta)f(=)g(shift;)372 550 y(return)g(abs\($number1)f
(-)i($number2\))e(<)i($delta;)213 629 y(})p 2031 732
V 185 735 1850 4 v 1893 5809 a Fk(93)p eop end
%%Page: 94 94
TeXDict begin 94 93 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.26)80
b(test)p 522 210 25 4 v 29 w(lexrank)p 824 210 V 29 w(lar)o(ge)p
1033 210 V 29 w(mxt.t)p 185 295 3285 4 v 185 5708 4 5414
v 213 399 a Fa(#)39 b(script:)g(test_lexrank_large_mxt.t)213
477 y(#)g(functionality:)f(Test)h(lexrank)g(calculation)f(on)i(a)g
(network)f(having)g(used)g(MxTerminator)213 556 y(#)g(functionality:)f
(as)i(the)f(tool)g(to)h(split)f(sentences.)213 714 y(use)g(strict;)213
793 y(use)g(warnings;)213 872 y(use)g(FindBin;)213 951
y(use)g(Test::More;)213 1108 y(use)g(Clair::Config;)213
1266 y(use)g(vars)g(qw\($SENTENCE_SEGMENTER_TYPE)d($JMX_HOME\);)213
1345 y(my)j($old_SENTENCE_SEGMENTER_TYPE)d(=)k
($SENTENCE_SEGMENTER_TYPE;)213 1503 y(if)f(\(defined)g($JMX_HOME\))f({)
372 1582 y($SENTENCE_SEGMENTER_TYPE)e(=)k("MxTerminator";)372
1660 y(plan\(tests)f(=>)g(10\);)213 1739 y(})g(else)h({)372
1818 y(plan\(skip_all)e(=>)i("No)f(path)g(assigned)g(to)g
(Clair::Config::JMX_HOME.)77 b(Test)318 b(\\)213 1897
y(skipped."\);)213 1976 y(})213 2134 y(use_ok\('Clair::Network'\);)213
2213 y(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
2291 y(use_ok\('Clair::Cluster'\);)213 2370 y
(use_ok\('Clair::Document'\);)213 2449 y(use_ok\('Clair::Util'\);)213
2686 y(my)39 b($file_gen_dir)f(=)i
("$FindBin::Bin/produced/lexrank_large";)213 2765 y(my)f
($file_input_dir)f(=)i("$FindBin::Bin/input/lexrank_large";)213
2844 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/lexrank_large";)213 3001 y(my)f($c)h(=)g(new)f
(Clair::Cluster\(\);)213 3159 y($c->load_documents\("$file_input_dir/)
1653 3171 y(*)1693 3159 y(",)34 b(type)39 b(=>)h('html',)e(count_id)h
(=>)h(1\);)213 3238 y($c->strip_all_documents\(\);)213
3317 y($c->stem_all_documents\(\);)213 3475 y(is\($c->count_elements,)c
(3,)k("count_elements"\);)213 3553 y(my)f($sent_n)g(=)h
($c->create_sentence_based_network;)213 3711 y
(is\($sent_n->num_nodes\(\),)c(44,)j("num_nodes"\);)213
3790 y(#)g(is\($sent_n->num_nodes\(\),)e(25,)i("num_nodes"\);)213
3948 y(my)g(\045cos_matrix)g(=)g($c->compute_cosine_matrix\(text_type)c
(=>)k('stem'\);)213 4105 y(my)g($n)h(=)g
($c->create_network\(cosine_matrix)35 b(=>)k(\\\045cos_matrix\);)213
4263 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
4342 y($cent->centrality\(\);)213 4421 y
($cent->save_lexrank_probabilities_to_file\()o("$file_)o(gen_dir)o
(/lex1_p)o(rob"\);)213 4500 y(ok\(compare_proper_files\("lex1_prob"\),)
34 b("save_lexrank_probabilities_to_file")h(\);)213 4658
y(my)k($lex_network)f(=)i($n->create_network_from_lexrank\(0.33\);)213
4736 y(is\($lex_network->num_nodes,)c(2,)j("num_nodes"\);)213
4894 y(my)g($lex_cluster)f(=)i
($n->create_cluster_from_lexrank\(0.33\);)213 4973 y
(is\($lex_cluster->count_elements\(\),)35 b(2,)k("count_elements"\);)
213 5131 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)213 5289 y(#)f(Compares)g(two)h(files)f
(named)g(filename)213 5367 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 5446 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 5525 y(sub)h(compare_proper_files)e({)292
5604 y(my)j($filename)f(=)g(shift;)p 3466 5708 V 185
5711 3285 4 v 1893 5809 a Fk(94)p eop end
%%Page: 95 95
TeXDict begin 95 94 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 3285 4 v 185
654 4 524 v 292 313 a Fa(return)39 b
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 392 y("$file_gen_dir/$filename"\);)213 471 y(})p
3466 654 V 185 657 3285 4 v 1893 5809 a Fk(95)p eop end
%%Page: 96 96
TeXDict begin 96 95 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.27)80
b(test)p 522 210 25 4 v 29 w(lexrank)p 824 210 V 29 w(lar)o(ge.t)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#)39
b(script:)g(test_lexrank_large.t)213 477 y(#)g(functionality:)f(Test)h
(lexrank)g(calculation)f(on)i(a)g(network)f(having)g(used)213
556 y(#)g(functionality:)f(Text::Sentence)g(as)i(the)f(tool)g(to)h
(split)f(sentences)213 714 y(use)g(strict;)213 793 y(use)g(warnings;)
213 872 y(use)g(FindBin;)213 1030 y(use)g(Test::More)g(tests)g(=>)g
(11;)213 1187 y(use_ok\('Clair::Network'\);)213 1266
y(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
1345 y(use_ok\('Clair::Cluster'\);)213 1424 y
(use_ok\('Clair::Document'\);)213 1503 y(use_ok\('Clair::Util'\);)213
1660 y(use_ok\('Clair::Config'\);)213 1739 y(use)g(vars)g
(qw\($SENTENCE_SEGMENTER_TYPE\);)213 1818 y(my)g
($old_SENTENCE_SEGMENTER_TYPE)d(=)k($SENTENCE_SEGMENTER_TYPE;)213
1897 y($SENTENCE_SEGMENTER_TYPE)c(=)k("Text";)213 2055
y(my)f($file_gen_dir)f(=)i("$FindBin::Bin/produced/lexrank_large";)213
2134 y(my)f($file_input_dir)f(=)i("$FindBin::Bin/input/lexrank_large";)
213 2213 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/lexrank_large";)213 2370 y(my)f($c)h(=)g(new)f
(Clair::Cluster\(\);)213 2528 y($c->load_documents\("$file_input_dir/)
1653 2540 y(*)1693 2528 y(",)34 b(type)39 b(=>)h('html',)e(count_id)h
(=>)h(1\);)213 2607 y($c->strip_all_documents\(\);)213
2686 y($c->stem_all_documents\(\);)213 2844 y(is\($c->count_elements,)c
(3,)k("count_elements"\);)213 2922 y(my)f($sent_n)g(=)h
($c->create_sentence_based_network;)213 3080 y(#)f(This)h(is)f(the)h
(test)f(to)g(use)h(if)f(using)h(MxTerminator.)77 b(This)40
b(will)f(eventually)213 3159 y(#)g(be)h(smart)f(enough)g(to)h(know)f
(which)g(sentence)g(splitter)f(is)i(in)f(use.)h(TODO)213
3238 y(#is\($sent_n->num_nodes\(\),)c(44,)j("num_nodes"\);)213
3317 y(#)g(This)h(test)f(is)h(now)f(intended)g(to)g(test)g(the)h(use)f
(of)h(Text::Sentence)e(regardless)g(of)h(the)213 3396
y(#)g(configuration)f(setting.)213 3475 y(is\($sent_n->num_nodes\(\),)e
(25,)j("num_nodes"\);)213 3632 y(my)g(\045cos_matrix)g(=)g
($c->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
3790 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)35
b(=>)k(\\\045cos_matrix\);)213 3948 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
4027 y($cent->centrality\(\);)213 4184 y
($cent->save_lexrank_probabilities_to_file\()o("$file_)o(gen_dir)o
(/lex1_p)o(rob"\);)213 4263 y(ok\(compare_proper_files\("lex1_prob"\),)
34 b("save_lexrank_probabilities_to_file")h(\);)213 4421
y(my)k($lex_network)f(=)i($n->create_network_from_lexrank\(0.33\);)213
4500 y(is\($lex_network->num_nodes,)c(2,)j("num_nodes"\);)213
4658 y(my)g($lex_cluster)f(=)i
($n->create_cluster_from_lexrank\(0.33\);)213 4736 y
(is\($lex_cluster->count_elements\(\),)35 b(2,)k("count_elements"\);)
213 4894 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)213 5052 y(#)f(Compares)g(two)h(files)f
(named)g(filename)213 5131 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 5210 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 5289 y(sub)h(compare_proper_files)e({)292
5367 y(my)j($filename)f(=)g(shift;)292 5525 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 5604 y("$file_gen_dir/$filename"\);)p 3466 5708
V 185 5711 3285 4 v 1893 5809 a Fk(96)p eop end
%%Page: 97 97
TeXDict begin 97 96 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 97 4 v 185
417 4 287 v 213 234 a Fa(})p 278 417 V 185 420 97 4 v
60 613 a Fi(10.2.28)80 b(test)p 522 613 25 4 v 29 w(lexrank.t)p
185 682 3285 4 v 185 5306 4 4625 v 213 786 a Fa(#)39
b(script:)g(test_lexrank.t)213 865 y(#)g(functionality:)f(Computes)h
(lexrank)g(on)g(a)h(small)f(network)213 1022 y(use)g(strict;)213
1101 y(use)g(warnings;)213 1180 y(use)g(FindBin;)213
1338 y(use)g(Test::More)g(tests)g(=>)g(7;)213 1496 y
(use_ok\('Clair::Network'\);)213 1574 y
(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
1653 y(use_ok\('Clair::Util'\);)213 1811 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/lexrank";)213 1890 y(my)f($file_input_dir)f(=)
i("$FindBin::Bin/input/lexrank";)213 1969 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/lexrank";)213 2126 y(my)f($n)h(=)g(new)f
(Clair::Network\(\);)213 2284 y($n->add_node\(0,)e(text)j(=>)f('This)g
(is)h(node)f(0'\);)213 2363 y($n->add_node\(1,)e(text)j(=>)f('This)g
(is)h(node)f(1'\);)213 2442 y($n->add_node\(2,)e(text)j(=>)f('This)g
(is)h(node)f(2'\);)213 2521 y($n->add_node\(3,)e(text)j(=>)f('This)g
(is)h(node)f(3'\);)213 2600 y($n->add_node\(4,)e(text)j(=>)f('This)g
(is)h(node)f(4'\);)213 2757 y(my)g($b)h(=)g
(Clair::Network::Centrality::LexRank->new\()o($n\);)213
2915 y($b->read_lexrank_probabilities_from_file\(")o($file_i)o(nput_di)
o(r/files)o(-sym.c)o(os.ID"\))o(;)213 2994 y
($b->read_lexrank_initial_distribution\("$fi)o(le_inpu)o(t_dir/f)o
(iles.un)o(iform")o(\);)213 3152 y(#)f(Remove)g(following)g(line)g(to)h
(remove)f(lexrank)f(bias:)213 3231 y
($b->read_lexrank_bias\("$file_input_dir/fil)o(es.bias)o("\);)213
3388 y($n->save_transition_probabilities_to_file\()o("$file_)o(gen_dir)
o(/trans_)o(prob"\))o(;)213 3467 y
($b->save_lexrank_probabilities_to_file\("$f)o(ile_gen)o(_dir/in)o
(it_prob)o("\);)213 3546 y(ok\()h
(compare_proper_files\("trans_prob"\),)c("trans_prob")j(\);)213
3625 y(ok\()h(compare_proper_files\("init_prob"\),)c("init_prob")j(\);)
213 3783 y($b->centrality\(jump)f(=>)i(0.5\);)213 3941
y($b->save_lexrank_probabilities_to_file\("$f)o(ile_gen)o(_dir/fi)o
(nal5_pr)o(ob"\);)213 4019 y(ok\()g
(compare_proper_files\("final5_prob"\),)c("final5_prob")j(\);)213
4177 y($b->centrality\(jump)f(=>)i(0.1\);)213 4256 y
($b->save_lexrank_probabilities_to_file\("$f)o(ile_gen)o(_dir/fi)o
(nal1_pr)o(ob"\);)213 4335 y
(ok\(compare_proper_files\("final1_prob"\),)34 b("final1_prob")k(\);)
213 4493 y(#)h(Compares)g(two)h(files)f(named)g(filename)213
4571 y(#)g(from)h(the)f(t/docs/expected)f(directory)g(and)213
4650 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
4729 y(sub)h(compare_proper_files)e({)292 4808 y(my)j($filename)f(=)g
(shift;)292 4966 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 5045 y("$file_gen_dir/$filename"\);)213 5124
y(})p 3466 5306 V 185 5309 3285 4 v 1893 5809 a Fk(97)p
eop end
%%Page: 98 98
TeXDict begin 98 97 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 60 210 a Fi(10.2.29)80
b(test)p 522 210 25 4 v 29 w(linear)p 759 210 V 30 w(algebra.t)p
185 295 3046 4 v 185 5708 4 5414 v 213 399 a Fa(#)39
b(script:)g(test_linear_algebra.t)213 477 y(#)g(functionality:)f(A)i
(variety)f(of)g(arithmetic)g(tests)g(of)g(the)h(linear)f(algebra)f
(module)213 635 y(use)h(strict;)213 714 y(use)g(warnings;)213
793 y(use)g(Test::More)g(tests)g(=>)g(20;)213 951 y(use)g
(Clair::Utils::LinearAlgebra;)213 1108 y(my)g(@v1)h(=)f(\("1",)h("2",)f
("3",)g("4"\);)213 1187 y(my)g(@v2)h(=)f(\("5",)h("6",)f("7",)g("8"\);)
213 1266 y(my)g(@v3)h(=)f(\("2",)h("4",)f("6",)g("8",)g("10"\);)213
1345 y(my)g(@v4)h(=)f(\("1",)h("3",)f("5",)g("7",)g("9"\);)213
1424 y(my)g(@v5)h(=)f(\("1",)h("1",)f("2",)g("3",)g("5"\);)213
1503 y(my)g(@v6)h(=)f(\("3",)h("2",)f("1",)g("0",)g("2"\);)213
1660 y(###)g(Inner)g(Product)g(Tests)213 1818 y(#Test)g(One)g(--)h
(Inner)f(Product)g(of)g(Vector)g(One)213 1897 y(#Test)g(One)g(Expected)
g(--)g(Error)h(Message)e(\(Only)h(one)h(Vector\))213
2055 y(my)f(@a)h(=)g(Clair::Utils::LinearAlgebra::innerProduct)33
b(\(\\@v1\);)213 2134 y(my)39 b(@ea)h(=)f(\("e"\);)213
2213 y(is_deeply\()f(\\@a,)h(\\@ea,)g("Test)h(One")f(\);)213
2370 y(#Test)g(Two)g(--)h(Inner)f(Product)g(of)g(Vectors)g(One)g(and)h
(Two)213 2449 y(#Test)f(Two)g(Expected)g(--)g(70)213
2607 y(my)g(@b)h(=)g(Clair::Utils::LinearAlgebra::innerProduct)33
b(\(\\@v1,\\@v2\);)213 2686 y(my)39 b(@eb)h(=)f(\("70"\);)213
2765 y(is_deeply\()f(\\@b,)h(\\@eb,)g("Test)h(Two")f(\);)213
2922 y(#Test)g(Three)g(--)h(Inner)f(Product)f(of)i(Vectors)f(Two)g(and)
h(Three)213 3001 y(#Test)f(Three)g(Expected)g(--)g(Error)g(Message)g
(\(Lengths)g(do)g(not)h(Match\))213 3159 y(my)f(@c)h(=)g
(Clair::Utils::LinearAlgebra::innerProduct)33 b(\(\\@v2,\\@v3\);)213
3238 y(my)39 b(@ec)h(=)f(\("e"\);)213 3317 y(is_deeply\()f(\\@c,)h
(\\@ec,)g("Test)h(Three")f(\);)213 3475 y(#Test)g(Four)g(--)h(Inner)f
(Product)g(of)g(Vectors)g(Three)g(and)g(Four)213 3553
y(#Test)g(Four)g(Expected)g(--)g(190)213 3711 y(my)g(@d)h(=)g
(Clair::Utils::LinearAlgebra::innerProduct)33 b(\(\\@v3,\\@v4\);)213
3790 y(my)39 b(@ed)h(=)f(\("190"\);)213 3869 y(is_deeply\()f(\\@d,)h
(\\@ed,)g("Test)h(Four")f(\);)213 4027 y(#Test)g(Five)g(--)h(Inner)f
(Product)g(of)g(Vectors)g(Three)g(and)g(Four)h(and)f(Five)213
4105 y(#Test)g(Five)g(Expected)g(--)g(Error)g(\(Cannot)g(Perform)g(on)h
(More)f(than)g(Two\))213 4263 y(my)g(@e)h(=)g
(Clair::Utils::LinearAlgebra::innerProduct)33 b(\(\\@v3,\\@v4,\\@v5\);)
213 4342 y(my)39 b(@ee)h(=)f(\("e"\);)213 4421 y(is_deeply\()f(\\@e,)h
(\\@ee,)g("Test)h(Five")f(\);)213 4579 y(###)g(Subtraction)f(Tests)213
4736 y(#Test)h(Six)g(--)h(Subtraction)e(of)i(Vector)f(One)213
4815 y(#Test)g(Six)g(Expected)g(--)g(Error)h(Message)e(\(Only)h(one)h
(Vector\))213 4973 y(my)f(@f)h(=)g
(Clair::Utils::LinearAlgebra::subtract)34 b(\(\\@v1\);)213
5052 y(my)39 b(@ef)h(=)f(\("e"\);)213 5131 y(is_deeply\()f(\\@f,)h
(\\@ef,)g("Test)h(Six")f(\);)213 5289 y(#Test)g(Seven)g(--)h
(Subtraction)e(of)h(Vectors)g(One)g(and)h(Two)213 5367
y(#Test)f(Seven)g(Expected)g(--)g(\(-4,)g(-4,)h(-4,)f(-4\))213
5525 y(my)g(@g)h(=)g(Clair::Utils::LinearAlgebra::subtract)34
b(\(\\@v1,\\@v2\);)213 5604 y(my)39 b(@eg)h(=)f(\("-4",)g("-4",)g
("-4",)h("-4"\);)p 3226 5708 V 185 5711 3046 4 v 1893
5809 a Fk(98)p eop end
%%Page: 99 99
TeXDict begin 99 98 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2568 4 v 185
5544 4 5414 v 213 234 a Fa(is_deeply\()38 b(\\@g,)h(\\@eg,)g("Test)h
(Seven")f(\);)213 392 y(#Test)g(Eight)g(--)h(Subtraction)e(of)h
(Vectors)g(Two)g(and)h(Three)213 471 y(#Test)f(Eight)g(Expected)g(--)g
(Error)g(Message)g(\(Lengths)g(do)g(not)h(Match\))213
629 y(my)f(@h)h(=)g(Clair::Utils::LinearAlgebra::subtract)34
b(\(\\@v2,\\@v3\);)213 708 y(my)39 b(@eh)h(=)f(\("e"\);)213
786 y(is_deeply\()f(\\@h,)h(\\@eh,)g("Test)h(Eight")f(\);)213
944 y(#Test)g(Nine)g(--)h(Subtraction)e(of)h(Vectors)g(Three)g(and)h
(Four)213 1023 y(#Test)f(Nine)g(Expected)g(--)g(\(1,)h(1,)f(1,)h(1,)f
(1\))213 1181 y(my)g(@i)h(=)g(Clair::Utils::LinearAlgebra::subtract)34
b(\(\\@v3,\\@v4\);)213 1260 y(my)39 b(@ei)h(=)f(\("1",)h("1",)f("1",)g
("1",)g("1"\);)213 1338 y(is_deeply\()f(\\@i,)h(\\@ei,)g("Test)h(Nine")
f(\);)213 1496 y(#Test)g(Ten)g(--)h(Subtraction)e(of)i(Vectors)e(Three)
h(and)h(Four)f(and)h(Five)213 1575 y(#Test)f(Ten)g(Expected)g(--)g
(\(0,)h(0,)f(-1,)h(-2,)f(-4\))213 1733 y(my)g(@j)h(=)g
(Clair::Utils::LinearAlgebra::subtract)34 b(\(\\@v3,\\@v4,\\@v5\);)213
1812 y(my)39 b(@ej)h(=)f(\("0",)h("0",)f("-1",)g("-2",)g("-4"\);)213
1891 y(is_deeply\()f(\\@j,)h(\\@ej,)g("Test)h(Ten")f(\);)213
2048 y(###)g(Addition)g(Tests)213 2206 y(#Test)g(Eleven)g(--)g
(Addition)g(of)h(Vector)f(One)213 2285 y(#Test)g(Eleven)g(Expected)f
(--)i(Error)f(Message)g(\(Only)g(one)g(Vector\))213 2443
y(my)g(@k)h(=)g(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v1\);)213
2522 y(my)k(@ek)h(=)f(\("e"\);)213 2600 y(is_deeply\()f(\\@k,)h(\\@ek,)
g("Test)h(Eleven")e(\);)213 2758 y(#Test)h(Twelve)g(--)g(Addition)g(of)
h(Vectors)e(One)i(and)f(Two)213 2837 y(#Test)g(Twelve)g(Expected)f(--)i
(\(6,)f(8,)h(10,)f(12\))213 2995 y(my)g(@l)h(=)g
(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v1,\\@v2\);)213
3074 y(my)k(@el)h(=)f(\("6",)h("8",)f("10",)g("12"\);)213
3153 y(is_deeply\()f(\\@l,)h(\\@el,)g("Test)h(Twelve")e(\);)213
3310 y(#Test)h(Thirteen)g(--)g(Addition)g(of)g(Vectors)g(Two)g(and)h
(Three)213 3389 y(#Test)f(Thirteen)g(Expected)f(--)i(Error)f(Message)g
(\(Lengths)f(do)i(not)f(Match\))213 3547 y(my)g(@m)h(=)g
(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v2,\\@v3\);)213
3626 y(my)k(@em)h(=)f(\("e"\);)213 3705 y(is_deeply\()f(\\@m,)h(\\@em,)
g("Test)h(Thirteen")e(\);)213 3862 y(#Test)h(Fourteen)g(--)g(Addition)g
(of)g(Vectors)g(Three)g(and)h(Four)213 3941 y(#Test)f(Fourteen)g
(Expected)f(--)i(\(3,)f(7,)h(11,)f(15,)g(19\))213 4099
y(my)g(@n)h(=)g(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v3,\\@v4\);)
213 4178 y(my)k(@en)h(=)f(\("3",)h("7",)f("11",)g("15",)g("19"\);)213
4257 y(is_deeply\()f(\\@n,)h(\\@en,)g("Test)h(Fourteen")e(\);)213
4414 y(#Test)h(Fifteen)g(--)g(Addition)g(of)g(Vectors)g(Three)g(and)h
(Four)f(and)g(Five)213 4493 y(#Test)g(Fifteen)g(Expected)f(--)i(\(4,)f
(8,)h(13,)f(18,)h(24\))213 4651 y(my)f(@o)h(=)g
(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v3,\\@v4,\\@v5\);)213
4730 y(my)k(@eo)h(=)f(\("4",)h("8",)f("13",)g("18",)g("24"\);)213
4809 y(is_deeply\()f(\\@o,)h(\\@eo,)g("Test)h(Fifteen")e(\);)213
4967 y(###)h(Average)g(Tests)213 5124 y(#Test)g(Sixteen)g(--)g(Average)
g(of)h(Vector)f(One)213 5203 y(#Test)g(Sixteen)g(Expected)f(--)i(Error)
f(Message)g(\(Only)g(one)g(Vector\))213 5361 y(my)g(@p)h(=)g
(Clair::Utils::LinearAlgebra::average)34 b(\(\\@v1\);)213
5440 y(my)39 b(@ep)h(=)f(\("e"\);)p 2748 5544 V 185 5547
2568 4 v 1893 5809 a Fk(99)p eop end
%%Page: 100 100
TeXDict begin 100 99 bop 60 -110 a Fk(Clairlib)2807 b(User)20
b(Documentation)p 60 -77 3750 4 v 185 131 2568 4 v 185
2546 4 2416 v 213 234 a Fa(is_deeply\()38 b(\\@p,)h(\\@ep,)g("Test)h
(Sixteen")e(\);)213 392 y(#Test)h(Seventeen)f(--)i(Addition)f(of)g
(Vectors)g(One)g(and)h(Two)213 471 y(#Test)f(Seventeen)f(Expected)h(--)
h(\(3,)f(4,)h(5,)f(6\))213 629 y(my)g(@q)h(=)g
(Clair::Utils::LinearAlgebra::average)34 b(\(\\@v1,\\@v2\);)213
708 y(my)39 b(@eq)h(=)f(\("3",)h("4",)f("5",)g("6"\);)213
786 y(is_deeply\()f(\\@q,)h(\\@eq,)g("Test)h(Seventeen")e(\);)213
944 y(#Test)h(Eighteen)g(--)g(Addition)g(of)g(Vectors)g(Two)g(and)h
(Three)213 1023 y(#Test)f(Eighteen)g(Expected)f(--)i(Error)f(Message)g
(\(Lengths)f(do)i(not)f(Match\))213 1181 y(my)g(@r)h(=)g
(Clair::Utils::LinearAlgebra::average)34 b(\(\\@v2,\\@v3\);)213
1260 y(my)39 b(@er)h(=)f(\("e"\);)213 1338 y(is_deeply\()f(\\@r,)h
(\\@er,)g("Test)h(Eighteen")e(\);)213 1496 y(#Test)h(Nineteen)g(--)g
(Addition)g(of)g(Vectors)g(Three)g(and)h(Four)213 1575
y(#Test)f(Nineteen)g(Expected)f(--)i(\(1.5,)f(3.5,)g(5.5,)g(7.5,)h
(9.5\))213 1733 y(my)f(@s)h(=)g(Clair::Utils::LinearAlgebra::average)34
b(\(\\@v3,\\@v4\);)213 1812 y(my)39 b(@es)h(=)f(\("1.5",)g("3.5",)g
("5.5",)g("7.5",)g("9.5"\);)213 1891 y(is_deeply\()f(\\@s,)h(\\@es,)g
("Test)h(Nineteen")e(\);)213 2048 y(#Test)h(Twenty)g(--)g(Addition)g
(of)h(Vectors)e(Three)h(and)h(Four)f(and)h(Six)213 2127
y(#Test)f(Twenty)g(Expected)f(--)i(\(2,)f(3,)h(4,)g(5,)f(7\))213
2285 y(my)g(@t)h(=)g(Clair::Utils::LinearAlgebra::average)34
b(\(\\@v3,\\@v4,\\@v6\);)213 2364 y(my)39 b(@et)h(=)f(\("2",)h("3",)f
("4",)g("5",)g("7"\);)213 2443 y(is_deeply\()f(\\@t,)h(\\@et,)g("Test)h
(Twenty")e(\);)p 2748 2546 V 185 2549 2568 4 v 1873 5809
a Fk(100)p eop end
%%Page: 101 101
TeXDict begin 101 100 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.30)80 b(test)p 522 210 25 4 v 29 w(mead)p 745
210 V 30 w(summary)-6 b(.t)p 185 295 2846 4 v 185 5708
4 5414 v 213 399 a Fa(#)39 b(script:)g(test_mead_summary.t)213
477 y(#)g(functionality:)f(Tests)h(the)h(ability)f(of)g
(Clair::MEAD::Summary)e(to)j(preserve)213 556 y(#)f(functionality:)f
(features)h(of)g(sentences)g(and)g(other)g(basic)h(functions)213
714 y(use)f(strict;)213 793 y(use)g(warnings;)213 872
y(use)g(Test::More)g(tests)g(=>)g(14;)213 951 y(use)g
(Clair::MEAD::Summary;)213 1108 y(#)g(Testing)g(on)h(this)f(object)213
1187 y(my)g($extract)g(=)h([)372 1266 y({)532 1345 y(TEXT)f(=>)g
("Sentence)g(one.",)532 1424 y(DID)g(=>)h(1,)532 1503
y(SNO)f(=>)h(2,)532 1582 y(RSNT)f(=>)g(2,)532 1660 y(PAR)g(=>)h(1,)532
1739 y(FEATURES)e(=>)691 1818 y({)850 1897 y("Feature1")h(=>)g(1,)850
1976 y("Feature2")g(=>)g(2,)850 2055 y("Feature3")g(=>)g(3)691
2134 y(})372 2213 y(},)372 2291 y({)532 2370 y(TEXT)g(=>)g("Sentence)g
(two.",)532 2449 y(DID)g(=>)h(1,)532 2528 y(SNO)f(=>)h(3,)532
2607 y(RSNT)f(=>)g(2,)532 2686 y(PAR)g(=>)h(1,)532 2765
y(FEATURES)e(=>)691 2844 y({)850 2922 y("Feature1")h(=>)g(1,)850
3001 y("Feature2")g(=>)g(2,)850 3080 y("Feature3")g(=>)g(3)691
3159 y(})372 3238 y(},)372 3317 y({)532 3396 y(TEXT)g(=>)g("Sentence)g
(three.",)532 3475 y(DID)g(=>)h(2,)532 3553 y(SNO)f(=>)h(1,)532
3632 y(RSNT)f(=>)g(1,)532 3711 y(PAR)g(=>)h(2,)532 3790
y(FEATURES)e(=>)691 3869 y({)850 3948 y("Feature1")h(=>)g(1,)850
4027 y("Feature2")g(=>)g(2,)850 4105 y("Feature3")g(=>)g(3)691
4184 y(})372 4263 y(},)372 4342 y({)532 4421 y(TEXT)g(=>)g("Sentence)g
(four.",)532 4500 y(DID)g(=>)h(2,)532 4579 y(SNO)f(=>)h(2,)532
4658 y(RSNT)f(=>)g(1,)532 4736 y(PAR)g(=>)h(1,)532 4815
y(FEATURES)e(=>)691 4894 y({)850 4973 y("Feature1")h(=>)g(1,)850
5052 y("Feature2")g(=>)g(2,)850 5131 y("Feature3")g(=>)g(3)691
5210 y(})372 5289 y(},)213 5367 y(];)213 5525 y(my)g($summary)g(=)h
(Clair::MEAD::Summary->new\($extract\);)p 3027 5708 V
185 5711 2846 4 v 1873 5809 a Fk(101)p eop end
%%Page: 102 102
TeXDict begin 102 101 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3887 4 3757 v 213 234 a Fa(is\($summary->size\(\),)37
b(4,)i("Four)g(sents"\);)213 392 y(is\($summary->to_string\(\),)d
("Sentence)i(one.)i(Sentence)e(two.)i(Sentence)e(three.)h(Sentence)g
(\\)213 471 y(four.",)g("Default)f(order"\);)213 629
y(my)h(\045order)g(=)h(\()g(1)f(=>)h(2,)f(2)h(=>)g(1)f(\);)213
708 y($summary->set_doc_order\(\045order\);)213 786 y
(is\($summary->to_string\(\),)d("Sentence)i(three.)h(Sentence)g(four.)g
(Sentence)g(one.)358 b(\\)213 865 y(Sentence)38 b(two.",)h
("Reorder"\);)213 1023 y(my)g(@dids)g(=)h(sort)f
($summary->get_dids\(\);)213 1102 y(is_deeply\(\\@dids,)e([1,)i(2],)h
("DIDs"\);)213 1260 y(is\(undef,)e($summary->get_sent\(0\),)f("Zero)i
(sent)g(undef"\);)213 1338 y(is\(undef,)f($summary->get_sent\(5\),)f
("Five)i(sent)g(undef"\);)213 1496 y($summary->set_doc_order\(1)d(=>)j
(1,)h(2)g(=>)f(2\);)213 1654 y(my)g($esent)g(=)h({)372
1733 y(text)f(=>)h("Sentence)e(one.",)372 1812 y(sno)i(=>)f(2,)372
1891 y(did)h(=>)f(1,)372 1969 y(rsnt)g(=>)h(2,)372 2048
y(par)g(=>)f(1)213 2127 y(};)213 2206 y(my)g(\045sent)g(=)h
($summary->get_sent\(1\);)213 2285 y(#is_deeply\($esent,)d(\\\045sent,)
i("Get)g(sentence)g(by)g(index"\);)213 2443 y(is\($esent->{text},)e
($summary->get_text\(1\),)f("get_text"\);)213 2522 y
(is\($esent->{sno},)h($summary->get_sno\(1\),)g("get_sno"\);)213
2600 y(is\($esent->{did},)g($summary->get_did\(1\),)g("get_did"\);)213
2679 y(is\($esent->{rsnt},)g($summary->get_rsnt\(1\),)f("get_rsnt"\);)
213 2758 y(is\($esent->{par},)h($summary->get_par\(1\),)g("get_par"\);)
213 2916 y(is\(undef,)h($summary->get_features\(0\),)e("Zero)j(feat)h
(undef"\);)213 2995 y(is\(undef,)e($summary->get_features\(5\),)e
("Five)j(feat)h(undef"\);)213 3153 y(my)f($efeats)g(=)h({)372
3231 y(Feature1)f(=>)g(1,)372 3310 y(Feature2)g(=>)g(2,)372
3389 y(Feature3)g(=>)g(3,)213 3468 y(};)213 3547 y(my)g(\045feats)g(=)h
($summary->get_features\(1\);)213 3626 y(is_deeply\($efeats,)d
(\\\045feats,)i("features"\);)p 3466 3887 V 185 3890
3285 4 v 1873 5809 a Fk(102)p eop end
%%Page: 103 103
TeXDict begin 103 102 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.31)80 b(test)p 522 210 25 4 v 29 w(mead)o(wrapper)p
1049 210 V 29 w(mxt.t)p 185 295 3086 4 v 185 5708 4 5414
v 213 399 a Fa(#)39 b(script:)g(test_meadwrapper_mxt.t)213
477 y(#)g(functionality:)f(Test)h(basic)h(Clair::MEAD::Wrapper)c
(functions,)j(such)g(as)213 556 y(#)g(functionality:)f(summarization,)g
(varying)h(compression)f(ratios,)h(feature)g(sorting,)213
635 y(#)g(functionality:)f(etc.,)h(having)g(assumed)g(the)g(use)h(of)f
(MxTerminator)g(as)g(a)h(sentence)213 714 y(#)f(functionality:)f
(splitting)h(tool)213 872 y(use)g(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(FindBin;)213 1108 y(use)g(Clair::Config;)213
1187 y(use)g(Test::More;)213 1345 y(use)g(vars)g
(qw\($SENTENCE_SEGMENTER_TYPE)d($JMX_HOME\);)213 1503
y(if)j(\(not)h(defined)e($MEAD_HOME)h(or)g(not)h(-d)f($MEAD_HOME\))f({)
372 1582 y(plan\()h(skip_all)g(=>)532 1660 y('$MEAD_HOME)f(not)h
(defined)g(in)h(Clair::Config)d(or)j(doesn\\'t)f(exist')g(\);)213
1739 y(})g(else)h({)372 1818 y(if)g(\(not)f(defined)g($JMX_HOME\))f({)
532 1897 y(plan\()h(skip_all)f(=>)i('$JMX_HOME)e(not)i(defined)e(in)i
(Clair::Config.')e(\);)372 1976 y(})i(else)f({)532 2055
y(plan\()g(tests)g(=>)g(15)h(\);)372 2134 y(})213 2213
y(})213 2370 y(my)f($old_SENTENCE_SEGMENTER_TYPE)d(=)k
($SENTENCE_SEGMENTER_TYPE;)213 2449 y($SENTENCE_SEGMENTER_TYPE)c(=)k
("MxTerminator";)213 2607 y(use_ok\("Clair::MEAD::Wrapper"\);)213
2686 y(use_ok\("Clair::Cluster"\);)213 2765 y
(use_ok\("Clair::Document"\);)213 2922 y(my)f($cluster_dir)f(=)i
("$FindBin::Bin/produced/meadwrapper";)213 3001 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 3080 y
($cluster->load_documents\("$FindBin::Bin/in)o(put/mea)o(dwrappe)o(r/)
2530 3092 y(*)2570 3080 y("\);)213 3238 y(my)f($mead)g(=)h
(Clair::MEAD::Wrapper->new\()372 3317 y(mead_home)f(=>)g($MEAD_HOME,)
372 3396 y(cluster)g(=>)h($cluster,)372 3475 y(cluster_dir)e(=>)i
($cluster_dir)213 3553 y(\);)213 3711 y(my)f(\045files)g(=)h(\()g
("fed1.txt")e(=>)i(1,)f("fed2.txt")f(=>)i(1,)g("41")f(=>)g(1\);)213
3790 y(my)g(@dids)g(=)h($mead->get_dids\(\);)213 3869
y(for)f(\(@dids\))g({)372 3948 y(ok\(exists)g($files{$_},)f("listing)h
(dids:)g($_)g(exists"\);)213 4027 y(})213 4263 y(map)g({)h(delete)f
($ENV{$_})f(})i(keys)f(\045ENV;)213 4421 y(my)g(@summary1)g(=)h
($mead->run_mead\(\);)213 4500 y(is\(@summary1,)e(13,)h("Generic)g
(summary"\);)213 4658 y($mead->add_option\("-s)d(-p)k(100"\);)213
4736 y(my)f(@summary2)g(=)h($mead->run_mead\(\);)213
4815 y(is\(@summary2,)e(64,)h("No)g(compression"\);)213
4894 y(#)g(This)h(test)f(is)h(only)f(appropriate)f(for)h
(Text::Sentence.)213 4973 y(#is\(@summary2,)f(61,)h("No)g
(compression"\);)213 5131 y(my)g(@expected_features)e(=)j(sort)f
(\("Centroid",)f("Length",)h("Position"\);)213 5210 y(my)g(@features)g
(=)h(sort)f($mead->get_feature_names\(\);)213 5367 y(is\(scalar)f
(@features,)h(scalar)g(@expected_features,)e("Feature)h(names"\);)213
5525 y(for)h(\(my)h($i)f(=)h(0;)f($i)h(<)g(@features;)e($i++\))h({)372
5604 y(ok\($features[$i])f(eq)h($expected_features[$i],)p
3266 5708 V 185 5711 3086 4 v 1873 5809 a Fk(103)p eop
end
%%Page: 104 104
TeXDict begin 104 103 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2289
4 v 185 1285 4 1155 v 532 234 a Fa("Feature)38 b(names:)h
($features[$i]"\);)213 313 y(})213 471 y(my)g(\045features)g(=)h
($mead->get_feature\("Centroid"\);)213 550 y(my)f($centroid_41)f(=)i
(scalar)f(@{)h($features{"41"})d(};)213 629 y(my)i($centroid_fed1)f(=)i
(scalar)f(@{)g($features{"fed1.txt"})e(};)213 708 y(my)i
($centroid_fed2)f(=)i(scalar)f(@{)g($features{"fed2.txt"})e(};)213
865 y(is\($centroid_41,)g(26,)j("Centroid)e(scores:)h(41"\);)213
944 y(is\($centroid_fed1,)e(21,)i("Centroid)g(scores:)g(fed1.txt"\);)
213 1023 y(is\($centroid_fed2,)e(18,)i("Centroid)g(scores:)g
(fed2.txt"\);)213 1181 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)p 2469 1285 V 185 1288
2289 4 v 1873 5809 a Fk(104)p eop end
%%Page: 105 105
TeXDict begin 105 104 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.32)80 b(test)p 522 210 25 4 v 29 w(mead)o(wrapper)-8
b(.t)p 185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#)39
b(script:)g(test_meadwrapper.t)213 477 y(#)g(functionality:)f(Test)h
(basic)h(Clair::MEAD::Wrapper)c(functions,)j(such)g(as)213
556 y(#)g(functionality:)f(summarization,)g(varying)h(compression)f
(ratios,)h(feature)g(sorting,)213 635 y(#)g(functionality:)f(etc.,)h
(having)g(assumed)g(the)g(use)h(of)f(Text::Sentence)f(as)i(a)f
(sentence)213 714 y(#)g(functionality:)f(splitting)h(tool)213
872 y(use)g(strict;)213 951 y(use)g(warnings;)213 1030
y(use)g(FindBin;)213 1108 y(use)g(Clair::Config;)213
1187 y(use)g(Test::More;)213 1345 y(use)g(vars)g
(qw\($SENTENCE_SEGMENTER_TYPE\);)213 1424 y(my)g
($old_SENTENCE_SEGMENTER_TYPE)d(=)k($SENTENCE_SEGMENTER_TYPE;)213
1503 y($SENTENCE_SEGMENTER_TYPE)c(=)k("Text";)213 1660
y(if)f(\(not)h(defined)e($MEAD_HOME)h(or)g(not)h(-d)f($MEAD_HOME\))f({)
372 1739 y(plan\()h(skip_all)g(=>)532 1818 y('$MEAD_HOME)f(not)h
(defined)g(in)h(Clair::Config)d(or)j(doesn\\'t)f(exist')g(\);)213
1897 y(})g(else)h({)372 1976 y(plan\()f(tests)g(=>)h(15)f(\);)213
2055 y(})213 2213 y(use_ok\("Clair::MEAD::Wrapper"\);)213
2291 y(use_ok\("Clair::Cluster"\);)213 2370 y
(use_ok\("Clair::Document"\);)213 2528 y(my)g($cluster_dir)f(=)i
("$FindBin::Bin/produced/meadwrapper";)213 2607 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 2686 y
($cluster->load_documents\("$FindBin::Bin/in)o(put/mea)o(dwrappe)o(r/)
2530 2698 y(*)2570 2686 y("\);)213 2844 y(my)f($mead)g(=)h
(Clair::MEAD::Wrapper->new\()372 2922 y(mead_home)f(=>)g($MEAD_HOME,)
372 3001 y(cluster)g(=>)h($cluster,)372 3080 y(cluster_dir)e(=>)i
($cluster_dir)213 3159 y(\);)213 3317 y(my)f(\045files)g(=)h(\()g
("fed1.txt")e(=>)i(1,)f("fed2.txt")f(=>)i(1,)g("41")f(=>)g(1\);)213
3396 y(my)g(@dids)g(=)h($mead->get_dids\(\);)213 3475
y(for)f(\(@dids\))g({)372 3553 y(ok\(exists)g($files{$_},)f("listing)h
(dids:)g($_)g(exists"\);)213 3632 y(})213 3869 y(map)g({)h(delete)f
($ENV{$_})f(})i(keys)f(\045ENV;)213 4027 y(my)g(@summary1)g(=)h
($mead->run_mead\(\);)213 4105 y(is\(@summary1,)e(13,)h("Generic)g
(summary"\);)213 4263 y($mead->add_option\("-s)d(-p)k(100"\);)213
4342 y(my)f(@summary2)g(=)h($mead->run_mead\(\);)213
4421 y(#)f(This)h(test)f(is)h(appropriate)e(for)h(MxTerminator.)78
b(Eventually)38 b(this)i(will)f(be)g(smart)213 4500 y(#)g(enough)g(to)h
(know)f(which)g(sentence)g(splitter)g(is)g(in)h(use.)213
4579 y(#is\(@summary2,)e(64,)h("No)g(compression"\);)213
4658 y(#)g(This)h(test)f(is)h(appropriate)e(for)h(Text::Sentence.)213
4736 y(#)g(Furthermore,)g(this)g(unit)g(test)g(is)h(now)f(intended)g
(to)g(only)h(test)f(the)g(Text)518 b(\\)213 4815 y(SentenceSegmenter.)
213 4894 y(is\(@summary2,)38 b(61,)h("No)g(compression"\);)213
5052 y(my)g(@expected_features)e(=)j(sort)f(\("Centroid",)f("Length",)h
("Position"\);)213 5131 y(my)g(@features)g(=)h(sort)f
($mead->get_feature_names\(\);)213 5289 y(is\(scalar)f(@features,)h
(scalar)g(@expected_features,)e("Feature)h(names"\);)213
5446 y(for)h(\(my)h($i)f(=)h(0;)f($i)h(<)g(@features;)e($i++\))h({)372
5525 y(ok\($features[$i])f(eq)h($expected_features[$i],)532
5604 y("Feature)f(names:)h($features[$i]"\);)p 3466 5708
V 185 5711 3285 4 v 1873 5809 a Fk(105)p eop end
%%Page: 106 106
TeXDict begin 106 105 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2289
4 v 185 1442 4 1312 v 213 234 a Fa(})213 392 y(my)39
b(\045features)g(=)h($mead->get_feature\("Centroid"\);)213
471 y(my)f($centroid_41)f(=)i(scalar)f(@{)h($features{"41"})d(};)213
550 y(my)i($centroid_fed1)f(=)i(scalar)f(@{)g($features{"fed1.txt"})e
(};)213 629 y(my)i($centroid_fed2)f(=)i(scalar)f(@{)g
($features{"fed2.txt"})e(};)213 786 y(is\($centroid_41,)g(26,)j
("Centroid)e(scores:)h(41"\);)213 865 y(#)g(See)h(above)f(comments)g
(re:)g(MxTerminator/Text::Sentence.)213 944 y(#is\($centroid_fed1,)e
(21,)i("Centroid)g(scores:)f(fed1.txt"\);)213 1023 y
(#is\($centroid_fed2,)f(18,)i("Centroid)g(scores:)f(fed2.txt"\);)213
1102 y(is\($centroid_fed1,)f(19,)i("Centroid)g(scores:)g(fed1.txt"\);)
213 1181 y(is\($centroid_fed2,)e(16,)i("Centroid)g(scores:)g
(fed2.txt"\);)213 1338 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)p 2469 1442 V 185 1445
2289 4 v 1873 5809 a Fk(106)p eop end
%%Page: 107 107
TeXDict begin 107 106 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.33)80 b(test)p 522 210 25 4 v 29 w(mmr)-8 b(.t)p
185 279 3165 4 v 185 5140 4 4861 v 213 383 a Fa(#)39
b(script:)g(test_mmr.t)213 462 y(#)g(functionality:)f(Tests)h(the)h
(lexrank)f(mmr)g(reranker)g(on)g(a)h(network)213 619
y(use)f(strict;)213 698 y(use)g(warnings;)213 777 y(use)g(FindBin;)213
856 y(use)g(Test::More;)213 935 y(use)g(Clair::Config;)213
1093 y(if)g(\()h(not)f(defined)g($PRMAIN)g(or)h(not)f(-e)h($PRMAIN)e
(\))i({)372 1172 y(plan\()f(skip_all)g(=>)g("PRMAIN)g(not)h(defined)e
(in)i(Clair::Config)e(or)i(doesn't)e(exist")h(\))213
1250 y(})g(else)h({)372 1329 y(plan\()f(tests)g(=>)h(6)g(\);)213
1408 y(})213 1566 y(use_ok\("Clair::Cluster"\);)213 1645
y(use_ok\("Clair::Document"\);)213 1724 y
(use_ok\("Clair::NetworkWrapper"\);)213 1881 y(my)f(@sents)g(=)h
(\("foo)f(bar",)g("bar)g(baz",)h("baz)f(qux"\);)213 1960
y(my)g(@mmr)119 b(=)40 b(\([-.01,.01],)e([.03,.05],)g([.99,1.00]\);)213
2118 y(my)h($cluster)g(=)h(Clair::Cluster->new\(\);)213
2197 y(my)f($i)h(=)g(1;)213 2276 y(for)f(\(@sents\))g({)372
2355 y(chomp;)372 2433 y(my)h($doc)f(=)h(Clair::Document->new\()532
2512 y(string)f(=>)g($_,)532 2591 y(type)g(=>)g("text",)532
2670 y(id)g(=>)h($i)372 2749 y(\);)372 2828 y($doc->stem\(\);)372
2907 y($cluster->insert\($i,)d($doc\);)372 2986 y($i++;)213
3064 y(})213 3222 y(my)i(\045matrix)g(=)h
($cluster->compute_cosine_matrix\(\);)213 3301 y(my)f($network)g(=)h
($cluster->create_network\()372 3380 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 3459 y(include_zeros)e(=>)i(1)213
3538 y(\);)213 3617 y(my)f($wn)h(=)f(Clair::NetworkWrapper->new\()372
3695 y(prmain)g(=>)h($PRMAIN,)372 3774 y(network)f(=>)h($network,)372
3853 y(clean)f(=>)h(1)213 3932 y(\);)213 4090 y(my)f(@verts)g(=)h
($wn->{graph}->vertices\(\);)213 4247 y($wn->compute_lexrank\(\);)213
4326 y(my)f($lr_vector)g(=)g($wn->get_property_vector\(\\@verts,)c
("lexrank_value"\);)213 4484 y($wn->mmr_rerank_lexrank\(0.5\);)213
4563 y(my)k($mmr_vector)g(=)g($wn->get_property_vector\(\\@verts,)c
("lexrank_value"\);)213 4721 y(for)k(\(my)h($i)f(=)h(0;)f($i)h(<)g
(@verts;)e($i++\))i({)372 4800 y(my)g($act)f(=)h
($mmr_vector->element\($i)c(+)k(1,)f(1\);)372 4878 y(ok\($mmr[$i]->[0])
f(<=)h($act)g(&&)h($act)f(<=)h($mmr[$i]->[1],)e("lambda)g(=)i(1,)g
(vert)f($i"\);)213 4957 y(})p 3346 5140 V 185 5143 3165
4 v 1873 5809 a Fk(107)p eop end
%%Page: 108 108
TeXDict begin 108 107 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.34)80 b(test)p 522 210 25 4 v 29 w(netw)o(ork)p
846 210 V 30 w(adamic.t)p 185 279 3285 4 v 185 1985 4
1707 v 213 383 a Fa(#)39 b(script:)g(test_network_adamic.t)213
462 y(#)g(functionality:)f(Test)h(the)h(function)f(of)g(adamic/adar)f
(value)h(in)h(a)g(network.)213 619 y(use)f(Test::More)g(tests=>4;)213
698 y(use)g(Clair::Network::AdamicAdar;)213 777 y
(use_ok\(Clair::Network::AdamicAdar\);)213 856 y(use)g(FindBin;)213
1014 y(my)g($corpus)g(=)h("$FindBin::Bin/input/adamic_adar";)213
1172 y($aa)f(=)h(new)f(Clair::Network::AdamicAdar\(\);)213
1250 y($result)g(=)g($aa->readCorpus\($corpus\);)213
1408 y(is)g(\($result->{"C.txt"}->{"E.txt"},)d(1.53157416118645,)h
("test)i(the)g(Adamic)g(Adar)239 b(\\)213 1487 y(value)39
b(between)g(C)g(and)h(E"\);)213 1566 y(is)f
(\($result->{"A.txt"}->{"B.txt"},)d(1.34268245500409,)h("test)i(the)g
(Adamic)g(Adar)239 b(\\)213 1645 y(value)39 b(between)g(A)g(and)h
(B"\);)213 1724 y(is)f(\($result->{"A.txt"}->{"C.txt"},)d
(1.34268245500409,)h("test)i(the)g(Adamic)g(Adar)239
b(\\)213 1802 y(value)39 b(between)g(A)g(and)h(C"\);)p
3466 1985 V 185 1988 3285 4 v 60 2181 a Fi(10.2.35)80
b(test)p 522 2181 25 4 v 29 w(netw)o(ork)p 846 2181 V
30 w(r)o(eader)-8 b(.t)p 185 2250 3125 4 v 185 4035 4
1785 v 213 2354 a Fa(#)39 b(script:)g(test_network.t)213
2433 y(#)g(functionality:)f(Test)h(basic)h(Network)e(functionality,)g
(such)h(as)h(node/edge)e(addition)213 2512 y(#)h(functionality:)f(and)i
(removal,)e(path)i(generation,)e(statistics,)g(matlab)h(graphics)213
2590 y(#)g(functionality:)f(generation,)g(etc.)213 2748
y(use)h(strict;)213 2827 y(use)g(warnings;)213 2906 y(use)g(FindBin;)
213 2985 y(use)g(Test::More)g(tests)g(=>)g(5;)213 3143
y(use_ok\('Clair::Network'\);)213 3221 y
(use_ok\('Clair::Network::Reader::GML'\);)213 3379 y(my)g
($file_doc_dir)f(=)i("$FindBin::Bin/input/network_reader";)213
3537 y(my)f($reader)g(=)h(Clair::Network::Reader::GML->new\(\);)213
3616 y(my)f($net)h(=)f($reader->read_network\($file_doc_dir)c(.)40
b("/test.gml"\);)213 3774 y(ok\($net->has_edge\("1",)c("2"\),)j("edge)h
(1-2)f(exists"\);)213 3852 y(ok\($net->has_edge\("2",)d("3"\),)j("edge)
h(2-3)f(exists"\);)213 3931 y(ok\($net->has_edge\("3",)d("1"\),)j
("edge)h(3-1)f(exists"\);)p 3306 4035 V 185 4038 3125
4 v 1873 5809 a Fk(108)p eop end
%%Page: 109 109
TeXDict begin 109 108 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.36)80 b(test)p 522 210 25 4 v 29 w(netw)o(ork)p
846 210 V 30 w(stat.t)p 185 279 3285 4 v 185 5692 4 5414
v 213 383 a Fa(#)39 b(script:)g(test_network_stat.t)213
462 y(#)g(functionality:)f(Generates)h(a)g(network,)g(then)g(computes)g
(and)g(displays)g(a)h(large)213 541 y(#)f(functionality:)f(number)h(of)
h(network)f(statistics)213 698 y(use)g(strict;)213 777
y(use)g(warnings;)213 856 y(use)g(FindBin;)213 1014 y(use)g(Test::More)
g(tests)g(=>)g(43;)213 1172 y(use_ok\('Clair::Network'\);)213
1250 y(use_ok\('Clair::Network::Writer::Edgelist'\))o(;)213
1329 y(use_ok\('Clair::Cluster'\);)213 1408 y
(use_ok\('Clair::Document'\);)213 1487 y(use_ok\('Clair::Util'\);)213
1645 y(my)g($old_prefix)g(=)g("a";)213 1724 y(my)g($threshold)g(=)g
(".20";)213 1881 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/network_stat";)213 1960 y(my)f
($file_input_dir)f(=)i("$FindBin::Bin/input/network_stat";)213
2039 y(my)f($file_exp_dir)f(=)i("$FindBin::Bin/expected/network_stat";)
213 2118 y(my)f($prefix)g(=)h("$file_gen_dir/$old_prefix";)213
2276 y(#)f(Create)g(cluster)213 2355 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 2433 y(my)f(@files)g(=)h(\(\);)213
2512 y(my)f(@doc_ids)g(=)h(\(\);)213 2670 y(clear_stats_file\(\);)213
2828 y(#)f(Open)h(txt)f(file)g(and)h(read)f(in)h(each)f(line,)g
(putting)g(it)g(into)h(the)f(cluster)g(as)213 2907 y(#)g(a)h(separate)f
(document)213 2986 y(open)g(\(TXT,)g("<)h
($file_input_dir/$old_prefix.txt"\))35 b(||)k(die\("Could)g(not)g(open)
398 b(\\)213 3064 y($file_input_dir/$old_prefix.txt."\);)213
3222 y(my)39 b($doc_count)g(=)g(0;)213 3380 y(while)g(\(<TXT>\))213
3459 y({)213 3538 y($doc_count++;)213 3617 y(my)g($doc)h(=)f
(Clair::Document->new\(type)d(=>)k('text',)f(string)g(=>)g("$_",)1568
3695 y(id)g(=>)h("$doc_count"\);)213 3774 y
($cluster->insert\($doc_count,)35 b($doc\);)213 3932
y(#)k(print)h("$doc_count:\\t$_\\n";)213 4011 y(})213
4169 y(my)f(\045cos)h(=)f($cluster->compute_cosine_matrix\(text_type)34
b(=>)40 b('text'\);)213 4326 y($cluster->write_cos\("$prefix.all.cos",)
34 b(cosine_matrix)k(=>)h(\\\045cos\);)213 4484 y(cmp_ok\()g
(abs\($cos{5}{13})e(-)j(0.05605\),)e("<",)i(0.00005,)e("cos"\);)213
4563 y(cmp_ok\()h(abs\($cos{19}{26})e(-)j(0.07495\),)e("<",)h(0.00005,)
g("cos)g(2"\);)213 4800 y(#)g(Do)h(binary)f(cosine)g(w/)g(cutoff)g(of)h
(0.2)213 4878 y(my)f(\045bin_matrix)g(=)g
($cluster->compute_binary_cosine\($threshold\);)213 4957
y(cmp_ok\()g(abs\($bin_matrix{13}{29})d(-)k(0.2215\),)e("<",)i
(0.00005,)e("bin)i(matrix"\);)213 5036 y(is\($bin_matrix{19}{26},)c(0,)
k("bin)f(matrix)g(cutoff"\);)213 5273 y(#)g(Create)g(networks)213
5352 y(my)g($network)g(=)h($cluster->create_network\(cosine_matrix)34
b(=>)39 b(\\\045cos,)372 5431 y(include_zeros)f(=>)i(1\);)213
5509 y(my)f($networkThreshold)f(=)h
($cluster->create_network\(cosine_matrix)c(=>)k(\\\045bin_matrix\);)p
3466 5692 V 185 5695 3285 4 v 1873 5809 a Fk(109)p eop
end
%%Page: 110 110
TeXDict begin 110 109 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(#)39 b(Creating)g(.links)g(files)213
313 y(my)g($export)g(=)h(Clair::Network::Writer::Edgelist->new\(\);)213
392 y($export->write_network\($network,)35 b("$prefix.all.links"\);)213
471 y($export->write_network\($networkThreshold,)e("$prefix.links"\);)
213 550 y(ok\($network->has_edge\(13,)j(3\),)j("has_edge\(13,3\)"\);)
213 708 y(ok\($networkThreshold->has_edge\(7,)c(12\),)k
("has_edge\(7,12\)"\);)213 786 y(ok\(not)g
(\($networkThreshold->has_edge\(2,)c(20\)\),)k("not)g
(has_edge\(2,20\)"\);)213 944 y
($network->write_nodes\("$prefix.nodes"\);)213 1023 y
(ok\(compare_proper_files\("$old_prefix.nodes)o("\),)34
b("write_notes"\);)213 1102 y(ok\($network->has_node\(5\),)i
("has_node\(5\)"\);)213 1181 y(ok\($network->has_node\(13\),)g
("has_node\(13\)"\);)213 1260 y(is\($network->has_node\(33\),)g('',)j
("not)g(has_node\(33\)"\);)213 1417 y(is\($network->num_documents,)d
(32,)j("num_documents"\);)213 1496 y
(is\($networkThreshold->num_documents,)34 b(21,)40 b("num_documents)d
(thresh"\);)213 1654 y(is\($network->num_pairs,)f(496,)j
("num_pairs"\);)213 1733 y(is\($networkThreshold->num_pairs,)c(210,)k
("num_paris)f(thresh"\);)213 1891 y
(is\($networkThreshold->num_links\(external)c(=>)39 b(1\),)h(0,)f
("num_links)g(thresh)f(ext"\);)213 1969 y
(is\($networkThreshold->num_links\(internal)c(=>)39 b(1\),)h(84,)f
("num_links)f(thresh)h(int"\);)213 2048 y
(is\($networkThreshold->num_links\(internal)34 b(=>)39
b(1,)h(unique)f(=>)g(1\),)h(84,)372 2127 y("num_links)f(thresh)f(int)i
(uniq"\);)213 2285 y($networkThreshold->write_db\("$prefix.db"\);)213
2364 y(ok\(-e)f("$prefix.db"\);)213 2522 y
($networkThreshold->write_db\("$prefix-xpose)o(.db",)34
b(transpose)k(=>)i(1\);)213 2600 y(ok\(-e)f("$prefix-xpose.db"\);)213
2758 y(#print)g($networkThreshold->num_nodes\(\),)c("\\n";)213
2837 y(#print)k($networkThreshold->num_links\(\),)c("\\n";)213
2916 y(is\($networkThreshold->avg_in_degree,)f(4,)40
b("avg_in_degree"\);)213 2995 y(is\($networkThreshold->avg_out_degree,)
34 b(4,)40 b("avg_out_degree"\);)213 3074 y
(is\($networkThreshold->avg_total_degree,)34 b(8,)39
b("avg_total_degree"\);)213 3231 y(my)g($dist)g(=)h
($networkThreshold->power_law_out_link_distrib)o(ution;)213
3310 y(ok)f(\($dist)g(=\230)h(/y)f(=)h(4\\.217.)1210
3322 y(*)1289 3310 y(x\\\210-0\\.167/\);)213 3468 y($dist)f(=)h
($networkThreshold->power_law_in_link_dist)o(ributio)o(n;)213
3547 y(ok)f(\($dist)g(=\230)h(/y)f(=)h(4\\.217.)1210
3559 y(*)1289 3547 y(x\\\210-0\\.167/\);)213 3705 y($dist)f(=)h
($networkThreshold->power_law_total_link_d)o(istribu)o(tion;)213
3783 y(ok)f(\($dist)g(=\230)h(/y)f(=)h(4\\.737.)1210
3795 y(*)1289 3783 y(x\\\210-0\\.167/\);)213 3941 y(my)f($wscc)g(=)h
($networkThreshold->Watts_Strogatz_clus_coeff\()o(filenam)o(e)34
b(=>)518 b(\\)213 4020 y("$prefix.cc.out"\);)213 4099
y(ok)39 b(\($wscc)g(>)80 b(0.442)39 b(and)g($wscc)g(<)h(0.443\);)213
4257 y(my)f($diam)g(=)h($networkThreshold->diameter\(avg)35
b(=>)40 b(1,)f(filename)g(=>)797 b(\\)213 4336 y
("$prefix.asp.directed.out",)36 b(directed)i(=>)i(1\);)213
4414 y(ok)f(\($diam)g(>)h(2.144)f(and)g($diam)h(<)f(2.145\);)213
4572 y($diam)g(=)h($networkThreshold->diameter\(avg)35
b(=>)k(1,)h(filename)f(=>)916 b(\\)213 4651 y
("$prefix.asp.undirected.out",)35 b(undirected)k(=>)g(1\);)213
4730 y(ok)g(\($diam)g(>)h(2.144)f(and)g($diam)h(<)f(2.145\);)213
4888 y($diam)g(=)h($networkThreshold->diameter\(max)35
b(=>)k(1,)h(filename)f(=>)916 b(\\)213 4967 y
("$prefix.directed.diameter.out",)35 b(directed)j(=>)i(1\);)213
5045 y(ok)f(\($diam)g(==)h(4\);)213 5203 y($diam)f(=)h
($networkThreshold->diameter\(max)35 b(=>)k(1,)h(filename)f(=>)916
b(\\)213 5282 y("$prefix.undirected.diameter.out",)35
b(undirected)j(=>)h(1\);)213 5361 y(ok)g(\($diam)g(==)h(4\);)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(110)p eop
end
%%Page: 111 111
TeXDict begin 111 110 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(my)39 b(\($link_avg_cos,)f
($nl_avg_cos\))g(=)i($networkThreshold->average_cosines\(\\\045cos\);)
213 313 y(ok)f(\($link_avg_cos)f(>)i(0.309)f(and)g($link_avg_cos)f(<)i
(0.310\);)213 392 y(ok)f(\($nl_avg_cos)f(>)i(0.02098)f(and)g
($nl_avg_cos)f(<)i(0.02099\);)213 550 y(my)f(\($link_hist,)f
($nolink_hist\))g(=)i
($networkThreshold->cosine_histograms\(\\\045cos\);)213
629 y(my)f(@lh)h(=)f(@$link_hist;)213 708 y(ok)g(\($lh[29])g(==)h(6\);)
213 786 y(ok)f(\($lh[36])g(==)h(2\);)213 944 y(my)f(@nlh)h(=)f
(@$nolink_hist;)213 1023 y(ok)g(\($nlh[14])g(==)g(8\);)213
1102 y(ok)g(\($nlh[8])g(==)h(10\);)213 1260 y
($networkThreshold->create_cosine_dat_files)o(\($old_p)o(refix,)33
b(\\\045cos,)39 b(directory)g(=>)199 b(\\)213 1338 y($file_gen_dir\);)
213 1496 y(my)39 b($dat_stats)g(=)g
($networkThreshold->get_dat_stats\("$prefix",)34 b("$prefix.links",)157
b(\\)213 1575 y("$prefix.all.cos"\);)213 1654 y(ok)39
b(\($dat_stats)g(=\230)g("cosine.)1250 1666 y(*)1290
1654 y(992.)1450 1666 y(*)1490 1654 y(\\nnumber.)1850
1666 y(*)1890 1654 y(1692\\nratio.)2370 1666 y(*)2410
1654 y(:)34 b(0.193.)2724 1666 y(*)2764 1654 y(\\nratio.)3084
1666 y(*)3124 1654 y(:)237 b(\\)213 1733 y(0.0212.)493
1745 y(*)533 1733 y(\\nratio.)853 1745 y(*)893 1733 y(:)37
b(0.0189.)1250 1745 y(*)1290 1733 y(\\naverage.)1690
1745 y(*)1730 1733 y(0.05"\);)213 1891 y(#)i(Copied)g(from)h(gg.pl:)213
2048 y(#)213 2127 y(#)f(Statistics)g(Methods)213 2206
y(#)213 2285 y(sub)g(clear_stats_file)f({)213 2364 y(unlink)h
("$prefix.stats";)213 2443 y(})213 2600 y(sub)g(print_stat)g({)292
2679 y(my)h($name)f(=)h(shift;)213 2758 y(my)f($value)g(=)h(shift;)213
2837 y(my)f($date)g(=)h(`date`;)213 2916 y(chomp\($date\);)213
2995 y(open)f(\(STATS,)g(">>$prefix.stats"\);)213 3074
y(print)g(STATS)g($name,":)g($value\\n";)213 3153 y(close)g(STATS;)213
3231 y(})213 3389 y(sub)g(write_to_stat)f({)213 3468
y(my)h($text)g(=)h(shift;)213 3547 y(open)f(\(STATS,)g
(">>$prefix.stats"\);)213 3626 y(print)g(STATS)g($text;)213
3705 y(close)g(STATS;)213 3783 y(})213 3941 y(sub)g(get_stat)g({)213
4020 y(my)g($name)g(=)h(shift;)213 4099 y(my)f($line)g(=)h(`grep)f
("\210$name")g($prefix.stats`;)213 4178 y(chomp\($line\);)213
4257 y(my)g(@columns)g(=)h(split)f(\(")g(",)h($line\);)213
4336 y(return)f($columns[$#columns];)213 4414 y(})213
4572 y(sub)g(display_stat)f({)213 4651 y(my)h($name)g(=)h(shift;)213
4730 y(#)f(print)h(`grep)f("\210$name")f($prefix.stats`;)213
4809 y(})213 4967 y(sub)h(not_exists_stat)f({)213 5045
y(my)h($name)g(=)h(shift;)213 5124 y(my)f($st)h(=)f(`grep)h
("\210$name")e($prefix.stats`;)213 5203 y(return)h(\($st)g(=\230)h
(/\210\\s)971 5215 y(*)1011 5203 y($/\);)213 5282 y(})213
5440 y(#)f(Compares)g(two)h(files)f(named)g(filename)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(111)p eop
end
%%Page: 112 112
TeXDict begin 112 111 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 969 4 839 v 213 234 a Fa(#)39 b(from)h(the)f(t/docs/expected)f
(directory)g(and)213 313 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 392 y(sub)h(compare_proper_files)e({)292
471 y(my)j($filename)f(=)g(shift;)292 629 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 708 y("$file_gen_dir/$filename"\);)213 786 y(})p
3466 969 V 185 972 3285 4 v 1873 5809 a Fk(112)p eop
end
%%Page: 113 113
TeXDict begin 113 112 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.37)80 b(test)p 522 210 25 4 v 29 w(netw)o(ork.t)p
185 279 3165 4 v 185 5692 4 5414 v 213 383 a Fa(#)39
b(script:)g(test_network.t)213 462 y(#)g(functionality:)f(Test)h(basic)
h(Network)e(functionality,)g(such)h(as)h(node/edge)e(addition)213
541 y(#)h(functionality:)f(and)i(removal,)e(path)i(generation,)e
(statistics,)g(matlab)h(graphics)213 619 y(#)g(functionality:)f
(generation,)g(etc.)213 777 y(use)h(strict;)213 856 y(use)g(warnings;)
213 935 y(use)g(FindBin;)213 1014 y(use)g(Test::More)g(tests)g(=>)g
(64;)213 1172 y(use_ok\('Clair::Network'\);)213 1250
y(use_ok\('Clair::Network::Writer::Pajek'\);)213 1329
y(use_ok\('Clair::Network::Writer::Edgelist'\))o(;)213
1408 y(use_ok\('Clair::Util'\);)213 1566 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/network";)213 1645 y(my)f($file_doc_dir)f(=)i
("$FindBin::Bin/input/network";)213 1724 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/network";)213 1881 y(my)f($g1)h(=)f
(Clair::Network->new\(\);)213 1960 y($g1->add_node\(1,)e(text)i(=>)h
("Random)f(sentence"\);)213 2039 y($g1->add_node\(2,)e(text)i(=>)h
("unique"\);)213 2118 y($g1->add_node\(3,)d(text)i(=>)h("mark)f
(hodges"\);)213 2197 y($g1->add_node\(4,)e(text)i(=>)h("mark)f
(liffiton"\);)213 2276 y($g1->add_node\(5,)e(text)i(=>)h("dragomir)f
(radev"\);)213 2355 y($g1->add_node\(6,)e(text)i(=>)h("mike)f
(dagitses"\);)213 2512 y($g1->add_edge\(1,)e(2\);)213
2591 y($g1->add_edge\(1,)g(3\);)213 2670 y($g1->add_edge\(2,)g(4\);)213
2749 y($g1->add_edge\(4,)g(5\);)213 2828 y($g1->add_edge\(5,)g(6\);)213
2907 y($g1->add_edge\(4,)g(6\);)213 3064 y
(#is\($g1->diameter\(filename)f(=>)j("$file_gen_dir/graph.diameter"\),)
c(3,)40 b("diameter"\);)213 3143 y
(#ok\(compare_sorted_proper_files\("graph.dia)o(meter"\))o(,)34
b("diameter)39 b(files"\);)213 3301 y(is\($g1->diameter\(\),)e(3,)i
("diameter"\);)213 3459 y(is\($g1->diameter\(\),)e(3,)i("diameter"\);)
213 3538 y($g1->remove_edge\(4,)e(6\);)213 3617 y
(is\($g1->diameter\(\),)g(4,)i("diameter"\);)213 3774
y($g1->add_node\(7,)e(text)i(=>)h(""\);)213 3853 y($g1->add_edge\(1,)d
(7\);)213 3932 y($g1->add_edge\(7,)g(6\);)213 4090 y(my)i(@path)g(=)h
($g1->find_path\(1,)d(6\);)213 4169 y(my)i($path_length)f(=)i(@path;)
213 4247 y(is\($path_length,)d(3,)j("find_path"\);)213
4405 y($g1->set_node_weight\(7,)c(20\);)213 4484 y
(is\($g1->get_node_weight\(7\),)g(20,)j("get_node_weight"\);)213
4642 y($g1->remove_node\(7\);)213 4800 y(@path)g(=)h
($g1->find_path\(1,)d(6\);)213 4878 y($path_length)h(=)i(@path;)213
4957 y(is\($path_length,)d(5,)j("find_path"\);)213 5115
y(#)f(Test)h(Pajek)f(writing)g(and)g(reading)213 5194
y(my)g($export)g(=)h(Clair::Network::Writer::Pajek->new\(\);)213
5273 y($export->set_name\('test_graph'\);)213 5352 y
($export->write_network\($g1,)c("$file_gen_dir/graph.pajek"\);)213
5509 y(my)j($reader)g(=)h(Clair::Network::Reader::Pajek->new\(\);)213
5588 y(my)f($pajek_net)g(=)g
($reader->read_network\("$file_gen_dir/graph.paje)o(k"\);)p
3346 5692 V 185 5695 3165 4 v 1873 5809 a Fk(113)p eop
end
%%Page: 114 114
TeXDict begin 114 113 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3165
4 v 185 5544 4 5414 v 213 234 a Fa(ok\($pajek_net->{graph})36
b(eq)k($g1->{graph},)e("Pajek)h(reading)g(and)g(writing"\);)213
392 y(is\($g1->num_documents\(\),)d(6,)k("num_documents"\);)213
471 y(is\($g1->num_pairs\(\),)d(15,)i("num_pairs"\);)213
550 y(is\($g1->num_links\(\),)e(5,)i("num_links"\);)213
629 y(my)g($graph)g(=)h($g1->{graph};)213 786 y($g1->add_node\('EX8',)d
(text)i(=>)g('an)h(external)e(node'\);)213 865 y($g1->add_edge\('EX8',)
f(4\);)213 944 y($g1->add_edge\(5,)g('EX8'\);)213 1102
y(is\($g1->num_links\(\),)g(5,)i("num_links"\);)213 1181
y(is\($g1->num_links\(external)d(=>)j(1\),)h(2,)f("num_links)g
(external)f(=>)i(1"\);)213 1338 y(my)f(\045deg_hist)g(=)h
($g1->compute_in_link_histogram\(\);)213 1417 y(is\($deg_hist{1},)d(5,)
j("compute_in_link_histogram"\);)213 1575 y(\045deg_hist)e(=)i
($g1->compute_out_link_histogram\(\);)213 1654 y(is\($deg_hist{1},)d
(3,)j("compute_out_link_histogram"\);)213 1812 y(my)f($avg_deg)g(=)h
($g1->avg_total_degree\(\);)213 1891 y(is\($avg_deg,)e(2,)h
("avg_total_degree"\);)213 2048 y(\045deg_hist)f(=)i
($g1->compute_total_link_histogram\(\);)213 2127 y(is\($deg_hist{1},)d
(2,)j("compute_total_link_histogram"\);)213 2285 y(my)f($retString)g(=)
g($g1->power_law_out_link_distribution\(\);)213 2364
y(like\($retString,)e(qr/y)i(=)h(3)g(x\\\210-0\\.5849\\d+/,)d
("power_law_out_link_distribution"\);)213 2522 y($retString)h(=)i
($g1->power_law_in_link_distribution\(\);)213 2600 y(like\($retString,)
d(qr/y)i(=)h(5)g(x\\\210-2\\.3219\\d+/,)d
("power_law_in_link_distribution"\);)213 2758 y($retString)h(=)i
($g1->power_law_total_link_distribution\(\);)213 2837
y(like\($retString,)d(qr/y)i(=)h(2\\.204\\d+)f(x\\\2100\\.0629\\d+/,)
372 2916 y("power_law_total_link_distribution"\);)213
3074 y(is\($g1->diameter\(\),)e(4,)i("diameter"\);)213
3153 y(is\($g1->diameter\(undirected)d(=>)j(1\),)h(5,)f("diameter)g
(undirected"\);)213 3310 y(my)g($diameter)g(=)h($g1->diameter\(avg)d
(=>)i(1\);)213 3389 y(cmp_ok\(abs\($diameter)e(-)i(2.055\),)g("<",)g
(0.005,)g("diameter)g(avg"\);)213 3547 y($diameter)f(=)i
($g1->diameter\(avg)d(=>)j(1,)f(undirected)g(=>)g(1\);)213
3626 y(cmp_ok\(abs\($diameter)e(-)i(2.285\),)g("<",)g(0.005,)g
("diameter)g(undirected)f(avg"\);)213 3783 y(#)h(Test)h(average)f
(shortest)f(path)213 3862 y(my)h($asp)h(=)f
($g1->average_shortest_path\(\);)213 3941 y(cmp_ok\(abs\($asp)e(-)j
(1.535\),)f('<',)g(0.005,)g("average_shortest_path"\);)213
4099 y(#)g(Test)h(Newman's)e(power)h(law)h(exponent)f(formula)213
4178 y(my)g(@npl)h(=)f($g1->newman_power_law_exponent\(\\\045deg_hist,)
34 b(1\);)213 4257 y(cmp_ok\(abs\($npl[0])j(-)j(2.635\),)e('<',)i
(0.005,)f("newman_power_law_exponent"\);)213 4414 y(#)g(Test)h(finding)
f(largest)f(component)213 4493 y(my)h($largest_component)e(=)j
($g1->find_largest_component\("weakly"\);)213 4572 y
(is\($largest_component->num_nodes\(\),)34 b(7,)40 b
("find_largest_component"\);)213 4730 y($export)f(=)g
(Clair::Network::Writer::Edgelist->new\(\);)213 4809
y($export->write_network\($g1,)d("$file_gen_dir/graph.links"\);)213
4888 y(ok\(compare_sorted_proper_files\("graph.link)o(s"\),)e
("write_links"\);)213 5045 y
($g1->write_nodes\("$file_gen_dir/graph.node)o(s"\);)213
5124 y(ok\(compare_sorted_proper_files\("graph.node)o(s"\),)g
("write_nodes"\);)213 5282 y(my)39 b($wscc)g(=)h
($g1->Watts_Strogatz_clus_coeff;)213 5361 y(cmp_ok\(abs\($wscc)d(-)j
(0.235\),)f('<',)g(0.005,)g("Watts_Strogatz_clus_coeff"\);)p
3346 5544 V 185 5547 3165 4 v 1873 5809 a Fk(114)p eop
end
%%Page: 115 115
TeXDict begin 115 114 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(my)39 b($newman_cc)g(=)g
($g1->newman_clustering_coefficient\(\);)213 313 y(cmp_ok\($newman_cc,)
e("=",)i(0.375,)g("newman_clustering_coefficient"\);)213
471 y(my)g(@triangles)g(=)g($g1->get_triangles\(\);)213
550 y(cmp_ok\($triangles[0][0],)d("eq",)j("4-5-EX8",)f
("get_triangles"\);)213 708 y(my)h($spl)h(=)f
($g1->get_shortest_path_length\("1",)c("4"\);)213 786
y(cmp_ok\($spl,)j("=",)h(2,)h("shortest_path_length"\);)213
944 y(my)f(\045dist)g(=)h($g1->get_shortest_paths_lengths\("1"\);)213
1023 y(cmp_ok\($dist{5},)d("=",)i(3,)h("shortest_paths_lengths"\);)213
1181 y($g1->write_db\("$file_gen_dir/graph.db"\);)213
1260 y(ok\(-e)f("$file_gen_dir/graph.db",)d("write_db"\);)213
1417 y($g1->write_db\("$file_gen_dir/xpose.db",)e(transpose)k(=>)i
(1\);)213 1496 y(ok\(-e)f("$file_gen_dir/xpose.db",)d("write_db)i
(transpose"\);)213 1654 y($g1->find_scc\("$file_gen_dir/graph.db",)c
("$file_gen_dir/xpose.db",)372 1733 y
("$file_gen_dir/graph-scc-db.fin"\);)213 1812 y
(ok\(compare_sorted_proper_files\("graph-scc-)o(db.fin")o(\),)g
("find_scc"\);)213 1969 y($g1->get_scc\("$file_gen_dir/graph-scc-db.f)o
(in",)g("$file_doc_dir/link_map",)372 2048 y
("$file_gen_dir/graph.scc"\);)213 2127 y
(ok\(compare_sorted_proper_files\("graph.scc")o(\),)g("get_scc"\);)213
2285 y(my)39 b(\045in_hist)g(=)h($g1->compute_in_link_histogram\(\);)
213 2364 y($g1->write_link_matlab\(\\\045in_hist,)35
b("$file_gen_dir/graph_in.m",)h('graph'\);)213 2443 y
(ok\(compare_proper_files\("graph_in.m"\),)e("write_link_matlab"\);)213
2600 y($g1->write_link_dist\(\\\045in_hist,)h
("$file_gen_dir/graph-inLinks"\);)213 2679 y
(ok\(compare_sorted_proper_files\("graph-inLi)o(nks"\),)e
("write_link_dist"\);)213 2837 y(my)39 b(\045cos)h(=)f(\(\);)213
2916 y($cos{1})g(=)g(\(\);)213 2995 y($cos{1}{2})f(=)i(.1;)213
3074 y($cos{1}{3})e(=)i(.3;)213 3153 y($cos{1}{4})e(=)i(.6;)213
3231 y($cos{2})f(=)g(\(\);)213 3310 y($cos{2}{1})f(=)i(.1;)213
3389 y($cos{2}{3})e(=)i(.4;)213 3468 y($cos{2}{4})e(=)i(.1;)213
3547 y($cos{3})f(=)g(\(\);)213 3626 y($cos{3}{1})f(=)i(.3;)213
3705 y($cos{3}{2})e(=)i(.4;)213 3783 y($cos{3}{4})e(=)i(.2;)213
3862 y($cos{4})f(=)g(\(\);)213 3941 y($cos{4}{1})f(=)i(.6;)213
4020 y($cos{4}{2})e(=)i(.1;)213 4099 y($cos{4}{3})e(=)i(.2;)213
4257 y(my)f(\($la,)g($nla\))h(=)f($g1->average_cosines\(\\\045cos\);)
213 4336 y(cmp_ok\(abs\($la)f(-)h(0.1665\),)g("<",)g(0.0005,)g
("average_cosines)e(la"\);)213 4414 y(cmp_ok\(abs\($nla)g(-)j
(0.3225\),)f("<",)g(0.0005,)g("average_cosines)e(nla"\);)213
4572 y(my)i(\($lb_ref,)g($nlb_ref\))f(=)i
($g1->cosine_histograms\(\\\045cos\);)213 4651 y(my)f(@lb)h(=)f
(@$lb_ref;)213 4730 y(my)g(@nlb)h(=)f(@$nlb_ref;)213
4809 y(is\($lb[10],)f(2,)i("cosine_histograms)d(lb"\);)213
4888 y(is\($nlb[10],)h(2,)h("cosine_histograms)f(nlb"\);)213
5045 y($g1->write_histogram_matlab\($lb_ref,)c($nlb_ref,)39
b("$file_gen_dir/graph",)372 5124 y("test_network"\);)213
5203 y(ok\(compare_sorted_proper_files\("graph_link)o(ed_hist)o(.m"\),)
1030 b(\\)213 5282 y("write_histogram_matlab"\);)213
5361 y(ok\(compare_sorted_proper_files\("graph_link)o(ed_cumu)o
(lative.)o(m"\),)791 b(\\)213 5440 y("write_histogram_matlab"\);)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(115)p eop
end
%%Page: 116 116
TeXDict begin 116 115 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 4203 4 4073 v 213 234 a Fa(ok)39 b
(\(compare_sorted_proper_files\("graph_not_linked)o(_hist.m)o("\),)831
b(\\)213 313 y("write_histogram_matlab"\);)213 471 y(my)39
b($hist_as_string)f(=)i($g1->get_histogram_as_string\($lb_ref,)34
b($nlb_ref\);)213 550 y(open)39 b(\(HIST_FILE,)f(">)i
($file_gen_dir/graph.hist"\))372 629 y(or)g(die)f("Couldn't)g(open)g
($file_gen_dir/graph.hist:)d($!";)213 708 y(print)j(HIST_FILE)f
($hist_as_string;)213 786 y(close\(HIST_FILE\);)213 865
y(ok\(compare_sorted_proper_files\("graph.hist)o("\),)c
("get_histogram_as_string"\);)213 1023 y
($g1->create_cosine_dat_files\('graph',)g(\\\045cos,)39
b(directory)g(=>)g("$file_gen_dir"\);)213 1102 y
(ok\(compare_sorted_proper_files\("graph-poin)o(t-one-a)o(ll.dat")o
(\),)372 1181 y("create_cosine_dat_files)d(graph-point-one-all.dat"\);)
213 1260 y(ok\(compare_sorted_proper_files\("graph-all-)o(cosine")o
(\),)e("...)956 b(\\)213 1338 y(graph-all-cosine.dat"\);)213
1417 y(ok\(compare_sorted_proper_files\("graph-0-1.)o(dat"\),)33
b("...)40 b(graph-0-1.dat"\);)213 1496 y
(ok\(compare_sorted_proper_files\("graph-0-2.)o(dat"\),)33
b("...)40 b(graph-0-2.dat"\);)213 1575 y
(ok\(compare_sorted_proper_files\("graph-0-3.)o(dat"\),)33
b("...)40 b(graph-0-3.dat"\);)213 1654 y
(ok\(compare_sorted_proper_files\("graph-0-4.)o(dat"\),)33
b("...)40 b(graph-0-4.dat"\);)213 1733 y
(ok\(compare_sorted_proper_files\("graph-0-5.)o(dat"\),)33
b("...)40 b(graph-0-5.dat"\);)213 1812 y
(ok\(compare_sorted_proper_files\("graph-0-6.)o(dat"\),)33
b("...)40 b(graph-0-6.dat"\);)213 1891 y
(ok\(compare_sorted_proper_files\("graph-0-7.)o(dat"\),)33
b("...)40 b(graph-0-7.dat"\);)213 1969 y
(ok\(compare_sorted_proper_files\("graph-0-8.)o(dat"\),)33
b("...)40 b(graph-0-8.dat"\);)213 2048 y
(ok\(compare_sorted_proper_files\("graph-0-9.)o(dat"\),)33
b("...)40 b(graph-0-9.dat"\);)213 2127 y
(ok\(compare_sorted_proper_files\("graph-0.da)o(t"\),)34
b("...)39 b(graph-0.dat"\);)213 2285 y(my)g($network)g(=)h
(Clair::Network->new\(\);)213 2364 y(open)f(DEBUG,)g
("$file_exp_dir/debug.graph";)213 2443 y(while)g(\(<DEBUG>\))f({)372
2522 y(chomp;)372 2600 y(my)i(\($from,)f($to\))g(=)g(split)h(/)f(/,)h
($_;)372 2679 y($network->add_edge\($from,)c($to\);)213
2758 y(})213 2837 y(close)j(DEBUG;)213 2916 y
(is\($network->avg_in_degree\(\),)c($network->avg_out_degree\(\),)h
("avg)j(deg)h(on)f(graph"\);)213 3074 y(#)g(Compares)g(two)h(files)f
(named)g(filename)213 3153 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 3231 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 3310 y(sub)h(compare_proper_files)e({)213
3389 y(my)i($filename)g(=)h(shift;)213 3468 y(return)f
(Clair::Util::compare_files\("$file_exp_dir/)o($filena)o(me",)532
3547 y("$file_gen_dir/$filename"\);)213 3626 y(})213
3783 y(sub)g(compare_sorted_proper_files)d({)213 3862
y(my)j($filename)g(=)h(shift;)213 3941 y(return)f
(Clair::Util::compare_sorted_files\("$file_e)o(xp_dir/)o($filena)o
(me",)532 4020 y("$file_gen_dir/$filename"\);)213 4099
y(})p 3466 4203 V 185 4206 3285 4 v 1873 5809 a Fk(116)p
eop end
%%Page: 117 117
TeXDict begin 117 116 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.38)80 b(test)p 522 210 25 4 v 29 w(netw)o(orkwrapper)p
1151 210 V 29 w(docs.t)p 185 295 3285 4 v 185 5550 4
5256 v 213 399 a Fa(#)39 b(script:)g(test_networkwrapper_docs.t)213
477 y(#)g(functionality:)f(Test)h(the)h(NetworkWrapper's)d(lexrank)i
(generation)g(for)g(a)h(small)213 556 y(#)f(functionality:)f(cluster)h
(of)h(documents)213 714 y(use)f(strict;)213 793 y(use)g(warnings;)213
872 y(use)g(FindBin;)213 951 y(use)g(Clair::Config;)213
1030 y(use)g(Test::More;)213 1187 y(if)g(\(not)h(defined)e($PRMAIN)h
(or)h(-d)f($PRMAIN\))g({)372 1266 y(plan\()g(skip_all)g(=>)532
1345 y('$PRMAIN)f(not)i(defined)e(in)i(Clair::Config)e(or)h(doesn\\'t)g
(exist')g(\);)213 1424 y(})g(else)h({)372 1503 y(plan\()f(tests)g(=>)h
(7)g(\);)213 1582 y(})213 1739 y(use_ok\("Clair::Cluster"\);)213
1818 y(use_ok\("Clair::Document"\);)213 1897 y
(use_ok\("Clair::NetworkWrapper"\);)213 1976 y
(use_ok\("Clair::Network::Centrality::CPPLex)o(Rank"\);)213
2134 y(my)f(@files)g(=)h(grep)f({)h(/\210[\210\\.]/)f(})2032
b(\\)213 2213 y(glob\("$FindBin::Bin/input/networkwrapper_d)o(ocs/)2052
2225 y(*)2092 2213 y("\))o(;)213 2291 y(my)39 b(@expected_scores)f(=)h
(\()h([0.38,)f(0.40],)g([0.15,)g(0.17],)g([0.42,)g(0.44])g(\);)213
2449 y(my)g($cluster)g(=)h(Clair::Cluster->new\(\);)213
2528 y(my)f($i)h(=)g(1;)213 2607 y(for)f(\(@files\))g({)372
2686 y(chomp;)372 2765 y(my)h($doc)f(=)h(Clair::Document->new\()532
2844 y(file)f(=>)g($_,)532 2922 y(type)g(=>)g("text",)372
3001 y(\);)372 3080 y($doc->stem\(\);)372 3159 y($cluster->insert\($i,)
e($doc\);)372 3238 y($i++;)213 3317 y(})213 3475 y(my)i(\045matrix)g(=)
h($cluster->compute_cosine_matrix\(\);)213 3553 y(my)f($network)g(=)h
($cluster->create_network\()372 3632 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 3711 y(include_zeros)e(=>)i(1)213
3790 y(\);)213 3869 y(my)f($wrapped_network)f(=)h
(Clair::NetworkWrapper->new\()372 3948 y(prmain)g(=>)h($PRMAIN,)372
4027 y(network)f(=>)h($network,)372 4105 y(clean)f(=>)h(1)213
4184 y(\);)213 4263 y(my)f($cent)g(=)h
(Clair::Network::Centrality::CPPLexRank->new\($)o(network)o(\);)213
4342 y($cent->centrality\(\);)213 4500 y(my)f(@vertices)g(=)h
($wrapped_network->{graph}->vertices\(\);)213 4579 y(my)f($vector)g(=)h
($wrapped_network->get_property_vector\(\\@ver)o(tices,)372
4658 y("lexrank_value"\);)213 4815 y(my)f(@actual_scores;)213
4894 y(for)g(\(my)h($i)f(=)h(0;)f($i)h(<)g(\($vector->dim\(\)\)[0];)c
($i++\))k({)372 4973 y(push)f(@actual_scores,)f($vector->element\($i)f
(+)j(1,)f(1\);)213 5052 y(})213 5210 y(for)g(\(my)h($i)f(=)h(0;)f($i)h
(<)g(@files;)e($i++\))i({)372 5289 y(ok\($expected_scores[$i]->[0])c
(<=)j($actual_scores[$i])f(&&)492 5367 y($actual_scores[$i])f(<=)i
($expected_scores[$i]->[1],)d("File:)j($files[$i]"\);)213
5446 y(})p 3466 5550 V 185 5553 3285 4 v 1873 5809 a
Fk(117)p eop end
%%Page: 118 118
TeXDict begin 118 117 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.39)80 b(test)p 522 210 25 4 v 29 w(netw)o(orkwrapper)p
1151 210 V 29 w(sents.t)p 185 295 3285 4 v 185 5550 4
5256 v 213 399 a Fa(#)39 b(script:)g(test_networkwrapper_sents.t)213
477 y(#)g(functionality:)f(Test)h(the)h(NetworkWrapper's)d(lexrank)i
(generation)g(for)g(a)h(small)213 556 y(#)f(functionality:)f(cluster)h
(of)h(documents)e(built)h(from)g(an)h(array)f(of)h(sentences)213
714 y(use)f(strict;)213 793 y(use)g(FindBin;)213 872
y(use)g(Clair::Config;)213 951 y(use)g(Test::More;)213
1108 y(if)g(\(not)h(defined)e($PRMAIN)h(or)h(-d)f($PRMAIN\))g({)372
1187 y(plan\()g(skip_all)g(=>)532 1266 y('$PRMAIN)f(not)i(defined)e(in)
i(Clair::Config)e(or)h(doesn\\'t)g(exist')g(\);)213 1345
y(})g(else)h({)372 1424 y(plan\()f(tests)g(=>)h(7)g(\);)213
1503 y(})213 1660 y(use_ok\("Clair::Cluster"\);)213 1739
y(use_ok\("Clair::Document"\);)213 1818 y
(use_ok\("Clair::NetworkWrapper"\);)213 1897 y
(use_ok\("Clair::Network::Centrality::CPPLex)o(Rank"\);)213
2134 y(my)f(@sents)438 b(=)39 b(\()h("foo)f(bar",)159
b("bar)39 b(baz",)159 b("baz)39 b(foo")159 b(\);)213
2213 y(my)39 b(@expected_scores)f(=)h(\()h([0.30,)f(0.32],)g([0.41,)g
(0.43],)g([0.24,)g(0.26])g(\);)213 2370 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 2449 y(my)f($i)h(=)g(1;)213
2528 y(for)f(\(@sents\))g({)372 2607 y(chomp;)372 2686
y(my)h($doc)f(=)h(Clair::Document->new\()532 2765 y(string)f(=>)g($_,)
532 2844 y(type)g(=>)g("text",)372 2922 y(\);)372 3001
y($doc->stem\(\);)372 3080 y($cluster->insert\($i,)e($doc\);)372
3159 y($i++;)213 3238 y(})213 3396 y(my)i(\045matrix)g(=)h
($cluster->compute_cosine_matrix\(\);)213 3475 y(my)f($network)g(=)h
($cluster->create_network\()372 3553 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 3632 y(include_zeros)e(=>)i(1)213
3711 y(\);)213 3790 y(my)f($wrapped_network)f(=)h
(Clair::NetworkWrapper->new\()372 3869 y(prmain)g(=>)h($PRMAIN,)372
3948 y(network)f(=>)h($network,)372 4027 y(clean)f(=>)h(1)213
4105 y(\);)213 4184 y(my)f($cent)g(=)h
(Clair::Network::Centrality::CPPLexRank->new\($)o(network)o(\);)213
4263 y($cent->centrality\(\);)213 4421 y(my)f(@vertices)g(=)h
($wrapped_network->{graph}->vertices\(\);)213 4500 y(my)f($vector)g(=)h
($wrapped_network->get_property_vector\(\\@ver)o(tices,)372
4579 y("lexrank_value"\);)213 4736 y(my)f(@actual_scores;)213
4815 y(for)g(\(my)h($i)f(=)h(0;)f($i)h(<)g(\($vector->dim\(\)\)[0];)c
($i++\))k({)372 4894 y(push)f(@actual_scores,)f($vector->element\($i)f
(+)j(1,)f(1\);)213 4973 y(})213 5131 y(for)g(\(my)h($i)f(=)h(0;)f($i)h
(<)g(@sents;)e($i++\))i({)372 5210 y(ok\($expected_scores[$i]->[0])c
(<=)j($actual_scores[$i])f(&&)492 5289 y($actual_scores[$i])f(<=)i
($expected_scores[$i]->[1],)d("Sentence:)557 b(\\)213
5367 y($sents[$i]"\);)213 5446 y(})p 3466 5550 V 185
5553 3285 4 v 1873 5809 a Fk(118)p eop end
%%Page: 119 119
TeXDict begin 119 118 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.40)80 b(test)p 522 210 25 4 v 29 w(pagerank.t)p
185 295 3285 4 v 185 4998 4 4704 v 213 399 a Fa(#)39
b(script:)g(test_pagerank.t)213 477 y(#)g(functionality:)f(Creates)h(a)
h(small)f(cluster)g(and)g(runs)g(pagerank,)g(confirming)213
556 y(#)g(functionality:)f(the)i(pagerank)e(distribution)213
714 y(use)h(strict;)213 793 y(use)g(warnings;)213 872
y(use)g(FindBin;)213 1030 y(use)g(Test::More)g(tests)g(=>)g(8;)213
1187 y(use_ok\('Clair::Network'\);)213 1266 y
(use_ok\('Clair::Network::Centrality::PageRa)o(nk'\);)213
1345 y(use_ok\('Clair::Cluster'\);)213 1424 y
(use_ok\('Clair::Document'\);)213 1503 y(use_ok\('Clair::Util'\);)213
1660 y(my)g($file_gen_dir)f(=)i("$FindBin::Bin/produced/pagerank";)213
1739 y(my)f($file_input_dir)f(=)i("$FindBin::Bin/input/pagerank";)213
1818 y(my)f($file_exp_dir)f(=)i("$FindBin::Bin/expected/pagerank";)213
1976 y(my)f($c)h(=)g(new)f(Clair::Cluster\(\);)213 2055
y(my)g($doc1)g(=)h(new)g(Clair::Document\(id)d(=>)i(1,)h(type)f(=>)h
('text',)372 2134 y(string)f(=>)h('This)f(is)g(document)g(1'\);)213
2213 y(my)g($doc2)g(=)h(new)g(Clair::Document\(id)d(=>)i(2,)h(type)f
(=>)h('text',)372 2291 y(string)f(=>)h('This)f(is)g(document)g(2'\);)
213 2370 y(my)g($doc3)g(=)h(new)g(Clair::Document\(id)d(=>)i(3,)h(type)
f(=>)h('text',)372 2449 y(string)f(=>)h('This)f(is)g(document)g(3'\);)
213 2528 y(my)g($doc4)g(=)h(new)g(Clair::Document\(id)d(=>)i(4,)h(type)
f(=>)h('text',)372 2607 y(string)f(=>)h('This)f(is)g(document)g(4'\);)
213 2686 y($c->insert\(1,)f($doc1\);)213 2765 y($c->insert\(2,)g
($doc2\);)213 2844 y($c->insert\(3,)g($doc3\);)213 2922
y($c->insert\(4,)g($doc4\);)213 3080 y(is\($c->count_elements,)e(4,)k
("count_elements"\);)213 3238 y(my)f($n)h(=)g
($c->create_hyperlink_network_from_file\("$)o(file_in)o(put_dir)o
(/link.)o(txt"\);)213 3317 y
($n->save_hyperlink_edges_to_file\("$file_ge)o(n_dir/h)o(yperlin)o
(ks.txt")o(\);)213 3396 y
(ok\(compare_proper_files\("hyperlinks.txt"\),)33 b
("save_hyperlink_edges_to_file")j(\);)213 3553 y(my)j($cent)g(=)h
(Clair::Network::Centrality::PageRank->new\($n\))o(;)213
3711 y($cent->centrality\(\);)213 3869 y
($cent->save\("$file_gen_dir/pagerank_values)o(.txt"\);)213
3948 y(ok\(compare_proper_files\("pagerank_values.t)o(xt"\),)372
4027 y("save_current_pagerank_distribution"\);)213 4184
y(#)f(Compares)g(two)h(files)f(named)g(filename)213 4263
y(#)g(from)h(the)f(t/docs/expected)f(directory)g(and)213
4342 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
4421 y(sub)h(compare_proper_files)e({)292 4500 y(my)j($filename)f(=)g
(shift;)292 4658 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 4736 y("$file_gen_dir/$filename"\);)213 4815
y(})p 3466 4998 V 185 5001 3285 4 v 1873 5809 a Fk(119)p
eop end
%%Page: 120 120
TeXDict begin 120 119 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.41)80 b(test)p 522 210 25 4 v 29 w(parse.t)p
185 295 3285 4 v 185 4367 4 4073 v 213 399 a Fa(#)39
b(script:)g(test_parse.t)213 477 y(#)g(functionality:)f(Parses)h(an)h
(input)f(file)g(and)g(then)h(runs)f(chunklink)g(on)g(it,)g(confirming)
213 556 y(#)g(functionality:)f(the)i(result)213 714 y(use)f(strict;)213
793 y(use)g(warnings;)213 872 y(use)g(Test::More;)213
951 y(use)g(FindBin;)213 1030 y(use)g(Clair::Config;)213
1187 y(if)g(\()h(not)f(defined)g($CHARNIAK_PATH)f(or)i(not)f(-e)g
($CHARNIAK_PATH)f(or)412 1266 y(not)h(defined)g($CHARNIAK_DATA_PATH)e
(or)j(not)f(-e)h($CHARNIAK_DATA_PATH)d(or)412 1345 y(not)i(defined)g
($CHUNKLINK_PATH)f(or)h(not)h(-e)f($CHUNKLINK_PATH)f(\))i({)372
1503 y(plan\(skip_all)e(=>)532 1582 y("Charniak)g(variables)h(not)g
(defined)g(in)g(Clair::Config)f(or)i(don't)f(exist"\);)213
1739 y(})g(else)h({)372 1818 y(plan\(tests)f(=>)g(5\);)213
1897 y(})213 2055 y(use_ok\('Clair::Utils::Parse'\);)213
2134 y(use_ok\('Clair::Util'\);)213 2291 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/parse";)213 2370 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/parse";)213 2449 y(my)f($file_input_dir)f(=)i
("$FindBin::Bin/input/parse";)213 2607 y(#)f(Preparing)g(file)g(for)h
(parsing)213 2686 y(Clair::Utils::Parse::prepare_for_parse\("$f)o
(ile_inp)o(ut_dir/)o(test.tx)o(t",)552 b(\\)213 2765
y("$file_gen_dir/parse.txt"\);)213 2844 y
(ok\(compare_proper_files\("parse.txt"\),)34 b("prepare)39
b(for)g(parse")g(\);)213 3001 y(my)g($parseout)g(=)h
(Clair::Utils::Parse::parse\("$file_input_d)o(ir/pars)o(e.txt")o(,)372
3080 y(output_file)e(=>)i("$file_gen_dir/parse_out.txt",)35
b(options)k(=>)h('-l300)f(-P'\);)213 3159 y
(ok\(compare_proper_files\("parse_out.txt"\),)33 b("parse")39
b(\);)213 3317 y(my)g($chunkout)g(=)h
(Clair::Utils::Parse::chunklink\("$file_inp)o(ut_dir/)o(WSJ_00)o
(21.MRG")o(,)114 b(\\)213 3396 y(output_file)38 b(=>)i
("$file_gen_dir/chunk_out.txt"\);)213 3475 y
(ok\(compare_proper_files\("chunk_out.txt"\),)33 b("chunklink"\);)213
3632 y(#)39 b(Compares)g(two)h(files)f(named)g(filename)213
3711 y(#)g(from)h(the)f(t/docs/expected)f(directory)g(and)213
3790 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
3869 y(sub)h(compare_proper_files)e({)213 3948 y(my)i($filename)g(=)h
(shift;)213 4027 y(return)f
(Clair::Util::compare_files\("$file_exp_dir/)o($filena)o(me",)751
b(\\)213 4105 y("$file_gen_dir/$filename"\);)213 4184
y(})p 3466 4367 V 185 4370 3285 4 v 1873 5809 a Fk(120)p
eop end
%%Page: 121 121
TeXDict begin 121 120 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.42)80 b(test)p 522 210 25 4 v 29 w(random)p 833
210 V 30 w(walk.t)p 185 279 3285 4 v 185 5534 4 5256
v 213 383 a Fa(#)39 b(script:)g(test_random_walk.t)213
462 y(#)g(functionality:)f(Creates)h(a)h(network,)e(assigns)h(initial)g
(probabilities)f(and)h(tests)213 541 y(#)g(functionality:)f(taking)h
(single)g(steps)g(and)h(calculating)e(stationary)g(distribution)213
698 y(use)h(strict;)213 777 y(use)g(warnings;)213 856
y(use)g(FindBin;)213 1014 y(use)g(Test::More)g(tests)g(=>)g(7;)213
1172 y(my)g($file_gen_dir)f(=)i("$FindBin::Bin/produced/random_walk";)
213 1250 y(my)f($file_input_dir)f(=)i
("$FindBin::Bin/input/random_walk";)213 1329 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin//expected/random_walk";)213 1487 y
(use_ok\('Clair::Network'\);)213 1566 y(use_ok\('Clair::Util'\);)213
1724 y(my)f($n)h(=)g(new)f(Clair::Network\(\);)213 1881
y($n->add_node\(1,)e(text)j(=>)f('Text)g(for)h(node)f(1'\);)213
1960 y($n->add_node\(2,)e(text)j(=>)f('Text)g(for)h(node)f(2'\);)213
2039 y($n->add_node\(3,)e(text)j(=>)f('More)g(text'\);)213
2197 y($n->read_transition_probabilities_from_fil)o(e\("$fil)o(e_input)
o(_dir/t.)o(txt"\);)213 2276 y
($n->read_initial_probability_distribution\()o("$file_)o(input_d)o
(ir/i.tx)o(t"\);)213 2433 y
($n->save_transition_probabilities_to_file\()o("$file_)o(gen_dir)o
(/trans_)o(prob.t)o(xt"\);)213 2512 y
(ok\(compare_proper_files\("trans_prob.txt"\),)372 2591
y("save_transition_probabilities_to_file"\);)213 2749
y($n->make_transitions_stochastic\(\);)213 2828 y
($n->save_transition_probabilities_to_file\()o("$file_)o(gen_dir)o
(/stoch_)o(trans_)o(prob.tx)o(t"\))34 b(\\)213 2907 y(;)213
2986 y(ok\(compare_proper_files\("stoch_trans_prob.)o(txt"\),)f("...)40
b(2")f(\);)213 3143 y($n->save_current_probability_distribution\()o
("$file_)o(gen_dir)o(/init_p)o(rob.tx)o(t"\);)213 3222
y(ok\(compare_proper_files\("init_prob.txt"\),)372 3301
y("save_current_probability_distribution"\);)213 3538
y($n->perform_next_random_walk_step\(\);)213 3617 y
($n->perform_next_random_walk_step\(\);)213 3695 y
($n->perform_next_random_walk_step\(\);)213 3932 y
($n->save_current_probability_distribution\()o("$file_)o(gen_dir)o
(/new_pr)o(ob.txt)o("\);)213 4011 y
(ok\(compare_proper_files\("new_prob.txt"\),)34 b("...)39
b(2")g(\);)213 4169 y($n->compute_stationary_distribution\(\);)213
4326 y($n->save_current_probability_distribution\()o("$file_)o(gen_dir)
o(/stat_d)o(ist.tx)o(t"\);)213 4405 y
(ok\(compare_proper_files\("stat_dist.txt"\),)33 b("...)40
b(3"\);)213 4721 y(#)f(Compares)g(two)h(files)f(named)g(filename)213
4800 y(#)g(from)h(the)f(t/docs/expected)f(directory)g(and)213
4878 y(#)h(from)h(the)f(t/docs/produced)f(directory)213
4957 y(sub)h(compare_proper_files)e({)292 5036 y(my)j($filename)f(=)g
(shift;)292 5194 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 5273 y("$file_gen_dir/$filename"\);)213 5352
y(})p 3466 5534 V 185 5537 3285 4 v 1873 5809 a Fk(121)p
eop end
%%Page: 122 122
TeXDict begin 122 121 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.43)80 b(test)p 522 210 25 4 v 29 w(r)o(ecord.t)p
185 279 3285 4 v 185 5692 4 5414 v 213 383 a Fa(#)39
b(script:)g(test_record.t)213 462 y(#)g(functionality:)f(As)i(part)f
(of)h(Clair::Polisci,)d(confirm)i(Record's)g(Graf)g(selection)213
541 y(#)g(functionality:)f(functionalities,)g(as)h(well)g(as)h
(conversion)e(functions.)213 698 y(use)h(strict;)213
777 y(use)g(warnings;)213 856 y(use)g(Test::More)g(tests)g(=>)g(9;)213
935 y(use)g(Clair::Polisci::Speaker;)213 1014 y(use)g
(Clair::Polisci::Graf;)213 1093 y(use)g(Clair::Polisci::Record;)213
1172 y(use)g(Clair::Document;)213 1250 y(use)g(Clair::Cluster;)213
1408 y(my)g(@speakers;)213 1487 y(foreach)g(my)g($i)h(\(0)f(..)h(2\))f
({)372 1566 y(my)h($speaker)e(=)i(Clair::Polisci::Speaker->new\()532
1645 y(source)f(=>)g("source",)532 1724 y(id)g(=>)h($i)372
1802 y(\);)372 1881 y(push)f(@speakers,)g($speaker;)213
1960 y(})213 2118 y(my)g($record)g(=)h(Clair::Polisci::Record->new\()35
b(source)k(=>)h("source")f(\);)213 2276 y(my)g(@all_grafs;)213
2355 y(my)g(@odd_grafs;)213 2433 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 2512 y(foreach)f(my)g($i)h(\(0)f(..)h
(5\))f({)372 2591 y(my)h($graf)f(=)h(Clair::Polisci::Graf->new\()532
2670 y(source)f(=>)g("source",)532 2749 y(index)g(=>)g($i,)532
2828 y(content)f(=>)i("This)f(is)h(graf)f($i.)g(",)532
2907 y(speaker)f(=>)i($speakers[$i)e(\045)i(3])372 2986
y(\);)372 3143 y(#)g(Add)f(some)h(property)e(to)i(the)f(odd-indexed)f
(grafs)372 3222 y(if)i(\($i)f(\045)h(2\))f({)532 3301
y($graf->{some_flag})e(=)i(1;)532 3380 y(push)g(@odd_grafs,)f($graf;)
372 3459 y(})372 3617 y(if)i(\($i)f(==)h(3\))f({)532
3695 y($graf->{another_flag})d(=)k("on";)372 3774 y(})372
3932 y(push)f(@all_grafs,)g($graf;)372 4011 y
($record->add_graf\($graf\);)372 4090 y($cluster->insert\($i,)e
(Clair::Document->new\()532 4169 y(string=>"This)g(is)j(graf)f($i.)h
(",)532 4247 y(type)f(=>)g("text")372 4326 y(\)\);)213
4405 y(})213 4563 y(my)g($content)g(=)h("This)f(is)g(graf)h(0.)f(This)g
(is)h(graf)f(1.)h(This)f(is)h(graf)f(2.)g(This)h(is)f(graf)g(3.)80
b(\\)213 4642 y(This)39 b(is)h(graf)f(4.)g(This)h(is)f(graf)g(5.)h(";)
213 4721 y(my)f($doc)h(=)f(Clair::Document->new\()372
4800 y(string)g(=>)h($content,)372 4878 y(type)f(=>)h("text")213
4957 y(\);)213 5036 y(my)f(@just_3)g(=)h(\($all_grafs[3]\);)213
5115 y(my)f(@just_speaker0)f(=)i(\($all_grafs[0],)d($all_grafs[3]\);)
213 5273 y(#)i(TEST)h(1)213 5352 y(is\($record->size\(\),)d(6,)i
("Graf->size\(\)"\);)213 5509 y(#)g(TEST)h(2)213 5588
y(my)f(@result)g(=)h($record->get_grafs\(\);)p 3466 5692
V 185 5695 3285 4 v 1873 5809 a Fk(122)p eop end
%%Page: 123 123
TeXDict begin 123 122 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3046
4 v 185 2310 4 2180 v 213 234 a Fa(is_deeply\(\\@all_grafs,)36
b(\\@result,)j("Get)g(all)g(grafs"\);)213 392 y(#)g(TEST)h(3)213
471 y(@result)f(=)g($record->get_grafs\()e(speaker)i(=>)h($speakers[0])
e(\);)213 550 y(is_deeply\(\\@just_speaker0,)e(\\@result,)i("Get)h
(just)h(speaker)f(0"\);)213 708 y(#)g(TEST)h(4)213 786
y(@result)f(=)g($record->get_grafs\()e(some_flag)i(=>)g(1)h(\);)213
865 y(is_deeply\(\\@odd_grafs,)c(\\@result,)j("Get)g(some_flag)g
(grafs"\);)213 1023 y(#)g(TEST)h(5)213 1102 y(@result)f(=)g
($record->get_grafs\()e(another_flag)h(=>)i("on")f(\);)213
1181 y(is_deeply\(\\@just_3,)e(\\@result,)h("Get)i(another_flag)e
(grafs"\);)213 1338 y(#)h(TEST)h(6)213 1417 y(@result)f(=)g
($record->get_grafs\()e(another_flag)h(=>)i("foo")f(\);)213
1496 y(is_deeply\([],)f(\\@result,)g("Get)h(an)h(empty)f(list"\);)213
1654 y(#)g(TEST)h(7)213 1733 y(is\($content,)e($record->to_string\(\),)
f("to_string"\);)213 1891 y(#)i(TEST)h(8)213 1969 y(is_deeply\($doc,)d
($record->to_document\(\),)g("Convert)h(to)i(document"\);)213
2127 y(#)f(TEST)h(9)213 2206 y(is_deeply\($cluster,)d
($record->to_graf_cluster\(\),)f("Convert)i(to)i(graf)f(cluster"\);)p
3226 2310 V 185 2313 3046 4 v 1873 5809 a Fk(123)p eop
end
%%Page: 124 124
TeXDict begin 124 123 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.44)80 b(test)p 522 210 25 4 v 29 w(sentence)p
851 210 V 30 w(combiner)-8 b(.t)p 185 279 3285 4 v 185
5692 4 5414 v 213 383 a Fa(#)39 b(script:)g(test_sentence_combiner.t)
213 462 y(#)g(functionality:)f(Test)h(a)h(variety)f(of)h
(sentence-oriented)d(Document)i(functions,)f(such)213
541 y(#)h(functionality:)f(as)i(sentence)e(scoring,)h(and)g(combining)g
(sentence)g(feature)f(scores)213 698 y(#)h(mjschal)g(edited)g(this)g
(file.)213 777 y(#)g(I)h(removed)f(the)g(one)h(test)f(that)g(generates)
g(a)g(warning)g(message)g(in)h(order)f(to)g(not)h(have)213
856 y(#)f(warnings)g(cluttering)f(up)i(the)f(screen)g(when)h(an)f
(installation)f(of)i(clairlib-core)e(is)213 935 y(#)h(being)h(tested)f
(by)g(an)h(end-user.)213 1093 y(use)f(strict;)213 1172
y(use)g(Test::More)g(tests)g(=>)g(15;)213 1250 y(use)g
(Clair::Document;)213 1408 y(my)g($text)g(=)h("The)f(first)g(sentence)g
(ends)g(with)h(a)f(period.)g(Does)g(the)h(second)f(sentence?)f(")571
1487 y(.)i("Last)f(sentence)g(here!";)213 1566 y(my)g($doc)h(=)f
(Clair::Document->new\()e(string)i(=>)g($text,)g(did)h(=>)f("doc",)g
(type)h(=>)f("text")119 b(\\)213 1645 y(\);)213 1802
y(#)39 b(Make)h(sure)f(that)g(scores)g(are)h(undefined)e(at)i(the)f
(beginning)213 1881 y(is\($doc->get_sentence_score\(0\),)c(undef,)k
("can't)g(get)g(uncomputed)g(scores"\);)213 2039 y(#)g(Compute)g(some)h
(simple)e(test)i(features.)e(This)h(assumes)g(that)h(the)f(tests)g(for)
g(that)213 2118 y(#)g(part)h(of)f(the)h(code)f(have)g(already)g
(passed.)213 2197 y($doc->compute_sentence_feature\()c(name)k(=>)h
("has_q_mark",)e(feature)h(=>)g(\\&has_q_mark)118 b(\\)213
2276 y(\);)213 2355 y($doc->compute_sentence_feature\()35
b(name)k(=>)h("char_length",)372 2433 y(feature)f(=>)h(\\&char_length)d
(\);)213 2591 y(#)i(Get)h(a)g(basic)f(combiner)f(that)i(does)f(a)h
(linear)e(combination.)213 2670 y(my)h($combiner)g(=)h
(linear_combiner\()d(has_q_mark)h(=>)i(10,)f(char_length)g(=>)g(1)h
(\);)213 2828 y(#)f(Score)h(the)f(sentences)f(and)i(normalize)e(them)
213 2907 y($doc->score_sentences\()e(combiner)j(=>)h($combiner)e(\);)
213 2986 y(my)h(@expected)g(=)h(\(1,)f(16/19,)g(0\);)213
3064 y(scores_ok\($doc,)e(\\@expected,)i("score_sentences"\);)213
3222 y(#)g(Test)h(the)f(default)g(weight)g(method)213
3301 y($doc->score_sentences\()d(weights)j(=>)h({)f(has_q_mark)g(=>)g
(10,)h(char_length)e(=>)h(1})h(\);)213 3380 y(scores_ok\($doc,)d
(\\@expected,)i("score_sentences)e(with)i(default)g(weights"\);)213
3538 y(#)g(Score)h(the)f(sentences,)f(but)i(don't)f(normalize)213
3617 y($doc->score_sentences\()d(combiner)j(=>)h($combiner,)e
(normalize)g(=>)i(0)g(\);)213 3695 y(@expected)e(=)i(\(39,)f(36,)h
(20\);)213 3774 y(scores_ok\($doc,)d(\\@expected,)i("score_sentences)e
(without)i(normalizing"\);)213 3932 y(#)g(A)h(one)g(sentence)e
(document)h(should)g(just)g(output)g(its)g(score)h(as)f(1)h
(\(normalized\))213 4011 y(my)f($unit_doc)g(=)h(Clair::Document->new\()
c(string)j(=>)h("One)f(sent.",)g(type)g(=>)h("text",)372
4090 y(did)g(=>)f("unit")g(\);)213 4169 y
($unit_doc->compute_sentence_feature\()34 b(name)39 b(=>)h
("char_length",)372 4247 y(feature)f(=>)h(\\&char_length)d(\);)213
4326 y($unit_doc->score_sentences\()f(combiner)i(=>)i($combiner)e(\);)
213 4405 y(@expected)g(=)i(\(1\);)213 4484 y(scores_ok\($unit_doc,)d
(\\@expected,)h("score_sentences)f(with)j(only)f(one)g(sentence"\);)213
4642 y(#)g(Case)h(when)f(score)g(isn't)g(normalized)213
4721 y($unit_doc->score_sentences\()d(combiner)i(=>)i($combiner,)e
(normalize)h(=>)g(0)h(\);)213 4800 y(@expected)e(=)i(\(10\);)213
4878 y(scores_ok\($unit_doc,)d(\\@expected,)h("score_sentences)f(one)j
(sent)f(no)h(normalize"\);)213 5036 y(#)f(Give)h(all)f(sentences)g(the)
g(same)g(feature,)g(and)g(the)h(resulting)e(scores)h(should)g(be)h(1)
213 5115 y(my)f($doc2)g(=)h(Clair::Document->new\()d(string)i(=>)g
($text,)g(type)h(=>)f("text")g(\);)213 5194 y
($doc2->compute_sentence_feature\()c(name)k(=>)h("uniform",)e(feature)h
(=>)g(\\&uniform)g(\);)213 5273 y($doc2->score_sentences\()d(combiner)j
(=>)g(linear_combiner\()f(uniform)h(=>)g(1)h(\))g(\);)213
5352 y(@expected)e(=)i(\(1,)f(1,)h(1\);)213 5431 y(scores_ok\($doc2,)d
(\\@expected,)h("score_sentences)g(uniform)h(feature"\);)p
3466 5692 V 185 5695 3285 4 v 1873 5809 a Fk(124)p eop
end
%%Page: 125 125
TeXDict begin 125 124 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3125
4 v 185 4518 4 4388 v 213 234 a Fa(#)39 b(The)h(following)e(test)i(has)
f(been)g(removed)g(because)g(it)g(\(intentionally\))f(generates)213
313 y(#)h(a)h(warning)f(message.)213 471 y(#)g(A)h(combiner)f(should)g
(always)g(return)g(a)g(real)h(number)213 550 y(#)f(my)h($doc3)f(=)h
(Clair::Document->new\()d(string)h(=>)i($text,)f(type)g(=>)h("text")f
(\);)213 629 y(#)g($doc3->compute_sentence_feature\()d(name)j(=>)g
("uniform",)g(feature)g(=>)g(\\&uniform)g(\);)213 708
y(#)g(my)h($ret)f(=)h($doc3->score_sentences\()c(combiner)j(=>)h
(\\&bad_combiner)d(\);)213 786 y(#)i(is\($ret,)g(undef,)g("Combiner)g
(should)g(always)f(return)h(a)h(real)f(number"\);)213
1023 y(sub)g(scores_ok)g({)372 1102 y(my)h($doc)f(=)h(shift;)372
1181 y(my)g($expected)e(=)i(shift;)372 1260 y(foreach)f(my)h($i)f(\()h
(0)f(..)h(\($doc->sentence_count\(\))c(-)k(1\))g(\))f({)532
1338 y(is\($doc->get_sentence_score\($i\),)c($expected->[$i],)i("score)
i($i)h(ok"\);)372 1417 y(})213 1496 y(})213 1654 y(sub)f(has_q_mark)g
({)372 1733 y(my)h(\045params)f(=)g(@_;)372 1812 y(chomp)g
($params{sentence};)372 1891 y(if)h(\($params{sentence})d(=\230)i
(/\\?/\))h({)532 1969 y(return)f(1;)372 2048 y(})h(else)f({)532
2127 y(return)g(0;)372 2206 y(})213 2285 y(})213 2443
y(sub)g(char_length)f({)372 2522 y(my)i(\045params)f(=)g(@_;)372
2600 y(return)g(length\($params{sentence}\);)213 2679
y(})213 2837 y(sub)g(uniform)g({)372 2916 y(return)g(0;)213
2995 y(})213 3153 y(sub)g(linear_combiner)f({)372 3231
y(my)i(\045weights)e(=)i(@_;)372 3310 y(my)g($combiner)e(=)i(sub)f({)
532 3389 y(my)g(\045features)g(=)g(@_;)532 3468 y(my)g($score)g(=)h(0;)
532 3547 y(foreach)e(my)i($name)f(\(keys)g(\045weights\))g({)691
3626 y(if)h(\($features{$name}\))d({)850 3705 y($score)i(+=)h
($weights{$name})1886 3717 y(*)1966 3705 y($features{$name};)691
3783 y(})532 3862 y(})532 3941 y(return)f($score;)372
4020 y(};)213 4099 y(})213 4257 y(sub)g(bad_combiner)f({)372
4336 y(return)h("text";)213 4414 y(})p 3306 4518 V 185
4521 3125 4 v 1873 5809 a Fk(125)p eop end
%%Page: 126 126
TeXDict begin 126 125 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.45)80 b(test)p 522 210 25 4 v 29 w(sentence)p
851 210 V 30 w(featur)o(es)p 1167 210 V 28 w(cluster)-8
b(.t)p 185 279 3205 4 v 185 5692 4 5414 v 213 383 a Fa(#)39
b(script:)g(test_sentence_features_cluster.t)213 462
y(#)g(functionality:)f(Test)h(the)h(propagation)e(of)i(feature)e
(scores)h(between)g(sentences)213 541 y(#)g(functionality:)f(related)h
(to)h(each)f(other)g(through)g(clusters.)213 698 y(use)g(strict;)213
777 y(use)g(Test::More)g(tests)g(=>)g(25;)213 856 y(use)g
(Clair::Cluster;)213 935 y(use)g(Clair::Document;)213
1093 y(my)g($text1)g(=)h("First)f(sentence)g(from)g(doc1.)g(The)g
(second)g(sent)h(from)f(doc1.";)213 1172 y(my)g($text2)g(=)h("First)f
(sentence)g(from)g(doc2.)g(The)g(second)g(sent)h(from)f(doc2.";)213
1329 y(my)g($doc1)g(=)h(Clair::Document->new\(string)c(=>)j($text1,)g
(id)h(=>)f(1\);)213 1408 y(my)g($doc2)g(=)h
(Clair::Document->new\(string)c(=>)j($text2,)g(id)h(=>)f(2\);)213
1566 y(my)g($cluster)g(=)h(Clair::Cluster->new\(id)c(=>)k("cluster"\);)
213 1645 y($cluster->insert\(1,)d($doc1\);)213 1724 y
($cluster->insert\(2,)g($doc2\);)213 1881 y
($cluster->compute_sentence_feature\(name)d(=>)39 b("cid",)g(feature)g
(=>)h(\\&cid_feat\);)213 1960 y
($cluster->compute_sentence_feature\(name)34 b(=>)39
b("did",)g(feature)g(=>)h(\\&did_feat\);)213 2118 y(foreach)f(my)g
($did)g(\(1,)h(2\))f({)372 2197 y(foreach)g(my)h($i)f(\(0,)g(1\))h({)
532 2276 y(my)f($cvalue)g(=)h($cluster->get_sentence_feature\($did,)34
b($i,)40 b("cid"\);)532 2355 y(my)f($dvalue)g(=)h
($cluster->get_sentence_feature\($did,)34 b($i,)40 b("did"\);)532
2433 y(is\($cvalue,)e("cluster",)g("individ)h(feature)g(score)g(ok"\);)
532 2512 y(is\($dvalue,)f($did,)h("individ)g(feature)f(score)h(ok"\);)
372 2591 y(})213 2670 y(})213 2828 y
($cluster->remove_sentence_features\(\);)213 2986 y(#)g(Test)h
(cluster-wide)e(normalization)213 3064 y
($cluster->set_sentence_feature\(1,)d(0,)k(feat)g(=>)h(1\);)f(#)h(did,)
f(sno,)h(feature)e(=>)i(value)213 3143 y
($cluster->set_sentence_feature\(1,)35 b(1,)k(feat)g(=>)h(2\);)213
3222 y($cluster->set_sentence_feature\(2,)35 b(0,)k(feat)g(=>)h(3\);)
213 3301 y($cluster->set_sentence_feature\(2,)35 b(1,)k(feat)g(=>)h
(4\);)213 3459 y($cluster->score_sentences\()c(weights)j(=>)g({)h(feat)
f(=>)h(1)f(})h(\);)213 3617 y(is\()f($cluster->get_sentence_score\(1,)c
(0\),)40 b(0,)f("sent)g(1")h(\);)213 3695 y(is\()f
($cluster->get_sentence_score\(1,)c(1\),)40 b(1/3,)f("sent)g(2")h(\);)
213 3774 y(is\()f($cluster->get_sentence_score\(2,)c(0\),)40
b(2/3,)f("sent)g(3")h(\);)213 3853 y(is\()f
($cluster->get_sentence_score\(2,)c(1\),)40 b(1,)f("sent)g(4")h(\);)213
4011 y(my)f(\045scores)g(=)h(\()g(1)f(=>)h([0,)f(1/3],)79
b(2)40 b(=>)f([2/3,)g(1])h(\);)213 4090 y(my)f(\045got_scores)g(=)g
($cluster->get_sentence_scores\(\);)213 4169 y
(is_deeply\(\\\045got_scores,)d(\\\045scores,)j("hash)g(of)g(scores)g
(ok"\);)213 4326 y($cluster->remove_sentence_features\(\);)213
4405 y($cluster->compute_sentence_feature\()34 b(name)40
b(=>)f("state",)g(feature)g(=>)g(\\&state_feat)f(\);)213
4484 y(is\()h($cluster->get_sentence_feature\(1,)c(0,)40
b("state"\),)e(1,)i("state)f(1.0"\);)213 4563 y(is\()g
($cluster->get_sentence_feature\(1,)c(1,)40 b("state"\),)e(2,)i("state)
f(1.1"\);)213 4642 y(is\()g($cluster->get_sentence_feature\(2,)c(0,)40
b("state"\),)e(3,)i("state)f(2.0"\);)213 4721 y(is\()g
($cluster->get_sentence_feature\(2,)c(1,)40 b("state"\),)e(4,)i("state)
f(2.1"\);)213 4878 y($cluster->remove_sentence_features\(\);)213
4957 y($cluster->compute_sentence_feature\()34 b(name)40
b(=>)f("state",)g(feature)g(=>)g(\\&state_feat,)372 5036
y(normalize)g(=>)g(1\);)213 5115 y(is\()g
($cluster->get_sentence_feature\(1,)c(0,)40 b("state"\),)e(0,)i
("normalized)e(1.0"\);)213 5194 y(is\()h
($cluster->get_sentence_feature\(1,)c(1,)40 b("state"\),)e(1/3,)h
("normalized)g(1.1"\);)213 5273 y(is\()g
($cluster->get_sentence_feature\(2,)c(0,)40 b("state"\),)e(2/3,)h
("normalized)g(2.0"\);)213 5352 y(is\()g
($cluster->get_sentence_feature\(2,)c(1,)40 b("state"\),)e(1,)i
("normalized)e(2.1"\);)213 5509 y($cluster->compute_sentence_feature\()
c(name)40 b(=>)f("unif",)372 5588 y(feature)g(=>)h(sub)f({)h(return)f
(0)g(},)h(normalize)e(=>)i(1\);)p 3386 5692 V 185 5695
3205 4 v 1873 5809 a Fk(126)p eop end
%%Page: 127 127
TeXDict begin 127 126 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2647
4 v 185 2546 4 2416 v 213 234 a Fa(is\()39 b
($cluster->get_sentence_feature\(1,)c(0,)40 b("unif"\),)e(1,)i("unif)f
(1.0"\);)213 313 y(is\()g($cluster->get_sentence_feature\(1,)c(1,)40
b("unif"\),)e(1,)i("unif)f(1.1"\);)213 392 y(is\()g
($cluster->get_sentence_feature\(2,)c(0,)40 b("unif"\),)e(1,)i("unif)f
(2.0"\);)213 471 y(is\()g($cluster->get_sentence_feature\(2,)c(1,)40
b("unif"\),)e(1,)i("unif)f(2.1"\);)213 629 y(sub)g(cid_feat)g({)372
708 y(my)h(\045params)f(=)g(@_;)372 786 y(return)g
($params{cluster}->get_id\(\);)213 865 y(})213 1023 y(sub)g(did_feat)g
({)372 1102 y(my)h(\045params)f(=)g(@_;)372 1181 y(return)g
($params{document}->get_id\(\);)213 1260 y(})213 1417
y(sub)g(state_feat)g({)372 1496 y(my)h(\045params)f(=)g(@_;)372
1654 y(unless)g(\(defined)g($params{state}->{feats}\))d({)532
1733 y($params{state}->{feats})g(=)k({)f(1)h(=>)g([1,)f(2],)g(2)h(=>)g
([3,)f(4])h(};)372 1812 y(})372 1969 y(my)g($did)f(=)h
($params{document}->get_id\(\);)372 2048 y(my)g($index)f(=)g
($params{sentence_index};)372 2206 y(return)g
($params{state}->{feats}->{$did}->[$index];)213 2364
y(})p 2828 2546 V 185 2549 2647 4 v 1873 5809 a Fk(127)p
eop end
%%Page: 128 128
TeXDict begin 128 127 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.46)80 b(test)p 522 210 25 4 v 29 w(sentence)p
851 210 V 30 w(featur)o(es)p 1167 210 V 28 w(subs.t)p
185 279 3285 4 v 185 3563 4 3284 v 213 383 a Fa(#)39
b(script:)g(test_sentence_features_subs.t)213 462 y(#)g(functionality:)
f(Test)h(the)h(assignment)e(of)i(standard)e(features,)h(such)g(as)h
(length,)213 541 y(#)f(functionality:)f(position,)h(and)g(centroid,)g
(to)g(sentences)g(in)g(a)h(small)f(Document)213 698 y(use)g(strict;)213
777 y(use)g(Test::More)g(tests)g(=>)g(8;)213 856 y(use)g
(Clair::Document;)213 935 y(use)g(Clair::SentenceFeatures)e
(qw\(length_feature)g(position_feature)715 b(\\)213 1014
y(centroid_feature\);)213 1172 y(my)39 b($text)g(=)h("Roses)f(are)g
(red.)h(Violets)f(are)g(blue.)g(Sugar)g(is)h(sweet.)f(This)g(is)g(the)
319 b(\\)213 1250 y(longest)39 b(sentence.";)213 1329
y(my)g($doc)h(=)f(Clair::Document->new\(string)d(=>)k($text\);)213
1487 y(my)f(\045feats)g(=)h(\()372 1566 y(lf)g(=>)f(\\&length_feature,)
372 1645 y(pf)h(=>)f(\\&position_feature,)213 1724 y(#)159
b(cf)40 b(=>)f(\\&centroid_feature)213 1802 y(\);)213
1960 y(my)g(\045expected)g(=)h(\()372 2039 y(lf)g(=>)f([3,)h(3,)f(3,)h
(5],)372 2118 y(pf)g(=>)f([1,)h(3/4,)f(2/4,)g(1/4])213
2197 y(\);)213 2355 y($doc->compute_sentence_features\(\045feats\);)213
2512 y(features_ok\($doc,)e("lf",)i($expected{lf}\);)213
2591 y(features_ok\($doc,)e("pf",)i($expected{pf}\);)213
2749 y(sub)g(features_ok)f({)372 2828 y(my)i($doc)f(=)h(shift;)372
2907 y(my)g($name)f(=)h(shift;)372 2986 y(my)g($expected)e(=)i(shift;)
372 3064 y(for)g(\(my)f($i)h(=)f(0;)h($i)f(<)h(@$expected;)e($i++\))h
({)532 3143 y(my)g($feat)g(=)h($doc->get_sentence_feature\($i,)35
b($name\);)532 3222 y(is\($expected->[$i],)i($feat,)i("$name)f(for)i
($i)f(ok"\);)372 3301 y(})213 3380 y(})p 3466 3563 V
185 3566 3285 4 v 1873 5809 a Fk(128)p eop end
%%Page: 129 129
TeXDict begin 129 128 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.47)80 b(test)p 522 210 25 4 v 29 w(sentence)p
851 210 V 30 w(featur)o(es.t)p 185 279 3285 4 v 185 5692
4 5414 v 213 383 a Fa(#)39 b(script:)g(test_sentence_features.t)213
462 y(#)g(functionality:)f(Using)h(a)h(short)f(document,)g(test)g(many)
g(sentence)g(feature)g(functions)213 619 y(#)g(mjschal)g(edited)g(this)
g(file.)213 698 y(#)g(I)h(removed)f(a)h(test)f(that)g(intentionally)f
(and)h(correctly)g(generated)g(a)g(warning.)79 b(This)g(\\)213
777 y(is)213 856 y(#)39 b(to)h(prevent)f(warning)g(messages)f(from)i
(cluttering)e(up)h(the)h(screen)f(for)g(an)h(enduser)f(of)213
935 y(#)g(Clairlib-core)f(who)i(is)f(testing)g(his)h(or)f(her)g
(installation.)213 1093 y(use)g(strict;)213 1172 y(use)g(Test::More)g
(tests)g(=>)g(34;)213 1250 y(use)g(Clair::Document;)213
1329 y(use)g(Clair::Cluster;)213 1487 y(my)g($text)g(=)h("This)f(is)h
(the)f(first)g(sentence.)g(This)g(is)h(short.)f(So)g(is)h(this.)f(But)g
(perhaps)79 b(\\)213 1566 y(the)39 b(longest)g(sentence)g(of)g(all)h
(is)f(the)h(last)f(sentence.";)213 1645 y(my)g($doc)h(=)f
(Clair::Document->new\()e(string)i(=>)g($text,)g(type)h(=>)f("text",)g
(id)h(=>)f("doc")g(\);)213 1881 y(##########################)213
1960 y(#)g(Sentence)g(feature)g(tests)g(#)213 2039 y
(##########################)213 2197 y(#)g(Check)h(to)f(make)g(sure)h
(the)f(sentences)g(are)g(being)g(split)g(correctly)213
2276 y(is\($doc->sentence_count\(\),)d(4,)j("Correct)g(#)h(of)f
(sents"\);)213 2433 y(#)g(Shouldn't)g(be)h(able)f(to)g(set)h(sentence)e
(features)h(for)g(sentences)g(out)g(of)h(range)213 2512
y(my)f($ret)h(=)f($doc->set_sentence_feature\(4,)d(test_feature)i(=>)h
(100\);)213 2591 y(is\(undef,)f($ret,)h("Can't)g(set)h(out)f(of)h
(range)f(features"\);)213 2749 y(#)g(Should)g(be)h(able)f(to)h(set)f
(and)h(get)f(sentence)g(features)213 2828 y($ret)g(=)h
($doc->set_sentence_feature\(0,)35 b(test_feature)j(=>)i(100\);)213
2907 y(ok\($ret,)e("Set)i(in)f(range)g(freatures"\);)213
2986 y(is\($doc->get_sentence_feature\(0,)c("test_feature"\),)i(100,)
372 3064 y("Can)i(get)h(sent)f(feat)g(back"\);)213 3222
y(#)g(should)g(return)g(undef)g(if)h(feature)f(doesn't)g(exist)213
3301 y(is\($doc->get_sentence_feature\(1,)c("test_feature"\),)i(undef,)
372 3380 y("Undefined)i(feature)f(returns)h(undef"\);)213
3538 y(#)g(Return)g(undef)h(after)f(feature)f(has)i(been)f(removed)213
3617 y($doc->remove_sentence_feature\(0,)c("test_feature"\);)213
3695 y(is\($doc->get_sentence_feature\(0,)g("test_feature"\),)i(undef,)
372 3774 y("Undefined)i(after)g(removed)f(feature"\);)213
3932 y(#)h(Set)h(many)f(features)g(at)g(once)213 4011
y(my)g(\045s0_feats)g(=)h(\()f(feature1)g(=>)g(1,)h(feature2)f(=>)g(2,)
h(feature3)e(=>)i(3\);)213 4090 y($doc->set_sentence_feature\(0,)35
b(\045s0_feats\);)213 4169 y(my)k(\045got_s0_feats)f(=)i
($doc->get_sentence_features\(0\);)213 4247 y
(is_deeply\(\\\045s0_feats,)c(\\\045got_s0_feats,)i("Can)h(set/get)g
(list)g(of)h(features"\);)213 4405 y(#)f(Compute)g(a)h(simple)f
(feature)g(that)g(counts)g(how)g(many)h(ts)f(or)h(Ts)f(there)g(are)213
4484 y($doc->compute_sentence_feature\()c(name)k(=>)h("count_t",)e
(feature)h(=>)h(\\&count_t)e(\);)213 4563 y(my)h(@e_feats)g(=)h(\(4,)f
(2,)h(1,)f(7\);)213 4642 y(features_ok\($doc,)e("count_t",)h
(\\@e_feats\);)213 4800 y(#)h(Compute)g(a)h(feature)f(that)g(copies)g
(the)g(document)g(id)h(to)f(check)g(that)h(a)f(reference)213
4878 y(#)g(to)h(the)f(document)g(is)h(actually)e(getting)h(passed)g(to)
h(the)f(sentence)g(feature)213 4957 y(#)g(sub.)213 5036
y($doc->compute_sentence_feature\()c(name)k(=>)h("did",)f(feature)g(=>)
g(\\&did_feat)f(\);)213 5115 y(@e_feats)g(=)i(\("doc",)f("doc",)g
("doc",)g("doc"\);)213 5194 y(features_ok\($doc,)e("did",)i
(\\@e_feats\);)213 5352 y(#)g(Compute)g(a)h(feature)f(that)g(returns)g
(the)g(index)g(of)h(the)f(document)g(to)h(check)f(that)213
5431 y(#)g(this)h(argument)e(is)i(passed)f(to)g(the)h(feature)f(sub.)
213 5509 y($doc->compute_sentence_feature\()c(name)k(=>)h("index",)e
(feature)h(=>)h(\\&index_feat)e(\);)213 5588 y(@e_feats)g(=)i(\(0,)g
(1,)f(2,)h(3\);)p 3466 5692 V 185 5695 3285 4 v 1873
5809 a Fk(129)p eop end
%%Page: 130 130
TeXDict begin 130 129 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3165
4 v 185 5544 4 5414 v 213 234 a Fa(features_ok\($doc,)37
b("index",)i(\\@e_feats\);)213 471 y(#)g(This)h(next)f(test)g(has)h
(been)f(removed)g(because)f(it)i(\(intentionally\))e(generates)g
(warning)213 550 y(#)h(messages.)213 708 y(#)g(Compute)g(a)h(feature)f
(that)g(just)g(dies)h(in)f(order)g(to)h(make)f(sure)g(that)h(a)f
(feature)213 786 y(#)g(calculation)g(can't)g(crash)g(the)g(system.)213
865 y(#eval)g({)213 944 y(#)159 b(no)40 b(warnings;)213
1023 y(#)159 b($doc->compute_sentence_feature\()35 b(name)k(=>)h
("bad",)f(feature)g(=>)g(\\&bad_feat)g(\);)213 1102 y(#};)213
1181 y(#is\("",)g($@,)g("stopped)g(from)g(feature)g(dying"\);)213
1260 y(#features_ok\($doc,)e("bad",)i([undef,)g(undef,)g(undef,)g
(undef]\);)213 1496 y(#)g(See)h(if)f(we)h(can)f(pass)h(state)f(between)
g(calls)g(to)g(the)h(feature)e(subroutine)213 1575 y
($doc->remove_sentence_features\(\);)213 1654 y
($doc->compute_sentence_feature\()d(name)k(=>)h("state",)e(feature)h
(=>)h(\\&state_feat)e(\);)213 1733 y(features_ok\($doc,)f("state",)i
([0,)g(1,)h(2,)f(3]\);)213 1891 y(#)g(Make)h(sure)f(that)g(we)h(can)f
(normalize)g(sentence)f(features)213 1969 y
($doc->remove_sentence_features\(\);)213 2048 y
($doc->compute_sentence_feature\()d(name)k(=>)h("count_t",)e(feature)h
(=>)h(\\&count_t,)372 2127 y(normalize)f(=>)g(1)h(\);)213
2206 y(features_ok\($doc,)d("count_t",)h([1/2,)i(1/6,)f(0,)g(1]\);)213
2364 y(#)g(Make)h(sure)f(that)g(normalizes)g(correctly)f(with)h
(uniform)g(scores)213 2443 y($doc->remove_sentence_features\(\);)213
2522 y($doc->compute_sentence_feature\()c(name)k(=>)h("unif",)f
(feature)f(=>)i(\\&unif,)372 2600 y(normalize)f(=>)g(1)h(\);)213
2679 y(features_ok\($doc,)d("unif",)i([1,)g(1,)h(1,)f(1]\);)213
2837 y($doc->remove_sentence_features\(\);)213 2916 y
($doc->compute_sentence_feature\()c(name)k(=>)h("did",)f(feature)g(=>)g
(\\&did_feat)f(\);)213 2995 y($doc->compute_sentence_feature\()d(name)k
(=>)h("unif",)f(feature)f(=>)i(\\&unif)f(\);)213 3074
y(is\($doc->is_numeric_feature\("did"\),)34 b(0,)40 b("did)f(not)h
(numeric)e(feature")h(\);)213 3153 y(ok\()g
($doc->is_numeric_feature\("unif"\),)c("unif)k(numeric)g(feature")g
(\);)213 3231 y($doc->set_sentence_feature\(0,)c(mixed)k(=>)h(1\);)213
3310 y($doc->set_sentence_feature\(1,)35 b(mixed)k(=>)h(1\);)213
3389 y($doc->set_sentence_feature\(2,)35 b(mixed)k(=>)h(1\);)213
3468 y($doc->set_sentence_feature\(2,)35 b(mixed)k(=>)h("string"\);)213
3547 y(is\()f($doc->is_numeric_feature\("mixed"\),)c(0,)k("mixed)g(not)
h(numeric")f(\);)213 3783 y(sub)g(features_ok)f({)372
3862 y(my)i($doc)f(=)h(shift;)372 3941 y(my)g($name)f(=)h(shift;)372
4020 y(my)g($expected)e(=)i(shift;)372 4099 y(for)g(\(my)f($i)h(=)f(0;)
h($i)f(<)h(@$expected;)e($i++\))h({)532 4178 y(my)g($feat)g(=)h
($doc->get_sentence_feature\($i,)35 b($name\);)532 4257
y(is\($feat,)j($expected->[$i],)g("$name)g(for)i($i)f(ok"\);)372
4336 y(})213 4414 y(})213 4572 y(sub)g(count_t)g({)372
4651 y(my)h(\045params)f(=)g(@_;)372 4730 y(my)h($doc)f(=)h
($params{document};)372 4809 y(my)g($sent)f(=)h($params{sentence};)372
4888 y($sent)f(=\230)h(s/[\210tT]//g;)372 4967 y(return)f
(length\($sent\);)213 5045 y(})213 5203 y(sub)g(did_feat)g({)372
5282 y(my)h(\045params)f(=)g(@_;)372 5361 y(my)h($doc)f(=)h
($params{document};)372 5440 y(return)f($doc->get_id\(\);)p
3346 5544 V 185 5547 3165 4 v 1873 5809 a Fk(130)p eop
end
%%Page: 131 131
TeXDict begin 131 130 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2528
4 v 185 2704 4 2574 v 213 234 a Fa(})213 392 y(sub)39
b(index_feat)g({)372 471 y(my)h(\045params)f(=)g(@_;)372
550 y(return)g($params{sentence_index};)213 629 y(})213
786 y(sub)g(char_length)f({)372 865 y(my)i(\045params)f(=)g(@_;)372
944 y(return)g(length\($params{sentence}\);)213 1023
y(})213 1181 y(sub)g(bad_feat)g({)372 1260 y(die;)213
1338 y(})213 1496 y(sub)g(unif)g({)372 1575 y(return)g(0;)213
1654 y(})213 1812 y(sub)g(state_feat)g({)372 1891 y(my)h(\045params)f
(=)g(@_;)372 2048 y(if)h(\(defined)e($params{state}->{count}\))f({)532
2127 y($params{state}->{count})f(=)k($params{state}->{count})c(+)k(1;)
372 2206 y(})g(else)f({)532 2285 y($params{state}->{count})d(=)k(0;)372
2364 y(})372 2522 y(return)f($params{state}->{count};)213
2600 y(})p 2708 2704 V 185 2707 2528 4 v 1873 5809 a
Fk(131)p eop end
%%Page: 132 132
TeXDict begin 132 131 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.48)80 b(test)p 522 210 25 4 v 29 w(speak)o(er)-8
b(.t)p 185 295 3046 4 v 185 3973 4 3678 v 213 399 a Fa(#)39
b(script:)g(test_speaker.t)213 477 y(#)g(functionality:)f(As)i(part)f
(of)h(Clair::Polisci,)d(confirm)i(Speaker)g(object)g(equality)213
556 y(#)g(functionality:)f(functions)213 714 y(use)h(strict;)213
793 y(use)g(warnings;)213 872 y(use)g(Test::More)g(tests)g(=>)g(5;)213
951 y(use)g(Clair::Polisci::Speaker;)213 1108 y(my)g($speaker;)213
1266 y(#)g(TEST)h(1)213 1424 y(eval)f({)372 1503 y($speaker)g(=)h
(Clair::Polisci::Speaker->new\(\);)213 1582 y(};)213
1660 y(ok\($@,)f("new)g(w/o)g(a)h(source)f(or)h(id)f(should)g(die"\);)
213 1818 y(my)g($speaker1)g(=)h(Clair::Polisci::Speaker->new\()372
1897 y(source)f(=>)h("source1",)372 1976 y(id)g(=>)f(1)213
2055 y(\);)213 2213 y(my)g($speaker2)g(=)h
(Clair::Polisci::Speaker->new\()372 2291 y(source)f(=>)h("source1",)372
2370 y(id)g(=>)f(1)213 2449 y(\);)213 2607 y(my)g($speaker3)g(=)h
(Clair::Polisci::Speaker->new\()372 2686 y(source)f(=>)h("source2",)372
2765 y(id)g(=>)f(1)213 2844 y(\);)213 3080 y(#)g(TEST)h(2)213
3159 y(ok\($speaker1->equals\($speaker1\),)35 b("Speaker)j(should)h
(equal)h(self"\);)213 3317 y(#)f(TEST)h(3)213 3396 y
(ok\($speaker1->equals\($speaker2\),)35 b("Speaker)j(1)i(should)f
(equal)g(speaker)g(2"\);)213 3553 y(#)g(TEST)h(4)213
3632 y(ok\($speaker2->equals\($speaker1\),)35 b("Speaker)j(2)i(should)f
(equal)g(speaker)g(1"\);)213 3790 y(#)g(TEST)h(5)213
3869 y(ok\(!$speaker3->equals\($speaker1\),)35 b("Speaker)j(1)i
(shouldn't)f(equal)g(speaker)f(3"\);)p 3226 3973 V 185
3976 3046 4 v 1873 5809 a Fk(132)p eop end
%%Page: 133 133
TeXDict begin 133 132 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.49)80 b(test)p 522 210 25 4 v 29 w(summary)-6
b(.t)p 185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#)39
b(script:)g(test_summary.t)213 477 y(#)g(functionality:)f(Test)h(many)h
(basic)f(functions)f(of)i(Document)f(for)g(summarization,)213
556 y(#)g(functionality:)f(varying)h(summarization)f(ratio,)h(order)g
(conditions,)f(as)i(well)f(as)213 635 y(#)g(functionality:)f(test)h
(Cluster's)g(summarization)f(functions)213 793 y(use)h(strict;)213
872 y(use)g(Test::More)g(tests)g(=>)g(117;)213 951 y(use)g
(Clair::Cluster;)213 1030 y(use)g(Clair::Document;)213
1108 y(use)g(Clair::SentenceFeatures)e(qw\(:all\);)213
1266 y(#)i(Some)h(sample)f(text)g(for)g(the)h(documents)213
1345 y(my)f($text1)g(=)h("Mary)f(had)g(a)h(little)f(lamb.)g(Her)h
(fleece)f(was)g(white)g(as)h(snow)f(\(the)g(lamb's)119
b(\\)213 1424 y(fleece,)39 b(that)g(is\).";)213 1503
y(my)g($text2)g(=)h("Jack)f(and)g(Jill)h(went)f(up)h(the)f(hill.)g
(Then)g(they)h(rode)f(their)g(bikes)g(down)159 b(\\)213
1582 y(the)39 b(hill.";)213 1660 y(my)g($text3)g(=)h("She's)f(a)h(jar)f
(with)g(a)h(heavy)f(lid.)g(She's)g(my)h(pop-quiz)f(kid.)g(You)g(know)h
(she)79 b(\\)213 1739 y(begs)39 b(me)h(not)f(to)h(miss)f(her.";)213
1897 y(#)g(Make)h(the)f(docs)g(and)h(put)f(them)g(in)h(a)g(cluster)213
1976 y(my)f($cluster)g(=)h(Clair::Cluster->new\(\);)213
2055 y(my)f($doc1)g(=)h(make_doc\($text1,)e("doc1"\);)213
2134 y(my)h($doc2)g(=)h(make_doc\($text2,)e("doc2"\);)213
2213 y(my)h($doc3)g(=)h(make_doc\($text3,)e("doc3"\);)213
2370 y(#)h(Compute)g(the)h(features)213 2449 y(my)f(\045features)g(=)h
(\('length')e(=>)i(\\&length_feature,)d('position')h(=>)837
b(\\)213 2528 y(\\&position_feature\);)213 2607 y(my)39
b(\045weights)g(=)h(\()f('length')g(=>)h(1,)f('position')f(=>)i(1)g
(\);)213 2686 y($cluster->compute_sentence_features\(\045featu)o
(res\);)213 2844 y(#)f(Test)h(the)f(summaries)213 2922
y($doc1->score_sentences\(weights)c(=>)40 b(\\\045weights\);)213
3001 y(my)f(@summary)g(=)h($doc1->get_summary\(\);)213
3080 y(my)f(@expected)g(=)h(\()f(0,)h(1)f(\);)213 3159
y(doc_summary_ok\()e(\\@summary,)i(\\@expected,)f($doc1,)h("no)g(size")
g(\);)213 3317 y(#)g(smmaller)g(sized)g(summary)213 3396
y(@summary)f(=)i($doc1->get_summary\()d(size)i(=>)h(1)g(\);)213
3475 y(@expected)e(=)i(\()g(1)f(\);)213 3553 y(doc_summary_ok\()e
(\\@summary,)i(\\@expected,)f($doc1,)h("size")g(\);)213
3711 y(#)g(ignore)g(natural)g(sent)g(order)213 3790 y(@summary)f(=)i
($doc1->get_summary\()d(preserve_order)h(=>)h(0)h(\);)213
3869 y(@expected)e(=)i(\()g(1,)f(0)h(\);)213 3948 y(doc_summary_ok\()d
(\\@summary,)i(\\@expected,)f($doc1,)h("unpreserved)f(order")h(\);)213
4105 y(#)g(try)h(to)f(get)h(more)f(than)g(two)h(sents)213
4184 y(@summary)e(=)i($doc1->get_summary\()d(size)i(=>)h(10)f(\);)213
4263 y(@expected)f(=)i(\(0,)f(1\);)213 4342 y(doc_summary_ok\()e
(\\@summary,)i(\\@expected,)f($doc1,)h("take)g(>)h(2")f(\);)213
4500 y(#)g(Try)h(it)f(with)h(a)f(larger)g(document)213
4579 y($doc3->score_sentences\()d(weights)j(=>)h(\\\045weights)e(\);)
213 4658 y(@summary)g(=)i($doc3->get_summary\()d(size)i(=>)h(2)g(\);)
213 4736 y(@expected)e(=)i(\()g(0,)f(2)h(\);)213 4815
y(doc_summary_ok\()d(\\@summary,)i(\\@expected,)f($doc3,)h("larger)g
(doc,)g(size")g(\);)213 4973 y(#)g(ignore)g(order)213
5052 y(@summary)f(=)i($doc3->get_summary\()d(preserve_order)h(=>)h(0)h
(\);)213 5131 y(@expected)e(=)i(\()g(2,)f(0,)h(1)f(\);)213
5210 y(doc_summary_ok\()e(\\@summary,)i(\\@expected,)f($doc3,)h
("larger)g(doc,)g(unpres.)g(order")g(\);)213 5367 y(#)g(now)h(do)f(a)h
(cluster-wide)e(test.)213 5446 y($cluster->score_sentences\()e(weights)
j(=>)g(\\\045weights)g(\);)213 5525 y(@summary)f(=)i
($cluster->get_summary\()d(size)i(=>)g(4)h(\);)213 5604
y(@expected)e(=)i(\()g(["doc1",)e(1],)i(["doc2",)e(0],)i(["doc2",)e
(1],)i(["doc3",)f(2])g(\);)p 3466 5708 V 185 5711 3285
4 v 1873 5809 a Fk(133)p eop end
%%Page: 134 134
TeXDict begin 134 133 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(cluster_summary_ok\(\\@summary,)35
b(\\@expected,)j($cluster,)h("default)g(cluster"\);)213
392 y(@summary)f(=)i($cluster->get_summary\()d(size)i(=>)g(4,)h
(preserve_order)e(=>)h(0)h(\);)213 471 y(@expected)e(=)i(\()g(["doc1",)
e(1],)i(["doc3",)e(2],)i(["doc2",)e(1],)i(["doc2",)f(0])g(\);)213
550 y(cluster_summary_ok\(\\@summary,)c(\\@expected,)j($cluster,)h("no)
g(order"\);)213 708 y(#)g(specify)g(a)h(document)f(ordering)213
786 y(@summary)f(=)i($cluster->get_summary\()d(size)i(=>)g(4,)372
865 y(document_order)f(=>)h([)h("doc3",)f("doc1",)g("doc2")g(]\);)213
944 y(@expected)f(=)i(\()g(["doc3",)e(2],)i(["doc1",)e(1],)i(["doc2",)e
(0],)i(["doc2",)f(1])g(\);)213 1023 y(cluster_summary_ok\(\\@summary,)c
(\\@expected,)j($cluster,)h("spec)g(order"\);)213 1181
y(sub)g(make_doc)g({)372 1260 y(my)h($text)f(=)h(shift;)372
1338 y(my)g($did)f(=)h(shift;)372 1417 y(my)g($doc)f(=)h
(Clair::Document->new\()c(string)j(=>)h($text,)f(id)g(=>)h($did)f(\);)
372 1496 y($cluster->insert\($did,)e($doc\);)372 1575
y(return)i($doc;)213 1654 y(})213 1812 y(sub)g(doc_summary_ok)f({)372
1891 y(my)i($summary)e(=)i(shift;)372 1969 y(my)g($expected)e(=)i
(shift;)372 2048 y(my)g($doc)f(=)h(shift;)372 2127 y(my)g($name)f(=)h
(shift)f(||)g("";)372 2206 y(my)h($did)f(=)h($doc->get_id\(\);)372
2285 y(is\()g(scalar)f(@$summary,)f(scalar)h(@$expected,)f("summary)h
(length)g($name")g(\);)372 2443 y(my)h(@sents)f(=)g
($doc->get_sentences\(\);)372 2522 y(for)h(\(my)f($i)h(=)f(0;)h($i)f(<)
h(@$summary;)e($i++\))h({)532 2600 y(my)g($exp_index)f(=)i
($expected[$i];)532 2679 y(my)f($text)g(=)h($sents[$exp_index];)532
2758 y(my)f(\045feats)g(=)h($doc->get_sentence_features\($exp_index\);)
532 2837 y(my)f($score)g(=)h($doc->get_sentence_score\($exp_index\);)
532 2995 y(my)f($sent_map)g(=)g($summary->[$i];)532 3153
y(is\()g($sent_map->{'index'},)e($exp_index,)h("index)h(sent)g($did.$i)
g($name")g(\);)532 3231 y(is\()g($sent_map->{text},)e($text,)i("text)g
(sent)g($did.$i)g($name")g(\);)532 3310 y(is_deeply\()f
($sent_map->{features},)e(\\\045feats,)j("feats)g(sent)g($did.$i)g
($name")119 b(\\)213 3389 y(\);)532 3468 y(is\()39 b
($sent_map->{score},)e($score,)i("score)g(sent)g($did.$i)g($name")g
(\);)372 3547 y(})213 3705 y(})213 3862 y(sub)g(cluster_summary_ok)e({)
372 3941 y(my)j($summary)e(=)i(shift;)372 4020 y(my)g($expected)e(=)i
(shift;)372 4099 y(my)g($cluster)e(=)i(shift;)372 4178
y(my)g($name)f(=)h(shift)f(||)g("noname";)372 4336 y(is\()h(scalar)f
(@$summary,)f(scalar)h(@$expected,)f("summary)h(length")g(\);)372
4414 y(my)h($docs)f(=)h($cluster->documents\(\);)372
4572 y(for)g(\(my)f($i)h(=)f(0;)h($i)f(<)h(@$summary;)e($i++\))h({)532
4651 y(my)g(\($exp_did,)f($exp_index\))h(=)g(@{)h($expected->[$i])e(};)
532 4730 y(my)h(@sents)g(=)h($docs->{$exp_did}->get_sentences\(\);)532
4809 y(my)f($text)g(=)h($sents[$exp_index];)532 4888
y(my)f(\045feats)g(=)h($cluster->get_sentence_features\($exp_did,)34
b($exp_index\);)532 4967 y(my)39 b($score)g(=)h
($cluster->get_sentence_score\($exp_did,)34 b($exp_index\);)532
5045 y(my)39 b($sent_map)g(=)g($summary->[$i];)532 5203
y(is\()g($sent_map->{did},)e($exp_did,)i("$name:)g(did)g(sent)g($i")h
(\);)532 5282 y(is\()f($sent_map->{'index'},)e($exp_index,)h("$name:)h
(index)g(sent)g($i")g(\);)532 5361 y(is_deeply\()f
($sent_map->{features},)e(\\\045feats,)j("$name:)g(feats)g(sent)g
($i"\);)532 5440 y(is\()g($sent_map->{score},)e($score,)i("$name:)g
(score)g(sent)g($i")g(\);)p 3466 5544 V 185 5547 3285
4 v 1873 5809 a Fk(134)p eop end
%%Page: 135 135
TeXDict begin 135 134 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2528
4 v 185 575 4 445 v 532 234 a Fa(is\()39 b($sent_map->{text},)e($text,)
i("$name:)g(text)g(sent)g($i")h(\);)372 313 y(})213 471
y(})p 2708 575 V 185 578 2528 4 v 1873 5809 a Fk(135)p
eop end
%%Page: 136 136
TeXDict begin 136 135 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.50)80 b(test)p 522 210 25 4 v 29 w(us)p 629 210
V 31 w(connection.t)p 185 279 3285 4 v 185 5692 4 5414
v 213 383 a Fa(#)39 b(script:)g(test_us_connection.t)213
462 y(#)g(functionality:)f(Test)h(the)h(Clair::Polisci::US::Connection)
35 b(class)k(and)h(the)213 541 y(#)f(functionality:)f(contents)h(of)g
(the)h(underlying)e(DB.)79 b(This)40 b(test)f(is)h(not)f(intended)213
619 y(#)g(functionality:)f(for)i(general)e(distribution)g(\(i.e.)i(you)
f(may)g(not)h(have)f(it)h(in)f(your)213 698 y(#)g(functionality:)f
(copy)h(of)h(clairlib\))213 856 y(use)f(strict;)213 935
y(use)g(Test::More;)213 1014 y(use)g(Clair::Polisci::US::Connection;)
213 1172 y(my)g($con)h(=)f(Clair::Polisci::US::Connection->new\()372
1250 y(user)g(=>)h("root",)372 1329 y(password)f(=>)g("",)372
1408 y(host)g(=>)h("localhost",)372 1487 y(database)f(=>)g
("polisci_us")213 1566 y(\);)213 1724 y(#)g(mjschal)g(adds)h(the)f
(following)f(sanity)h(check)g(to)h(make)f(sure)h(that)f(this)g(set)g
(of)h(tests)119 b(\\)213 1802 y(is)39 b(only)213 1881
y(#)g(run)h(if)f(the)h(above)f(creation)g(of)g(a)h(Connection)e
(successfully)g(results)h(in)h(a)438 b(\\)213 1960 y(connection)38
b(to)213 2039 y(#)h(a)h(DB.)79 b(For)40 b(instance,)e(the)i(server)f
(this)g(code)g(is)h(running)f(on)g(may)h(not)f(have)g(a)h(MYSQL)79
b(\\)213 2118 y(server)213 2197 y(#)39 b(installed,)g(which)g(means)g
(that)g($con->{dbh})f(may)i(equal)f(undef.)213 2355 y(if)g
(\($con->{dbh}\))f({)372 2433 y(plan\(tests)h(=>)g(9\);)213
2512 y(})g(else)h({)372 2591 y(plan\(skip_all)e(=>)i("because)e
(Connection)h(object)g(created,)f(but)i(cannot)f(connect)f(to)80
b(\\)213 2670 y(a)39 b(DB"\);)213 2749 y(})213 2907 y(my)g(@result;)213
2986 y(my)g(\045mask)g(=)h(\()372 3064 y(min_date)f(=>)g("2004-11-01",)
372 3143 y(max_date)g(=>)g("2004-11-30")213 3222 y(\);)213
3380 y(#)g(TEST)h(1)f(-)h(all)g(nov)f(records)213 3459
y(@result)g(=)g($con->get_records\(\045mask\);)213 3538
y(is\(scalar)f(@result,)h(846,)g("November)g(size"\);)213
3695 y(#)g(TEST)h(2)f(-)h(just)f(the)h(house)213 3774
y($mask{chamber})e(=)h("House";)213 3853 y(@result)g(=)g
($con->get_records\(\045mask\);)213 3932 y(is\(scalar)f(@result,)h
(445,)g("November)g(house)g(size"\);)213 4090 y(#)g(TEST)h(3)f(-)h
(just)f(the)h(senate)213 4169 y($mask{chamber})e(=)h("Senate";)213
4247 y(@result)g(=)g($con->get_records\(\045mask\);)213
4326 y(is\(scalar)f(@result,)h(401,)g("Novemeber)g(senate)f(size"\);)
213 4484 y(#)h(TEST)h(4)f(-)h(find)f(some)h(title)f(matches)213
4563 y(\045mask)g(=)h(\()372 4642 y(min_date)f(=>)g("1999-04-13",)372
4721 y(max_date)g(=>)g("1999-04-15",)372 4800 y(chamber)g(=>)h
("House",)372 4878 y(title_regex)e(=>)i("PRAYER")213
4957 y(\);)213 5036 y(@result)f(=)g($con->get_records\(\045mask\);)213
5115 y(is\(scalar)f(@result,)h(2,)g("Two)h(prayers"\);)213
5273 y(#)f(TEST)h(5)f(-)h(body)f(regex)g(to)h(get)f(rid)h(of)f(one)h
(prayer)213 5352 y($mask{body_regex})d(=)j("earnest";)213
5431 y(@result)f(=)g($con->get_records\(\045mask\);)213
5509 y(is\(scalar)f(@result,)h(1,)g("One)h(prayer"\);)p
3466 5692 V 185 5695 3285 4 v 1873 5809 a Fk(136)p eop
end
%%Page: 137 137
TeXDict begin 137 136 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2846
4 v 185 1915 4 1785 v 213 234 a Fa(#)39 b(TESTS)h(6-9)f(-)h(make)f
(sure)g(the)h(record/grafs)e(are)h(loaded)g(correctly)213
313 y(\045mask)g(=)h(\()372 392 y(min_date)f(=>)g("1999-04-13",)372
471 y(max_date)g(=>)g("1999-04-15",)372 550 y(chamber)g(=>)h("House",)
372 629 y(title_regex)e(=>)i("CAMPAIGN)e(FINANCE)h(REFORM",)372
708 y(body_regex)g(=>)g("Blue)g(Dog)h(Caucus")213 786
y(\);)213 865 y(@result)f(=)g($con->get_records\(\045mask\);)213
944 y(is\(scalar)f(@result,)h(1,)g("get)h(records"\);)213
1023 y(my)f($record)g(=)h($result[0];)213 1102 y(my)f(@speech_grafs)f
(=)i($record->get_grafs\()372 1181 y(graf_type_id)e(=>)i(1)213
1260 y(\);)213 1338 y(is\(scalar)e(@speech_grafs,)g(5\);)213
1417 y(like\($speech_grafs[0]->{content},)d(/Blue)k(Dog)g(Caucus/,)g
("content)g(check"\);)213 1575 y(my)g(@non_speech_grafs)f(=)h
($record->get_grafs\()372 1654 y(graf_type_id)f(=>)i(2)213
1733 y(\);)213 1812 y(is\(scalar)e(@non_speech_grafs,)f(2,)j
("get_grafs"\);)p 3027 1915 V 185 1918 2846 4 v 1873
5809 a Fk(137)p eop end
%%Page: 138 138
TeXDict begin 138 137 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.51)80 b(test)p 522 210 25 4 v 29 w(web)p 694
210 V 30 w(sear)o(ch.t)p 185 279 3285 4 v 185 4272 4
3994 v 213 383 a Fa(#)39 b(script:)g(test_web_search.t)213
462 y(#)g(functionality:)f(Test)h(Clair::Utils::WebSearch)e(and)i(its)h
(use)f(of)h(the)f(Google)213 541 y(#)g(functionality:)f(search)h(API)h
(for)f(returning)f(varying)h(numbers)g(of)h(webpages)213
619 y(#)f(functionality:)f(in)i(response)e(to)i(queries)213
777 y(use)f(strict;)213 856 y(use)g(warnings;)213 935
y(use)g(FindBin;)213 1014 y(use)g(Clair::Config;)213
1093 y(use)g(Test::More;)213 1250 y(if)g(\(not)h(defined)e
($GOOGLE_DEFAULT_KEY\))f({)372 1329 y(plan\(skip_all)h(=>)i
("GOOGLE_DEFAULT_KEY)d(not)i(defined)g(in)g(Clair::Config"\);)213
1408 y(})g(else)h({)372 1487 y(plan\(tests)f(=>)g(5\);)213
1566 y(})213 1724 y(use_ok\('Clair::Utils::WebSearch'\);)213
1802 y(use_ok\('Clair::Util'\);)213 1960 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/web_search";)213 2039 y(my)f($file_exp_dir)f
(=)i("$FindBin::Bin/expected/web_search";)213 2197 y
(Clair::Utils::WebSearch::download\("http://)o(tangra.)o(si.umic)o
(h.edu/")o(,)332 2276 y("$file_gen_dir/tangrapage"\);)213
2355 y(ok\(compare_proper_files\("tangrapage"\),)34 b
("WebSearch::download")j(\);)213 2512 y(my)i(@results)g(=)h
(@{Clair::Utils::WebSearch::googleGet\("West)o(minster)33
b(Abbey",)39 b(15\)};)213 2591 y(#)g(We)h(cannot)f(be)h(sure)f(what)g
(the)g(results)g(will)g(be,)h(but)f(we)h(can)f(be)h(pretty)f(safe)213
2670 y(#)g(that)h(there)f(will)g(be)h(at)f(least)g(15)213
2828 y(is\(scalar)f(@results,)h(15,)g("googleGet)g(1"\);)213
2986 y(@results)f(=)i(@{Clair::Utils::WebSearch::googleGet\("Arwad)34
b(Island",)k(25\)};)213 3064 y(#)h(Again,)g(we)h(don't)f(know)g(how)h
(what)f(the)g(results)g(will)g(be,)h(but)f(this)h(call)f(should)213
3143 y(#)g(return)g(exactly)g(25)213 3222 y(is\(scalar)f(@results,)h
(25,)g("googleGet)g(2"\);)213 3459 y(#)g(Compares)g(two)h(files)f
(named)g(filename)213 3538 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 3617 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 3695 y(sub)h(compare_proper_files)e({)292
3774 y(my)j($filename)f(=)g(shift;)292 3932 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 4011 y("$file_gen_dir/$filename"\);)213 4090
y(})p 3466 4272 V 185 4275 3285 4 v 1873 5809 a Fk(138)p
eop end
%%Page: 139 139
TeXDict begin 139 138 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.52)80 b(test)p 522 210 25 4 v 29 w(xmldoc.t)p
185 279 3125 4 v 185 2301 4 2022 v 213 383 a Fa(#)39
b(script:)g(test_xmldoc.t)213 462 y(#)g(functionality:)f(Test)h(the)h
(get_text)f(and)g(get_sent)g(functions)f(of)i(Document,)e(basing)213
541 y(#)h(functionality:)f(them)h(on)h(an)g(XML)f(file)g(input)g(to)h
(Document)213 698 y(use)f(strict;)213 777 y(use)g(warnings;)213
856 y(use)g(Test::More)g(tests)g(=>)g(3;)213 935 y(use)g
(Clair::Document;)213 1014 y(use)g(Clair::Cluster;)213
1093 y(use)g(FindBin;)213 1250 y(my)g($doc)h(=)f
(Clair::Document->new\()372 1329 y(file)g(=>)h
("$FindBin::Bin/input/xmldoc/dow-clean.xml",)372 1408
y(type)f(=>)h("xml"\);)213 1566 y($doc->xml_to_text\(\);)213
1724 y(my)f($text)g(=)h($doc->get_text;)213 1802 y(like\($text,)e
(qr/combining)g(traditional)g(craftsmanship/,)g("get_text"\);)213
1960 y(my)h(@sent)g(=)h($doc->get_sent;)213 2039 y(like\($sent[3],)e
(qr/Ludivine)g(Sagnier/,)g("get_sent)h(3"\);)213 2118
y(like\($sent[5],)f(qr/craftsmanship/,)f("get_sent)h(5"\);)p
3306 2301 V 185 2304 3125 4 v 1873 5809 a Fk(139)p eop
end
%%Page: 140 140
TeXDict begin 140 139 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.53)80 b(test)p 522 210 25 4 v 29 w(aleextract.t)p
185 279 3205 4 v 185 5692 4 5414 v 213 383 a Fa(#)39
b(script:)g(test_aleextract.t)213 462 y(#)g(functionality:)f(Using)h
(ALE,)h(extract)e(a)i(corpus)f(in)h(a)f(DB)h(and)f(perform)g(several)
213 541 y(#)g(functionality:)f(searches)h(on)g(it)213
698 y(use)g(warnings;)213 777 y(use)g(strict;)213 856
y(use)g(Clair::Config)f(qw\($ALE_PORT)g($ALE_DB_USER)g($ALE_DB_PASS\);)
213 935 y(use)h(FindBin;)213 1014 y(use)g(Test::More;)213
1172 y(if)g(\(not)h(defined)e($ALE_PORT)h(or)g(not)h(-e)f($ALE_PORT\))g
({)372 1250 y(plan\(skip_all)f(=>)i("ALE_PORT)e(not)i(defined)e(in)i
(Clair::Config)e(or)h(doesn't)g(exist"\);)213 1329 y(})g(else)h({)372
1408 y(plan\(tests)f(=>)g(10\);)213 1487 y(})213 1645
y(use_ok\("Clair::ALE::Extract"\);)213 1724 y
(use_ok\("Clair::ALE::Search"\);)213 1802 y(use)g(Clair::Utils::ALE)e
(qw\(\045ALE_ENV\);)213 1960 y(#)i(Set)h(up)f(the)h(ALE)f(environment)
213 2039 y(my)g($doc_dir)g(=)h("$FindBin::Bin/input/ale";)213
2118 y($ENV{MYSQL_UNIX_PORT})c(=)k($ALE_PORT;)213 2197
y($ALE_ENV{ALESPACE})d(=)j("test_extract";)213 2276 y
($ALE_ENV{ALECACHE})d(=)j($doc_dir;)213 2355 y(if)f(\(defined)g
($ALE_DB_USER\))f({)372 2433 y($ALE_ENV{ALE_DB_USER})f(=)j
($ALE_DB_USER;)213 2512 y(})213 2591 y(if)f(\(defined)g($ALE_DB_PASS\))
f({)372 2670 y($ALE_ENV{ALE_DB_PASS})f(=)j($ALE_DB_PASS;)213
2749 y(})213 2907 y(#)f(Extract)g(the)h(links)213 2986
y(my)f($e)h(=)g(Clair::ALE::Extract->new\(\);)213 3064
y(my)f(@files)g(=)h(glob\("$doc_dir/tangra.si.umich.edu/clair/tes)o
(thtml/)2690 3076 y(*)2729 3064 y(.html")o(\);)213 3143
y($e->extract\()e(drop_tables)g(=>)i(1,)f(files)g(=>)h(\\@files)f(\);)
213 3301 y(#)g(TEST)h(1)f(-)h(total)f(pages)213 3380
y(my)g($search)g(=)h(Clair::ALE::Search->new\()372 3459
y(limit)f(=>)h(200,)213 3538 y(\);)213 3617 y
(is\(count_results\($search\),)c(107,)j("Total)g(links)g(indexed"\);)
213 3774 y(#)g(TEST)h(2)f(-)h(just)f(from)h(index.html)213
3853 y($search)f(=)g(Clair::ALE::Search->new\()372 3932
y(limit)g(=>)h(100,)372 4011 y(source_url)f(=>)g
("http://tangra.si.umich.edu/clair/testhtml")213 4090
y(\);)213 4169 y(is\(count_results\($search\),)d(3,)j("From)g
(index.html"\);)213 4326 y(#)g(TEST)h(3)f(-)h(just)f(to)h(google)213
4405 y($search)f(=)g(Clair::ALE::Search->new\()372 4484
y(limit)g(=>)h(100,)372 4563 y(dest_url)f(=>)g("http://www.google.com")
213 4642 y(\);)213 4721 y(is\(count_results\($search\),)d(1,)j("To)h
(google.com"\);)213 4878 y(#)f(TEST)h(4)f(-)h("search)f(the)g(web")213
4957 y($search)g(=)g(Clair::ALE::Search->new\()372 5036
y(limit)g(=>)h(100,)372 5115 y(link1_text)f(=>)g("Search)g(the)g(web")
213 5194 y(\);)213 5273 y(is\(count_results\($search\),)d(1,)j("With)g
(text)h(\\"Search)e(the)i(web\\""\);)213 5431 y(#)f(TEST)h(5,6)f(-)h
("search)f(the)g(web")g(urls)213 5509 y($search)g(=)g
(Clair::ALE::Search->new\()372 5588 y(limit)g(=>)h(100,)p
3386 5692 V 185 5695 3205 4 v 1873 5809 a Fk(140)p eop
end
%%Page: 141 141
TeXDict begin 141 140 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2846
4 v 185 2783 4 2653 v 372 234 a Fa(link1_text)39 b(=>)g("Search)g(the)g
(web")213 313 y(\);)213 392 y(my)g($conn)g(=)h
($search->queryresult\(\);)213 471 y(my)f($link)g(=)h
($conn->{links}->[0];)213 550 y(is\($link->{from}->{url},)372
629 y("http://tangra.si.umich.edu/clair/testhtml",)33
b("link)40 b(from"\);)213 708 y(is\($link->{to}->{url},)c
("http://www.google.com",)h("link)i(to"\);)213 865 y(#)g(Clean)h(up)213
944 y($e->drop_tables\(\);)213 1102 y(#)f(TEST)h(7,8)f(-)h(from)f
(CorpusDownload)f(style)h(corpus)213 1181 y($e)g(=)h
(Clair::ALE::Extract->new\(\);)213 1260 y(my)f($old_space)g(=)g
($ALE_ENV{ALESPACE};)213 1338 y($e->extract\()372 1417
y(corpusname)g(=>)g("myCorpus",)372 1496 y(rootdir)g(=>)h
("$FindBin::Bin/input/ale/corpus")213 1575 y(\);)213
1654 y(is\($ALE_ENV{ALESPACE},)c($old_space,)j("extract)f(doesn't)h
(change)g(ALESPACE"\);)213 1733 y($ALE_ENV{ALESPACE})e(=)j("myCorpus";)
213 1812 y($search)f(=)g(Clair::ALE::Search->new\(\);)213
1891 y(is\(count_results\($search\),)d(5,)j("Total)g(links"\);)213
1969 y(#$e->drop_tables\(\);)213 2206 y(#)g(Helper)213
2285 y(sub)g(count_results)f({)372 2364 y(my)i($search)f(=)g(shift;)372
2443 y(my)h($total)f(=)g(0;)372 2522 y($total++)g(while)g
($search->queryresult\(\);)372 2600 y(return)g($total;)213
2679 y(})p 3027 2783 V 185 2786 2846 4 v 1873 5809 a
Fk(141)p eop end
%%Page: 142 142
TeXDict begin 142 141 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.54)80 b(test)p 522 210 25 4 v 29 w(alesear)o(ch.t)p
185 279 3205 4 v 185 5692 4 5414 v 213 383 a Fa(#)39
b(script:)g(test_alesearch.t)213 462 y(#)g(functionality:)f(From)h(a)h
(small)f(set)h(of)f(documents,)g(build)g(an)g(ALE)h(DB)f(and)h(do)f
(some)213 541 y(#)g(functionality:)f(searches)213 698
y(use)h(warnings;)213 777 y(use)g(strict;)213 856 y(use)g
(Clair::Config;)213 935 y(use)g(FindBin;)213 1014 y(use)g(Test::More;)
213 1172 y(if)g(\(not)h(defined)e($ALE_PORT)h(or)g(not)h(-e)f
($ALE_PORT\))g({)372 1250 y(plan\(skip_all)f(=>)i("ALE_PORT)e(not)i
(defined)e(in)i(Clair::Config)e(or)h(doesn't)g(exist"\);)213
1329 y(})g(else)h({)372 1408 y(plan\(tests)f(=>)g(7\);)213
1487 y(})213 1645 y(use_ok\("Clair::ALE::Extract"\);)213
1724 y(use_ok\("Clair::ALE::Search"\);)213 1802 y(use)g
(Clair::Utils::ALE)e(qw\(\045ALE_ENV\);)213 1960 y(#)i(Set)h(up)f(the)h
(ALE)f(environment)213 2039 y(my)g($doc_dir)g(=)h
("$FindBin::Bin/input/ale";)213 2118 y($ENV{MYSQL_UNIX_PORT})c(=)k
($ALE_PORT;)213 2197 y($ALE_ENV{ALESPACE})d(=)j("test_search";)213
2276 y($ALE_ENV{ALECACHE})d(=)j($doc_dir;)213 2355 y(if)f(\(defined)g
($ALE_DB_USER\))f({)372 2433 y($ALE_ENV{ALE_DB_USER})f(=)j
($ALE_DB_USER;)213 2512 y(})213 2591 y(if)f(\(defined)g($ALE_DB_PASS\))
f({)372 2670 y($ALE_ENV{ALE_DB_PASS})f(=)j($ALE_DB_PASS;)213
2749 y(})213 2986 y(my)f($extract)g(=)h(Clair::ALE::Extract->new\(\);)
213 3064 y(my)f(@files)g(=)h(glob\("$doc_dir/foo.com/)1611
3076 y(*)1651 3064 y(.html"\);)213 3143 y($extract->extract\(files)c
(=>)k(\\@files\);)213 3301 y(#)f(TEST)h(1)f(-)h(total)f(links)213
3380 y(my)g($search)g(=)h(Clair::ALE::Search->new\(\);)213
3459 y(is\(count_results\($search\),)c(5,)j("Total)g(links"\);)213
3617 y(#)g(TEST)h(2)f(-)h(links)f(to)h(self)213 3695
y($search)78 b(=)40 b(Clair::ALE::Search->new\(link1_word)35
b(=>)k("self"\);)213 3774 y(is\(count_results\($search\),)d(2,)j("Self)
g(links"\);)213 3932 y(#)g(TEST)h(3)f(-)h(limit)f(the)h(results)213
4011 y($search)f(=)g(Clair::ALE::Search->new\(limit)d(=>)j(1\);)213
4090 y(is\(count_results\($search\),)d(1,)j("limit)g(results"\);)213
4247 y(#)g(TEST)h(4)f(-)h(case)f(shouldn't)g(matter)213
4326 y($search)g(=)g(Clair::ALE::Search->new\(link1_word)c(=>)40
b("self"\);)213 4405 y(my)f($search2)g(=)h
(Clair::ALE::Search->new\(link1_word)34 b(=>)40 b("SeLF"\);)213
4484 y(is\(count_results\($search\),)c(count_results\($search2\),)g
("case"\);)213 4642 y(#)j(TEST)h(5)f(-)h(mulltilink)e(testing)213
4721 y($search)h(=)g(Clair::ALE::Search->new\()e(link2_word)h(=>)h
("web",)g(link1_word)g(=>)g("self")g(\);)213 4800 y
(is\(count_results\($search\),)d(1,)j("multilink)g(search"\);)213
4957 y(#)g(Clean)h(up)213 5036 y($extract->drop_tables\(\);)213
5194 y(sub)f(count_results)f({)372 5273 y(my)i($search)f(=)g(shift;)372
5352 y(my)h($total)f(=)g(0;)372 5431 y($total++)g(while)g
($search->queryresult\(\);)372 5509 y(return)g($total;)213
5588 y(})p 3386 5692 V 185 5695 3205 4 v 1873 5809 a
Fk(142)p eop end
%%Page: 143 143
TeXDict begin 143 142 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.55)80 b(test)p 522 210 25 4 v 29 w(lexrank)p
824 210 V 29 w(lar)o(ge)p 1033 210 V 29 w(mxt.t)p 185
295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#)39 b(script:)g
(test_lexrank_large_mxt.t)213 477 y(#)g(functionality:)f(Test)h
(lexrank)g(calculation)f(on)i(a)g(network)f(having)g(used)g
(MxTerminator)213 556 y(#)g(functionality:)f(as)i(the)f(tool)g(to)h
(split)f(sentences.)213 714 y(use)g(strict;)213 793 y(use)g(warnings;)
213 872 y(use)g(FindBin;)213 951 y(use)g(Test::More;)213
1108 y(use)g(Clair::Config;)213 1266 y(use)g(vars)g
(qw\($SENTENCE_SEGMENTER_TYPE)d($JMX_HOME\);)213 1345
y(my)j($old_SENTENCE_SEGMENTER_TYPE)d(=)k($SENTENCE_SEGMENTER_TYPE;)213
1503 y(if)f(\(defined)g($JMX_HOME\))f({)372 1582 y
($SENTENCE_SEGMENTER_TYPE)e(=)k("MxTerminator";)372 1660
y(plan\(tests)f(=>)g(10\);)213 1739 y(})g(else)h({)372
1818 y(plan\(skip_all)e(=>)i("No)f(path)g(assigned)g(to)g
(Clair::Config::JMX_HOME.)77 b(Test)318 b(\\)213 1897
y(skipped."\);)213 1976 y(})213 2134 y(use_ok\('Clair::Network'\);)213
2213 y(use_ok\('Clair::Network::Centrality::LexRan)o(k'\);)213
2291 y(use_ok\('Clair::Cluster'\);)213 2370 y
(use_ok\('Clair::Document'\);)213 2449 y(use_ok\('Clair::Util'\);)213
2686 y(my)39 b($file_gen_dir)f(=)i
("$FindBin::Bin/produced/lexrank_large";)213 2765 y(my)f
($file_input_dir)f(=)i("$FindBin::Bin/input/lexrank_large";)213
2844 y(my)f($file_exp_dir)f(=)i
("$FindBin::Bin/expected/lexrank_large";)213 3001 y(my)f($c)h(=)g(new)f
(Clair::Cluster\(\);)213 3159 y($c->load_documents\("$file_input_dir/)
1653 3171 y(*)1693 3159 y(",)34 b(type)39 b(=>)h('html',)e(count_id)h
(=>)h(1\);)213 3238 y($c->strip_all_documents\(\);)213
3317 y($c->stem_all_documents\(\);)213 3475 y(is\($c->count_elements,)c
(3,)k("count_elements"\);)213 3553 y(my)f($sent_n)g(=)h
($c->create_sentence_based_network;)213 3711 y
(is\($sent_n->num_nodes\(\),)c(44,)j("num_nodes"\);)213
3790 y(#)g(is\($sent_n->num_nodes\(\),)e(25,)i("num_nodes"\);)213
3948 y(my)g(\045cos_matrix)g(=)g($c->compute_cosine_matrix\(text_type)c
(=>)k('stem'\);)213 4105 y(my)g($n)h(=)g
($c->create_network\(cosine_matrix)35 b(=>)k(\\\045cos_matrix\);)213
4263 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
4342 y($cent->centrality\(\);)213 4421 y
($cent->save_lexrank_probabilities_to_file\()o("$file_)o(gen_dir)o
(/lex1_p)o(rob"\);)213 4500 y(ok\(compare_proper_files\("lex1_prob"\),)
34 b("save_lexrank_probabilities_to_file")h(\);)213 4658
y(my)k($lex_network)f(=)i($n->create_network_from_lexrank\(0.33\);)213
4736 y(is\($lex_network->num_nodes,)c(2,)j("num_nodes"\);)213
4894 y(my)g($lex_cluster)f(=)i
($n->create_cluster_from_lexrank\(0.33\);)213 4973 y
(is\($lex_cluster->count_elements\(\),)35 b(2,)k("count_elements"\);)
213 5131 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)213 5289 y(#)f(Compares)g(two)h(files)f
(named)g(filename)213 5367 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 5446 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 5525 y(sub)h(compare_proper_files)e({)292
5604 y(my)j($filename)f(=)g(shift;)p 3466 5708 V 185
5711 3285 4 v 1873 5809 a Fk(143)p eop end
%%Page: 144 144
TeXDict begin 144 143 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 654 4 524 v 292 313 a Fa(return)39 b
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 392 y("$file_gen_dir/$filename"\);)213 471 y(})p
3466 654 V 185 657 3285 4 v 1873 5809 a Fk(144)p eop
end
%%Page: 145 145
TeXDict begin 145 144 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.2.56)80 b(test)p 522 210 25 4 v 29 w(mead)o(wrapper)p
1049 210 V 29 w(mxt.t)p 185 295 3086 4 v 185 5708 4 5414
v 213 399 a Fa(#)39 b(script:)g(test_meadwrapper_mxt.t)213
477 y(#)g(functionality:)f(Test)h(basic)h(Clair::MEAD::Wrapper)c
(functions,)j(such)g(as)213 556 y(#)g(functionality:)f(summarization,)g
(varying)h(compression)f(ratios,)h(feature)g(sorting,)213
635 y(#)g(functionality:)f(etc.,)h(having)g(assumed)g(the)g(use)h(of)f
(MxTerminator)g(as)g(a)h(sentence)213 714 y(#)f(functionality:)f
(splitting)h(tool)213 872 y(use)g(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(FindBin;)213 1108 y(use)g(Clair::Config;)213
1187 y(use)g(Test::More;)213 1345 y(use)g(vars)g
(qw\($SENTENCE_SEGMENTER_TYPE)d($JMX_HOME\);)213 1503
y(if)j(\(not)h(defined)e($MEAD_HOME)h(or)g(not)h(-d)f($MEAD_HOME\))f({)
372 1582 y(plan\()h(skip_all)g(=>)532 1660 y('$MEAD_HOME)f(not)h
(defined)g(in)h(Clair::Config)d(or)j(doesn\\'t)f(exist')g(\);)213
1739 y(})g(else)h({)372 1818 y(if)g(\(not)f(defined)g($JMX_HOME\))f({)
532 1897 y(plan\()h(skip_all)f(=>)i('$JMX_HOME)e(not)i(defined)e(in)i
(Clair::Config.')e(\);)372 1976 y(})i(else)f({)532 2055
y(plan\()g(tests)g(=>)g(15)h(\);)372 2134 y(})213 2213
y(})213 2370 y(my)f($old_SENTENCE_SEGMENTER_TYPE)d(=)k
($SENTENCE_SEGMENTER_TYPE;)213 2449 y($SENTENCE_SEGMENTER_TYPE)c(=)k
("MxTerminator";)213 2607 y(use_ok\("Clair::MEAD::Wrapper"\);)213
2686 y(use_ok\("Clair::Cluster"\);)213 2765 y
(use_ok\("Clair::Document"\);)213 2922 y(my)f($cluster_dir)f(=)i
("$FindBin::Bin/produced/meadwrapper";)213 3001 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 3080 y
($cluster->load_documents\("$FindBin::Bin/in)o(put/mea)o(dwrappe)o(r/)
2530 3092 y(*)2570 3080 y("\);)213 3238 y(my)f($mead)g(=)h
(Clair::MEAD::Wrapper->new\()372 3317 y(mead_home)f(=>)g($MEAD_HOME,)
372 3396 y(cluster)g(=>)h($cluster,)372 3475 y(cluster_dir)e(=>)i
($cluster_dir)213 3553 y(\);)213 3711 y(my)f(\045files)g(=)h(\()g
("fed1.txt")e(=>)i(1,)f("fed2.txt")f(=>)i(1,)g("41")f(=>)g(1\);)213
3790 y(my)g(@dids)g(=)h($mead->get_dids\(\);)213 3869
y(for)f(\(@dids\))g({)372 3948 y(ok\(exists)g($files{$_},)f("listing)h
(dids:)g($_)g(exists"\);)213 4027 y(})213 4263 y(map)g({)h(delete)f
($ENV{$_})f(})i(keys)f(\045ENV;)213 4421 y(my)g(@summary1)g(=)h
($mead->run_mead\(\);)213 4500 y(is\(@summary1,)e(13,)h("Generic)g
(summary"\);)213 4658 y($mead->add_option\("-s)d(-p)k(100"\);)213
4736 y(my)f(@summary2)g(=)h($mead->run_mead\(\);)213
4815 y(is\(@summary2,)e(64,)h("No)g(compression"\);)213
4894 y(#)g(This)h(test)f(is)h(only)f(appropriate)f(for)h
(Text::Sentence.)213 4973 y(#is\(@summary2,)f(61,)h("No)g
(compression"\);)213 5131 y(my)g(@expected_features)e(=)j(sort)f
(\("Centroid",)f("Length",)h("Position"\);)213 5210 y(my)g(@features)g
(=)h(sort)f($mead->get_feature_names\(\);)213 5367 y(is\(scalar)f
(@features,)h(scalar)g(@expected_features,)e("Feature)h(names"\);)213
5525 y(for)h(\(my)h($i)f(=)h(0;)f($i)h(<)g(@features;)e($i++\))h({)372
5604 y(ok\($features[$i])f(eq)h($expected_features[$i],)p
3266 5708 V 185 5711 3086 4 v 1873 5809 a Fk(145)p eop
end
%%Page: 146 146
TeXDict begin 146 145 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2289
4 v 185 1285 4 1155 v 532 234 a Fa("Feature)38 b(names:)h
($features[$i]"\);)213 313 y(})213 471 y(my)g(\045features)g(=)h
($mead->get_feature\("Centroid"\);)213 550 y(my)f($centroid_41)f(=)i
(scalar)f(@{)h($features{"41"})d(};)213 629 y(my)i($centroid_fed1)f(=)i
(scalar)f(@{)g($features{"fed1.txt"})e(};)213 708 y(my)i
($centroid_fed2)f(=)i(scalar)f(@{)g($features{"fed2.txt"})e(};)213
865 y(is\($centroid_41,)g(26,)j("Centroid)e(scores:)h(41"\);)213
944 y(is\($centroid_fed1,)e(21,)i("Centroid)g(scores:)g(fed1.txt"\);)
213 1023 y(is\($centroid_fed2,)e(18,)i("Centroid)g(scores:)g
(fed2.txt"\);)213 1181 y($SENTENCE_SEGMENTER_TYPE)d(=)k
($old_SENTENCE_SEGMENTER_TYPE;)p 2469 1285 V 185 1288
2289 4 v 60 1481 a Fi(10.2.57)80 b(test)p 522 1481 25
4 v 29 w(web)p 694 1481 V 30 w(sear)o(ch.t)p 185 1549
3285 4 v 185 5543 4 3994 v 213 1653 a Fa(#)39 b(script:)g
(test_web_search.t)213 1732 y(#)g(functionality:)f(Test)h
(Clair::Utils::WebSearch)e(and)i(its)h(use)f(of)h(the)f(Google)213
1811 y(#)g(functionality:)f(search)h(API)h(for)f(returning)f(varying)h
(numbers)g(of)h(webpages)213 1890 y(#)f(functionality:)f(in)i(response)
e(to)i(queries)213 2048 y(use)f(strict;)213 2126 y(use)g(warnings;)213
2205 y(use)g(FindBin;)213 2284 y(use)g(Clair::Config;)213
2363 y(use)g(Test::More;)213 2521 y(if)g(\(not)h(defined)e
($GOOGLE_DEFAULT_KEY\))f({)372 2600 y(plan\(skip_all)h(=>)i
("GOOGLE_DEFAULT_KEY)d(not)i(defined)g(in)g(Clair::Config"\);)213
2679 y(})g(else)h({)372 2757 y(plan\(tests)f(=>)g(5\);)213
2836 y(})213 2994 y(use_ok\('Clair::Utils::WebSearch'\);)213
3073 y(use_ok\('Clair::Util'\);)213 3231 y(my)g($file_gen_dir)f(=)i
("$FindBin::Bin/produced/web_search";)213 3310 y(my)f($file_exp_dir)f
(=)i("$FindBin::Bin/expected/web_search";)213 3467 y
(Clair::Utils::WebSearch::download\("http://)o(tangra.)o(si.umic)o
(h.edu/")o(,)332 3546 y("$file_gen_dir/tangrapage"\);)213
3625 y(ok\(compare_proper_files\("tangrapage"\),)34 b
("WebSearch::download")j(\);)213 3783 y(my)i(@results)g(=)h
(@{Clair::Utils::WebSearch::googleGet\("West)o(minster)33
b(Abbey",)39 b(15\)};)213 3862 y(#)g(We)h(cannot)f(be)h(sure)f(what)g
(the)g(results)g(will)g(be,)h(but)f(we)h(can)f(be)h(pretty)f(safe)213
3941 y(#)g(that)h(there)f(will)g(be)h(at)f(least)g(15)213
4098 y(is\(scalar)f(@results,)h(15,)g("googleGet)g(1"\);)213
4256 y(@results)f(=)i(@{Clair::Utils::WebSearch::googleGet\("Arwad)34
b(Island",)k(25\)};)213 4335 y(#)h(Again,)g(we)h(don't)f(know)g(how)h
(what)f(the)g(results)g(will)g(be,)h(but)f(this)h(call)f(should)213
4414 y(#)g(return)g(exactly)g(25)213 4493 y(is\(scalar)f(@results,)h
(25,)g("googleGet)g(2"\);)213 4729 y(#)g(Compares)g(two)h(files)f
(named)g(filename)213 4808 y(#)g(from)h(the)f(t/docs/expected)f
(directory)g(and)213 4887 y(#)h(from)h(the)f(t/docs/produced)f
(directory)213 4966 y(sub)h(compare_proper_files)e({)292
5045 y(my)j($filename)f(=)g(shift;)292 5202 y(return)g
(Clair::Util::compare_files\("$file_exp_dir/$file)o(name",)711
b(\\)213 5281 y("$file_gen_dir/$filename"\);)213 5360
y(})p 3466 5543 V 185 5546 3285 4 v 1873 5809 a Fk(146)p
eop end
%%Page: 147 147
TeXDict begin 147 146 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fh(10.3)99 b(Example)25 b(tests)60 366 y Fk(This)20 b(section)g
(contains)g(the)g(dif)n(ferent)f(sample)g(programs)g(that)h(sho)n(w)g
(of)n(f)g(the)g(features)f(included)g(in)h(Clairlib)m(.)60
587 y Fi(10.3.1)81 b(biased)p 582 587 25 4 v 30 w(lexrank.pl)p
185 671 3125 4 v 185 5296 4 4625 v 213 775 a Fa(#!/usr/local/bin/perl)
213 933 y(#)39 b(script:)g(test_biased_lexrank.pl)213
1012 y(#)g(functionality:)f(Computes)h(the)g(lexrank)g(value)g(of)h(a)f
(network)g(given)g(bias)h(sentences)213 1170 y(use)f(strict;)213
1248 y(use)g(warnings;)213 1327 y(use)g(FindBin;)213
1406 y(use)g(Clair::Config;)213 1485 y(use)g(Clair::Cluster;)213
1564 y(use)g(Clair::Document;)213 1643 y(use)g(Clair::NetworkWrapper;)
213 1801 y(my)g(@sents)g(=)h(\("The)f(president's)f(neck)i(is)f
(missing",)731 1879 y("The)g(human)g(torch)g(was)h(denied)f(a)g(bank)h
(loan)f(today",)731 1958 y("The)g(verdict)g(was)g(mail)h(fraud"\);)213
2037 y(my)f(@bias)g(=)h(\("The)f(president's)f(neck)i(is)f(missing",)
731 2116 y("The)g(president)g(was)g(given)g(a)h(bank)f(loan"\);)213
2274 y(print)g("Sentences:\\n";)213 2353 y(map)g({)h(print)f
("\\t$_\\n")g(})g(@sents;)213 2432 y(print)g("\\nBias)g
(sentences:\\n";)213 2510 y(map)g({)h(print)f("\\t$_\\n")g(})g(@bias;)
213 2668 y(my)g($cluster)g(=)h(Clair::Cluster->new\(\);)213
2747 y(my)f($i)h(=)g(1;)213 2905 y(for)f(\(@sents\))g({)372
2984 y(chomp;)372 3063 y(my)h($doc)f(=)h(Clair::Document->new\()532
3141 y(string)f(=>)g($_,)532 3220 y(type)g(=>)g("text",)372
3299 y(\);)372 3378 y($doc->stem\(\);)372 3457 y($cluster->insert\($i,)
e($doc\);)372 3536 y($i++;)213 3615 y(})213 3772 y(my)i(\045matrix)g(=)
h($cluster->compute_cosine_matrix\(\);)213 3851 y(my)f($network)g(=)h
($cluster->create_network\()372 3930 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 4009 y(include_zeros)e(=>)i(1)213
4088 y(\);)213 4167 y(my)f($wn)h(=)f(Clair::NetworkWrapper->new\()372
4246 y(prmain)g(=>)h($PRMAIN,)372 4324 y(network)f(=>)h($network)213
4403 y(\);)213 4561 y(my)f(@verts)g(=)h($wn->{graph}->vertices\(\);)213
4719 y(my)f($lr)h(=)f(Clair::Network::Centrality::LexRank->new\($netwo)
o(rk\);)213 4877 y(my)g($lrv)h(=)f
($lr->compute_lexrank_from_bias_sents\()c(bias_sents=>\\@bias)i(\);)213
5034 y(for)i(\(my)h($i)f(=0;)h($i)f(<)h(@verts;)f($i++\))g({)372
5113 y(print)g("$sents[$i]\\t",)f($lrv->element\($i)f(+)j(1,)g(1\),)f
("\\n";)213 5192 y(})p 3306 5296 V 185 5299 3125 4 v
1873 5809 a Fk(147)p eop end
%%Page: 148 148
TeXDict begin 148 147 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.2)81 b(cfnetw)o(ork)p 716 210 25 4 v 28 w(basic.pl)p
185 295 3086 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_cfnetwork_basic.pl)213
635 y(#)g(functionality:)f(Creates)h(a)h(small)f(network)g(to)g
(demonstrate)f(the)i(CFNetwork)e(object)213 793 y(use)h(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Clair::Network;)213 1108 y(use)g(Clair::Network::CFNetwork;)213
1345 y(#)79 b(This)40 b(file)f(shows)g(the)g(basics)g(of)h(how)f(to)h
(use)f(the)h(CFNetwork)e(object.)213 1424 y(#)79 b(Here,)39
b(a)h(small,)f(simple)g(network)g(is)g(explictly)g(created.)213
1582 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1660 y(my)f($gen_dir)g(=)
h("$basedir/produced/cfnetwork";)213 1818 y(my)f($prefix)g(=)h
("basic";)213 1897 y(my)f($cfn)h(=)f
(Clair::Network::CFNetwork->new\(name)c(=>)k($prefix\);)213
2055 y(##)g(BUILD)g(THE)h(NETWORK)213 2213 y($cfn->add_node\(1,label)c
(=>)k("A"\);)213 2291 y($cfn->add_node\(2,label)c(=>)k("B"\);)213
2370 y($cfn->add_node\(3,label)c(=>)k("C"\);)213 2449
y($cfn->add_node\(4,label)c(=>)k("D"\);)213 2528 y
($cfn->add_node\(5,label)c(=>)k("E"\);)213 2607 y
($cfn->add_node\(6,label)c(=>)k("F"\);)213 2686 y
($cfn->add_weighted_edge\(1,2,2\);)75 b(#)40 b(edge)f(weight)g(of)g(2)
213 2765 y($cfn->add_edge\(2,3\);)515 b(#)40 b(default)e(edge)i(weight)
f(of)g(1)213 2844 y($cfn->add_edge\(1,3\);)213 2922 y
($cfn->add_edge\(3,4\);)213 3001 y($cfn->add_edge\(4,5\);)213
3080 y($cfn->add_edge\(5,6\);)213 3159 y
($cfn->add_weighted_edge\(4,6,1\);)213 3396 y(##)g(PRINT)g(SOME)h
(NETWORK)e(STATISTICS)213 3553 y(my)h(@nodes)g(=)h($cfn->get_vertices;)
213 3632 y(my)f(@edges)g(=)h($cfn->get_edges;)213 3790
y(print)f("There)g(are)g(",)h($cfn->num_nodes,)d(")j(nodes)f(in)h(the)f
(network\\n";)213 3869 y(print)g("There)g(are)g(",)h($cfn->num_links,)d
(")j(edges)f(in)h(the)f(network\\n";)213 3948 y(print)g(")h(m)f(=)h(",)
g($cfn->getM,)e("\\n";)213 4105 y(foreach\(sort)78 b(@nodes)39
b(\))g({)372 4263 y(print)g(")h(NODE:)79 b($_)g(\(",)40
b($cfn->get_vertex_attribute\($_,"label"\);)372 4342
y(print)f("\))h(Degree)f(=)g(",)h($cfn->total_degree\($_\);)372
4421 y(print)f(")120 b(Node)39 b(k)h(=)f(",)h($cfn->calc_k\($_\),)d
("\\n";)213 4579 y(})213 4736 y(foreach\()78 b(@edges)39
b(\))h({)372 4894 y(print)f(")h(EDGE:)79 b(${$_}[0])39
b(--)g(${$_}[1])g(";)372 4973 y(print)g(")80 b(has)39
b(weight)g(",)h($cfn->get_edge_weight\(${$_}[0],${$_}[1]\),)33
b("\\n";)213 5131 y(})213 5289 y(##)39 b(TEST)h(TO)f(SEE)h(IF)f(THE)g
(NEWORK)g(IS)h(CONNECTED)213 5446 y(if\()f($cfn->isConnected)e(\))j({)g
(print)f("The)g(network)g(is)h(connected.\\n";})213 5525
y(else)f({)h(print)f("The)g(network)g(is)g(not)h(connected.\\n";)e(})p
3266 5708 V 185 5711 3086 4 v 1873 5809 a Fk(148)p eop
end
%%Page: 149 149
TeXDict begin 149 148 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2767
4 v 185 1521 4 1391 v 213 313 a Fa(##)39 b(FIND)h(COMMUNITIES)e(WITHIN)
h(THE)g(NETWORK)213 471 y($cfn->communityFind\(dirname)d(=>)j
($gen_dir\);)213 708 y(##)g(EXPORT)g(RESULTS)g(TO)h(A)f(PAJEK)g
(PROJECT)g(FILE)213 865 y($cfn->export2PajekProject\(partition)34
b(=>)40 b('best',)f(dirname)g(=>)g($gen_dir\);)p 2948
1521 V 185 1524 2767 4 v 1873 5809 a Fk(149)p eop end
%%Page: 150 150
TeXDict begin 150 149 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.3)81 b(cfnetw)o(ork)p 716 210 25 4 v 28 w(weighted.pl)p
185 295 3006 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_cfnetwork_weighted.pl)213
635 y(#)g(functionality:)f(Creates)h(a)h(small)f(weighted)f(network)h
(to)h(demonstrate)213 714 y(#)f(functionality:)f(the)i(CFNetwork)e
(object)213 872 y(use)h(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(FindBin;)213 1108 y(use)g(Clair::Network;)213
1187 y(use)g(Clair::Network::CFNetwork;)213 1424 y(#)79
b(This)40 b(file)f(shows)g(the)g(basics)g(of)h(how)f(to)h(use)f(the)h
(CFNetwork)e(object.)213 1503 y(#)79 b(Here,)39 b(a)h(small)f(weighted)
g(network)g(is)g(explictly)g(created.)213 1660 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1739 y(my)f($gen_dir)g(=)h
("$basedir/produced/cfnetwork";)213 1897 y(my)f($prefix)g(=)h
("basicWeighted";)213 1976 y(my)f($cfn)h(=)f
(Clair::Network::CFNetwork->new\(name)c(=>)k($prefix\);)213
2134 y(##)g(BUILD)g(THE)h(NETWORK)213 2291 y($cfn->add_node\(1,label)c
(=>)k("A"\);)213 2370 y($cfn->add_node\(2,label)c(=>)k("B"\);)213
2449 y($cfn->add_node\(3,label)c(=>)k("C"\);)213 2528
y($cfn->add_node\(4,label)c(=>)k("D"\);)213 2607 y
($cfn->add_node\(5,label)c(=>)k("E"\);)213 2686 y
($cfn->add_node\(6,label)c(=>)k("F"\);)213 2765 y
($cfn->add_weighted_edge\(1,2,4\);)213 2844 y
($cfn->add_weighted_edge\(2,3,3\);)213 2922 y
($cfn->add_weighted_edge\(1,3,3\);)213 3001 y
($cfn->add_weighted_edge\(3,4,2\);)213 3080 y
($cfn->add_weighted_edge\(4,5,3\);)213 3159 y
($cfn->add_weighted_edge\(5,6,9\);)213 3238 y
($cfn->add_weighted_edge\(4,6,4\);)213 3475 y(##)f(PRINT)g(SOME)h
(NETWORK)e(STATISTICS)213 3632 y(my)h(@nodes)g(=)h($cfn->get_vertices;)
213 3711 y(my)f(@edges)g(=)h($cfn->get_edges;)213 3869
y(print)f("There)g(are)g(",)h($cfn->num_nodes,)d(")j(nodes)f(in)h(the)f
(network\\n";)213 3948 y(print)g("There)g(are)g(",)h($cfn->num_links,)d
(")j(edges)f(in)h(the)f(network\\n";)213 4027 y(print)g(")h(m)f(=)h(",)
g($cfn->getM,)e("\\n";)213 4184 y(foreach\(sort)78 b(@nodes)39
b(\))g({)372 4342 y(print)g(")h(NODE:)79 b($_)g(\(",)40
b($cfn->get_vertex_attribute\($_,"label"\);)372 4421
y(print)f("\))h(Degree)f(=)g(",)h($cfn->total_degree\($_\);)372
4500 y(print)f(")120 b(Node)39 b(k)h(=)f(",)h($cfn->calc_k\($_\),)d
("\\n";)213 4658 y(})213 4815 y(foreach\()78 b(@edges)39
b(\))h({)372 4973 y(print)f(")h(EDGE:)79 b(${$_}[0])39
b(--)g(${$_}[1])g(";)372 5052 y(print)g(")80 b(has)39
b(weight)g(",)h($cfn->get_edge_weight\(${$_}[0],${$_}[1]\),)33
b("\\n";)213 5210 y(})213 5367 y(##)39 b(TEST)h(TO)f(SEE)h(IF)f(THE)g
(NEWORK)g(IS)h(CONNECTED)213 5525 y(if\()f($cfn->isConnected)e(\))j({)g
(print)f("The)g(network)g(is)h(connected.\\n";})213 5604
y(else)f({)h(print)f("The)g(network)g(is)g(not)h(connected.\\n";)e(})p
3187 5708 V 185 5711 3006 4 v 1873 5809 a Fk(150)p eop
end
%%Page: 151 151
TeXDict begin 151 150 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2767
4 v 185 1442 4 1312 v 213 392 a Fa(##)39 b(FIND)h(COMMUNITIES)e(WITHIN)
h(THE)g(NETWORK)213 550 y($cfn->communityFind\(dirname)d(=>)j
($gen_dir\);)213 786 y(##)g(EXPORT)g(RESULTS)g(TO)h(A)f(PAJEK)g
(PROJECT)g(FILE)213 944 y($cfn->export2PajekProject\(partition)34
b(=>)40 b('best',)f(dirname)g(=>)g($gen_dir\);)p 2948
1442 V 185 1445 2767 4 v 1873 5809 a Fk(151)p eop end
%%Page: 152 152
TeXDict begin 152 151 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.4)81 b(cidr)-8 b(.pl)p 185 295 3086 4 v 185 4840
4 4546 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_cidr.pl)213 635 y(#)g(functionality:)f(Creates)h(a)h
(CIDR)f(from)g(input)g(files)g(and)h(writes)f(sample)213
714 y(#)g(functionality:)f(centroid)h(files)213 872 y(use)g(warnings;)
213 951 y(use)g(strict;)213 1030 y(use)g(FindBin;)213
1108 y(use)g(Clair::Cluster;)213 1187 y(use)g(Clair::CIDR;)213
1266 y(use)g(Getopt::Long;)213 1424 y(my)g($input_dir)g(=)g
("$FindBin::Bin/input/cidr";)213 1503 y(my)g($output_dir)g(=)g
("$FindBin::Bin/produced/cidr";)213 1660 y(unless)g(\(-d)g
($output_dir\))f({)372 1739 y(mkdir)h($output_dir)f(or)i(die)f
("Couldn't)g(mkdir)g($output_dir:)f($!";)213 1818 y(})213
1976 y(opendir)h(INPUT,)g($input_dir)f(or)h(die)h("Couldn't)e(opendir)h
($input_dir:)f($!";)213 2055 y(my)h(@files)g(=)h(map)f({)h
("$input_dir/$_")e(})h(grep)h({)f(/\\.txt$/)g(})h(readdir)f(INPUT;)213
2134 y(closedir)f(INPUT;)213 2291 y(my)h($cluster)g(=)h
(Clair::Cluster->new\(\);)213 2370 y
($cluster->load_file_list_array\(\\@files,)34 b(type)39
b(=>)h("text"\);)213 2528 y(my)f($cidr)g(=)h(Clair::CIDR->new\(\);)213
2607 y(my)f(@results)g(=)h($cidr->cluster\($cluster\);)213
2765 y(chdir)f($output_dir)f(or)i(die)f("Couldn't)g(chdir)g(to)g
($output_dir:)f($!";)213 2844 y(foreach)h(my)g($result)g(\(@results\))f
({)372 3001 y(my)i($cluster)e(=)i($result->{cluster};)372
3080 y(my)g($centroid)e(=)i($result->{centroid};)372
3238 y(my)g(@words=)f(sort)g({)g($centroid->{$b})f(<=>)h
($centroid->{$a})f(})i(keys)f(\045$centroid;)372 3317
y(my)h($docs)f(=)h($cluster->documents\(\);)372 3475
y(my)g($str)f(=)h("$words[0]_$words[1]_$words[2]";)372
3553 y(mkdir)f("$str")g(or)h(die)f("Couldn't)g(mkdir)g
($output_dir/$str:)e($!";)372 3711 y(open)i(CENTROID,)g(">)g
($str/centroid.txt")532 3790 y(or)g(die)h("Couldn't)e(open)h
($str/centroid.txt:)e($!";)372 3869 y(foreach)i(my)h($word)f
(\(@words\))f({)532 3948 y(print)h(CENTROID)f
("$word\\t$centroid->{$word}\\n";)372 4027 y(})372 4105
y(close)h(CENTROID;)372 4263 y
($cluster->save_documents_to_directory\($str,)34 b("text"\);)372
4421 y(print)39 b("cluster:)g($str\\n";)372 4500 y(map)h({)f(print)g
("\\t$_\\n")g(})h(keys)f(\045{)h($cluster->documents\(\))c(};)372
4579 y(print)j("\\n";)213 4736 y(})p 3266 4840 V 185
4843 3086 4 v 1873 5809 a Fk(152)p eop end
%%Page: 153 153
TeXDict begin 153 152 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.5)81 b(classify)-6 b(.pl)p 185 295 3205 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_classify.pl)213 635 y(#)g(functionality:)f
(Classifies)h(the)g(test)g(documents)g(using)g(the)g(perceptron)g
(parameters)213 714 y(#)g(functionality:)f(calculated)h(previously;)f
(requires)g(that)i(learn.pl)e(has)i(been)f(run)213 872
y(use)g(strict;)213 951 y(use)g(FindBin;)213 1030 y(#)g(use)h(lib)f
("$FindBin::Bin/../lib";)213 1108 y(#)g(use)h(lib)f
("$FindBin::Bin/lib";)e(#)j(if)f(you)h(are)f(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1187 y(use)f(vars)g(qw/$DEBUG/;)213
1345 y(use)g(Benchmark;)213 1424 y(use)g(Clair::Classify;)213
1503 y(use)g(Data::Dumper;)213 1582 y(use)g(File::Find;)213
1739 y($DEBUG)g(=)g(0;)213 1897 y(my)g($results_root)f(=)i
("$FindBin::Bin/produced/features";)213 1976 y(mkpath\($results_root,)c
(0,)k(0777\))f(unless\(-d)g($results_root\);)213 2134
y(my)g($output)g(=)h("feature_vectors";)213 2213 y(my)f($test)g(=)h
("$results_root/$output.test";)213 2291 y(my)f($model)g(=)h
("$results_root/model";)213 2370 y(my)f($output)g(=)h
("$results_root/classify.results";)213 2607 y(unless\(-f)e($test\))213
2686 y({)213 2765 y(print)h("The)g(test)g(file)h(is)f(required.)g(Make)
g(sure)g(learn.pl)g(has)g(been)h(run.\\n";)213 2844 y(exit;)213
2922 y(})213 3159 y(my)f($t0;)213 3238 y(my)g($t1;)213
3396 y(#)213 3475 y(#)g(Finding)g(files)213 3553 y(#)213
3632 y($t0)g(=)h(new)f(Benchmark;)213 3790 y(my)g($cla)h(=)f(new)h
(Clair::Classify\(DEBUG)c(=>)k($DEBUG,)f(test)g(=>)h($test,)f(model)g
(=>)g($model\);)213 3948 y(my)g(\($result,)g($correct_count,)e
($total_count\))h(=)i($cla->classify\(\);)213 4105 y(my)f($percent)g(=)
h(sprintf\("\045.4f",)d(\()j($correct_count)e(/)h($total_count)g(\))
2763 4117 y(*)2843 4105 y(100)g(\);)213 4184 y(#)g(print)h
(Dumper\(\\@return\);)213 4263 y(print)f("accuracy:)f(\()i
($correct_count)e(/)h($total_count)f(\))2245 4275 y(*)2325
4263 y(100)h(=)h($percent\\n";)213 4500 y($cla->debugmsg\($result,)c
(1\);)213 4658 y(#)j(save)h(the)f(output)213 4736 y(open)g(M,)h(">)f
($output")g(or)g($cla->errmsg\("cannot)e(open)i(file)h('$output':)e
($!",)h(1\);)213 4815 y(for)g(my)h($aref)f(\(@$result\))213
4894 y({)213 4973 y(my)g($line)g(=)h(join)f(")h(",)g(@$aref;)213
5052 y(print)f(M)h("$line\\n";)213 5131 y(})213 5210
y(close)f(M;)213 5446 y($t1)g(=)h(new)f(Benchmark;)213
5525 y(my)g($timediff_find)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)p
3386 5708 V 185 5711 3205 4 v 1873 5809 a Fk(153)p eop
end
%%Page: 154 154
TeXDict begin 154 153 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.6)81 b(classify)p 615 210 25 4 v 29 w(weka.pl)p
185 295 3205 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_classify_weka.pl)213
635 y(#)g(functionality:)f(Extracts)h(bag-of-words)f(features)h(from)g
(each)g(document)213 714 y(#)g(functionality:)f(in)i(a)f(training)g
(corpus)g(of)h(baseball)e(and)i(hockey)f(documents,)213
793 y(#)g(functionality:)f(then)h(trains)g(and)h(evaluates)e(a)i(Weka)f
(decision)g(tree)g(classifier,)213 872 y(#)g(functionality:)f(saving)h
(its)h(output)f(to)g(files)213 1030 y(use)g(strict;)213
1108 y(use)g(warnings;)213 1187 y(use)g(FindBin;)213
1266 y(use)g(lib)h("$FindBin::Bin/../lib";)213 1424 y(use)f
(Clair::Document;)213 1503 y(use)g(Clair::Cluster;)213
1582 y(use)g(Clair::Interface::Weka;;)213 1739 y(my)g($basedir)119
b(=)39 b($FindBin::Bin;)213 1818 y(my)g($input_dir)g(=)g
("$basedir/input/classify";)213 1897 y(my)g($gen_dir)119
b(=)39 b("$basedir/produced/classify";)213 2213 y(#)g(---FEATURE)g
(EXTRACTION)f(PHASE---)213 2291 y(print)h("\\n---FEATURE)f(EXTRACTION)g
(PHASE---";)213 2449 y(#)h(Extract)g(features)g(for)g(training,)g(then)
g(for)g(testing)213 2528 y(for)g(my)h($round)f(\(\("train",)f
("test"\)\))h({)213 2607 y(#)g(Create)g(a)h(cluster)213
2686 y(my)f($c)h(=)g(new)f(Clair::Cluster;)213 2765 y
($c->set_id\("sports"\);)213 2922 y(#)g(Read)h(every)f(document)f(from)
i(the)f(the)h(the)f(training)g(or)g(test)g(directory)g(and)g(insert)79
b(\\)213 3001 y(it)39 b(into)h(the)f(cluster)213 3080
y(#)g(Convert)g(from)h(HTML)f(to)g(text,)g(then)h(stem)f(as)g(we)h(do)g
(so)213 3159 y(while)f(\()h(<$input_dir/$round/)1292
3171 y(*)1332 3159 y(>)c(\))k({)213 3238 y(my)f($file)g(=)h($_;)213
3396 y(my)f($doc)h(=)f(new)h(Clair::Document\(type)d(=>)i('html',)g
(file)g(=>)h($file,)f(id)g(=>)h($file\);)213 3475 y
($doc->set_class\(extract_class\($doc->get_ht)o(ml\(\),)34
b($file\)\);)78 b(#)40 b(Set)f(the)398 b(\\)213 3553
y(document's)38 b(class)h(label)213 3632 y($doc->strip_html;)213
3711 y($doc->stem;)213 3869 y($c->insert\($file,)e($doc\);)213
3948 y(})213 4027 y(#)i(Compute)g(the)h(bag-of-words)e(feature)h
(\(which)f(actually)h(constitutes)f(a)i(vector\))f(for)79
b(\\)213 4105 y(each)39 b(document)g(in)g(the)h(cluster)213
4184 y($c->compute_document_feature\(name)35 b(=>)k("vect",)g(feature)g
(=>)916 b(\\)213 4263 y(\\&compute_bag_of_words_vect\);)213
4421 y(#)39 b(Get)h(the)f(number)g(of)h(documents)e(belonging)h(to)g
(each)h(class)f(occurring)f(in)i(the)318 b(\\)213 4500
y(cluster)213 4579 y(my)39 b(\045classes)g(=)h($c->classes\(\);)213
4658 y(print)f("\\nExtracting)f(",)h($c->count_elements\(\),)e(")j
(documents)e(to)i($round:\\n";)213 4736 y(print)f(")159
b(")40 b(.)g($classes{'baseball'})c(.)k(")g(baseball)e(documents\\n";)
213 4815 y(print)h(")159 b(")40 b(.)g($classes{'hockey'})d(.)i(")h
(hockey)f(documents\\n";)213 4973 y(#)g(Write)h(features)e(to)i(ARFF,)f
(prepending)f(the)i(specified)e(header)213 5052 y(my)h($header)g(=)h
("\0451.)f(Title:)g(Baseball)g(/)g(Hockey)g(Corpus)g(Dataset)g
(\($round\)\\n")f(.)253 5131 y("\0452.)h(Source:)g(20_newsgroups)f
(Corpus\\n")g(.)253 5210 y("\045)238 b(\(a\))40 b(Creator:)e(Ken)i
(Lang\\n")f(.)253 5289 y("\045\\n";)213 5367 y(write_ARFF\($c,)f
("$gen_dir/$round.arff",)e($header\);)213 5446 y(print)j("Features)f
(written)h(to)h($gen_dir/$round.arff\\n";)213 5525 y(})p
3386 5708 V 185 5711 3205 4 v 1873 5809 a Fk(154)p eop
end
%%Page: 155 155
TeXDict begin 155 154 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 313 a Fa(#)39 b(---TRAINING)g(PHASE---)213
392 y(print)g("\\n---TRAINING)f(PHASE---\\n";)213 550
y(#)h(Train)h(a)f(J48)h(decision)e(tree)i(classifier)e(using)h(10-fold)
g(cross-validation)213 629 y(print)g("Training)f(J48)i(decision)e(tree)
i(classifier)e(with)h(10-fold)876 b(\\)213 708 y
(cross-validation...\\n";)213 786 y(train_classifier\(classifier)36
b(=>)j('weka.classifiers.trees.J48',)253 865 y(trainfile)78
b(=>)40 b("$gen_dir/train.arff",)253 944 y(modelfile)78
b(=>)40 b("$gen_dir/J48.model",)253 1023 y(logfile)158
b(=>)40 b("$gen_dir/train-10fold-J48.log"\);)213 1102
y(print)f(")159 b(See)40 b($gen_dir/train-crossval-J48.log)35
b(for)k(log)h(of)f(classifier)f(output)159 b(\\)213 1181
y(from)39 b(training)g(and)g(10-fold)g(cross-validation\\n";)213
1338 y(#)g(Train)h(a)f(J48)h(decision)e(tree)i(classifier)e(using)h
(cross-validation)f(on)h(the)g(test)h(set)213 1417 y(print)f("Training)
f(J48)i(decision)e(tree)i(classifier)e(with)h(cross-validation)f(on)h
(test)199 b(\\)213 1496 y(set...\\n";)213 1575 y(my)39
b(\($train_10fold_log,)e($train_test_log\))h(=)h
(train_classifier\(classifier)d(=>)279 b(\\)213 1654
y('weka.classifiers.trees.J48',)332 1733 y(trainfile)79
b(=>)39 b("$gen_dir/train.arff",)332 1812 y(modelfile)79
b(=>)39 b("$gen_dir/J48.model",)332 1891 y(testfile)119
b(=>)39 b("$gen_dir/test.arff",)332 1969 y(logfile)159
b(=>)39 b("$gen_dir/train-test-J48.log"\);)213 2048 y(print)g(")159
b(See)40 b($gen_dir/train-crossval-J48.log)35 b(for)k(log)h(of)f
(classifier)f(output)159 b(\\)213 2127 y(from)39 b(training)g(and)g
(cross-validation)f(on)h($gen_dir/test.arff\\n";)213
2364 y(#)g(---TESTING)g(PHASE---)213 2443 y(print)g("\\n---TESTING)f
(PHASE---\\n";)213 2522 y(print)h("Testing)g(classifier)f
(predictions...\\n";)213 2600 y(#)h(Test)h(the)f(classifier)f(directly)
h(on)h(the)f(test)g(set,)h(outputting)e(predictions)g(for)199
b(\\)213 2679 y(individual)38 b(documents)213 2758 y(my)h($test_log)g
(=)h(test_classifier\(classifier)35 b(=>)40 b
('weka.classifiers.trees.J48',)332 2837 y(modelfile)f(=>)g
("$gen_dir/J48.model",)332 2916 y(testfile)79 b(=>)39
b("$gen_dir/test.arff",)332 2995 y(predfile)79 b(=>)39
b("$gen_dir/test-J48.pred",)332 3074 y(logfile)119 b(=>)39
b("$gen_dir/test-J48.log"\);)213 3153 y(print)g(")159
b(See)40 b($gen_dir/test-J48.log)c(for)k(log)f(of)h(classifier)e
(output)h(from)358 b(\\)213 3231 y(testing\\n";)213 3310
y(print)39 b(")159 b(See)40 b($gen_dir/test-J48.pred)c(for)j(log)h(of)f
(classifier)g(predictions)f(from)119 b(\\)213 3389 y(testing\\n";)213
3626 y(#)39 b(---DONE---)213 3705 y(print)g("\\nHave)g(a)g(nice)h
(day!\\n";)213 4020 y(#)f(---AUXILIARY)g(PROCEDURES---)213
4178 y(#)g(Extract)g(a)h(document's)e(class)213 4257
y(sub)h(extract_class)f({)372 4336 y(my)i($html)f(=)h(shift;)372
4414 y(my)g($file)f(=)h(shift;)372 4572 y(my)g($label)f(=)g($1)h(if)f
(\($html)g(=\230)h(m/<DOC)f(GROUP="rec\\.sport\\.\(\\w+?\)">/\);)372
4651 y(die)h("extract_class)d(-)j(Class)f(label)g(not)h(found)f(in)g
($file")g(if)h(not)f(defined)g($label;)372 4730 y(return)g($label;)213
4809 y(})213 5045 y(#)g(Compute)g(the)h(bag-of)f(words)g(feature)g
(from)g(10)g(pre-selected)f(features)h(\(these)358 b(\\)213
5124 y(features)38 b(were)i(culled)f(earlier)213 5203
y(#)g(from)h(the)f(entire)g(set)g(of)h(stemmed)f(terms)g(occurring)f
(in)i(the)f(corpus)g(using)g(chi)h(square)f(\\)213 5282
y(feature)g(selection\))213 5361 y(sub)g(compute_bag_of_words_vect)d({)
213 5440 y(my)j(\045params)g(=)h(@_;)p 3466 5544 V 185
5547 3285 4 v 1873 5809 a Fk(155)p eop end
%%Page: 156 156
TeXDict begin 156 155 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 1611
4 v 185 1600 4 1470 v 213 234 a Fa(my)39 b($docref)g(=)h
($params{document};)213 392 y(my)f(\045tf)h(=)f($docref->tf\(type)f(=>)
h("stem"\);)213 471 y(my)g(\045vect;)213 550 y($vect{'hockei'})e(=)j
($tf{'hockei'})118 b(||)39 b(0;)213 629 y($vect{'nhl'})f(=)i
($tf{'nhl'})357 b(||)39 b(0;)213 708 y($vect{'playoff'})e(=)j
($tf{'playoff'})e(||)h(0;)213 786 y($vect{'pitch'})f(=)h($tf{'pitch'})
198 b(||)39 b(0;)213 865 y($vect{'basebal'})e(=)j($tf{'basebal'})e(||)h
(0;)213 944 y($vect{'goal'})f(=)h($tf{'goal'})278 b(||)39
b(0;)213 1023 y($vect{'cup'})f(=)i($tf{'cup'})357 b(||)39
b(0;)213 1102 y($vect{'ca'})f(=)i($tf{'ca'})437 b(||)39
b(0;)213 1181 y($vect{'bat'})f(=)i($tf{'bat'})357 b(||)39
b(0;)213 1260 y($vect{'pitcher'})e(=)j($tf{'pitcher'})e(||)h(0;)213
1417 y(return)g(\\\045vect;)213 1496 y(})p 1792 1600
V 185 1603 1611 4 v 1873 5809 a Fk(156)p eop end
%%Page: 157 157
TeXDict begin 157 156 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.7)81 b(cluster)-8 b(.pl)p 185 295 3285 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_cluster.pl)213 635 y(#)g(functionality:)f
(Creates)h(a)h(cluster,)e(a)i(sentence-based)e(network)h(from)g(it,)213
714 y(#)g(functionality:)f(calculates)h(a)g(binary)g(cosine)g(and)h
(builds)f(a)g(network)g(based)213 793 y(#)g(functionality:)f(on)i(the)f
(cosine,)g(then)g(exports)g(it)h(to)f(Pajek)213 951 y(#)g(Note:)h(Make)
f(sure)g(java)g(is)h(in)f(your)h(path,)f(it)g(is)h(used)f(by)h(the)f
(splitter.)213 1108 y(use)g(strict;)213 1187 y(use)g(warnings;)213
1266 y(use)g(FindBin;)213 1345 y(use)g(lib)h("$FindBin::Bin/../lib";)
213 1503 y(use)f(Clair::Document;)213 1582 y(use)g(Clair::Cluster;)213
1660 y(use)g(Clair::Network;)213 1818 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1897 y(my)f($input_dir)g(=)g
("$basedir/input/cluster";)213 1976 y(my)g($gen_dir)g(=)h
("$basedir/produced/cluster";)213 2134 y(#)f(Create)g(a)h(cluster)213
2213 y(my)f($c)h(=)g(new)f(Clair::Cluster;)213 2370 y(my)g($count)g(=)h
(0;)213 2528 y(#)f(Read)h(every)f(document)f(from)i(the)f(the)h('text')
e(directory)213 2607 y(#)h(And)h(insert)f(it)g(into)h(the)f(cluster)213
2686 y(#)g(Convert)g(from)h(HTML)f(to)g(text,)g(then)h(stem)f(as)g(we)h
(do)g(so)213 2765 y(while)f(\()h(<$input_dir/)1012 2777
y(*)1052 2765 y(>)d(\))j({)213 2844 y(my)f($file)g(=)h($_;)213
3001 y(my)f($doc)h(=)f(new)h(Clair::Document\(type)d(=>)i('html',)g
(file)g(=>)h($file,)f(id)g(=>)h(++$count\);)213 3080
y($doc->strip_html;)213 3159 y($doc->stem;)213 3317 y
($c->insert\($count,)d($doc\);)213 3396 y(})213 3553
y(print)i("Loaded)g(",)g($c->count_elements,)e(")j(documents.\\n";)213
3711 y(print)f("Creating)f(sentence)h(based)g(network.\\n";)213
3790 y(my)g($n)h(=)g($c->create_sentence_based_network\(\);)213
3869 y(print)f("Created)g(sentence)f(based)h(network)g(with:)g(",)h
($n->num_nodes\(\),)d(")j(documents)e(and)i(\\)213 3948
y(",)f($n->num_links,)f(")i(edges.\\n";)213 4105 y(#)f(Compute)g(the)h
(cosine)f(matrix)213 4184 y(my)g(\045cos_matrix)g(=)g
($c->compute_cosine_matrix;)213 4342 y(#)g(Find)h(the)f(largest)g
(cosine)213 4421 y(my)g(\045largest_cosine)f(=)i
($c->get_largest_cosine;)213 4500 y(print)f("The)g(largest)g(cosine)g
(is)g(",)h($largest_cosine{'value'},)c(")k(produced)e(by)i(",)452
4579 y($largest_cosine{'key1'},)c(")k(and)f(",)h
($largest_cosine{'key2'},)c(".\\n";)213 4736 y(#)j(Compute)g(the)h
(binary)f(cosine)g(using)g(threshold)f(=)i(0.15,)213
4815 y(#)f(then)h(write)f(it)g(to)h(file)f('docs/produced/text.cosine')
213 4894 y(my)g(\045bin_cosine)g(=)g
($c->compute_binary_cosine\(0.15\);)213 4973 y
($c->write_cos\("$gen_dir/text.cosine",)34 b(cosine_matrix)k(=>)i
(\\\045bin_cosine\);)213 5131 y(#)f(Create)g(a)h(network)f(using)g(the)
g(binary)g(cosine,)213 5210 y(#)g(then)h(export)f(the)g(network)g(to)g
(Pajek)213 5289 y($n)g(=)h($c->create_network\(cosine_matrix)35
b(=>)40 b(\\\045bin_cosine\);)213 5367 y(my)f($export)g(=)h
(Clair::Network::Writer::Pajek->new\(\);)213 5446 y
($export->set_name\('cosine_network'\);)213 5525 y
($export->write_network\($n,)c("$gen_dir/test.pajek"\);)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(157)p eop
end
%%Page: 158 158
TeXDict begin 158 157 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2049
4 v 185 338 4 208 v 213 234 a Fa
($c->save_documents_to_directory\($gen_dir,)33 b('text'\);)p
2230 338 V 185 341 2049 4 v 60 534 a Fi(10.3.8)81 b(compar)o(e)p
665 534 25 4 v 28 w(idf)o(.pl)p 185 619 3285 4 v 185
4928 4 4309 v 213 723 a Fa(#!/usr/local/bin/perl)213
880 y(#)39 b(script:)g(test_compare_idf.pl)213 959 y(#)g
(functionality:)f(Compares)h(results)g(of)g(Clair::Util)f(idf)i
(calculations)e(with)213 1038 y(#)h(functionality:)f(those)h(performed)
g(by)g(the)h(build_idf)e(script)213 1196 y(#)h(This)h(is)f(used)h(to)f
(compare)g(the)g(results)g(of)h(the)f(idf)g(calculations)g(in)g
(Clair::Util)213 1275 y(#)g(to)h(the)f(ones)h(performed)e(by)i(the)f
(build_idf)g(script)213 1353 y(#)g(Input)h(should)f(be)g(a)h(single)f
(file)g(that)g(has)h(already)e(been)i(stemmed)213 1432
y(use)f(strict;)213 1511 y(use)g(warnings;)213 1590 y(use)g(FindBin;)
213 1669 y(use)g(Clair::Util;)213 1748 y(use)g(Clair::Cluster;)213
1827 y(use)g(Clair::Document;)213 1906 y(use)g(DB_File;)213
2063 y(#)g(This)h(file)f(has)g(been)h(stemmed.)213 2142
y(my)f($input_file)g(=)g("$FindBin::Bin/input/compare_idf/speech.txt";)
213 2221 y(my)g($output_dir)g(=)g
("$FindBin::Bin/produced/compare_idf";)213 2379 y(#)g(Create)g(cluster)
213 2458 y(my)g(\045documents)g(=)g(\(\);)213 2537 y(my)g($c)h(=)g
(Clair::Cluster->new\(documents)35 b(=>)40 b(\\\045documents\);)213
2852 y(#)f(Create)g(each)h(document,)e(stem)h(it,)h(and)f(insert)g(it)h
(into)f(the)g(cluster)213 2931 y(#)g(Add)h(the)f(stemmed)g(text)g(to)h
(the)f($text)g(variable)213 3010 y(my)g($doc)h(=)f
(Clair::Document->new\(type)d(=>)k('text',)f(file)g(=>)h($input_file,)e
(id)h(=>)279 b(\\)213 3089 y($input_file\);)213 3168
y($c->insert\(document)37 b(=>)i($doc,)g(id)h(=>)g($input_file\);)213
3246 y(my)f($text)g(.=)h($doc->get_text\(\))d(.)j(")g(";)213
3404 y(#)f(Take)h(off)f(the)h(last)f(newline)g(like)g(the)g(other)g
(build_idf)g(does)g(\(for)g(comparison\))213 3483 y($text)g(=)h
(substr\($text,)d(0,)j(length\($text\))e(-)i(1\);)213
3641 y(#)f(Make)h(the)f(produced)g(directory)f(unless)h(it)h(exists)213
3720 y(unless)f(\(-d)g($output_dir\))f({)372 3798 y(mkdir)h
($output_dir)f(or)i(die)f("Couldn't)g(create)g($output_dir:)f($!";)213
3877 y(})213 4035 y(Clair::Util::build_idf_by_line\($text,)c
("$output_dir/dbm2"\);)213 4193 y(my)39 b(\045idf)h(=)f
(Clair::Util::read_idf\("$output_dir/dbm2"\);)213 4272
y(my)g($l;)213 4351 y(my)g($r;)213 4429 y(my)g($ct)h(=)f(0;)213
4587 y(while)g(\(\($l,)g($r\))g(=)h(each)f(\045idf\))g({)292
4666 y($ct++;)292 4745 y(print)h("$ct\\t$l\\t)932 4757
y(*)972 4745 y($r)1052 4757 y(*)1092 4745 y(\\n";)213
4824 y(})p 3466 4928 V 185 4931 3285 4 v 1873 5809 a
Fk(158)p eop end
%%Page: 159 159
TeXDict begin 159 158 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.9)81 b(cor)o(pusdo)o(wnload)p 941 210 25 4 v
29 w(h)o(yperlink.pl)p 185 295 3285 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39 b(script:)g
(test_corpusdownload_hyperlink.pl)213 635 y(#)g(functionality:)f
(Downloads)h(a)g(corpus)g(and)h(creates)f(a)g(network)g(based)g(on)h
(the)213 714 y(#)f(functionality:)f(hyperlinks)h(between)f(the)i
(webpages)213 872 y(use)f(strict;)213 951 y(use)g(warnings;)213
1030 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 1108 y(#)119 b(This)39 b(is)h(a)g(sample)f
(driver)g(for)g(the)g(TF/IDF)g(CLAIR)g(library)g(modules)213
1187 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 1345 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1424 y(#)332 1436 y(*)412 1424 y(Use)g(CorpusDownload.pm)f
(to)h(download)g(and)g(build)g(a)h(new)g(corpus,)e(or)213
1503 y(#)239 b(to)39 b(build)g(a)h(TF)g(or)f(IDF.)213
1582 y(#)332 1594 y(*)412 1582 y(Use)g(Idf)h(\(Tf\))f(to)h(use)f(an)h
(already-built)d(Idf)j(\(Tf\))213 1660 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1739 y(use)g(DB_File;)213 1818 y(use)g(FindBin;)213
1897 y(use)g(Clair::Utils::CorpusDownload;)213 1976 y(use)g
(Clair::Utils::Idf;)213 2055 y(use)g(Clair::Utils::Tf;)213
2134 y(use)g(Clair::Network;)213 2213 y(use)g
(Clair::Network::Centrality::PageRank;)213 2370 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 2449 y(my)f($input_dir)g(=)g
("$basedir/input/corpusdownload_hyperlink";)213 2607
y(my)g($gen_dir)g(=)h("$basedir/produced/corpusdownload_hyperlin)o(k";)
213 2686 y(unless)f(\(-d)g($gen_dir\))g({)372 2765 y(mkdir)g($gen_dir)g
(or)g(die)h("Couldn't)e(mkdir)h($gen_dir:)g($!";)213
2844 y(})213 2922 y(unless)g(\(-d)g("$gen_dir/corpora"\))e({)372
3001 y(mkdir)i("$gen_dir/corpora")e(or)j(die)f("Couldn't)g(mkdir)g
($gen_dir/corpora:)e($!";)213 3080 y(})213 3238 y(#)i
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3317 y(#)79 b(This)40 b(is)f(the)h(constructor.)77
b(It)40 b(simply)f(stores)g(the)g(directory)213 3396
y(#)79 b(and)40 b(name)f(of)h(the)f(corpus.)79 b(It)39
b(must)g(be)h(called)f(prior)g(to)213 3475 y(#)79 b(any)40
b(other)f(routine.)213 3553 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3632 y(my)g($corpus_name)f(=)i("test-hyper";)213
3711 y(my)f($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b($corpus_name,)850 3790 y(rootdir)g(=>)h($gen_dir\);)213
3948 y(#)f(-----------------------------------------------)o(-------)o
(-------)o(------)213 4027 y(#)79 b(Here's)39 b(how)h(to)f(build)g(a)h
(corpus.)79 b(An)39 b(array)g(@urls)g(needs)h(to)f(be)213
4105 y(#)79 b(built)39 b(somehow.)79 b(\(Here,)39 b(we)g(read)h(the)f
(URLs)g(from)h(a)f(file)213 4184 y(#)79 b($corpusname.urls.\))e(Then,)
39 b(the)h(corpus)f(will)g(be)h(built)f(in)213 4263 y(#)79
b(the)40 b(directory)e($rootdir/$corpusname)213 4342
y(#)h(-----------------------------------------------)o(-------)o
(-------)o(------)213 4421 y(my)g($uref)g(=)h
($corpusref->readUrlsFile\("$input_dir/t.urls"\))o(;)213
4500 y($corpusref->buildIdf\(stemmed)35 b(=>)40 b(0,)g(rootdir)e(=>)i
($gen_dir)f(\);)213 4579 y($corpusref->buildIdf\(stemmed)c(=>)40
b(1,)g(rootdir)e(=>)i($gen_dir)f(\);)213 4658 y
($corpusref->buildCorpus\(urlsref)c(=>)40 b($uref,)e(rootdir)h(=>)h
($gen_dir)f(\);)213 4736 y($corpusref->build_docno_dbm\()c(rootdir)k
(=>)h($gen_dir)e(\);)213 4894 y(#)h
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4973 y(#)g(Compute)g(the)h(file)f(listing)g(the)g(links)213
5052 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 5131 y($corpusref->write_links\()d(rootdir)j(=>)g
($gen_dir)g(\);)213 5289 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5367 y(#)g(Create)g(the)h(network)f(based)g(on)g(the)h
(links)213 5446 y(#)f(-----------------------------------------------)o
(-------)o(-------)o(------)213 5525 y(my)g($linkfile)g(=)h
("$gen_dir/corpus-data/$corpus_name/$corpu)o(s_name.)o(links")o(;)213
5604 y(my)f($doc_to_file)f(=)2511 b(\\)p 3466 5708 V
185 5711 3285 4 v 1873 5809 a Fk(159)p eop end
%%Page: 160 160
TeXDict begin 160 159 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2783 4 2653 v 213 234 a Fa
("$gen_dir/corpus-data/$corpus_name/$corpus)o(_name-d)o(ocid-to)o
(-file";)213 313 y(my)39 b($compress_dbm)f(=)2471 b(\\)213
392 y("$gen_dir/corpus-data/$corpus_name/$corpus)o(_name-c)o(ompress)o
(-docid")o(;)213 550 y(my)39 b($network)g(=)h
(Clair::Network->new_hyperlink_network\($lin)o(kfile,)711
b(\\)213 629 y(docid_to_file_dbm)37 b(=>)j($doc_to_file,)e
(compress_docid)f(=>)j($compress_dbm\);)213 708 y(my)f($networkEX)g(=)g
(Clair::Network->new_hyperlink_network\($linkfile)o(,)34
b(ignore_EX)39 b(=>)119 b(\\)213 786 y(0,)39 b(docid_to_file_dbm)f(=>)h
($doc_to_file,)f(compress_docid)g(=>)h($compress_dbm\);)213
944 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 1023 y(#)g(Create)g(the)h(network)f(based)g(on)g
(the)h(links)213 1102 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1181 y(print)g("Diameter)f(without)h(EX:)h(",)f
($network->diameter\(max)e(=>)i(1\),)h("\\n";)213 1260
y(print)f("Avg)g(diameter)g(without)g(EX:)g(",)h
($network->diameter\(avg)c(=>)k(1\),)f("\\n";)213 1417
y(print)g("Diameter)f(with)i(EX:)f(",)h($networkEX->diameter\(max)c(=>)
j(1\),)h("\\n";)213 1496 y(print)f("Avg)g(diameter)g(with)g(EX:)g(",)h
($networkEX->diameter\(avg)c(=>)k(1\),)f("\\n";)213 1733
y(my)g($cent)g(=)h(Clair::Network::Centrality::LexRank->new\($net)o
(work\);)213 1891 y($network->centrality\(\);)213 2048
y(print)f("Pagerank)f(results:\\n";)213 2127 y
($network->print_current_distribution\(\);)213 2285 y($cent)h(=)h
(Clair::Network::Centrality::LexRank->new\()o($networ)o(k\);)213
2443 y($cent->centrality\(\);)213 2522 y(print)f("Pagerank)f(results)h
(with)g(EX:\\n";)213 2600 y($cent->print_current_distribution\(\);)p
3466 2783 V 185 2786 3285 4 v 1873 5809 a Fk(160)p eop
end
%%Page: 161 161
TeXDict begin 161 160 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.10)80 b(cor)o(pusdo)o(wnload)p 982 210 25 4 v
29 w(list.pl)p 185 295 3125 4 v 185 5708 4 5414 v 213
399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39 b(script:)g
(test_corpusdownload_list.pl)213 635 y(#)g(functionality:)f(Downloads)h
(a)g(corpus)g(and)h(makes)f(stemmed)g(and)g(unstemmed)g(IDFs)213
714 y(#)g(functionality:)78 b(and)39 b(TFs)213 872 y(use)g(strict;)213
951 y(use)g(warnings;)213 1030 y(use)g(DB_File;)213 1108
y(use)g(FindBin;)213 1187 y(use)g(Clair::Utils::CorpusDownload;)213
1266 y(use)g(Clair::Utils::Idf;)213 1345 y(use)g(Clair::Utils::Tf;)213
1503 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1582 y(my)f($input_dir)g
(=)g("$basedir/input/corpusdownload_list";)213 1739 y(my)g($gen_dir)g
(=)h("$basedir/produced/corpusdownload_list";)213 1818
y(unless)f(\(-d)g($gen_dir\))g({)372 1897 y(mkdir)g($gen_dir)g(or)g
(die)h("Couldn't)e(mkdir)h($gen_dir:)g($!";)213 1976
y(})213 2055 y(unless)g(\(-d)g("$gen_dir/corpora"\))e({)372
2134 y(mkdir)i("$gen_dir/corpora")e(or)j(die)f("Couldn't)g(mkdir)g
($gen_dir/corpora:)e($!";)213 2213 y(})213 2370 y(#)i
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2449 y(#)79 b(This)40 b(is)f(the)h(constructor.)77
b(It)40 b(simply)f(stores)g(the)g(directory)213 2528
y(#)79 b(and)40 b(name)f(of)h(the)f(corpus.)79 b(It)39
b(must)g(be)h(called)f(prior)g(to)213 2607 y(#)79 b(any)40
b(other)f(routine.)213 2686 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2765 y(my)g($corpus_name)f(=)i("test-files";)213
2844 y(my)f($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b($corpus_name,)850 2922 y(rootdir)g(=>)h("$gen_dir"\);)213
3080 y(#)f(-----------------------------------------------)o(-------)o
(-------)o(------)213 3159 y(#)79 b(Here's)39 b(how)h(to)f(build)g(a)h
(corpus.)79 b(An)39 b(array)g(@urls)g(needs)h(to)f(be)213
3238 y(#)79 b(built)39 b(somehow.)79 b(\(Here,)39 b(we)g(read)h(the)f
(URLs)g(from)h(a)f(file)213 3317 y(#)79 b($corpusname.urls.\))e(Then,)
39 b(the)h(corpus)f(will)g(be)h(built)f(in)213 3396 y(#)79
b(the)40 b(directory)e($rootdir/$corpusname)213 3475
y(#)h(-----------------------------------------------)o(-------)o
(-------)o(------)213 3553 y(my)g($uref)g(=)h
($corpusref->readUrlsFile\("$input_dir/files.li)o(st"\);)213
3632 y(foreach)f(my)g($url)g(\(@$uref\))g({)213 3711
y($url)g(=)h("$input_dir/")e(.)h($url;)213 3790 y(})213
3948 y(foreach)g(my)g($url)g(\(@$uref\))g({)213 4027
y(print)g("URL:)g($url\\n";)213 4105 y(})213 4263 y(print)g("Read)g(",)
h(scalar)e(@$uref,)h(")h(filenames.\\n";)213 4342 y
($corpusref->buildCorpusFromFiles\(filesref)33 b(=>)40
b($uref,)f(cleanup)g(=>)g(0\);)213 4500 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4579 y(#)79 b(This)40 b(is)f(how)h(to)f(build)g(the)h(IDF.)
79 b(First)39 b(we)g(build)g(the)h(unstemmed)e(IDF,)213
4658 y(#)79 b(then)40 b(the)f(stemmed)g(one.)213 4736
y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 4815 y($corpusref->buildIdf\(stemmed)c(=>)40
b(0,)g(rootdir)e(=>)i("$gen_dir/corpora"\);)213 4894
y($corpusref->buildIdf\(stemmed)35 b(=>)40 b(1,)g(rootdir)e(=>)i
("$gen_dir/corpora"\);)213 5052 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5131 y(#)79 b(This)40 b(is)f(how)h(to)f(build)g(the)h(TF.)
79 b(First)39 b(we)g(build)h(the)f(DOCNO/URL)213 5210
y(#)79 b(database,)39 b(which)g(is)g(necessary)g(to)h(build)f(the)g
(TFs.)79 b(Then)39 b(we)h(build)213 5289 y(#)79 b(unstemmed)39
b(and)g(stemmed)g(TFs.)213 5367 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5446 y($corpusref->build_docno_dbm\()c(rootdir)k(=>)h
("$gen_dir/corpora"\);)213 5525 y($corpusref->buildTf\(stemmed)c(=>)j
(0,)h(rootdir)e(=>)i("$gen_dir/corpora"\);)213 5604 y
($corpusref->buildTf\(stemmed)c(=>)j(1,)h(rootdir)e(=>)i
("$gen_dir/corpora"\);)p 3306 5708 V 185 5711 3125 4
v 1873 5809 a Fk(161)p eop end
%%Page: 162 162
TeXDict begin 162 161 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2807
4 v 185 5544 4 5414 v 213 313 a Fa(#)39 b
(-----------------------------------------------)o(-------)o(-------)o
(------)213 392 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(IDF.)79
b(The)40 b(constructor)e(\(new\))h(opens)g(the)213 471
y(#)79 b(unstemmed)39 b(IDF.)79 b(Then)39 b(we)h(ask)f(for)h(IDFs)f
(for)g(the)h(words)f("have")213 550 y(#)79 b("and")39
b(and)h("zimbabwe.")213 629 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 708 y(my)g($idfref)g(=)h(Clair::Utils::Idf->new\()c
(rootdir)j(=>)h("$gen_dir",)1129 786 y(corpusname)f(=>)g($corpus_name)f
(,)1129 865 y(stemmed)h(=>)h(0)f(\);)213 1023 y(my)g($result)g(=)h
($idfref->getIdfForWord\("have"\);)213 1102 y(print)f("IDF\(have\))f(=)
i($result\\n";)213 1181 y($result)f(=)g
($idfref->getIdfForWord\("and"\);)213 1260 y(print)g("IDF\(and\))f(=)i
($result\\n";)213 1338 y($result)f(=)g
($idfref->getIdfForWord\("zimbabwe"\);)213 1417 y(print)g
("IDF\(zimbabwe\))f(=)h($result\\n";)213 1575 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1654 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)
f(term)g(queries.)79 b(The)39 b(constructor)g(\(new\))213
1733 y(#)79 b(opens)39 b(the)h(unstemmed)e(TF.)80 b(Then)39
b(we)g(ask)h(for)f(information)f(about)i(the)213 1812
y(#)79 b(word)40 b("have":)213 1891 y(#)213 1969 y(#)79
b(1)40 b(first,)f(we)h(get)f(the)g(number)g(of)h(documents)e(in)i(the)f
(corpus)g(with)213 2048 y(#)159 b(the)39 b(word)h("have")213
2127 y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(total)h(number)f(of)g
(occurrences)f(of)i(the)f(word)h("have")213 2206 y(#)79
b(3)40 b(then,)f(we)h(print)f(a)g(list)h(of)f(URLs)h(of)f(the)g
(documents)g(that)g(have)h(the)213 2285 y(#)159 b(word)39
b("have")g(and)h(the)f(number)g(of)h(times)f(each)g(occurs)g(in)g(the)h
(document)213 2364 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2443 y(my)g($tfref)g(=)h(Clair::Utils::Tf->new\()d(rootdir)
h(=>)i("$gen_dir",)1050 2522 y(corpusname)e(=>)i($corpus_name)e(,)1050
2600 y(stemmed)g(=>)i(0)g(\);)213 2758 y(print)f("\\n\\n---Direct)f
(term)h(queries)g(\(unstemmed\):---\\n";)213 2837 y($result)78
b(=)40 b($tfref->getNumDocsWithWord\("have"\);)213 2916
y(my)f($freq)g(=)h($tfref->getFreq\("have"\);)213 2995
y(my)f(@urls)g(=)h($tfref->getDocs\("have"\);)213 3074
y(print)f("\\n";)213 3231 y(print)g("TF\(have\))f(=)i($freq)f(total)g
(in)h($result)f(docs\\n";)213 3310 y(print)g("Documents)f(with)h
(\\"have\\"\\n";)213 3389 y(foreach)g(my)g($url)g(\(@urls\))79
b({)372 3468 y(my)40 b($url_freq)e(=)i
($tfref->getFreqInDocument\("have",)35 b(url)k(=>)h($url\);)372
3547 y(print)f(")80 b($url:)39 b($url_freq\\n";)213 3626
y(})213 3705 y(print)g("\\n";)213 3862 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3941 y(#)79 b(Then)40 b(we)f(do)h(1-3)f(with)g(the)h(word)f
("and")213 4020 y(#)g(-----------------------------------------------)o
(-------)o(-------)o(------)213 4099 y($result)g(=)g
($tfref->getNumDocsWithWord\("and"\);)213 4178 y($freq)119
b(=)39 b($tfref->getFreq\("and"\);)213 4257 y(@urls)119
b(=)39 b($tfref->getDocs\("and"\);)213 4336 y(print)g("TF\(a\))g(=)h
($freq)f(total)g(in)g($result)g(docs\\n";)213 4414 y(print)g
("Documents)f(with)h(\\"and\\"\\n";)213 4493 y(foreach)g(my)g($url)g
(\(@urls\))79 b({)372 4572 y(my)40 b($url_freq)e(=)i
($tfref->getFreqInDocument\("and",)35 b(url)k(=>)h($url\);)372
4651 y(print)f(")80 b($url:)39 b($url_freq\\n";)213 4730
y(})213 4809 y(print)g("\\n";)213 5045 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5124 y(#)79 b(Then)40 b(we)f(do)h(1-3)f(with)g(the)h(word)f
("zimbabwe")213 5203 y(#)79 b(And)40 b(also)f(print)g(out)g(the)h
(number)f(of)g(times)g(zimbabwe)g(is)h(used)f(in)h(each)213
5282 y(#)79 b(document)213 5361 y(#)39 b
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5440 y($result)g(=)g
($tfref->getNumDocsWithWord\("zimbabwe"\);)p 2987 5544
V 185 5547 2807 4 v 1873 5809 a Fk(162)p eop end
%%Page: 163 163
TeXDict begin 163 162 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa($freq)119 b(=)39 b
($tfref->getFreq\("zimbabwe"\);)213 313 y(@urls)g(=)h
($tfref->getDocs\("zimbabwe"\);)213 392 y(print)f("TF\(zimbabwe\))f(=)h
($freq)h(total)f(in)g($result)g(docs\\n";)213 471 y(print)g("Documents)
f(with)h(\\"zimbabwe\\"\\n";)213 550 y(foreach)g(my)g($url)g(\(@urls\))
79 b({)372 629 y(my)40 b($url_freq)e(=)i
($tfref->getFreqInDocument\("zimbabwe",)34 b(url)40 b(=>)f($url\);)372
708 y(print)g(")80 b($url:)39 b($url_freq\\n";)213 786
y(})213 865 y(print)g("\\n";)213 1102 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1181 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)
f(phrase)g(queries.)79 b(The)39 b(constructor)f(\(new\))213
1260 y(#)79 b(opens)39 b(the)h(stemmed)f(TF.)79 b(Then)39
b(we)h(ask)f(for)g(information)g(about)g(the)213 1338
y(#)79 b(phrase)39 b("result)g(in":)213 1417 y(#)213
1496 y(#)79 b(1)40 b(first,)f(we)h(get)f(the)g(number)g(of)h(documents)
e(in)i(the)f(corpus)g(with)213 1575 y(#)159 b(the)39
b(phrase)g("result)g(in")213 1654 y(#)79 b(2)40 b(then,)f(we)h(get)f
(the)g(total)h(number)f(of)g(occurrences)f(of)i(the)f(phrase)213
1733 y(#)159 b("result)39 b(in")213 1812 y(#)79 b(3)40
b(then,)f(we)h(print)f(a)g(list)h(of)f(URLs)h(of)f(the)g(documents)g
(that)g(have)h(the)213 1891 y(#)159 b(word)39 b("result)g(in")g(and)h
(the)f(number)g(of)h(times)f(each)g(occurs)g(in)h(the)213
1969 y(#)159 b(document,)39 b(as)g(well)g(as)h(the)f(position)g(in)g
(the)h(document)f(of)g(the)h(initial)213 2048 y(#)159
b(term)39 b(\("result"\))g(in)g(each)g(occurrence)g(of)g(the)h(phrase)
213 2127 y(#)79 b(4)40 b(finally,)f(using)g(a)g(different)g(method,)g
(we)g(print)g(the)h(number)f(of)g(times)213 2206 y(#)159
b("result)39 b(in")g(occurs)g(in)h(each)f(document)g(in)g(which)g(it)h
(occurs)f(\(from)g(3\),)213 2285 y(#)159 b(as)40 b(well)f(as)g(the)h
(position\(s\))e(of)i(its)f(occurrence)f(\(as)i(in)f(3\))213
2364 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 2443 y($tfref)g(=)g(Clair::Utils::Tf->new\()e
(rootdir)i(=>)g("$gen_dir",)1050 2522 y(corpusname)f(=>)i($corpus_name)
e(,)1050 2600 y(stemmed)g(=>)i(1)g(\);)213 2758 y(print)f
("\\n---Direct)f(phrase)h(queries)g(\(stemmed\):---\\n";)213
2837 y(my)g(@phrase)g(=)h(\("result",)e("in"\);)213 2916
y($result)h(=)g($tfref->getNumDocsWithPhrase\(@phrase\);)213
2995 y($freq)119 b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213
3074 y(my)g($positionsByUrlsRef)e(=)j
($tfref->getDocsWithPhrase\(@phrase\);)213 3153 y(print)f
("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)g($result)g
(docs\\n";)213 3231 y(print)g("Documents)f(with)h(\\"result)g
(in\\"\\n";)213 3310 y(foreach)g(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))77 b({)372 3389 y(my)40 b($url_freq)e(=)i
(scalar)f(keys)g(\045{$positionsByUrlsRef->{$url}};)372
3468 y(print)g(")80 b($url:\\n";)372 3547 y(print)39
b(")239 b(freq)g(=)39 b($url_freq\\n";)372 3626 y(print)g(")239
b(positions)39 b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 3705 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 3783 y(})213 3862 y(print)f("\\n";)213
4020 y(print)g("The)g(following)g(should)g(be)g(identical)g(to)g(the)h
(previous:\\n";)213 4099 y(foreach)f(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))e({)372 4178 y(my)j(\($url_freq,)e
($url_positions_ref\))f(=)1594 b(\\)213 4257 y
($tfref->getPhraseFreqInDocument\(\\@phrase,)33 b(url)40
b(=>)f($url\);)372 4336 y(print)g(")80 b($url:\\n";)372
4414 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
4493 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 4572 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 4651 y(})213 4730 y(print)g("\\n\\n";)213
4967 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 5045 y(#)79 b(Then)40 b(we)f(do)h(1-4)f(with)g
(the)h(phrase)f("resulting)f(in")213 5124 y(#)79 b(And)40
b(also)f(print)g(out)g(the)h(number)f(of)g(times)g("resulting)g(in")g
(is)h(used)f(in)h(each)213 5203 y(#)79 b(document)213
5282 y(#)g(Because)39 b(of)h(stemming,)e(the)i(results)e(this)i(time)f
(should)g(be)g(the)213 5361 y(#)79 b(same)40 b(as)f(those)g(from)g
(last)h(time)f(\(see)g(directly)g(above\))213 5440 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)p 3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(163)p
eop end
%%Page: 164 164
TeXDict begin 164 163 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 313 a Fa(@phrase)39 b(=)g(\("resulting",)f
("in"\);)213 392 y($result)h(=)g
($tfref->getNumDocsWithPhrase\(@phrase\);)213 471 y($freq)119
b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213 550 y
($positionsByUrlsRef)e(=)i($tfref->getDocsWithPhrase\(@phrase\);)213
629 y(print)g("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)g
($result)g(docs\\n";)213 708 y(print)g("Documents)f(with)h
(\\"resulting)g(in\\")g(\(should)g(be)g(the)h(same)f(as)h(for)f
(\\"result)238 b(\\)213 786 y(in\\"\)\\n";)213 865 y(foreach)39
b(my)g($url)g(\(keys)g(\045$positionsByUrlsRef\))77 b({)372
944 y(my)40 b($url_freq)e(=)i(scalar)f(keys)g
(\045{$positionsByUrlsRef->{$url}};)372 1023 y(print)g(")80
b($url:\\n";)372 1102 y(print)39 b(")239 b(freq)g(=)39
b($url_freq\\n";)372 1181 y(print)g(")239 b(positions)39
b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 1260 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 1338 y(})213 1417 y(print)f("\\n";)213
1575 y(print)g("The)g(following)g(should)g(be)g(identical)g(to)g(the)h
(previous:\\n";)213 1654 y(foreach)f(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))e({)372 1733 y(my)j(\($url_freq,)e
($url_positions_ref\))f(=)1594 b(\\)213 1812 y
($tfref->getPhraseFreqInDocument\(\\@phrase,)33 b(url)40
b(=>)f($url\);)372 1891 y(print)g(")80 b($url:\\n";)372
1969 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
2048 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 2127 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 2206 y(})213 2285 y(print)g("\\n";)213
2522 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 2600 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h
(TF)g(for)f(fuzzy)g(OR)h(queries.)78 b(We)40 b(query)f(the)213
2679 y(#)79 b(\(stemmed)39 b(index)g(of)h(the\))f(corpus)g(as)g
(follows:)213 2758 y(#)213 2837 y(#)79 b(1)40 b(first,)f(we)h(get)f
(the)g(number)g(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
2916 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(term)g
(!"thisisnotaword")f(\(#)h(=)h(N\),)213 2995 y(#)159
b(then)39 b(try)h(the)f(same)g(query)g(formulated)g(as)g(a)h(negated)f
(phrase)213 3074 y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(number)g(and)
h(scores)f(of)g(documents)g(in)g(the)h(corpus)213 3153
y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(term)g("result")g(\(#)
h(=)f(A\),)213 3231 y(#)159 b(then)39 b(try)h(the)f(same)g(query)g
(formulated)g(as)g(a)h(phrase)213 3310 y(#)79 b(3)40
b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f(of)g(documents)g(in)
g(the)h(corpus)213 3389 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)
f(term)g("in")h(\(#)f(=)h(B\))213 3468 y(#)79 b(4)40
b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f(of)g(documents)g(in)
g(the)h(corpus)213 3547 y(#)159 b(matching)39 b(a)g(query)g(over)h
(terms)f("result",)f("in")i(\(#)f(=)h(C)g(<=)f(A)h(+)g(B\))213
3626 y(#)79 b(5)40 b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f
(of)g(documents)g(in)g(the)h(corpus)213 3705 y(#)159
b(matching)39 b(the)g(phrase)g(query)g("result)g(in")g(\(#)h(=)g(D)f
(<=)h(A,)f(B\))213 3783 y(#)79 b(6)40 b(then,)f(we)h(get)f(the)g
(number)g(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
3862 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(phrase)
g(!"result)g(in")g(\(#)h(=)f(E)h(=)g(N)f(-)h(D\))213
3941 y(#)79 b(7)40 b(finally,)f(we)g(get)h(the)f(number)g(and)g(scores)
g(of)h(documents)e(in)i(the)f(corpus)213 4020 y(#)159
b(matching)39 b(a)g(query)g(over)h(the)f(phrases)g("due)g(to",)g
("according)g(to")213 4099 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4257 y(print)g("\\n---Fuzzy)f(OR)i(Queries)e
(\(stemmed\):---\\n";)213 4336 y(#1a)372 4414 y(print)h("Query)g(1a:)h
(!\\"thisisnotaword\\")d(\(negated)h(term)i(query\)\\n";)372
4493 y(my)g(\($pTerms,)e($pNegTerms,)g($pPhrasePtrs,)g
($pNegPhrasePtrs\))g(=)i(\([],)557 b(\\)213 4572 y(["thisisnotaword"],)
37 b([],)i([]\);)372 4651 y(my)h(\045docScores)e(=)i
($tfref->getDocsMatchingFuzzyORQuery\($pTerms)o(,)34
b($pNegTerms,)158 b(\\)213 4730 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 4809 y(my)i($N)f(=)h(scalar)f(keys)g
(\045docScores;)372 4888 y(my)h(@scores)f(=)g(sort)g({$b)h(<=>)f($a})h
(values)f(\045docScores;)372 4967 y(print)g(")160 b(#)39
b(docs)g(matching:)g(N)h(=)f($N\\n";)372 5045 y(print)g(")518
b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n";)213
5124 y(#1b)372 5203 y(print)g("Query)g(1b:)h(!\\"thisisnotaword\\")d
(\(negated)h(phrase)h(query\)\\n";)372 5282 y(\($pTerms,)g($pNegTerms,)
f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)h([],)358
b(\\)213 5361 y([["thisisnotaword"]]\);)372 5440 y(\045docScores)39
b(=)g($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34
b($pNegTerms,)277 b(\\)p 3466 5544 V 185 5547 3285 4
v 1873 5809 a Fk(164)p eop end
%%Page: 165 165
TeXDict begin 165 164 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 313 y($N)i(=)f(scalar)g(keys)h(\045docScores;)
372 392 y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g
(\045docScores;)372 471 y(print)g(")160 b(#)39 b(docs)g(matching:)g(N)h
(=)f($N\\n";)372 550 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g
(",)h(@scores\))f(.)g("\\n\\n";)213 786 y(#2a)372 865
y(print)g("Query)g(2a:)h(\\"result\\")e(\(term)h(query\)\\n";)372
944 y(\($pTerms,)g($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)
j(\(["result"],)e([],)h([],)h(\\)213 1023 y([]\);)372
1102 y(\045docScores)f(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 1181 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
1260 y(my)i($A)f(=)h(scalar)f(keys)g(\045docScores;)372
1338 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 1417 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)
372 1496 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n";)213 1575 y(#2b)372 1654 y(print)g("Query)g(2b:)
h(\\"result\\")e(\(phrase)h(query\)\\n";)372 1733 y(\($pTerms,)g
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)518
b(\\)213 1812 y([["result"]],)38 b([]\);)372 1891 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 1969 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
2048 y($A)i(=)f(scalar)g(keys)h(\045docScores;)372 2127
y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)372
2206 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)372
2285 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 2364 y(#3)372 2443 y(print)g("Query)g(3:)h
(\\"in\\"\\n";)372 2522 y(\($pTerms,)f($pNegTerms,)f($pPhrasePtrs,)g
($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)g([],)199 b(\\)213
2600 y([]\);)372 2679 y(\045docScores)39 b(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 2758 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
2837 y(my)i($B)f(=)h(scalar)f(keys)g(\045docScores;)372
2916 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 2995 y(print)g(")160 b(#)39 b(docs)g(matching:)g(B)h(=)f($B\\n";)
372 3074 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n\\n";)213 3153 y(#4)372 3231 y(print)g("Query)g
(4:)h(\\"result\\",)e(\\"in\\"\\n";)372 3310 y(\($pTerms,)h
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)
g([],)199 b(\\)213 3389 y([]\);)372 3468 y(\045docScores)39
b(=)g($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34
b($pNegTerms,)277 b(\\)213 3547 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 3626 y(my)i($C)f(=)h(scalar)f(keys)g
(\045docScores;)372 3705 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f
(values)g(\045docScores;)372 3783 y(print)g(")160 b(#)39
b(docs)g(matching:)g(C)h(=)f($C)h(<=)f(A)h(+)g(B)g(=)f(")h(.)g(\($A)f
(+)h($B\))f(.)h("\\n";)372 3862 y(print)f(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n\\n";)213
3941 y(#5)372 4020 y(print)g("Query)g(5:)h(\\"result)e(in\\"\\n";)372
4099 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\([],)f([],)h([["result",)e(\\)213 4178 y("in"]],)h([]\);)372
4257 y(\045docScores)g(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 4336 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
4414 y(my)i($D)f(=)h(scalar)f(keys)g(\045docScores;)372
4493 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 4572 y(print)g(")160 b(#)39 b(docs)g(matching:)g(D)h(=)f($D)h(<=)f
(min{A,)g(B}\\n";)372 4651 y(print)g(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n\\n";)213
4730 y(#6)372 4809 y(print)g("Query)g(6:)h(!\\"result)e(in\\"\\n";)372
4888 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\([],)f([],)h([],)358 b(\\)213 4967 y([["result",)38
b("in"]]\);)372 5045 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 5124 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
5203 y(my)i($E)f(=)h(scalar)f(keys)g(\045docScores;)372
5282 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 5361 y(print)g(")160 b(#)39 b(docs)g(matching:)g(E)h(=)f($E)h(=)g
(N)f(-)h(D)g(=)f(")h(.)g(\($N)f(-)h($D\))f(.)h("\\n";)372
5440 y(print)f(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)p 3466 5544 V 185 5547 3285 4 v 1873 5809
a Fk(165)p eop end
%%Page: 166 166
TeXDict begin 166 165 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1521 4 1391 v 213 234 a Fa(#7)372 313 y(print)39
b("Query)g(7:)h(\\"due)f(to\\",)g(\\"according)f(to\\"\\n";)372
392 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)
j(\([],)f([],)518 b(\\)213 471 y([["due","to"],)38 b
(["according","to"]],)e([]\);)372 550 y(\045docScores)j(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 629 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
708 y(my)i($F)f(=)h(scalar)f(keys)g(\045docScores;)372
786 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 865 y(print)g(")160 b(#)39 b(docs)g(matching:)g(F)h(=)f($F\\n";)372
944 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 1181 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1260 y(#)79 b(Finally,)39 b(we)h(tell)f(the)g(user)g(to)h
(have)f(a)h(nice)f(day.)213 1338 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1417 y(print)g("\\nHave)g(a)g(nice)h(day!\\n";)p
3466 1521 V 185 1524 3285 4 v 1873 5809 a Fk(166)p eop
end
%%Page: 167 167
TeXDict begin 167 166 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.11)80 b(cor)o(pusdo)o(wnload.pl)p 185 295 2807
4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_corpusdownload.pl)213 635
y(#)g(functionality:)f(Downloads)h(a)g(corpus)g(from)h(a)f(file)h
(containing)e(URLs;)213 714 y(#)h(functionality:)78 b(makes)39
b(IDFs)g(and)h(TFs)213 872 y(use)f(strict;)213 951 y(use)g(warnings;)
213 1030 y(use)g(FindBin;)213 1187 y(use)g
(Clair::Utils::CorpusDownload;)213 1266 y(use)g(Clair::Utils::Idf;)213
1345 y(use)g(Clair::Utils::Tf;)213 1424 y(use)g(DB_File;)213
1582 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1660 y(my)f($gen_dir)g(=)
h("$basedir/produced/corpusdownload";)213 1739 y(my)f($input_dir)g(=)g
("$basedir/input/corpusdownload";)213 1897 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1976 y(#)79 b(This)40 b(is)f(the)h(constructor.)77
b(It)40 b(simply)f(stores)g(the)g(directory)213 2055
y(#)79 b(and)40 b(name)f(of)h(the)f(corpus.)79 b(It)39
b(must)g(be)h(called)f(prior)g(to)213 2134 y(#)79 b(any)40
b(other)f(routine.)213 2213 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2291 y(my)g($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b("t2",)850 2370 y(rootdir)g(=>)h("$gen_dir"\);)213 2528
y(#)f(-----------------------------------------------)o(-------)o
(-------)o(------)213 2607 y(#)79 b(Here's)39 b(how)h(to)f(build)g(a)h
(corpus.)79 b(An)39 b(array)g(@urls)g(needs)h(to)f(be)213
2686 y(#)79 b(built)39 b(somehow.)79 b(\(Here,)39 b(we)g(read)h(the)f
(URLs)g(from)h(a)f(file)213 2765 y(#)79 b($corpusname.urls.\))e(Then,)
39 b(the)h(corpus)f(will)g(be)h(built)f(in)213 2844 y(#)79
b(the)40 b(directory)e($rootdir/$corpusname)213 2922
y(#)h(-----------------------------------------------)o(-------)o
(-------)o(------)213 3001 y(my)g($uref)g(=)h
($corpusref->readUrlsFile\("$input_dir/t.urls"\))o(;)213
3159 y($corpusref->buildCorpus\(urlsref)35 b(=>)40 b($uref,)e(cleanup)h
(=>)h(0\);)213 3396 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3475 y(#)79 b(This)40 b(is)f(how)h(to)f(build)g(the)h(IDF.)
79 b(First)39 b(we)g(build)g(the)h(unstemmed)e(IDF,)213
3553 y(#)79 b(then)40 b(the)f(stemmed)g(one.)213 3632
y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 3711 y($corpusref->buildIdf\(stemmed)c(=>)40
b(0\);)213 3790 y($corpusref->buildIdf\(stemmed)35 b(=>)40
b(1\);)213 3948 y(#)f(-----------------------------------------------)o
(-------)o(-------)o(------)213 4027 y(#)79 b(This)40
b(is)f(how)h(to)f(build)g(the)h(TF.)79 b(First)39 b(we)g(build)h(the)f
(DOCNO/URL)213 4105 y(#)79 b(database,)39 b(which)g(is)g(necessary)g
(to)h(build)f(the)g(TFs.)79 b(Then)39 b(we)h(build)213
4184 y(#)79 b(unstemmed)39 b(and)g(stemmed)g(TFs.)213
4263 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 4342 y($corpusref->build_docno_dbm\(\);)213
4421 y($corpusref->buildTf\(stemmed)d(=>)j(0\);)213 4500
y($corpusref->buildTf\(stemmed)d(=>)j(1\);)213 4658 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4736 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(IDF.)79
b(The)40 b(constructor)e(\(new\))h(opens)g(the)213 4815
y(#)79 b(unstemmed)39 b(IDF.)79 b(Then)39 b(we)h(ask)f(for)h(IDFs)f
(for)g(the)h(words)f("have")213 4894 y(#)79 b("and")39
b(and)h("zimbabwe.")213 4973 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5052 y(my)g($idfref)g(=)h(Clair::Utils::Idf->new\()c
(rootdir)j(=>)h("$gen_dir",)1129 5131 y(corpusname)f(=>)g("t2")g(,)1129
5210 y(stemmed)g(=>)h(0)f(\);)213 5367 y(my)g($result)g(=)h
($idfref->getIdfForWord\("have"\);)213 5446 y(print)f("IDF\(have\))f(=)
i($result\\n";)213 5525 y($result)f(=)g
($idfref->getIdfForWord\("and"\);)213 5604 y(print)g("IDF\(and\))f(=)i
($result\\n";)p 2987 5708 V 185 5711 2807 4 v 1873 5809
a Fk(167)p eop end
%%Page: 168 168
TeXDict begin 168 167 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2807
4 v 185 5544 4 5414 v 213 234 a Fa($result)39 b(=)g
($idfref->getIdfForWord\("zimbabwe"\);)213 313 y(print)g
("IDF\(zimbabwe\))f(=)h($result\\n";)213 471 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 550 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)f
(term)g(queries.)79 b(The)39 b(constructor)g(\(new\))213
629 y(#)79 b(opens)39 b(the)h(unstemmed)e(TF.)80 b(Then)39
b(we)g(ask)h(for)f(information)f(about)i(the)213 708
y(#)79 b(word)40 b("have":)213 786 y(#)213 865 y(#)79
b(1)40 b(first,)f(we)h(get)f(the)g(number)g(of)h(documents)e(in)i(the)f
(corpus)g(with)213 944 y(#)159 b(the)39 b(word)h("have")213
1023 y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(total)h(number)f(of)g
(occurrences)f(of)i(the)f(word)h("have")213 1102 y(#)79
b(3)40 b(then,)f(we)h(print)f(a)g(list)h(of)f(URLs)h(of)f(the)g
(documents)g(that)g(have)h(the)213 1181 y(#)159 b(word)39
b("have")g(and)h(the)f(number)g(of)h(times)f(each)g(occurs)g(in)g(the)h
(document)213 1260 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1338 y(my)g($tfref)g(=)h(Clair::Utils::Tf->new\()d(rootdir)
h(=>)i("$gen_dir",)1050 1417 y(corpusname)e(=>)i("t2")f(,)1050
1496 y(stemmed)f(=>)i(0)g(\);)213 1654 y(print)f("\\n\\n---Direct)f
(term)h(queries)g(\(unstemmed\):---\\n";)213 1733 y($result)g(=)g
($tfref->getNumDocsWithWord\("have"\);)213 1812 y(my)g($freq)119
b(=)40 b($tfref->getFreq\("have"\);)213 1891 y(my)f(@urls)g(=)h
($tfref->getDocs\("have"\);)213 1969 y(print)f("TF\(have\))f(=)i($freq)
f(total)g(in)h($result)f(docs\\n";)213 2048 y(print)g("Documents)f
(with)h(\\"have\\"\\n";)213 2127 y(foreach)g(my)g($url)g(\(@urls\))79
b({)213 2206 y(my)39 b($url_freq)g(=)h
($tfref->getFreqInDocument\("have",)34 b(url)40 b(=>)f($url\);)213
2285 y(print)g(")79 b($url:)40 b($url_freq\\n";)213 2364
y(})213 2443 y(print)f("\\n";)213 2600 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2679 y(#)79 b(Then)40 b(we)f(do)h(1-3)f(with)g(the)h(word)f
("and")213 2758 y(#)g(-----------------------------------------------)o
(-------)o(-------)o(------)213 2837 y($result)g(=)g
($tfref->getNumDocsWithWord\("and"\);)213 2916 y($freq)119
b(=)39 b($tfref->getFreq\("and"\);)213 2995 y(@urls)g(=)h
($tfref->getDocs\("and"\);)213 3074 y(print)f("TF\(and\))g(=)g($freq)g
(total)g(in)h($result)f(docs\\n";)213 3153 y(print)g("Documents)f(with)
h(\\"and\\"\\n";)213 3231 y(foreach)g(my)g($url)g(\(@urls\))79
b({)213 3310 y(my)39 b($url_freq)g(=)h
($tfref->getFreqInDocument\("and",)35 b(url)k(=>)h($url\);)213
3389 y(print)f(")79 b($url:)40 b($url_freq\\n";)213 3468
y(})213 3547 y(print)f("\\n";)213 3783 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3862 y(#)79 b(Then)40 b(we)f(do)h(1-3)f(with)g(the)h(word)f
("zimbabwe")213 3941 y(#)79 b(And)40 b(also)f(print)g(out)g(the)h
(number)f(of)g(times)g(zimbabwe)g(is)h(used)f(in)h(each)213
4020 y(#)79 b(document)213 4099 y(#)39 b
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4178 y($result)g(=)g
($tfref->getNumDocsWithWord\("zimbabwe"\);)213 4257 y($freq)119
b(=)39 b($tfref->getFreq\("zimbabwe"\);)213 4336 y(@urls)g(=)h
($tfref->getDocs\("zimbabwe"\);)213 4414 y(print)f("TF\(zimbabwe\))f(=)
h($freq)h(total)f(in)g($result)g(docs\\n";)213 4493 y(print)g
("Documents)f(with)h(\\"zimbabwe\\"\\n";)213 4572 y(foreach)g(my)g
($url)g(\(@urls\))79 b({)213 4651 y(my)39 b($url_freq)g(=)h
($tfref->getFreqInDocument\("zimbabwe",)34 b(url)39 b(=>)h($url\);)213
4730 y(print)f(")79 b($url:)40 b($url_freq\\n";)213 4809
y(})213 4888 y(print)f("\\n";)213 5124 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5203 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)
f(phrase)g(queries.)79 b(The)39 b(constructor)f(\(new\))213
5282 y(#)79 b(opens)39 b(the)h(stemmed)f(TF.)79 b(Then)39
b(we)h(ask)f(for)g(information)g(about)g(the)213 5361
y(#)79 b(phrase)39 b("result)g(in":)213 5440 y(#)p 2987
5544 V 185 5547 2807 4 v 1873 5809 a Fk(168)p eop end
%%Page: 169 169
TeXDict begin 169 168 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(#)79 b(1)40 b(first,)f(we)h(get)f
(the)g(number)g(of)h(documents)e(in)i(the)f(corpus)g(with)213
313 y(#)159 b(the)39 b(phrase)g("result)g(in")213 392
y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(total)h(number)f(of)g
(occurrences)f(of)i(the)f(phrase)213 471 y(#)159 b("result)39
b(in")213 550 y(#)79 b(3)40 b(then,)f(we)h(print)f(a)g(list)h(of)f
(URLs)h(of)f(the)g(documents)g(that)g(have)h(the)213
629 y(#)159 b(word)39 b("result)g(in")g(and)h(the)f(number)g(of)h
(times)f(each)g(occurs)g(in)h(the)213 708 y(#)159 b(document,)39
b(as)g(well)g(as)h(the)f(position)g(in)g(the)h(document)f(of)g(the)h
(initial)213 786 y(#)159 b(term)39 b(\("result"\))g(in)g(each)g
(occurrence)g(of)g(the)h(phrase)213 865 y(#)79 b(4)40
b(finally,)f(using)g(a)g(different)g(method,)g(we)g(print)g(the)h
(number)f(of)g(times)213 944 y(#)159 b("result)39 b(in")g(occurs)g(in)h
(each)f(document)g(in)g(which)g(it)h(occurs)f(\(from)g(3\),)213
1023 y(#)159 b(as)40 b(well)f(as)g(the)h(position\(s\))e(of)i(its)f
(occurrence)f(\(as)i(in)f(3\))213 1102 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1181 y($tfref)g(=)g(Clair::Utils::Tf->new\()e(rootdir)i(=>)
g("$gen_dir",)1050 1260 y(corpusname)f(=>)i("t2")f(,)1050
1338 y(stemmed)f(=>)i(1)g(\);)213 1496 y(print)f("\\n---Direct)f
(phrase)h(queries)g(\(stemmed\):---\\n";)213 1575 y(my)g(@phrase)g(=)h
(\("result",)e("in"\);)213 1654 y($result)h(=)g
($tfref->getNumDocsWithPhrase\(@phrase\);)213 1733 y($freq)119
b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213 1812 y(my)g
($positionsByUrlsRef)e(=)j($tfref->getDocsWithPhrase\(@phrase\);)213
1891 y(print)f("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)g
($result)g(docs\\n";)213 1969 y(print)g("Documents)f(with)h(\\"result)g
(in\\"\\n";)213 2048 y(foreach)g(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))77 b({)372 2127 y(my)40 b($url_freq)e(=)i
(scalar)f(keys)g(\045{$positionsByUrlsRef->{$url}};)372
2206 y(print)g(")80 b($url:\\n";)372 2285 y(print)39
b(")239 b(freq)g(=)39 b($url_freq\\n";)372 2364 y(print)g(")239
b(positions)39 b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 2443 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 2522 y(})213 2600 y(print)f("\\n";)213
2758 y(print)g("The)g(following)g(should)g(be)g(identical)g(to)g(the)h
(previous:\\n";)213 2837 y(foreach)f(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))e({)372 2916 y(my)j(\($url_freq,)e
($url_positions_ref\))f(=)1594 b(\\)213 2995 y
($tfref->getPhraseFreqInDocument\(\\@phrase,)33 b(url)40
b(=>)f($url\);)372 3074 y(print)g(")80 b($url:\\n";)372
3153 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
3231 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 3310 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 3389 y(})213 3468 y(print)g("\\n\\n";)213
3705 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 3783 y(#)79 b(Then)40 b(we)f(do)h(1-4)f(with)g
(the)h(phrase)f("resulting)f(in")213 3862 y(#)79 b(And)40
b(also)f(print)g(out)g(the)h(number)f(of)g(times)g("resulting)g(in")g
(is)h(used)f(in)h(each)213 3941 y(#)79 b(document)213
4020 y(#)g(Because)39 b(of)h(stemming,)e(the)i(results)e(this)i(time)f
(should)g(be)g(the)213 4099 y(#)79 b(same)40 b(as)f(those)g(from)g
(last)h(time)f(\(see)g(directly)g(above\))213 4178 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4336 y(@phrase)g(=)g(\("resulting",)f("in"\);)213
4414 y($result)h(=)g($tfref->getNumDocsWithPhrase\(@phrase\);)213
4493 y($freq)119 b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213
4572 y($positionsByUrlsRef)e(=)i($tfref->getDocsWithPhrase\(@phrase\);)
213 4651 y(print)g("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)
g($result)g(docs\\n";)213 4730 y(print)g("Documents)f(with)h
(\\"resulting)g(in\\")g(\(should)g(be)g(the)h(same)f(as)h(for)f
(\\"result)238 b(\\)213 4809 y(in\\"\)\\n";)213 4888
y(foreach)39 b(my)g($url)g(\(keys)g(\045$positionsByUrlsRef\))77
b({)372 4967 y(my)40 b($url_freq)e(=)i(scalar)f(keys)g
(\045{$positionsByUrlsRef->{$url}};)372 5045 y(print)g(")80
b($url:\\n";)372 5124 y(print)39 b(")239 b(freq)g(=)39
b($url_freq\\n";)372 5203 y(print)g(")239 b(positions)39
b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 5282 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 5361 y(})213 5440 y(print)f("\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(169)p eop
end
%%Page: 170 170
TeXDict begin 170 169 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 313 a Fa(print)39 b("The)g(following)g
(should)g(be)g(identical)g(to)g(the)h(previous:\\n";)213
392 y(foreach)f(my)g($url)g(\(keys)g(\045$positionsByUrlsRef\))e({)372
471 y(my)j(\($url_freq,)e($url_positions_ref\))f(=)1594
b(\\)213 550 y($tfref->getPhraseFreqInDocument\(\\@phrase,)33
b(url)40 b(=>)f($url\);)372 629 y(print)g(")80 b($url:\\n";)372
708 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
786 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 865 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 944 y(})213 1023 y(print)g("\\n";)213
1260 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 1338 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h
(TF)g(for)f(fuzzy)g(OR)h(queries.)78 b(We)40 b(query)f(the)213
1417 y(#)79 b(\(stemmed)39 b(index)g(of)h(the\))f(corpus)g(as)g
(follows:)213 1496 y(#)213 1575 y(#)79 b(1)40 b(first,)f(we)h(get)f
(the)g(number)g(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
1654 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(term)g
(!"thisisnotaword")f(\(#)h(=)h(N\),)213 1733 y(#)159
b(then)39 b(try)h(the)f(same)g(query)g(formulated)g(as)g(a)h(negated)f
(phrase)213 1812 y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(number)g(and)
h(scores)f(of)g(documents)g(in)g(the)h(corpus)213 1891
y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(term)g("result")g(\(#)
h(=)f(A\),)213 1969 y(#)159 b(then)39 b(try)h(the)f(same)g(query)g
(formulated)g(as)g(a)h(phrase)213 2048 y(#)79 b(3)40
b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f(of)g(documents)g(in)
g(the)h(corpus)213 2127 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)
f(term)g("in")h(\(#)f(=)h(B\))213 2206 y(#)79 b(4)40
b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f(of)g(documents)g(in)
g(the)h(corpus)213 2285 y(#)159 b(matching)39 b(a)g(query)g(over)h
(terms)f("result",)f("in")i(\(#)f(=)h(C)g(<=)f(A)h(+)g(B\))213
2364 y(#)79 b(5)40 b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f
(of)g(documents)g(in)g(the)h(corpus)213 2443 y(#)159
b(matching)39 b(the)g(phrase)g(query)g("result)g(in")g(\(#)h(=)g(D)f
(<=)h(A,)f(B\))213 2522 y(#)79 b(6)40 b(then,)f(we)h(get)f(the)g
(number)g(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
2600 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(phrase)
g(!"result)g(in")g(\(#)h(=)f(E)h(=)g(N)f(-)h(D\))213
2679 y(#)79 b(7)40 b(finally,)f(we)g(get)h(the)f(number)g(and)g(scores)
g(of)h(documents)e(in)i(the)f(corpus)213 2758 y(#)159
b(matching)39 b(a)g(query)g(over)h(the)f(phrases)g("due)g(to",)g
("according)g(to")213 2837 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2995 y(print)g("\\n---Fuzzy)f(OR)i(Queries)e
(\(stemmed\):---\\n";)213 3074 y(#1a)372 3153 y(print)h("Query)g(1a:)h
(!\\"thisisnotaword\\")d(\(negated)h(term)i(query\)\\n";)372
3231 y(my)g(\($pTerms,)e($pNegTerms,)g($pPhrasePtrs,)g
($pNegPhrasePtrs\))g(=)i(\([],)557 b(\\)213 3310 y(["thisisnotaword"],)
37 b([],)i([]\);)372 3389 y(my)h(\045docScores)e(=)i
($tfref->getDocsMatchingFuzzyORQuery\($pTerms)o(,)34
b($pNegTerms,)158 b(\\)213 3468 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 3547 y(my)i($N)f(=)h(scalar)f(keys)g
(\045docScores;)372 3626 y(my)h(@scores)f(=)g(sort)g({$b)h(<=>)f($a})h
(values)f(\045docScores;)372 3705 y(print)g(")160 b(#)39
b(docs)g(matching:)g(N)h(=)f($N\\n";)372 3783 y(print)g(")518
b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n";)213
3862 y(#1b)372 3941 y(print)g("Query)g(1b:)h(!\\"thisisnotaword\\")d
(\(negated)h(phrase)h(query\)\\n";)372 4020 y(\($pTerms,)g($pNegTerms,)
f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)h([],)358
b(\\)213 4099 y([["thisisnotaword"]]\);)372 4178 y(\045docScores)39
b(=)g($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34
b($pNegTerms,)277 b(\\)213 4257 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 4336 y($N)i(=)f(scalar)g(keys)h(\045docScores;)
372 4414 y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g
(\045docScores;)372 4493 y(print)g(")160 b(#)39 b(docs)g(matching:)g(N)
h(=)f($N\\n";)372 4572 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g
(",)h(@scores\))f(.)g("\\n\\n";)213 4809 y(#2a)372 4888
y(print)g("Query)g(2a:)h(\\"result\\")e(\(term)h(query\)\\n";)372
4967 y(\($pTerms,)g($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\(["result"],)e([],)h([],)h(\\)213 5045 y([]\);)372
5124 y(\045docScores)f(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 5203 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
5282 y(my)i($A)f(=)h(scalar)f(keys)g(\045docScores;)372
5361 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 5440 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(170)p eop
end
%%Page: 171 171
TeXDict begin 171 170 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa(print)39 b(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n";)213 313
y(#2b)372 392 y(print)g("Query)g(2b:)h(\\"result\\")e(\(phrase)h
(query\)\\n";)372 471 y(\($pTerms,)g($pNegTerms,)f($pPhrasePtrs,)g
($pNegPhrasePtrs\))f(=)j(\([],)f([],)518 b(\\)213 550
y([["result"]],)38 b([]\);)372 629 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 708 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
786 y($A)i(=)f(scalar)g(keys)h(\045docScores;)372 865
y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)372
944 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)372
1023 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 1102 y(#3)372 1181 y(print)g("Query)g(3:)h
(\\"in\\"\\n";)372 1260 y(\($pTerms,)f($pNegTerms,)f($pPhrasePtrs,)g
($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)g([],)199 b(\\)213
1338 y([]\);)372 1417 y(\045docScores)39 b(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 1496 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
1575 y(my)i($B)f(=)h(scalar)f(keys)g(\045docScores;)372
1654 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 1733 y(print)g(")160 b(#)39 b(docs)g(matching:)g(B)h(=)f($B\\n";)
372 1812 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n\\n";)213 1891 y(#4)372 1969 y(print)g("Query)g
(4:)h(\\"result\\",)e(\\"in\\"\\n";)372 2048 y(\($pTerms,)h
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)
g([],)199 b(\\)213 2127 y([]\);)372 2206 y(\045docScores)39
b(=)g($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34
b($pNegTerms,)277 b(\\)213 2285 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 2364 y(my)i($C)f(=)h(scalar)f(keys)g
(\045docScores;)372 2443 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f
(values)g(\045docScores;)372 2522 y(print)g(")160 b(#)39
b(docs)g(matching:)g(C)h(=)f($C)h(<=)f(A)h(+)g(B)g(=)f(")h(.)g(\($A)f
(+)h($B\))f(.)h("\\n";)372 2600 y(print)f(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n\\n";)213
2679 y(#5)372 2758 y(print)g("Query)g(5:)h(\\"result)e(in\\"\\n";)372
2837 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\([],)f([],)h([["result",)e(\\)213 2916 y("in"]],)h([]\);)372
2995 y(\045docScores)g(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 3074 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
3153 y(my)i($D)f(=)h(scalar)f(keys)g(\045docScores;)372
3231 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 3310 y(print)g(")160 b(#)39 b(docs)g(matching:)g(D)h(=)f($D)h(<=)f
(min{A,)g(B}\\n";)372 3389 y(print)g(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n\\n";)213
3468 y(#6)372 3547 y(print)g("Query)g(6:)h(!\\"result)e(in\\"\\n";)372
3626 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\([],)f([],)h([],)358 b(\\)213 3705 y([["result",)38
b("in"]]\);)372 3783 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 3862 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
3941 y(my)i($E)f(=)h(scalar)f(keys)g(\045docScores;)372
4020 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 4099 y(print)g(")160 b(#)39 b(docs)g(matching:)g(E)h(=)f($E)h(=)g
(N)f(-)h(D)g(=)f(")h(.)g(\($N)f(-)h($D\))f(.)h("\\n";)372
4178 y(print)f(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 4257 y(#7)372 4336 y(print)g("Query)g(7:)h(\\"due)f
(to\\",)g(\\"according)f(to\\"\\n";)372 4414 y(\($pTerms,)h
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)518
b(\\)213 4493 y([["due","to"],)38 b(["according","to"]],)e([]\);)372
4572 y(\045docScores)j(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 4651 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
4730 y(my)i($F)f(=)h(scalar)f(keys)g(\045docScores;)372
4809 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 4888 y(print)g(")160 b(#)39 b(docs)g(matching:)g(F)h(=)f($F\\n";)
372 4967 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n\\n";)213 5203 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5282 y(#)79 b(Finally,)39 b(we)h(tell)f(the)g(user)g(to)h
(have)f(a)h(nice)f(day.)213 5361 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5440 y(print)g("\\nHave)g(a)g(nice)h(day!\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(171)p eop
end
%%Page: 172 172
TeXDict begin 172 171 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.12)80 b(document)p 748 210 25 4 v 29 w(idf)o(.pl)p
185 295 3006 4 v 185 2711 4 2416 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_document_idf.pl)213 635
y(#)g(functionality:)f(Loads)h(documents)g(from)g(an)h(input)f(dir;)g
(strips)g(and)g(stems)g(them,)213 714 y(#)g(functionality:)f(and)i
(then)f(builds)g(an)g(IDF)h(from)f(them)213 872 y(use)g(strict;)213
951 y(use)g(warnings;)213 1030 y(use)g(FindBin;)213 1108
y(use)g(DB_File;)213 1187 y(use)g(Clair::Document;)213
1266 y(use)g(Clair::Cluster;)213 1424 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1503 y(my)f($input_dir)g(=)g
("$basedir/input/document_idf";)213 1582 y(my)g($gen_dir)g(=)h
("$basedir/produced/document_idf";)213 1739 y(my)f($c)h(=)g
(Clair::Cluster::->new\(\);)213 1897 y
($c->load_documents\("$input_dir/)1453 1909 y(*)1493
1897 y(.txt",)34 b(type)39 b(=>)h('html'\);)213 2055
y($c->strip_all_documents\(\);)213 2134 y($c->stem_all_documents\(\);)
213 2291 y(my)f(\045idf_hash)g(=)h($c->build_idf\("$gen_dir/idf-dbm",)
34 b(type)40 b(=>)f('text'\);)213 2449 y(foreach)g(my)g($k)h(\(keys)f
(\045idf_hash\))f({)213 2528 y(print)h("$k\\t",)g($idf_hash{$k},)e
("\\n";)213 2607 y(})p 3187 2711 V 185 2714 3006 4 v
1873 5809 a Fk(172)p eop end
%%Page: 173 173
TeXDict begin 173 172 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.13)80 b(document.pl)p 185 295 3285 4 v 185 4919
4 4625 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_document.pl)213 635 y(#)g(functionality:)f(Creates)h
(Documents)g(from)g(strings,)f(files,)h(strips)g(and)h(stems)f(them,)
213 714 y(#)g(functionality:)f(splits)h(them)g(into)h(lines,)f
(sentences,)f(counts)h(words,)g(saves)g(them)213 872
y(use)g(strict;)213 951 y(use)g(warnings;)213 1030 y(use)g(FindBin;)213
1108 y(use)g(Clair::Document;)213 1266 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1345 y(my)f($input_dir)g(=)g
("$basedir/input/document";)213 1424 y(my)g($gen_dir)g(=)h
("$basedir/produced/document";)213 1582 y(#)f(Create)g(a)h(text)f
(document)g(specifying)f(the)i(text)f(directly)213 1660
y(my)g($doc1)g(=)h(new)g(Clair::Document\(string)c(=>)k('She)f(sees)g
(the)h(facts)f(with)g(instruments)118 b(\\)213 1739 y(happily)39
b(with)g(embarassements.',)811 1818 y(type)g(=>)g('text',)g(id)h(=>)f
('doc1'\);)213 1976 y(#)g(Create)g(a)h(text)f(document)g(by)h
(specifying)e(the)h(file)h(to)f(open)213 2055 y(my)g($doc2)g(=)h(new)g
(Clair::Document\(file)c(=>)k("$input_dir/test.txt",)1129
2134 y(type)g(=>)f('text',)g(id)g(=>)h('doc2'\);)213
2291 y(#)f(Create)g(an)h(HTML)f(document)213 2370 y(my)g($doc3)g(=)h
(new)g(Clair::Document\(string)c(=>)k('<html><body><p>This)d(is)i(the)g
(HTML</p>')1129 2449 y(.)h('<p>She)f(sees)g(the)g(facts)h(with)f
(instruments)f(happily)h(with)79 b(\\)213 2528 y
(embarassements.</p></body></html>',)492 2607 y(type)39
b(=>)h('html',)e(id)i(=>)f('doc3'\);)213 2765 y(#)g(Compute)g(the)h
(text)f(from)g(the)h(HTML)213 2844 y(my)f($doc3_text)g(=)g
($doc3->strip_html;)213 2922 y(print)g("The)g(text)g(from)h(document)e
(3:\\n$doc3_text\\n\\n";)213 3080 y(#)h(Stem)h(the)f(text)g(of)h(the)f
(document)213 3159 y(my)g($doc3_stem)g(=)g($doc3->stem;)213
3238 y(print)g("The)g(stemmed)g(text)g(from)g(document)g
(3:\\n$doc3_stem\\n\\n";)213 3396 y(#)g(Split)h(the)f(document)g(into)g
(lines)g(and)g(sentences)213 3475 y(#)g(\(Note)h(that)f
(split_into_sentences)e(uses)i(MxTerminator)f(which)h(requires)213
3553 y(#)g(Perl)h(5.8\))213 3632 y(my)f(@doc3_lines)g(=)g
($doc3->split_into_lines;)213 3711 y(my)g(@doc3_sentences)f(=)i
($doc3->split_into_sentences;)213 3790 y(print)f("\\nDocument)f(3)i
(has)f(",)h(scalar)f(@doc3_sentences,)e(")j(sentences.\\n\\n";)213
3948 y(#)f(Count)h(the)f(number)g(of)g(words)h(in)f(each)g(document)213
4027 y(my)g($doc1_words)g(=)g($doc1->count_words;)213
4105 y(my)g($doc2_words)g(=)g($doc2->count_words;)213
4184 y(my)g($doc3_words)g(=)g($doc3->count_words;)213
4263 y(print)g(\("Document)f(1)i(has)f($doc1_words)g(words,)f
(Document2)h(has)g($doc2_words,)f(and)319 b(\\)213 4342
y(Document)38 b(3)i(has)g($doc3_words.\\n"\);)213 4500
y(#)f(Print)h(the)f(text)g(version)g(to)h(the)f(screen,)g(then)g(saved)
g(the)h(stemmed)e(version)h(to)h(disk)213 4579 y(print)f("The)g(text)g
(from)h(document)e(3)i(is:\\n";)213 4658 y($doc3->print\(type)d(=>)j
('text'\);)213 4736 y(print)f("\\n";)213 4815 y($doc3->save\(file)e(=>)
j("$gen_dir/document_output.stem",)35 b(type)k(=>)h('stem'\);)p
3466 4919 V 185 4922 3285 4 v 1873 5809 a Fk(173)p eop
end
%%Page: 174 174
TeXDict begin 174 173 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.14)80 b(featur)o(es)p 683 210 25 4 v 28 w(io.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(features_io.pl)213 635 y(#)g(functionality:)
f(Same)h(as)h(features.pl)e(BUT,)h(outputs)g(the)h(train)f(data)g(set)g
(as)213 714 y(#)g(functionality:)f(document)h(and)g(feature)g(vectors)g
(in)g(svm_light)g(format,)g(reads)213 793 y(#)g(functionality:)f(the)i
(svm_light)e(formatted)h(file)g(and)g(converts)g(it)h(to)f(perl)g(hash)
213 951 y(use)g(strict;)213 1030 y(use)g(FindBin;)213
1108 y(#)g(use)h(lib)f("$FindBin::Bin/../lib";)213 1187
y(#)g(use)h(lib)f("$FindBin::Bin/lib";)e(#)j(if)f(you)h(are)f(outside)g
(of)h(bin)f(path..)g(just)g(in)h(case)213 1266 y(use)f(vars)g
(qw/$DEBUG/;)213 1424 y(use)g(Clair::Features;)213 1503
y(use)g(Clair::GenericDoc;)213 1582 y(use)g(Data::Dumper;)213
1660 y(use)g(File::Find;)213 1739 y(use)g(File::Path;)213
1897 y(#)g(globals)213 1976 y($DEBUG)g(=)g(0;)213 2055
y(my)g(\045args;)213 2134 y(my)g(@train_files)f(=)i(\(\);)f(#)h(list)f
(of)h(train)f(files)g(we)h(will)f(analyze)213 2213 y(my)g(@test_files)g
(=)g(\(\);)h(#)f(list)h(of)f(test)g(files)g(we)h(will)f(analyze)213
2291 y(my)g(\045container)g(=)g(\(\);)h(#)f(container)g(for)g(our)h
(file)f(arrays.)213 2370 y(my)g($results_root)f(=)i
("$FindBin::Bin/produced/features";)213 2528 y(mkpath\($results_root,)c
(0,)k(0777\))f(unless\(-d)g($results_root\);)213 2686
y(my)g($n)h(=)g($args{n})e(||)i(0;)213 2765 y(my)f($train_root)g(=)g
("$FindBin::Bin/input/features/train";)213 2844 y(my)g($test_root)g(=)g
("$FindBin::Bin/input/features/test";)213 2922 y(my)g($output)g(=)h
("test_output";)213 3001 y(my)f($feature_opt)f(=)i($args{feature})e
(if\($args{feature}\);)213 3080 y(my)h($filter)g(=)h($args{filter})e
(||)h('.)1488 3092 y(*)1528 3080 y(';)213 3317 y(my)g($t0;)213
3396 y(my)g($t1;)213 3553 y(#)213 3632 y(#)g(Finding)g(files)213
3711 y(#)213 3790 y(sub)g(wanted_train)213 3869 y({)292
3948 y(return)g(if\()h(!)g(-f)f($File::Find::name)e(\);)292
4027 y(push)j(@train_files,)e($File::Find::name;)213
4105 y(})213 4184 y(find\(\\&wanted_train,)f(\()i($train_root)g(\)\);)
213 4263 y(@train_files)f(=)i(grep)f({)g(-f)h($_)g(&&)f(/$filter/)g(})g
(@train_files;)213 4500 y(#)213 4579 y(#)g(Processing)g(documents)213
4658 y(#)213 4736 y(my)g($files)g(=)h(\\@train_files;)213
4815 y(my)f($files_count)f(=)i(scalar)f(@train_files;)213
5052 y(#)g(we)h(can)f(limit)h(the)f(number)g(of)g(document)g(per)g
(class)213 5131 y(my)g($fea2)g(=)h(new)g(Clair::Features\()213
5210 y(DEBUG)f(=>)g($DEBUG,)213 5289 y(document_limit)f(=>)h(100,)g(##)
h(NOTICE)f(THIS)g(FLAG)g(##)213 5367 y(mode)g(=>)h("train",)e(#)i
(train)f(data)213 5446 y(#)g(features_file)f(=>)i
("$results_root/.features_lookup")213 5525 y(\);)213
5604 y($fea2->debugmsg\("registering)35 b($files_count)j(documents)h
(with)g(100)h(limit)f(per)g(class",)79 b(\\)p 3466 5708
V 185 5711 3285 4 v 1873 5809 a Fk(174)p eop end
%%Page: 175 175
TeXDict begin 175 174 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3493 4 3363 v 213 234 a Fa(0\);)213 392 y(#)39
b(register)g(each)g(document)g(into)g(the)h(Clair::Features)d(object)
213 471 y(for)i(my)h($f)f(\(@$files\))213 550 y({)213
629 y(my)g($gdoc)g(=)h(new)g(Clair::GenericDoc\()213
708 y(DEBUG)f(=>)g($DEBUG,)213 786 y(content)g(=>)g($f,)213
865 y(stem)g(=>)h(1,)213 944 y(lowercase)e(=>)i(1,)213
1023 y(use_parser_module)d(=>)j("sports")e(#)i(the)f(test)h(data)f(is)g
(formatted)g(in)h(pseudo)e(xml.)213 1102 y(\);)213 1260
y($fea2->register\($gdoc\);)213 1338 y(undef)h($gdoc;)g(#)h(memory)e
(conscious)213 1417 y(})213 1654 y(my)h($top10)g(=)h
($fea2->select\(20\);)213 1733 y($fea2->debugmsg\("top)d(20)i(features)
g(with)g(100)g(docs:\\n")g(.)h(Dumper\($top10\),)d(0\);)213
1891 y(#)i(you)h(can)f(also)h(get)f(the)g(feature)g(chi-squared)f
(values)h(for)h(binary)f(classified)357 b(\\)213 1969
y(documents.)213 2048 y($fea2->debugmsg\("running)36
b(\\$fea2->chi_squared\(\);",)g(0\);)213 2206 y($fea2->{DEBUG})i(=)h
(1;)h(#)f(to)h(show)f(more)h(info)213 2285 y(my)f($chisq_values)f(=)i
($fea2->chi_squared\(\);)213 2364 y(print)f(Dumper\($chisq_values\);)
213 2600 y(#)g(save)h(the)f(feature)g(vectors)g(in)g(svm_light)g
(format)213 2679 y($fea2->output\("$results_root/$output.train)o("\);)
213 2758 y($fea2->debugmsg\("feature)d(vectors)j(saved)g(here:)g
($results_root/$output.train",)d(0\);)213 2916 y(#)j(feature)g(and)h
(its)f(associated)f(id)i(is)g(saved)f(here)213 2995 y(#)g(print)h
(Dumper\($fea2->{features_map}\);)213 3153 y
($fea2->debugmsg\("retrieving)c(feature)i(vectors)h(and)h(converting)e
(to)i(perl)f(data)358 b(\\)213 3231 y(structure",)38
b(0\);)213 3310 y(my)h($vectors)g(=)h
($fea2->input\("$results_root/$output.train")o(\);)213
3389 y(print)f(Dumper\($vectors\);)p 3466 3493 V 185
3496 3285 4 v 1873 5809 a Fk(175)p eop end
%%Page: 176 176
TeXDict begin 176 175 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.15)80 b(featur)o(es.pl)p 185 295 3165 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_features.pl)213 635 y(#)g(functionality:)f
(Reads)h(docs)h(from)f(input/features/train,)e(calculates)h
(chi-squared)213 714 y(#)h(functionality:)f(values)h(for)h(all)f
(extracted)f(features,)h(shows)g(ways)g(to)h(retrieve)213
793 y(#)f(functionality:)f(those)h(features)213 951 y(use)g(strict;)213
1030 y(use)g(FindBin;)213 1108 y(#)g(use)h(lib)f
("$FindBin::Bin/../lib";)213 1187 y(#)g(use)h(lib)f
("$FindBin::Bin/lib";)e(#)j(if)f(you)h(are)f(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1266 y(use)f(vars)g(qw/$DEBUG/;)213
1424 y(use)g(Clair::Features;)213 1503 y(use)g(Clair::GenericDoc;)213
1582 y(use)g(Data::Dumper;)213 1660 y(use)g(File::Find;)213
1739 y(use)g(File::Path;)213 1897 y(#)g(globals)213 1976
y($DEBUG)g(=)g(0;)213 2055 y(my)g(\045args;)213 2134
y(my)g(@train_files)f(=)i(\(\);)f(#)h(list)f(of)h(train)f(files)g(we)h
(will)f(analyze)213 2213 y(my)g(@test_files)g(=)g(\(\);)h(#)f(list)h
(of)f(test)g(files)g(we)h(will)f(analyze)213 2291 y(my)g(\045container)
g(=)g(\(\);)h(#)f(container)g(for)g(our)h(file)f(arrays.)213
2370 y(my)g($results_root)f(=)i("$FindBin::Bin/produced/features";)213
2528 y(mkpath\($results_root,)c(0,)k(0777\))f(unless\(-d)g
($results_root\);)213 2686 y(my)g($n)h(=)g($args{n})e(||)i(0;)213
2765 y(my)f($train_root)g(=)g("$FindBin::Bin/input/features/train";)213
2844 y(my)g($test_root)g(=)g("$FindBin::Bin/input/features/test";)213
2922 y(my)g($output)g(=)h("test_output";)213 3001 y(my)f($feature_opt)f
(=)i($args{feature})e(if\($args{feature}\);)213 3080
y(my)h($filter)g(=)h($args{filter})e(||)h('.)1488 3092
y(*)1528 3080 y(';)213 3317 y(my)g($t0;)213 3396 y(my)g($t1;)213
3553 y(#)213 3632 y(#)g(Finding)g(files)213 3711 y(#)213
3790 y(sub)g(wanted_train)213 3869 y({)292 3948 y(return)g(if\()h(!)g
(-f)f($File::Find::name)e(\);)292 4027 y(push)j(@train_files,)e
($File::Find::name;)213 4105 y(})213 4184 y(find\(\\&wanted_train,)f
(\()i($train_root)g(\)\);)213 4263 y(@train_files)f(=)i(grep)f({)g(-f)h
($_)g(&&)f(/$filter/)g(})g(@train_files;)213 4500 y(#)213
4579 y(#)g(Processing)g(documents)213 4658 y(#)213 4736
y(my)g($files)g(=)h(\\@train_files;)213 4815 y(my)f($files_count)f(=)i
(scalar)f(@train_files;)213 4973 y(my)g($fea)h(=)f(new)h
(Clair::Features\()213 5052 y(DEBUG)f(=>)g($DEBUG,)213
5131 y(document_limit)f(=>)h($n,)213 5210 y(mode)g(=>)h("train",)e(#)i
(train)f(data)213 5289 y(#)g(features_file)f(=>)i
("$results_root/.features_lookup")213 5367 y(\);)213
5604 y($fea->debugmsg\("registering)c($files_count)i(documents",)g
(0\);)p 3346 5708 V 185 5711 3165 4 v 1873 5809 a Fk(176)p
eop end
%%Page: 177 177
TeXDict begin 177 176 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3493 4 3363 v 213 234 a Fa(#)39 b(register)g(each)g(document)g
(into)g(the)h(Clair::Features)d(object)213 313 y(for)i(my)h($f)f
(\(@$files\))213 392 y({)213 471 y(my)g($gdoc)g(=)h(new)g
(Clair::GenericDoc\()213 550 y(DEBUG)f(=>)g($DEBUG,)213
629 y(content)g(=>)g($f,)213 708 y(stem)g(=>)h(1,)213
786 y(lowercase)e(=>)i(1,)213 865 y(use_parser_module)d(=>)j("sports")e
(#)i(the)f(test)h(data)f(is)g(formatted)g(in)h(pseudo)e(xml.)213
944 y(\);)213 1102 y($fea->register\($gdoc\);)213 1181
y(undef)h($gdoc;)g(#)h(memory)e(conscious)213 1260 y(})213
1417 y(#)h(print)h(Dumper\($fea->{features_global}\);)35
b(exit;)213 1575 y(my)k($all)h(=)f($fea->select\(\);)213
1654 y($fea->debugmsg\("feature)d(counts:)j(")h(.)f(scalar)g(@$all,)g
(0\);)213 1812 y(my)g($top10)g(=)h($fea->select\(10\);)213
1891 y($fea->debugmsg\("top)d(10)i(features:\\n")f(.)i
(Dumper\($top10\),)e(0\);)213 2048 y(my)h($top50)g(=)h
($fea->select\(50\);)213 2127 y($fea->debugmsg\("top)d(50)i
(features:\\n")f(.)i(Dumper\($top50\),)e(0\);)213 2285
y(#)h(you)h(can)f(also)h(get)f(the)g(feature)g(chi-squared)f(values)h
(for)h(binary)f(classified)357 b(\\)213 2364 y(documents.)213
2443 y($fea->debugmsg\("running)36 b(\\$fea2->chi_squared\(\);",)g
(0\);)213 2522 y($fea->{DEBUG})i(=)h(1;)h(#)g(to)f(show)g(more)h(info)
213 2600 y(my)f($chisq_values)f(=)i($fea->chi_squared\(\);)213
2679 y(print)f(Dumper\($chisq_values\);)213 2837 y(#)g(save)h(the)f
(classified)f(data)i(into)f(a)h(file)f(in)g(the)h(svm_light)e(format.)
213 2916 y($fea->output\("$results_root/$output.train")o(\);)213
3074 y($fea->debugmsg\("feature)e(vectors)j(saved)g(here:)g
($results_root/$output.train",)d(0\);)213 3231 y(#)j(print)h
(Dumper\($fea->{features_global}\);)213 3310 y(#)f(print)h
(Dumper\($fea->{feature_scores}\);)p 3466 3493 V 185
3496 3285 4 v 1873 5809 a Fk(177)p eop end
%%Page: 178 178
TeXDict begin 178 177 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.16)80 b(featur)o(es)p 683 210 25 4 v 28 w(traintest.pl)p
185 295 3165 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_features_traintest.pl)213
635 y(#)g(functionality:)f(Builds)h(the)h(feature)e(vector)h(for)h
(training)e(and)i(testing)f(datasets,)213 714 y(#)g(functionality:)f
(and)i(is)f(a)h(prerequisite)e(for)h(learn.pl)g(and)g(classify.pl)213
872 y(use)g(strict;)213 951 y(use)g(FindBin;)213 1030
y(#)g(use)h(lib)f("$FindBin::Bin/../lib";)213 1108 y(#)g(use)h(lib)f
("$FindBin::Bin/lib";)e(#)j(if)f(you)h(are)f(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1187 y(use)f(vars)g(qw/$DEBUG/;)213
1345 y(use)g(Benchmark;)213 1424 y(use)g(Clair::Features;)213
1503 y(use)g(Clair::GenericDoc;)213 1582 y(use)g(Data::Dumper;)213
1660 y(use)g(File::Find;)213 1739 y(use)g(File::Path;)213
1897 y($DEBUG)g(=)g(0;)213 1976 y(my)g(\045args;)213
2055 y(my)g(@train_files)f(=)i(\(\);)f(#)h(list)f(of)h(train)f(files)g
(we)h(will)f(analyze)213 2134 y(my)g(@test_files)g(=)g(\(\);)h(#)f
(list)h(of)f(test)g(files)g(we)h(will)f(analyze)213 2213
y(my)g(\045container)g(=)g(\(\);)h(#)f(container)g(for)g(our)h(file)f
(arrays.)213 2291 y(my)g($results_root)f(=)i
("$FindBin::Bin/produced/features";)213 2449 y(mkpath\($results_root,)c
(0,)k(0777\))f(unless\(-d)g($results_root\);)213 2607
y(my)g($n)h(=)g($args{n})e(||)i(0;)213 2686 y(my)f($train_root)g(=)g
("$FindBin::Bin/input/features/train";)213 2765 y(my)g($test_root)g(=)g
("$FindBin::Bin/input/features/test";)213 2844 y(my)g($output)g(=)h
("feature_vectors";)213 2922 y(my)f($feature_opt)f(=)i($args{feature})e
(if\($args{feature}\);)213 3001 y(my)h($filter)g(=)h($args{filter})e
(||)h('.)1488 3013 y(*)1528 3001 y(';)213 3238 y(my)g($t0;)213
3317 y(my)g($t1;)213 3475 y(#)213 3553 y(#)g(Finding)g(files)213
3632 y(#)213 3711 y($t0)g(=)h(new)f(Benchmark;)213 3948
y(sub)g(wanted_train)213 4027 y({)292 4105 y(return)g(if\()h(!)g(-f)f
($File::Find::name)e(\);)292 4184 y(push)j(@train_files,)e
($File::Find::name;)213 4263 y(})213 4342 y(find\(\\&wanted_train,)f
(\()i($train_root)g(\)\);)213 4421 y(@train_files)f(=)i(grep)f({)g(-f)h
($_)g(&&)f(/$filter/)g(})g(@train_files;)213 4658 y(sub)g(wanted_test)
213 4736 y({)292 4815 y(return)g(if\()h(!)g(-f)f($File::Find::name)e
(\);)292 4894 y(push)j(@test_files,)e($File::Find::name;)213
4973 y(})213 5052 y(find\(\\&wanted_test,)f(\()i($test_root)g(\)\);)213
5131 y(@test_files)f(=)i(grep)f({)h(-f)f($_)h(&&)f(/$filter/)g(})g
(@test_files;)213 5367 y($t1)g(=)h(new)f(Benchmark;)213
5446 y(my)g($timediff_find)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)p
3346 5708 V 185 5711 3165 4 v 1873 5809 a Fk(178)p eop
end
%%Page: 179 179
TeXDict begin 179 178 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 4597 4 4467 v 213 313 a Fa(#)213 392 y(#)39 b(Processing)g
(documents)213 471 y(#)213 550 y($t0)g(=)h(new)f(Benchmark;)213
708 y($container{train})e(=)j(\\@train_files;)213 786
y($container{test})d(=)j(\\@test_files;)213 944 y(#)f(train)h(the)f
(data)g(first)g(and)h(then)f(test)213 1023 y(#)g(this)h(illustrates)e
(how)h(you)h(first)f(use)g(the)h(train)f(data)g(to)h(produce)e(the)i
(feature)238 b(\\)213 1102 y(vectors)213 1181 y(#)39
b(and)h(then)f(use)h(the)f(test)g(data)g(to)h(build)f(the)g(feature)g
(vectors)g(with)g(matching)g(id's.)213 1338 y(for)g(my)h($dataset)e
(\(qw/train)h(test/\))213 1417 y({)213 1496 y(my)g($files)g(=)h
($container{$dataset};)213 1654 y(my)f($fea)h(=)f(new)h
(Clair::Features\()213 1733 y(DEBUG)f(=>)g($DEBUG,)213
1812 y(features_file)f(=>)h("$results_root/feature_lookup_map",)213
1891 y(#)g(document_limit)f(=>)i($n,)213 1969 y(mode)f(=>)h($dataset,)
213 2048 y(#)f(features_file)f(=>)i("$results_root/.features_lookup")
213 2127 y(\);)213 2206 y($fea->debugmsg\("building)c($dataset)j
(feature)f(vectors",)h(0\);)213 2364 y(for)g(my)h($f)f(\(@$files\))213
2443 y({)213 2522 y(my)g($gdoc)g(=)h(new)g(Clair::GenericDoc\()213
2600 y(DEBUG)f(=>)g($DEBUG,)213 2679 y(content)g(=>)g($f,)213
2758 y(stem)g(=>)h(1,)213 2837 y(use_parser_module)d(=>)j("sports")213
2916 y(\);)213 3074 y($fea->register\($gdoc\);)213 3153
y(undef)f($gdoc;)213 3231 y(})213 3389 y(#)g(you)h(need)f(to)h(run)f
($fea->select\(\))f(in)h(order)g(to)h(retain)f(the)g(feature)g(id's)g
(across)159 b(\\)213 3468 y(the)39 b(datasets.)213 3547
y($fea->debugmsg\("ordering)d(features)j(and)g(saving)g(the)g(map)h
(for)f($dataset",)g(0\))358 b(\\)213 3626 y(if\($dataset)38
b(eq)i("train"\);)213 3705 y($fea->select\(\);)213 3783
y(#)f($fea->input\("$output.$dataset"\);)213 3862 y
($fea->debugmsg\("saving)d($dataset)j(feature)g(vectors:)1234
b(\\)213 3941 y($results_root/$output.$dataset",)35 b(0\);)213
4020 y($fea->output\("$results_root/$output.$datas)o(et"\);)213
4099 y(})213 4336 y($t1)k(=)h(new)f(Benchmark;)213 4414
y(my)g($timediff_prep)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)p
3466 4597 V 185 4600 3285 4 v 1873 5809 a Fk(179)p eop
end
%%Page: 180 180
TeXDict begin 180 179 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.17)80 b(genericdoc.pl)p 185 295 3285 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(genericdoc.pl)213 635 y(#)g(functionality:)f
(Tests)h(parsing)g(of)h(simple)f(text/html)f(file/string,)g(conversion)
213 714 y(#)h(functionality:)f(into)h(xml)h(file,)f(instantiation)f
(via)h(constructor)g(and)g(morph\(\))213 872 y(use)g(strict;)213
951 y(use)g(FindBin;)213 1030 y(use)g(Data::Dumper;)213
1108 y(use)g(Clair::GenericDoc;)213 1266 y(my)g($DEBUG)g(=)h(0;)213
1345 y(my)f($basedir)g(=)h($FindBin::Bin;)213 1424 y(my)f($input_dir)g
(=)g("$basedir/input/document";)213 1503 y(my)g($output_dir)g(=)g
("$basedir/produced/genericdoc";)213 1582 y(my)g($testtxt)g(=)h
("$input_dir/test.txt";)213 1660 y(my)f($testhtml)g(=)h
("$input_dir/test.html";)213 1897 y(my)f($doc)h(=)f(new)h
(Clair::GenericDoc\()253 1976 y(content)e(=>)i($testtxt,)253
2055 y(use_system_file_cmd)d(=>)i(1,)253 2134 y(DEBUG)g(=>)g($DEBUG,)
213 2213 y(\);)213 2370 y($doc->debugmsg\("testing)d(with)j($testtxt",)
g(0\);)292 2528 y(my)h($type)f(=)h($doc->document_type\($testtxt\);)213
2686 y($doc->debugmsg\("OK)d(-)j(document)e(type)i(is:)f($type",)g(0\))
g(if)h($type;)213 2922 y($doc->debugmsg\("extracting)c(content)j(of)g
($testtxt",)f(0\);)292 3080 y(my)i($result)f(=)h($doc->extract\(\);)213
3238 y($doc->debugmsg\("OK)d(-)j(content:\\n".)e(Dumper\($result\),)f
(0\))j(if)f($result;)213 3475 y($doc->debugmsg\("converting)d(to)j
(xml",)g(0\);)292 3632 y(my)h($xml)f(=)h($doc->to_xml\($result->[0]\);)
292 3711 y($doc->save_xml\($xml,)d("$output_dir/test.xml"\);)213
3869 y($doc->debugmsg\("saving)f(to:)k($output_dir/test.xml",)c(0\);)
213 3948 y($doc->debugmsg\("OK)h(-)j(output)f(exists)g
($output_dir/test.xml",)d(0\))k(if)f(-f)558 b(\\)213
4027 y("$output_dir/test.xml";)213 4263 y($doc->debugmsg\("reading)36
b(from)j(xml",)h(0\);)292 4421 y(my)g($hash)f(=)h
($doc->from_xml\("$output_dir/test.xml"\);)213 4579 y
($doc->debugmsg\("OK)d(-)j(content:\\n".)e(Dumper\($hash\),)f(0\))j(if)
g(scalar)f(keys)g(\045$hash;)213 4894 y($doc->debugmsg\("testing)d
(with)j($testhtml",)g(0\);)292 5052 y(my)h($type2)f(=)h
($doc->document_type\($testhtml\);)213 5210 y($doc->debugmsg\("OK)d(-)j
(document)e(type)i(is:)f($type2",)g(0\))g(if)h($type2;)213
5446 y($doc->debugmsg\("extracting)c(content)j(of)g($testhtml",)f(0\);)
213 5604 y($doc->{content})f(=)j($testhtml;)p 3466 5708
V 185 5711 3285 4 v 1873 5809 a Fk(180)p eop end
%%Page: 181 181
TeXDict begin 181 180 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3966 4 3836 v 213 234 a Fa($doc->{stem})38 b(=)i(0;)f(#)h
(suppress)e(stemming)213 313 y($doc->{lowercase})f(=)j(0;)f(#)h
(suppress)f(lowercasing)292 392 y(my)h($result2)f(=)g
($doc->extract\(\);)213 550 y($doc->debugmsg\("OK)e(-)j(content:\\n".)e
(Dumper\($result2\),)f(0\))j(if)f($result2;)213 786 y
($doc->debugmsg\("using)d(the)k(shakespear)e(parser)h(module",)g(0\);)
213 865 y(#)g(by)h(supplying)f("use_parser_module",)d(you)k(can)f
(force)g(the)h(system)f(to)g(use)213 944 y(#)g(a)h(specific)f(parsing)g
(module.)213 1023 y(my)g($doc2)g(=)h(new)g(Clair::GenericDoc\()253
1102 y(use_parser_module)d(=>)i("shakespear",)253 1181
y(content)f(=>)i($testhtml,)253 1260 y(#)f(use_system_file_cmd)e(=>)j
(1,)253 1338 y(DEBUG)f(=>)g($DEBUG,)213 1417 y(\);)213
1575 y(my)g($result3)g(=)h($doc2->extract\(\);)213 1733
y($doc->debugmsg\("content:\\n".)35 b(Dumper\($result3\),)j(0\);)213
2048 y(my)h($doc3)g(=)h(new)g(Clair::GenericDoc\()253
2127 y(use_parser_module)d(=>)i("shakespear",)253 2206
y(content)f(=>)i($testhtml,)253 2285 y(#)f(use_system_file_cmd)e(=>)j
(1,)253 2364 y(DEBUG)f(=>)g($DEBUG,)253 2443 y(cast)g(=>)g(1,)h(#)g(we)
f(want)g(the)h(return)f(object)g(to)g(be)h(Clair::Document)213
2522 y(\);)213 2679 y(print)f("Notice)g(the)g(Clair::Genericdoc)e
(gives)i(you)h(the)f(ability)g(to)h(dynamically)317 b(\\)213
2758 y(instantiate)38 b(Clair::Document\\n";)213 2837
y($doc->debugmsg\("OK)f(-)j(properly)e(converted:\\n")g(.)i
(Dumper\($doc3\)\))e(if)677 b(\\)213 2916 y(UNIVERSAL::isa\($doc3,)36
b("Clair::Document"\);)213 3074 y($doc3->strip_html\(\);)213
3153 y(my)j($count)g(=)h($doc3->count_words\(\);)213
3231 y(print)f("The)g(Clair::Document)f(object)h(has)g(text:\\n".)g
($doc3->{text})f(.)h("\\n";)213 3310 y(print)g("The)g(Clair::Document)f
(object)h(has)g($count)g(words\\n";)213 3626 y(my)g($doc4)g(=)h
($doc->morph\(\);)213 3705 y(print)f("What)g(happens)g(when)g(you)g
('morph\(\)')g(the)g(existing)g(Clair::Genericdoc)436
b(\\)213 3783 y(object?\\n";)213 3862 y(print)39 b(Dumper\($doc4\);)p
3466 3966 V 185 3969 3285 4 v 1873 5809 a Fk(181)p eop
end
%%Page: 182 182
TeXDict begin 182 181 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.18)80 b(html.pl)p 185 295 2966 4 v 185 2159 4
1864 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_html.pl)213 635 y(#)g(functionality:)f(Tests)h(the)h
(html)f(stripping)f(functionality)g(in)i(Documents)213
793 y(use)f(strict;)213 872 y(use)g(warnings;)213 951
y(use)g(FindBin;)213 1030 y(use)g(Clair::Document;)213
1187 y(my)g($input_dir)g(=)g("$FindBin::Bin/input/html";)213
1345 y(#Take)g(in)g(a)h(single)f(file)g(and)h(parse)f(the)g(html,)g
(then)h(document)e(output)h(the)h(file)213 1503 y(my)f($doc)h(=)f(new)h
(Clair::Document\(type=>'html',file=>"$input)o(_dir/te)o(st.htm)o
(l"\);)213 1582 y(print)f("HTML)g(version:\\n";)213 1660
y(my)g($html)g(=)h($doc->get_html\(\);)213 1739 y(print)f("$html\\n";)
213 1897 y(print)g("Stripped)f(version:\\n";)213 1976
y(my)h($stripped)g(=)h($doc->strip_html\(\);)213 2055
y(print)f("$stripped\\n";)p 3147 2159 V 185 2162 2966
4 v 60 2355 a Fi(10.3.19)80 b(h)o(yperlink.pl)p 185 2439
3165 4 v 185 5250 4 2811 v 213 2543 a Fa(#!/usr/local/bin/perl)213
2701 y(#)39 b(script:)g(test_hyperlink.pl)213 2780 y(#)g
(functionality:)f(Makes)h(and)h(populates)e(a)i(cluster,)f(builds)g(a)g
(network)g(from)213 2859 y(#)g(functionality:)78 b(hyperlinks)38
b(between)h(them;)g(then)h(tests)f(making)g(a)g(subset)213
3095 y(use)g(strict;)213 3174 y(use)g(warnings;)213 3253
y(use)g(FindBin;)213 3332 y(use)g(Clair::Network;)213
3411 y(use)g(Clair::Cluster;)213 3490 y(use)g(Clair::Document;)213
3647 y(my)g($basedir)g(=)h($FindBin::Bin;)213 3726 y(my)f($input_dir)g
(=)g("$basedir/input/hyperlink";)213 3884 y(my)g($c)h(=)g(new)f
(Clair::Cluster\(\);)213 3963 y(my)g($d1)h(=)f(new)h
(Clair::Document\(id)d(=>)j(1,)f(type)g(=>)h('text',)f(string)g(=>)g
('Document)g(1'\);)213 4042 y($c->insert\(1,)f($d1\);)213
4120 y(my)h($d2)h(=)f(new)h(Clair::Document\(id)d(=>)j(2,)f(type)g(=>)h
('text',)f(string)g(=>)g('Document)g(2'\);)213 4199 y($c->insert\(2,)f
($d2\);)213 4278 y(my)h($d3)h(=)f(new)h(Clair::Document\(id)d(=>)j(3,)f
(type)g(=>)h('text',)f(string)g(=>)g('Document)g(3'\);)213
4357 y($c->insert\(3,)f($d3\);)213 4436 y(my)h($d4)h(=)f(new)h
(Clair::Document\(id)d(=>)j(4,)f(type)g(=>)h('text',)f(string)g(=>)g
('Document)g(4'\);)213 4515 y($c->insert\(4,)f($d4\);)213
4673 y(my)h($n)h(=)g($c->create_hyperlink_network_from_file\("$)o
(input_d)o(ir/t06.)o(links")o(\);)213 4830 y(print)f("Original)f
(edges:\\n";)213 4909 y($n->print_hyperlink_edges\(\);)213
4988 y(my)h($n2)h(=)f($n->create_subset_network_from_file\("$input_dir)
o(/t06.su)o(bset"\))o(;)213 5067 y(print)g("\\nNew)g(edges:\\n";)213
5146 y($n2->print_hyperlink_edges\(\);)p 3346 5250 V
185 5253 3165 4 v 1873 5809 a Fk(182)p eop end
%%Page: 183 183
TeXDict begin 183 182 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.20)80 b(idf)o(.pl)p 185 295 3285 4 v 185 4919
4 4625 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_idf.pl)213 635 y(#)g(functionality:)f(Creates)h(a)h
(cluster)f(from)g(some)g(input)g(files,)g(then)g(builds)g(an)h(idf)213
714 y(#)f(functionality:)f(from)h(the)h(lines)f(of)h(the)f(documents)
213 872 y(use)g(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(FindBin;)213 1108 y(use)g(Clair::Util;)213
1187 y(use)g(Clair::Cluster;)213 1266 y(use)g(Clair::Document;)213
1424 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1503 y(my)f($input_dir)g
(=)g("$basedir/input/idf";)213 1582 y(my)g($gen_dir)g(=)h
("$basedir/produced/idf";)213 1739 y(#)f(Create)g(cluster)213
1818 y(my)g(\045documents)g(=)g(\(\);)213 1897 y(my)g($c)h(=)g
(Clair::Cluster->new\(documents)35 b(=>)40 b(\\\045documents\);)213
2055 y(my)f($text)g(=)h("";)213 2134 y(#)f(Create)g(each)h(document,)e
(stem)h(it,)h(and)f(insert)g(it)h(into)f(the)g(cluster)213
2213 y(#)g(Add)h(the)f(stemmed)g(text)g(to)h(the)f($text)g(variable)213
2291 y(while)g(\()h(<$input_dir/)1012 2303 y(*)1052 2291
y(>)d(\))213 2370 y({)292 2449 y(my)j($file)f(=)h($_;)292
2607 y(my)g($dl)f(=)h(Clair::Document->new\(type)c(=>)k('text',)f(file)
g(=>)g($file,)g(id)h(=>)f($file\);)292 2765 y($c->insert\(document)e
(=>)j($dl,)f(id)h(=>)f($file\);)292 2922 y(#)h(Get)g(the)f(number)g(of)
g(lines)h(in)f(the)h(text)f(\(because)f(the)i(stemmed)f(version)f
(loses)239 b(\\)213 3001 y(them\))292 3080 y(my)40 b(@lines)f(=)h
(split\("\\n",)e($dl->{text}\);)292 3238 y
($dl->stem_keep_newlines\(\);)292 3396 y($text)i(.=)f($dl->{stem})f(.)i
(")g(";)292 3553 y(#)g(print)f("Document:)g($dl->{stem}\\n";)213
3632 y(})213 3790 y($text)g(=)h(substr\($text,)d(0,)j(length\($text\))e
(-)i(1\);)213 3948 y(Clair::Util::build_idf_by_line\($text,)34
b("$gen_dir/dbm2"\);)213 4105 y(my)39 b(\045idf)h(=)f
(Clair::Util::read_idf\("$gen_dir/dbm2"\);)213 4184 y(my)g($l;)213
4263 y(my)g($r;)213 4342 y(my)g($ct)h(=)f(0;)213 4500
y(while)g(\(\($l,)g($r\))g(=)h(each)f(\045idf\))g({)292
4579 y($ct++;)292 4658 y(print)h("$ct\\t$l\\t)932 4670
y(*)972 4658 y($r)1052 4670 y(*)1092 4658 y(\\n";)213
4736 y(})p 3466 4919 V 185 4922 3285 4 v 1873 5809 a
Fk(183)p eop end
%%Page: 184 184
TeXDict begin 184 183 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.21)80 b(index)p 591 210 25 4 v 30 w(dir\002les)p
865 210 V 30 w(incr)o(emental.pl)p 185 295 3285 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_index_dirfiles_incremental.pl)213
635 y(#)g(functionality:)f(Tests)h(index)g(update)g(using)g
(Index/dirfiles.pm;)f(requires)213 714 y(#)h(functionality:)f
(index_dirfiles.pl)g(to)h(be)h(run)f(previously)213 872
y(use)g(strict;)213 951 y(use)g(FindBin;)213 1030 y(use)g(vars)g
(qw/$DEBUG/;)213 1187 y(use)g(Benchmark;)213 1266 y(use)g
(Clair::GenericDoc;)213 1345 y(use)g(Clair::Index;)213
1424 y(use)g(Data::Dumper;)213 1503 y(use)g(File::Find;)213
1739 y($DEBUG)g(=)g(0;)213 1818 y(my)g(\045args;)213
1897 y(my)g(@files)g(=)h(\(\);)213 1976 y(my)f($corpus_root)f(=)i
("$FindBin::Bin/input/index/Shakespear";)213 2055 y(my)f
($incremental_root)f(=)h("$FindBin::Bin/input/index/incremental";)213
2134 y(my)g($index_root)g(=)g("$FindBin::Bin/produced/index_dirfiles",)
213 2213 y(my)g($stop_word_list)f(=)i
("$FindBin::Bin/input/index/stopwords.txt";)213 2291
y(my)f($filter)g(=)h("\\.html";)213 2449 y(#)f(instantiate)g(the)g
(index)g(object)213 2528 y(my)g($idx)h(=)f(new)h(Clair::Index\()213
2607 y(DEBUG)f(=>)g($DEBUG,)213 2686 y(stop_word_list)f(=>)h
($stop_word_list,)213 2765 y(index_root)f(=>)i($index_root,)213
2844 y(index_file_format)d(=>)j("dirfiles",)213 2922
y(\);)213 3080 y($idx->debugmsg\("using)c(stop)k(word)f(list:)g
($stop_word_list",)e(0\))j(if\(-f)637 b(\\)213 3159 y
($stop_word_list\);)213 3317 y(my)39 b($t0;)213 3396
y(my)g($t1;)213 3632 y(#)g(let's)h(try)f(incremental)f(adding)h(of)h
(index.)213 3711 y(@files)f(=)g(\(\);)213 3790 y(find\(\\&wanted,)f(\()
h($incremental_root)f(\)\);)213 3869 y(@files)h(=)g(grep)h({)f
(/$filter/)g(})h(@files)f(if\($filter\);)213 3948 y(#)g(print)h
(Dumper\(\\@files\);)213 4184 y($t0)f(=)h(new)f(Benchmark;)213
4342 y(#)g(insert,)g(build,)g(and)h(sync)213 4421 y(for)f(my)h($f)f
(\(@files\))213 4500 y({)213 4579 y(my)g($gdoc)g(=)h(new)g
(Clair::GenericDoc\()213 4658 y(DEBUG)f(=>)g(1,)213 4736
y(#)g(module_root)g(=>)g($module_root,)213 4815 y(content)g(=>)g($f,)
213 4894 y(stem)g(=>)h(1,)213 4973 y(use_parser_module)d(=>)j
("shakespear")213 5052 y(\);)213 5210 y(#)f(insert)g(the)h(document)e
(into)i(the)f(index)g(object)213 5289 y($idx->insert\($gdoc\);)213
5367 y(})213 5446 y($idx->build\(\);)213 5525 y($idx->sync\(\);)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(184)p eop
end
%%Page: 185 185
TeXDict begin 185 184 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1837 4 1707 v 213 313 a Fa($t1)39 b(=)h(new)f(Benchmark;)213
392 y(my)g($timediff)g(=)h(timestr\(timediff\($t1,)c($t0\)\);)213
471 y($idx->debugmsg\("incremental)g(index)j(update)g(took)g(:)h(")f(.)
h($timediff,)e(0\);)213 708 y(my)h($doc2)g(=)h
($idx->index_read\($idx->{index_file_format},)34 b
("document_meta_index",)116 b(\\)213 786 y("all"\);)213
944 y($idx->debugmsg\("total)36 b(documents)119 b(:)39
b(")h(.)g(scalar)f(keys)g(\045$doc2,)g(0\);)213 1023
y($idx->debugmsg\($doc2,)d(1\);)213 1260 y(#)j(to)h(find)f(all)h(the)f
(shakespear)f(html)i(files)f(by)g(scenes)213 1338 y(sub)g(wanted)213
1417 y({)213 1496 y(return)g(if\(-d)g($File::Find::name)e(||)j
($File::Find::name)d(=\230)996 b(\\)213 1575 y
(/full\\.html|index\\.html|news\\.html|\210\\./\);)213
1654 y(push)39 b(@files,)g($File::Find::name;)213 1733
y(})p 3466 1837 V 185 1840 3285 4 v 1873 5809 a Fk(185)p
eop end
%%Page: 186 186
TeXDict begin 186 185 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.22)80 b(index)p 591 210 25 4 v 30 w(dir\002les.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_index_dirfiles.pl)213
635 y(#)g(functionality:)f(Tests)h(index)g(update)g(using)g
(Index/dirfiles.pm,)f(index)h(is)g(created)213 714 y(#)g
(functionality:)f(in)i(produces/index_dirfiles,)c(complementary)i(to)i
(index_mldbm.pl)213 872 y(use)f(strict;)213 951 y(use)g(FindBin;)213
1030 y(use)g(lib)h("$FindBin::Bin/../lib";)213 1108 y(use)f(lib)h
("$FindBin::Bin/lib";)c(#)k(if)g(you)f(are)g(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1187 y(use)f(vars)g(qw/$DEBUG/;)213
1345 y(use)g(Benchmark;)213 1424 y(use)g(Clair::GenericDoc;)213
1503 y(use)g(Clair::Index;)213 1582 y(use)g(Data::Dumper;)213
1660 y(use)g(File::Find;)213 1739 y(use)g(Getopt::Long;)213
1818 y(use)g(Pod::Usage;)213 2055 y($DEBUG)g(=)g(0;)213
2134 y(my)g(\045args;)213 2213 y(my)g(@files)g(=)h(\(\);)213
2291 y(my)f($corpus_root)f(=)i("$FindBin::Bin/input/index/Shakespear";)
213 2370 y(my)f($incremental_root)f(=)h
("$FindBin::Bin/input/index/incremental";)213 2449 y(my)g($index_root)g
(=)g("$FindBin::Bin/produced/index_dirfiles",)213 2528
y(my)g($stop_word_list)f(=)i
("$FindBin::Bin/input/index/stopwords.txt";)213 2607
y(my)f($filter)g(=)h("\\.html";)213 2765 y(#)f(Determine)g(the)g
(GenericDoc)g(module)g(root)g(here)213 2844 y(#)g(my)h(@libpaths)f(=)g
(grep)g({)h(-d)g($_)f(&&)h($_)f(=\230)h(/GenericDoc/)e(})i(@INC;)213
2922 y(#)f(my)h($module_root)e(=)i(shift)f(@libpaths;)213
3080 y(#)g(@libpaths)g(=)h(grep)f({)h(-d)f($_)h(&&)f($_)h(=\230)f
(/Index/)g(})h(@INC;)213 3159 y(#)f(my)h($rw_module_root)e(=)h(shift)g
(@libpaths;)213 3317 y(GetOptions\(\\\045args,)e('help',)i('man',)g
('debug=i',)f('datadir=s',)g('listfile=s',)357 b(\\)213
3396 y('filter=s',)38 b('stop_word_list=s'\))f(or)j(pod2usage\(2\);)213
3475 y(pod2usage\(1\))e(if\($args{help}\);)213 3553 y
(pod2usage\(-exitstatus)e(=>)k(0,)g(-verbose)e(=>)i(2\))f
(if\($args{man}\);)213 3632 y($corpus_root)f(=)i($args{datadir})d
(if\($args{datadir}\);)213 3711 y($DEBUG)i(=)g($args{debug})f
(if\($args{debug}\);)213 3790 y($stop_word_list)f(=)j
($args{stop_word_list})d(if\($args{stop_word_list}\);)213
4105 y(#)i(instantiate)g(the)g(index)g(object)213 4184
y(my)g($idx)h(=)f(new)h(Clair::Index\()213 4263 y(DEBUG)f(=>)g(1,)213
4342 y(stop_word_list)f(=>)h($stop_word_list,)213 4421
y(index_root)f(=>)i($index_root,)213 4500 y(index_file_format)d(=>)j
("dirfiles",)213 4579 y(\);)213 4736 y($idx->debugmsg\("using)c(stop)k
(word)f(list:)g($stop_word_list",)e(0\))j(if\(-f)637
b(\\)213 4815 y($stop_word_list\);)213 4973 y(my)39 b($t0;)213
5052 y(my)g($t1;)213 5210 y(#)213 5289 y(#)g(Finding)g(files)213
5367 y(#)213 5446 y($idx->debugmsg\("using)d(files)k(from:)f
($corpus_root",)e(0\);)213 5604 y($t0)i(=)h(new)f(Benchmark;)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(186)p eop
end
%%Page: 187 187
TeXDict begin 187 186 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 253 313 a Fa(find\(\\&wanted,)37
b(\()j($corpus_root)e(\)\);)253 392 y(@files)h(=)g(grep)h({)f
(/$filter/)g(})g(@files)g(if\($filter\);)213 550 y
($idx->debugmsg\("total)d(of)k(")g(.)f(scalar)g(@files)g(.)h(")g(files)
f(retrieved)f(from)518 b(\\)213 629 y('$corpus_root'",)37
b(0\);)213 786 y($t1)i(=)h(new)f(Benchmark;)213 865 y(my)g
($timediff_find)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)213
1102 y(#)213 1181 y(#)j(Preparing)g(Index)213 1260 y(#)213
1338 y($idx->debugmsg\("constructing)c(index)40 b(object)e(with)i
(documents",)e(0\);)213 1417 y($t0)h(=)h(new)f(Benchmark;)213
1575 y(for)g(my)h($f)f(\(@files\))213 1654 y({)213 1733
y(my)g($gdoc)g(=)h(new)g(Clair::GenericDoc\()213 1812
y(DEBUG)f(=>)g($DEBUG,)213 1891 y(#)g(module_root)g(=>)g($module_root,)
213 1969 y(content)g(=>)g($f,)213 2048 y(stem)g(=>)h(1,)213
2127 y(use_parser_module)d(=>)j("shakespear")213 2206
y(\);)213 2364 y(#)f(insert)g(the)h(document)e(into)i(the)f(index)g
(object)213 2443 y($idx->insert\($gdoc\);)213 2522 y(})213
2600 y($t1)g(=)h(new)f(Benchmark;)213 2679 y(my)g($timediff_prep)f(=)i
(timestr\(timediff\($t1,)c($t0\)\);)213 2995 y(#)213
3074 y(#)j(Building)g(Index)213 3153 y(#)213 3231 y($t0)g(=)h(new)f
(Benchmark;)213 3310 y($idx->debugmsg\("building)d(index,)j(please)g
(wait...",)f(0\);)213 3389 y($idx->clean\(\);)g(#)h(cleans)g(up)h(any)f
(existing)g(index.)213 3468 y(my)g(\($invidx,)g($docidx,)f($wordidx\))h
(=)h($idx->build\(\);)213 3547 y($t1)f(=)h(new)f(Benchmark;)213
3626 y(my)g($timediff_build)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)
213 3862 y(#)213 3941 y(#)j(Writing)g(Index)213 4020
y(#)213 4099 y($t0)g(=)h(new)f(Benchmark;)213 4178 y
($idx->debugmsg\("sync-ing)d(\(saving\))j(to)g(disk",)g(0\);)213
4257 y($idx->sync\(\);)213 4336 y($t1)g(=)h(new)f(Benchmark;)213
4414 y(my)g($timediff_sync)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)213
4651 y(#)j(you)h(can)f(use)h(the)f(methods)g(from)g(the)h(submodules)e
(this)h(way)213 4730 y(my)g($hash)g(=)h($idx->index_read\("dirfiles",)c
("caesar"\);)213 4809 y(print)j(Dumper\($hash\);)213
4967 y(#)g(print)h(Dumper\($hash\);)213 5203 y(#)f(my)h($doc)f(=)h
($idx->index_read\($idx->{index_file_format},)990 b(\\)213
5282 y("$index_root/document_meta_idx.dbm",)34 b(1\);)213
5361 y(#)39 b(my)h($words)f(=)h
($idx->index_read\($idx->{index_file_format})o(,)911
b(\\)213 5440 y("$index_root/word_idx.dbm",)36 b(1\);)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(187)p eop
end
%%Page: 188 188
TeXDict begin 188 187 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2862 4 2732 v 213 234 a Fa(my)39 b($space)g(=)h(`du)f(-sk)h
($index_root`;)213 313 y($space)f(=)g($1)h(if\($space)e(=\230)i
(/\(\\d+\)\\s+/\);)213 392 y(#)f(my)h(@sorted_words)e(=)i(reverse)e
(sort)i({)f($words->{$a}->{count})e(<=>)757 b(\\)213
471 y($words->{$b}->{count})36 b(})k(keys)f(\045$words;)213
629 y(#)g($idx->debugmsg\("total)e(documents)118 b(:)40
b(")g(.)f(scalar)g(keys)h(\045$doc,)f(0\);)213 708 y(#)g
($idx->debugmsg\("total)e(unique)i(words:)g(")h(.)f(scalar)g(keys)h
(\045$words,)e(0\);)213 786 y($idx->debugmsg\("disk)f(space)i(used)119
b(:)39 b(")h(.)g($space)f(.)g(")h(KB",)f(0\);)213 865
y($idx->debugmsg\("file)e(collect)h(took)i(:)f(")h(.)g($timediff_find,)
d(0\);)213 944 y($idx->debugmsg\("data)g(prep)i(took)159
b(:)39 b(")h(.)g($timediff_prep,)d(0\);)213 1023 y
($idx->debugmsg\("index)f(build)k(took)79 b(:)39 b(")h(.)g
($timediff_build,)d(0\);)213 1102 y($idx->debugmsg\("index)f(write)k
(took)79 b(:)39 b(")h(.)g($timediff_sync,)d(0\);)213
1181 y(#)i($idx->debugmsg\("top)e(20)j(words)238 b(:)40
b(list)f(below",)g(0\);)213 1338 y(#)g(for)h(my)f($i)h(\(0..19\))213
1417 y(#)f({)213 1496 y(#)g(my)h($w)g(=)f($sorted_words[$i];)213
1575 y(#)g($idx->debugmsg\(")118 b($w)39 b($words->{$w}->{count}",)e
(0\);)213 1654 y(#)i(})213 1891 y(#)g($idx->debugmsg\($doc,)e(1\);)213
2206 y(#)i(to)h(find)f(all)h(the)f(shakespear)f(html)i(files)f(by)g
(scenes)213 2285 y(sub)g(wanted)213 2364 y({)213 2443
y(return)g(if\(-d)g($File::Find::name)e(||)j($File::Find::name)d(=\230)
996 b(\\)213 2522 y(/full\\.html|index\\.html|news\\.html|\210\\./\);)
213 2600 y(push)39 b(@files,)g($File::Find::name;)213
2679 y(})p 3466 2862 V 185 2865 3285 4 v 1873 5809 a
Fk(188)p eop end
%%Page: 189 189
TeXDict begin 189 188 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.23)80 b(index)p 591 210 25 4 v 30 w(mldbm)p 874
210 V 30 w(incr)o(emental.pl)p 185 295 3285 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_index_mldbm_incremental.pl)213 635 y(#)g
(functionality:)f(Tests)h(index)g(update)g(using)g(Index/mldbm.pm;)f
(requires)h(that)213 714 y(#)g(functionality:)f(index_mldbm.pl)g(was)h
(run)h(previously)213 872 y(use)f(strict;)213 951 y(use)g(FindBin;)213
1030 y(use)g(vars)g(qw/$DEBUG/;)213 1187 y(use)g(Benchmark;)213
1266 y(use)g(Clair::GenericDoc;)213 1345 y(use)g(Clair::Index;)213
1424 y(use)g(Data::Dumper;)213 1503 y(use)g(File::Find;)213
1739 y($DEBUG)g(=)g(0;)213 1818 y(my)g(\045args;)213
1897 y(my)g(@files)g(=)h(\(\);)213 1976 y(my)f($corpus_root)f(=)i
("$FindBin::Bin/input/index/Shakespear";)213 2055 y(my)f
($incremental_root)f(=)h("$FindBin::Bin/input/index/incremental";)213
2134 y(my)g($index_root)g(=)g("$FindBin::Bin/produced/index_mldbm",)213
2213 y(my)g($stop_word_list)f(=)i
("$FindBin::Bin/input/index/stopwords.txt";)213 2291
y(my)f($filter)g(=)h("\\.html";)213 2449 y(#)f(instantiate)g(the)g
(index)g(object)213 2528 y(my)g($idx)h(=)f(new)h(Clair::Index\()213
2607 y(DEBUG)f(=>)g($DEBUG,)213 2686 y(stop_word_list)f(=>)h
($stop_word_list,)213 2765 y(index_root)f(=>)i($index_root,)213
2844 y(#)f(rw_modules_root)f(=>)i($rw_module_root,)213
2922 y(\);)213 3080 y($idx->debugmsg\("using)c(stop)k(word)f(list:)g
($stop_word_list",)e(0\))j(if\(-f)637 b(\\)213 3159 y
($stop_word_list\);)213 3317 y(my)39 b($t0;)213 3396
y(my)g($t1;)213 3632 y(#)g(let's)h(try)f(incremental)f(adding)h(of)h
(index.)213 3711 y(@files)f(=)g(\(\);)213 3790 y(find\(\\&wanted,)f(\()
h($incremental_root)f(\)\);)213 3869 y(@files)h(=)g(grep)h({)f
(/$filter/)g(})h(@files)f(if\($filter\);)213 3948 y(#)g(print)h
(Dumper\(\\@files\);)213 4184 y($t0)f(=)h(new)f(Benchmark;)213
4342 y(#)g(insert,)g(build,)g(and)h(sync)213 4421 y(for)f(my)h($f)f
(\(@files\))213 4500 y({)213 4579 y(my)g($gdoc)g(=)h(new)g
(Clair::GenericDoc\()213 4658 y(DEBUG)f(=>)g(1,)213 4736
y(#)g(module_root)g(=>)g($module_root,)213 4815 y(content)g(=>)g($f,)
213 4894 y(stem)g(=>)h(1,)213 4973 y(use_parser_module)d(=>)j
("shakespear")213 5052 y(\);)213 5210 y(#)f(insert)g(the)h(document)e
(into)i(the)f(index)g(object)213 5289 y($idx->insert\($gdoc\);)213
5367 y(})213 5446 y($idx->build\(\);)213 5525 y($idx->sync\(\);)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(189)p eop
end
%%Page: 190 190
TeXDict begin 190 189 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1837 4 1707 v 213 313 a Fa($t1)39 b(=)h(new)f(Benchmark;)213
392 y(my)g($timediff)g(=)h(timestr\(timediff\($t1,)c($t0\)\);)213
471 y($idx->debugmsg\("incremental)g(index)j(update)g(took)g(:)h(")f(.)
h($timediff,)e(0\);)213 708 y(my)h($doc2)g(=)h
($idx->index_read\($idx->{index_file_format},)1030 b(\\)213
786 y("$index_root/document_meta_index.dbm",)34 b(1\);)213
944 y($idx->debugmsg\("total)i(documents)119 b(:)39 b(")h(.)g(scalar)f
(keys)g(\045$doc2,)g(0\);)213 1023 y($idx->debugmsg\($doc2,)d(1\);)213
1260 y(#)j(to)h(find)f(all)h(the)f(shakespear)f(html)i(files)f(by)g
(scenes)213 1338 y(sub)g(wanted)213 1417 y({)213 1496
y(return)g(if\(-d)g($File::Find::name)e(||)j($File::Find::name)d(=\230)
996 b(\\)213 1575 y(/full\\.html|index\\.html|news\\.html|\210\\./\);)
213 1654 y(push)39 b(@files,)g($File::Find::name;)213
1733 y(})p 3466 1837 V 185 1840 3285 4 v 1873 5809 a
Fk(190)p eop end
%%Page: 191 191
TeXDict begin 191 190 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.24)80 b(index)p 591 210 25 4 v 30 w(mldbm.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_index_mldbm.pl)213 635
y(#)g(functionality:)f(Tests)h(index)g(creation)g(using)g
(Index/mldbm.pm,)f(outputs)h(stats,)213 714 y(#)g(functionality:)f
(uses)h(input/index/Shakespear,)e(creates)i(produces/index_mldbm)213
872 y(use)g(strict;)213 951 y(use)g(FindBin;)213 1030
y(use)g(lib)h("$FindBin::Bin/../lib";)213 1108 y(use)f(lib)h
("$FindBin::Bin/lib";)c(#)k(if)g(you)f(are)g(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1187 y(use)f(vars)g(qw/$DEBUG/;)213
1345 y(use)g(Benchmark;)213 1424 y(use)g(Clair::GenericDoc;)213
1503 y(use)g(Clair::Index;)213 1582 y(use)g(Data::Dumper;)213
1660 y(use)g(File::Find;)213 1739 y(use)g(Getopt::Long;)213
1818 y(use)g(Pod::Usage;)213 2055 y($DEBUG)g(=)g(0;)213
2134 y(my)g(\045args;)213 2213 y(my)g(@files)g(=)h(\(\);)213
2291 y(my)f($corpus_root)f(=)i("$FindBin::Bin/input/index/Shakespear";)
213 2370 y(my)f($incremental_root)f(=)h
("$FindBin::Bin/input/index/incremental";)213 2449 y(my)g($index_root)g
(=)g("$FindBin::Bin/produced/index_mldbm",)213 2528 y(my)g
($stop_word_list)f(=)i("$FindBin::Bin/input/index/stopwords.txt";)213
2607 y(my)f($filter)g(=)h("\\.html";)213 2765 y(#)f(Determine)g(the)g
(GenericDoc)g(module)g(root)g(here)213 2844 y(#)g(my)h(@libpaths)f(=)g
(grep)g({)h(-d)g($_)f(&&)h($_)f(=\230)h(/GenericDoc/)e(})i(@INC;)213
2922 y(#)f(my)h($module_root)e(=)i(shift)f(@libpaths;)213
3080 y(#)g(@libpaths)g(=)h(grep)f({)h(-d)f($_)h(&&)f($_)h(=\230)f
(/Index/)g(})h(@INC;)213 3159 y(#)f(my)h($rw_module_root)e(=)h(shift)g
(@libpaths;)213 3317 y(GetOptions\(\\\045args,)e('help',)i('man',)g
('debug=i',)f('datadir=s',)g('listfile=s',)357 b(\\)213
3396 y('filter=s',)38 b('stop_word_list=s'\))f(or)j(pod2usage\(2\);)213
3475 y(pod2usage\(1\))e(if\($args{help}\);)213 3553 y
(pod2usage\(-exitstatus)e(=>)k(0,)g(-verbose)e(=>)i(2\))f
(if\($args{man}\);)213 3632 y($corpus_root)f(=)i($args{datadir})d
(if\($args{datadir}\);)213 3711 y($DEBUG)i(=)g($args{debug})f
(if\($args{debug}\);)213 3790 y($stop_word_list)f(=)j
($args{stop_word_list})d(if\($args{stop_word_list}\);)213
4105 y(#)i(instantiate)g(the)g(index)g(object)213 4184
y(my)g($idx)h(=)f(new)h(Clair::Index\()213 4263 y(DEBUG)f(=>)g($DEBUG,)
213 4342 y(stop_word_list)f(=>)h($stop_word_list,)213
4421 y(index_root)f(=>)i($index_root,)213 4500 y(#)f(rw_modules_root)f
(=>)i($rw_module_root,)213 4579 y(\);)213 4736 y
($idx->debugmsg\("using)c(stop)k(word)f(list:)g($stop_word_list",)e
(0\))j(if\(-f)637 b(\\)213 4815 y($stop_word_list\);)213
4973 y(my)39 b($t0;)213 5052 y(my)g($t1;)213 5210 y(#)213
5289 y(#)g(Finding)g(files)213 5367 y(#)213 5446 y
($idx->debugmsg\("using)d(files)k(from:)f($corpus_root",)e(0\);)213
5604 y($t0)i(=)h(new)f(Benchmark;)p 3466 5708 V 185 5711
3285 4 v 1873 5809 a Fk(191)p eop end
%%Page: 192 192
TeXDict begin 192 191 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 253 313 a Fa(find\(\\&wanted,)37
b(\()j($corpus_root)e(\)\);)253 392 y(@files)h(=)g(grep)h({)f
(/$filter/)g(})g(@files)g(if\($filter\);)213 550 y
($idx->debugmsg\("total)d(of)k(")g(.)f(scalar)g(@files)g(.)h(")g(files)
f(retrieved)f(from)518 b(\\)213 629 y('$corpus_root'",)37
b(0\);)213 786 y($t1)i(=)h(new)f(Benchmark;)213 865 y(my)g
($timediff_find)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)213
1102 y(#)213 1181 y(#)j(Preparing)g(Index)213 1260 y(#)213
1338 y($idx->debugmsg\("constructing)c(index)40 b(object)e(with)i
(documents",)e(0\);)213 1417 y($t0)h(=)h(new)f(Benchmark;)213
1575 y(for)g(my)h($f)f(\(@files\))213 1654 y({)213 1733
y(my)g($gdoc)g(=)h(new)g(Clair::GenericDoc\()213 1812
y(DEBUG)f(=>)g($DEBUG,)213 1891 y(#)g(module_root)g(=>)g($module_root,)
213 1969 y(content)g(=>)g($f,)213 2048 y(stem)g(=>)h(1,)213
2127 y(use_parser_module)d(=>)j("shakespear")213 2206
y(\);)213 2364 y(#)f(insert)g(the)h(document)e(into)i(the)f(index)g
(object)213 2443 y($idx->insert\($gdoc\);)213 2522 y(})213
2600 y($t1)g(=)h(new)f(Benchmark;)213 2679 y(my)g($timediff_prep)f(=)i
(timestr\(timediff\($t1,)c($t0\)\);)213 2995 y(#)213
3074 y(#)j(Building)g(Index)213 3153 y(#)213 3231 y($t0)g(=)h(new)f
(Benchmark;)213 3310 y($idx->debugmsg\("building)d(index,)j(please)g
(wait...",)f(0\);)213 3389 y($idx->clean\(\);)g(#)h(cleans)g(up)h(any)f
(existing)g(index.)213 3468 y(my)g(\($invidx,)g($docidx\))f(=)i
($idx->build\(\);)213 3547 y($t1)f(=)h(new)f(Benchmark;)213
3626 y(my)g($timediff_build)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)
213 3862 y(#)213 3941 y(#)j(Writing)g(Index)213 4020
y(#)213 4099 y($t0)g(=)h(new)f(Benchmark;)213 4178 y
($idx->debugmsg\("sync-ing)d(\(saving\))j(to)g(disk",)g(0\);)213
4257 y($idx->sync\(\);)213 4336 y($t1)g(=)h(new)f(Benchmark;)213
4414 y(my)g($timediff_sync)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)213
4651 y(#)j(you)h(can)f(use)h(the)f(methods)g(from)g(the)h(submodules)e
(this)h(way)213 4730 y(my)g($modobj)g(=)h
($idx->_load_rw_module\("mldbm"\);)213 4809 y(my)f($hash)g(=)h
($modobj->_mldbm_read\("$index_root/document_me)o(ta_idx.)o(dbm",)33
b($idx\);)213 4967 y(#)39 b(print)h(Dumper\($hash\);)213
5203 y(my)f($doc)h(=)f($idx->index_read\($idx->{index_file_format},)
1070 b(\\)213 5282 y("$index_root/document_meta_idx.dbm",)34
b(1\);)213 5361 y(my)39 b($space)g(=)h(`du)f(-sk)h($index_root`;)213
5440 y($space)f(=)g($1)h(if\($space)e(=\230)i(/\(\\d+\)\\s+/\);)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(192)p eop
end
%%Page: 193 193
TeXDict begin 193 192 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3245
4 v 185 5149 4 5019 v 213 313 a Fa($idx->debugmsg\("total)36
b(documents)119 b(:)39 b(")h(.)g(scalar)f(keys)g(\045$doc,)g(0\);)213
392 y(#)g($idx->debugmsg\("total)e(unique)i(words:)g(")h(.)f(scalar)g
(keys)h(\045$words,)e(0\);)213 471 y($idx->debugmsg\("disk)f(space)i
(used)119 b(:)39 b(")h(.)g($space)f(.)g(")h(KB",)f(0\);)213
550 y($idx->debugmsg\("file)e(collect)h(took)i(:)f(")h(.)g
($timediff_find,)d(0\);)213 629 y($idx->debugmsg\("data)g(prep)i(took)
159 b(:)39 b(")h(.)g($timediff_prep,)d(0\);)213 708 y
($idx->debugmsg\("index)f(build)k(took)79 b(:)39 b(")h(.)g
($timediff_build,)d(0\);)213 786 y($idx->debugmsg\("index)f(write)k
(took)79 b(:)39 b(")h(.)g($timediff_sync,)d(0\);)213
944 y($idx->debugmsg\($doc,)g(1\);)213 1260 y(#)i(to)h(find)f(all)h
(the)f(shakespear)f(html)i(files)f(by)g(scenes)213 1338
y(sub)g(wanted)213 1417 y({)213 1496 y(return)g(if\(-d)g
($File::Find::name)e(||)j($File::Find::name)d(=\230)996
b(\\)213 1575 y(/full\\.html|index\\.html|news\\.html|\210\\./\);)213
1654 y(push)39 b(@files,)g($File::Find::name;)213 1733
y(})213 2048 y(__END__)213 2206 y(=head1)g(NAME)213 2364
y(test_index.pl)f(-)h(builds)g(indexes)g(from)g(the)h(corpus)213
2522 y(=head1)f(SYNOPSIS)213 2679 y(index.pl)f([options])213
2837 y(Options:)253 2995 y(-help)477 b(brief)39 b(help)g(message)253
3074 y(-man)517 b(full)39 b(documentation)253 3153 y(-debug)437
b(specify)39 b(a)h(debug)f(level)g(for)g(verbosity)253
3231 y(-datadir)357 b(corpus)39 b(dir)g([default:)g
(/home/cs6998/hw1/Shakespeare])253 3310 y(-listfile)317
b(file)39 b(containing)g(a)g(list)h(of)f(data)g(source)253
3389 y(-stop_work_list)77 b(provide)39 b(a)h(list)f(file)g(containing)f
(the)i(stop)f(words)213 3547 y(=head1)g(OPTIONS)213 3705
y(=over)g(8)213 3862 y(=item)g(B<-help>)213 4020 y(Print)g(a)h(brief)f
(help)g(message)g(and)g(exits.)213 4178 y(=item)g(B<-man>)213
4336 y(Prints)g(the)g(manual)g(page)g(and)h(exits.)213
4493 y(=back)213 4651 y(=head1)f(DESCRIPTION)213 4809
y(B<This)g(program>)f(will)i(slurp)f(in)g(all)h(the)f(files)g(under)g
(designated)g(data)g(directory)213 4888 y(and)g(create)g(an)h(inverted)
e(index)h(for)h(searching.)213 5045 y(=cut)p 3426 5149
V 185 5152 3245 4 v 1873 5809 a Fk(193)p eop end
%%Page: 194 194
TeXDict begin 194 193 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.25)80 b(ir)-8 b(.pl)p 185 295 3285 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_ir.pl)213 635 y(#)g(functionality:)f(Builds)h(a)h
(corpus)f(from)g(some)g(text)h(files,)f(then)g(makes)g(an)g(IDF,)h(a)
213 714 y(#)f(functionality:)f(TF,)i(and)f(outputs)g(some)g
(information)f(from)i(them)213 872 y(#)f(To)h(run)f(this)h(script,)e
(you)i(need)f(to)h(have)f(ALECACHE=/tmp)f(\(or)h(to)h(some)f(other)213
951 y(#)g(directory\))g(set)g(in)h(your)f(environment.)213
1108 y(use)g(warnings;)213 1187 y(use)g(strict;)213 1266
y(use)g(Clair::Utils::CorpusDownload;)213 1345 y(use)g
(Clair::Utils::Idf;)213 1424 y(use)g(Clair::Utils::Tf;)213
1503 y(use)g(DB_File;)g(#)h(This)f(is)g(necessary)g(if)g(running)g(on)h
(an)f(NFS)h(drive)213 1739 y(my)f($in_dir)g(=)h
("$FindBin::Bin/input/ir";)213 1818 y(my)f($out_dir)g(=)h
("$FindBin::Bin/produced/ir";)213 1897 y(my)f($corpus_name)f(=)i
("ir_corpus";)213 2055 y(#)f(Read)h(the)651 2067 y(*)691
2055 y(.txt)f(files)g(from)h(the)f(input)g(directory,)f(taking)h(care)h
(to)213 2134 y(#)f(prepend)g(the)h(input)f(directory)f(before)h(the)h
(filenames.)213 2213 y(opendir)f(INPUT,)g($in_dir)f(or)i(die)f
("Couldn't)g(open)g($in_dir:)g($!";)213 2291 y(my)g(@files)g(=)h(map)f
({)h("$in_dir/$_")e(})i(grep)f({)h(/\\.txt$/)e(})i(readdir\(INPUT\);)
213 2370 y(closedir)e(INPUT;)213 2528 y(#)h(Make)h(this)f(object)g(so)g
(we)h(can)f(get)h(the)f(files)g(into)h(TREC)f(format)213
2607 y(my)g($corpus)g(=)h(Clair::Utils::CorpusDownload->new\()372
2686 y(corpusname)f(=>)g($corpus_name,)372 2765 y(rootdir)g(=>)h
($out_dir,)213 2844 y(\);)213 3001 y(#)f(You)h(have)f(to)h(do)f(this)g
(because)g(the)h(rootdir)e(and)i(corpus)213 3080 y(#)f(parameters)g
(passed)g(to)g(the)h(CorpusDownload)d(constructor)i(are)g(ignored.)213
3159 y($corpus->{rootdir})e(=)j($out_dir;)213 3238 y($corpus->{corpus})
d(=)j($corpus_name;)213 3396 y($corpus->buildCorpusFromFiles\()35
b(filesref)k(=>)g(\\@files,)g(cleanup)g(=>)g(0)h(\);)213
3553 y(#)f(The)h(order)f(of)h(the)f(calls)g(to)h(buildIdf,)e
(build_docno_dbm,)g(and)h(buildTf)g(are)213 3632 y(#)g(important.)g(It)
g(can)h(fail)f(if)h(they)f(are)g(called)g(in)h(a)f(different)g(order.)
213 3790 y(#)g(Create)g(the)h(idf)f(database)g(file)213
3869 y($corpus->buildIdf\()e(stemmed)i(=>)g(1)h(\);)213
3948 y(my)f($idf)h(=)f(Clair::Utils::Idf->new\()e(rootdir)h(=>)i
($out_dir,)f(corpusname)f(=>)478 b(\\)213 4027 y($corpus_name,)372
4105 y(stemmed)39 b(=>)h(1)f(\);)213 4263 y(#)g(Create)g(the)h(tf)f
(database)g(file)213 4342 y($corpus->build_docno_dbm\(\);)213
4421 y($corpus->buildTf\()e(stemmed)i(=>)g(1)h(\);)213
4500 y(my)f($tf)h(=)f(Clair::Utils::Tf->new\()e(rootdir)i(=>)g
($out_dir,)g(corpusname)f(=>)558 b(\\)213 4579 y($corpus_name,)372
4658 y(stemmed)39 b(=>)h(1)f(\);)213 4815 y(#)g(Output)g(some)h
(information)e(involving)g(term)i(statistics.)213 4894
y(print)f("nfiles=",)f(scalar)h(@files,)g("\\n";)213
4973 y(my)g(@words)g(=)h(qw\(the)f(and\);)213 5052 y(foreach)g(my)g
($word)g(\(@words\))g({)372 5131 y(my)h($idf_score)e(=)i
($idf->getIdfForWord\($word\);)372 5210 y(my)g($tf_score)e(=)i
($tf->getFreq\($word\);)372 5289 y(my)g($n_docs)f(=)g
($tf->getNumDocsWithWord\($word\);)372 5367 y(print)g("word=$word,)f
(idf=$idf_score,)g(tf=$tf_score,)g(n_docs=$n_docs\\n";)213
5446 y(})213 5604 y(#)h(Output)g(some)h(information)e(involving)g
(phrase)h(statistics.)p 3466 5708 V 185 5711 3285 4 v
1873 5809 a Fk(194)p eop end
%%Page: 195 195
TeXDict begin 195 194 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2448
4 v 185 575 4 445 v 213 234 a Fa(my)39 b(@phrase)g(=)h(qw\(in)f(the\);)
213 313 y(my)g($tf_score)g(=)h($tf->getPhraseFreq\(@phrase\);)213
392 y(my)f($n_docs)g(=)h($tf->getNumDocsWithPhrase\(@phrase\);)213
471 y(print)f("phrase=\\"in)f(the\\",)h(freq=$tf_score,)e
(n_docs=$n_docs\\n";)p 2629 575 V 185 578 2448 4 v 1873
5809 a Fk(195)p eop end
%%Page: 196 196
TeXDict begin 196 195 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.26)80 b(lear)o(n.pl)p 185 295 3245 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_learn.pl)213 635 y(#)g(functionality:)f(Uses)h
(feature)g(vectors)g(in)h(the)f(svm_light)g(format)g(and)g(calculates)
213 714 y(#)g(functionality:)f(and)i(saves)f(perceptron)f(parameters;)g
(needs)h(features_traintest.pl)213 872 y(use)g(strict;)213
951 y(use)g(FindBin;)213 1030 y(#)g(use)h(lib)f
("$FindBin::Bin/../lib";)213 1108 y(#)g(use)h(lib)f
("$FindBin::Bin/lib";)e(#)j(if)f(you)h(are)f(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1187 y(use)f(vars)g(qw/$DEBUG/;)213
1345 y(use)g(Benchmark;)213 1424 y(use)g(Clair::Learn;)213
1503 y(use)g(Data::Dumper;)213 1582 y(use)g(File::Find;)213
1818 y($DEBUG)g(=)g(0;)213 1897 y(my)g(\045args;)213
1976 y(my)g(@train_files)f(=)i(\(\);)f(#)h(list)f(of)h(train)f(files)g
(we)h(will)f(analyze)213 2055 y(my)g(@test_files)g(=)g(\(\);)h(#)f
(list)h(of)f(test)g(files)g(we)h(will)f(analyze)213 2134
y(my)g(\045container)g(=)g(\(\);)h(#)f(container)g(for)g(our)h(file)f
(arrays.)213 2291 y(my)g($results_root)f(=)i
("$FindBin::Bin/produced/features";)213 2370 y(mkpath\($results_root,)c
(0,)k(0777\))f(unless\(-d)g($results_root\);)213 2528
y(my)g($output)g(=)h("feature_vectors";)213 2607 y(my)f($train)g(=)h
("$results_root/$output.train";)213 2686 y(my)f($model)g(=)h
("$results_root/model";)213 2765 y(my)f($eta)h(=)f($args{eta};)213
2922 y(unless\(-f)f($train\))213 3001 y({)213 3080 y(print)h("The)g
(train)g(file)g(is)h(required.)f(Make)g(sure)g(features_traintest.pl)e
(has)i(been)159 b(\\)213 3159 y(run.\\n";)213 3238 y(exit;)213
3317 y(})213 3475 y(my)39 b($t0;)213 3553 y(my)g($t1;)213
3711 y(#)213 3790 y(#)g(Finding)g(files)213 3869 y(#)213
3948 y($t0)g(=)h(new)f(Benchmark;)213 4184 y(my)g($lea)h(=)f(new)h
(Clair::Learn\(DEBUG)d(=>)i($DEBUG,)g(train)g(=>)h($train,)f(model)g
(=>)g($model\);)213 4263 y(my)g(\($w0,)g($w\))h(=)g($lea->learn\("",)d
($eta\);)i(#)h(retrieves)e(the)i(coefficients)213 4500
y($t1)f(=)h(new)f(Benchmark;)213 4579 y(my)g($timediff)g(=)h
(timestr\(timediff\($t1,)c($t0\)\);)213 4736 y
($lea->debugmsg\("learning)g(\(perceptron\))i(convergence)g(took:)h
($timediff",)g(0\);)213 4815 y($lea->debugmsg\("intercept:)d($w0\\n")j
(.)g(Dumper\($w\),)g(1\);)213 4973 y(#)g(save)h(the)f(output)213
5052 y(open)g(M,)h(">)f($model")g(or)g($lea->errmsg\("cannot)e(open)j
(file)f('$model':)f($!",)i(1\);)213 5131 y(print)f(M)h("intercept)e
($w0\\n";)213 5210 y(while)h(\(my)g(\($feature_id,)f($weight\))h(=)h
(each)f(\045$w\))213 5289 y({)213 5367 y(print)g("id:weight)f
($feature_id:$weight\\n";)213 5446 y(print)h(M)h("$feature_id)e
($weight\\n";)213 5525 y(})213 5604 y(close)h(M;)p 3426
5708 V 185 5711 3245 4 v 1873 5809 a Fk(196)p eop end
%%Page: 197 197
TeXDict begin 197 196 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.27)80 b(lexrank2.pl)p 185 295 2727 4 v 185 2947
4 2653 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lexrank2.pl)213 635 y(#)g(functionality:)f(Computes)h
(lexrank)g(from)g(a)h(stemmed)e(line-based)h(cluster)213
793 y(use)g(strict;)213 872 y(use)g(warnings;)213 951
y(use)g(FindBin;)213 1030 y(use)g(Clair::Network;)213
1108 y(use)g(Clair::Cluster;)213 1187 y(use)g(Clair::Document;)213
1266 y(use)g(Clair::Network::Centrality::LexRank;)213
1424 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1503 y(my)f($input_dir)g
(=)g("$basedir/input/lexrank";)213 1660 y(my)g($c)h(=)g(new)f
(Clair::Cluster\(\);)213 1818 y
($c->load_lines_from_file\("$input_dir/t02_l)o(exrank.)o(input"\))o(;)
213 1897 y($c->stem_all_documents\(\);)213 1976 y(my)g(\045cos_matrix)g
(=)g($c->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
2134 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)35
b(=>)k(\\\045cos_matrix\);)213 2291 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
2449 y($cent->centrality\(\);)213 2686 y(print)f("SENT)g(LEXRANK\\n";)
213 2765 y($cent->print_current_distribution\(\);)213
2844 y(print)g("\\n";)p 2908 2947 V 185 2950 2727 4 v
1873 5809 a Fk(197)p eop end
%%Page: 198 198
TeXDict begin 198 197 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.28)80 b(lexrank3.pl)p 185 295 3086 4 v 185 3342
4 3047 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lexrank3.pl)213 635 y(#)g(functionality:)f(Computes)h
(lexrank)g(from)g(line-based,)f(stripped)h(and)g(stemmed)213
714 y(#)g(functionality:)f(cluster)213 872 y(use)h(strict;)213
951 y(use)g(warnings;)213 1030 y(use)g(FindBin;)213 1108
y(use)g(Clair::Network;)213 1187 y(use)g(Clair::Cluster;)213
1266 y(use)g(Clair::Document;)213 1345 y(use)g
(Clair::Network::Centrality::LexRank;)213 1503 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1582 y(my)f($input_dir)g(=)g
("$basedir/input/lexrank";)213 1739 y(#)g(Switch)g(to)h(the)f(input)g
(directory)g(so)h(that)f(the)g(file)g(list)h(can)f(be)213
1818 y(#)g(just)h(filenames)e(without)h(paths)g(\(since)g(we)h(don't)f
(know)g(absolute)g(path\))213 1897 y(chdir)g("$input_dir";)213
2055 y(my)g($c)h(=)g(new)f(Clair::Cluster\(\);)213 2213
y($c->load_file_list_from_file\("filelist.txt)o(",)34
b(type)39 b(=>)h('html',)f(count_id)f(=>)i(1\);)213 2291
y($c->strip_all_documents\(\);)213 2370 y($c->stem_all_documents\(\);)
213 2449 y(my)f(\045cos_matrix)g(=)g
($c->compute_cosine_matrix\(text_type)c(=>)k('stem'\);)213
2607 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)35
b(=>)k(\\\045cos_matrix\);)213 2765 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
2844 y($cent->centrality\(\);)213 3080 y(print)f("FILE)g(LEXRANK\\n";)
213 3159 y($cent->print_current_distribution\(\);)213
3238 y(print)g("\\n";)p 3266 3342 V 185 3345 3086 4 v
1873 5809 a Fk(198)p eop end
%%Page: 199 199
TeXDict begin 199 198 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.29)80 b(lexrank4.pl)p 185 295 3165 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lexrank4.pl)213 635 y(#)g(functionality:)f(Based)h(on)
h(an)f(interactive)g(script,)f(this)i(test)f(builds)g(a)h(sentence-)213
714 y(#)f(functionality:)f(based)h(cluster,)g(then)g(a)h(network,)f
(computes)f(lexrank,)h(and)g(then)213 793 y(#)g(functionality:)f(runs)h
(MMR)h(on)f(it)213 951 y(use)g(strict;)213 1030 y(use)g(warnings;)213
1108 y(use)g(FindBin;)213 1187 y(use)g(Clair::Config)f(qw\()h($PRMAIN)g
(\);)213 1266 y(use)g(Clair::Cluster;)213 1345 y(use)g
(Clair::Document;)213 1424 y(use)g(Clair::Network;)213
1503 y(use)g(Clair::Network::Centrality::LexRank;)213
1582 y(use)g(Clair::Network::Centrality::CPPLexRank;)213
1660 y(use)g(Clair::NetworkWrapper;)213 1739 y(use)g(File::Spec;)213
1818 y(use)g(Getopt::Long;)213 1976 y(#)g(This)h(script)f(has)g(been)g
(converted)g(from)g(an)h(interactive)e(example)h(script.)f(To)213
2055 y(#)h(use)h(it)f(interactively,)f(uncomment)h(the)g(GetOptions)f
(part.)213 2213 y(#)h(This)h(script)f(is)g(used)g(to)h(run)f(various)g
(forms)g(of)h(lexrank)f(with)g(optional)g(MMR)213 2291
y(#)g(reranking.)213 2370 y(#)213 2449 y(#)g(Each)h(input)f(file)g
(must)g(be)h(in)f(the)h(format)f(of)g(one)h(unique)f(meta-data)f(tag)i
(and)f(one)213 2528 y(#)g(sentence)g(per)h(line,)f(separated)f(with)h
(a)h(tab.)213 2607 y(#)213 2686 y(#)f(To)h(run)f(an)h(unbiased)f
(lexrank)f(on)i(a)g(list)f(of)g(files)h(\(uses)f(C++)g(lexrank\):)213
2765 y(#)199 b(./lexrank.pl)38 b(-i)h(myid)h(file1)f(file2)g(...)g
(fileN)213 2844 y(#)213 2922 y(#)g(To)h(run)f(a)h(biased)f(lexrank)g
(on)g(a)h(list)f(of)h(files,)f(where)g(each)g(sentence)g(is)g(given)213
3001 y(#)g(a)h(boost)f(proportional)f(to)i(its)f(distance)g(from)g(the)
h(top)f(of)h(the)f(document)g(\(uses)213 3080 y(#)g(Perl)h(lexrank\):)
213 3159 y(#)199 b(./lexrank.pl)38 b(-i)h(myid)h(-b)f(file1)g(file2)g
(...)h(fileN)213 3238 y(#)213 3317 y(#)f(To)h(run)f(a)h(biased)f
(lexrank)g(from)g(a)h(file)f(containing)f(query)i(sentences,)e(one)h
(per)h(line)213 3396 y(#)f(\(uses)h(C++)f(lexrank\):)213
3475 y(#)199 b(./lexrank.pl)38 b(-i)h(myid)h(-q)f(bias.txt)g(file1)g
(file2)g(...)h(fileN)213 3553 y(#)213 3632 y(#)f(To)h(use)f(MMR)h
(reranking:)213 3711 y(#)199 b(./lexrank.pl)38 b(-i)h(myid)h(-m)f(0.75)
213 3790 y(#)213 3869 y(#)g(To)h(use)f(generation)g(probabilities)f
(instead)g(of)i(cosine)f(similarity:)213 3948 y(#)199
b(./lexrank.pl)38 b(-g)213 4027 y(#)213 4105 y(#)h(Author:)g(Tony)h
(Fader)f(\(afader@umich.edu\))213 4342 y(#)g(Get)h(command)f(line)g
(arguments)213 4500 y(my)g(\(@files,)g($id,)g($rbias,)g($qbias,)g
($mmr,)g($size,)g($clean,)g($genprob\);)213 4658 y(my)g($input_dir)g(=)
g("$FindBin::Bin/input/lexrank4";)213 4736 y(opendir)g(INPUT,)g
($input_dir)f(or)h(die)h("Couldn't)e(open)i($input_dir:)e($!";)213
4815 y(@files)h(=)g(\("$input_dir/combine1.txt"\);)213
4894 y(closedir)f(INPUT;)213 5052 y($id)h(=)h("test";)213
5131 y($qbias)f(=)g("$input_dir/bias.10.1.txt";)213 5210
y($mmr)g(=)h(0.75;)213 5289 y($genprob)e(=)i(1;)213 5367
y($clean)f(=)g(0;)213 5525 y(#GetOptions\()213 5604 y(#)159
b("i=s")39 b(=>)h(\\$id,)p 3346 5708 V 185 5711 3165
4 v 1873 5809 a Fk(199)p eop end
%%Page: 200 200
TeXDict begin 200 199 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3165
4 v 185 5544 4 5414 v 213 234 a Fa(#)159 b("q=s")39 b(=>)h(\\$qbias,)
213 313 y(#)159 b("b")119 b(=>)40 b(\\$rbias,)213 392
y(#)159 b("g")119 b(=>)40 b(\\$genprob,)213 471 y(#)159
b("m=f")39 b(=>)h(\\$mmr,)213 550 y(#)159 b("s=i")39
b(=>)h(\\$size,)213 629 y(#)159 b("c")119 b(=>)40 b(\\$clean)213
708 y(#\);)213 786 y(#)f(@files)g(=)h(@ARGV;)213 944
y(#if)f(\(@files)g(<=)h(0)f(||)h(!defined)e($id\))i({)213
1023 y(#)159 b(print_usage\(\);)213 1102 y(#)g(exit\(1\);)213
1181 y(#})39 b(elsif)g(\($rbias)g(&&)h($qbias\))f({)213
1260 y(#)159 b(print)39 b("Both)g(-b)h(and)f(-q)h(specified\\n";)213
1338 y(#)159 b(exit\(1\);)213 1417 y(#})213 1733 y(#)39
b(Make)h(a)f(temporary)g(directory)f(to)i(work)f(in)h(to)f(prevent)g
(collisions)g(between)f(multiple)213 1812 y(#)h(runs)213
1891 y(my)g($out_dir)g(=)h("$FindBin::Bin/produced/lexrank4/$id";)213
1969 y(if)f(\(!-e)h($out_dir\))e({)372 2048 y(mkdir\($out_dir,)g
(0755\))h(or)g(die)h("Couldn't)e(create)h(directory)g($id:)g($!";)372
2127 y(chdir\($out_dir\))f(or)h(die)h("Couldn't)e(chdir)h(to)h($id:)f
($!";)213 2206 y(})g(elsif)h(\(-d)f($out_dir\))f({)372
2285 y(chdir\($out_dir\))g(or)h(die)h("Couldn't)e(chdir)h(to)h($id:)f
($!";)213 2364 y(})g(else)h({)372 2443 y(die)g("Unable)e(to)i(create)f
(or)g(use)h(directory)e($id";)213 2522 y(})213 2837 y(#)h(Create)g(a)h
(sentence)f(cluster)g(from)g(the)g(file)g(list)213 2995
y(my)g(@lines)g(=)h(combine_lines\(@files\);)213 3074
y(my)f($sent_cluster)f(=)i(Clair::Cluster->new\(\);)213
3153 y(for)f(\(@lines\))g({)372 3231 y(my)h(@tokens)f(=)g(split)g
(/\\t/;)372 3310 y(die)h("Malformed)e(line:)h($_")g(unless)g(@tokens)g
(==)h(2;)372 3389 y(my)g(\($meta,)f($text\))f(=)i(@tokens;)372
3468 y(my)g($doc)f(=)h(Clair::Document->new\()532 3547
y(string)f(=>)g($text,)532 3626 y(type)g(=>)g("text",)532
3705 y(id)g(=>)h($meta)372 3783 y(\);)372 3862 y($doc->stem\(\);)372
3941 y($sent_cluster->insert\($meta,)c($doc\);)213 4020
y(})213 4336 y(#)j(Create)g(a)h(network)f(from)g(the)h(sentence)e
(cluster)213 4493 y(my)h($network;)213 4651 y(if)g(\($genprob\))g({)372
4730 y(my)h(\045matrix)f(=)g
($sent_cluster->compute_genprob_matrix\(\);)372 4809
y($network)g(=)h($sent_cluster->create_genprob_network\()532
4888 y(genprob_matrix)d(=>)j(\\\045matrix,)532 4967 y(include_zeros)d
(=>)j(1)372 5045 y(\);)213 5124 y(})f(else)h({)372 5203
y(my)g(\045matrix)f(=)g($sent_cluster->compute_cosine_matrix\(\);)372
5282 y($network)g(=)h($sent_cluster->create_network\()532
5361 y(cosine_matrix)d(=>)j(\\\045matrix,)532 5440 y(include_zeros)d
(=>)j(1)p 3346 5544 V 185 5547 3165 4 v 1873 5809 a Fk(200)p
eop end
%%Page: 201 201
TeXDict begin 201 200 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2886
4 v 185 5544 4 5414 v 372 234 a Fa(\);)213 313 y(})213
708 y(#)39 b(Run)h(lexrank)213 786 y(my)f($cent;)213
865 y(if)g(\($rbias\))g({)292 944 y($cent)h(=)f
(Clair::Network::Centrality::LexRank->new\($netw)o(ork\);)372
1102 y(#)h(Set)f(the)h(order)f(bias)372 1181 y
(set_order_bias\($network,)d(@files\);)372 1338 y
($cent->centrality\(\);)213 1496 y(})j(elsif)h(\($qbias\))e({)372
1654 y(#)i(Wrap)f(the)h(network)e(to)i(use)f(the)h(CPP)f
(implementation)f(of)h(lexrank)372 1733 y($network)g(=)h
(Clair::NetworkWrapper->new\()532 1812 y(network)e(=>)i($network,)532
1891 y(prmain)f(=>)g($PRMAIN,)532 1969 y(clean)g(=>)g(1)372
2048 y(\);)372 2206 y(#)h(Read)f(the)h(bias)f(files)372
2285 y(my)h(@bias_sents)e(=)i(\(\);)372 2364 y(open)f(BIAS,)h($qbias)e
(or)i(die)f("Couldn't)g(read)g($qbias:)g($!";)372 2443
y(while)g(\(<BIAS>\))g({)532 2522 y(chomp;)532 2600 y(push)g
(@bias_sents,)f($_;)372 2679 y(})372 2758 y(close)h(BIAS;)372
2916 y(#)h(Run)f(query-based)f(lexrank)372 2995 y($cent)h(=)h
(Clair::Network::Centrality::CPPLexRank->new\()o($networ)o(k\);)372
3074 y($cent->compute_lexrank_from_bias_sents\(bias_s)o(ents)34
b(=>)39 b(\\@bias_sents\);)213 3153 y(})g(else)h({)372
3310 y(#)g(Wrap)f(the)h(network)e(to)i(use)f(the)h(CPP)f
(implementation)f(of)h(lexrank)372 3389 y($network)g(=)h
(Clair::NetworkWrapper->new\()532 3468 y(network)e(=>)i($network,)532
3547 y(prmain)f(=>)g($PRMAIN,)532 3626 y(clean)g(=>)g(1)372
3705 y(\);)372 3862 y(#)h(Run)f(unbiased)g(lexrank)372
3941 y($cent)g(=)h(Clair::Network::Centrality::CPPLexRank->new\()o
($networ)o(k\);)372 4020 y($cent->centrality\(\);)213
4099 y(})213 4336 y(#)f(Run)h(the)f(MMR)h(reranker)e(if)i(necessary)213
4493 y(if)f(\(defined)g($mmr\))g({)372 4572 y
($network->mmr_rerank_lexrank\($mmr\);)213 4651 y(})213
4967 y(#)g(Get)h(the)f(results)g(and)g(print)h(them)f(out)213
5124 y(my)g(\045scores)g(=)h(\045{)f(get_scores\($network\))e(};)213
5203 y(my)i($counter)g(=)h(0;)213 5282 y(foreach)f(my)g($meta)g(\(sort)
g({)h($scores{$b})e(cmp)i($scores{$a})e(})i(keys)f(\045scores\))f({)372
5361 y(my)i($text)f(=)h($sent_cluster->get\($meta\)->get_text\(\);)372
5440 y(print)f("$meta\\t$text\\t$scores{$meta}\\n";)p
3067 5544 V 185 5547 2886 4 v 1873 5809 a Fk(201)p eop
end
%%Page: 202 202
TeXDict begin 202 201 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa($counter++;)372 313
y(if)40 b(\(defined)e($size)h(and)h($counter)f(>=)g($size\))g({)532
392 y(last;)372 471 y(})213 550 y(})213 865 y(#)g(Done)213
1023 y(exit\(0\);)213 1260 y(##################)213 1338
y(#)g(Some)h(subroutines)213 1417 y(##################)213
1575 y(sub)f(print_usage)f({)372 1654 y(print)h("usage:)g($0)h(-i)f(id)
h([options])e(file1)h([file2)g(...)h(]\\n")f(.)611 1733
y("Options:)g(\\n")g(.)611 1812 y(")80 b(-m)39 b(value,)g(parameter)g
(in)g([0,1]\\n")g(.)611 1891 y(")80 b(-s)39 b(size\\n")g(.)611
1969 y(")80 b(-q)39 b(bias_file,)79 b(query-based)38
b(biased)h(lexrank\\n")f(.)611 2048 y(")80 b(-b,)39 b(rank-based)g
(biased)g(lexrank\\n")f(.)611 2127 y(")80 b(-c,)39 b(cleanup)g
(directory)g(when)g(done\\n")g(.)611 2206 y("Only)g(one)h(of)f(-q)h
(and)f(-b)h(may)f(be)h(specified.\\n";)213 2285 y(})213
2443 y(sub)f(combine_lines)f({)372 2522 y(my)i(@files)f(=)g(@_;)372
2600 y(my)h(@lines)f(=)g(\(\);)372 2679 y(foreach)g(my)h($file)f
(\(@files\))f({)532 2758 y(open)h(FILE,)g("<)g($file")g(or)h(die)f
("Couldn't)g(open)g($file:)g($!";)532 2837 y(while\(<FILE>\))e({)691
2916 y(chomp;)691 2995 y(push)i(@lines,)g($_;)532 3074
y(})532 3153 y(close)g(FILE;)372 3231 y(})372 3310 y(return)g(@lines;)
213 3389 y(})213 3547 y(sub)g(get_scores)g({)372 3626
y(my)h($network)e(=)i(shift;)372 3705 y(my)g($graph)f(=)g
($network->{graph};)372 3783 y(my)h(@verts)f(=)g($graph->vertices\(\);)
372 3862 y(my)h(\045scores)f(=)g(\(\);)372 3941 y(foreach)g(my)h($vert)
f(\(@verts\))f({)532 4020 y($scores{$vert})f(=)j
($graph->get_vertex_attribute\($vert,)35 b("lexrank_value"\);)372
4099 y(})372 4178 y(return)k(\\\045scores;)213 4257 y(})213
4414 y(#)g(Given)h(a)f(list)h(of)f(files)g(each)g(containing)g(a)g
(list)h(of)f(sents,)g(makes)g(a)h(bias)f(file)213 4493
y(#)g(where)h(each)f(sentence)f(is)i(weighted)f(according)f(to)i(its)f
(relative)g(position)f(in)i(the)213 4572 y(#)f(file.)213
4651 y(sub)g(set_order_bias)f({)372 4809 y(my)i($network)e(=)i(shift;)
372 4888 y(my)g(@files)f(=)g(@_;)372 5045 y(#)h(Print)f(the)g(bias)h
(file)372 5124 y(open)f(TEMP,)h(">)f($out_dir/bias.temp")e(or)j(die)f
("Couldn't)g(open)g(temp)g(file)438 b(\\)213 5203 y(bias.temp:)38
b($!";)372 5282 y(foreach)h(my)h($file)f(\(@files\))f({)532
5361 y(my)h(@metas;)532 5440 y(open)g(FILE,)g("<)g($file")g(or)h(die)f
("Couldn't)g(open)g($file)g(for)h(read:)f($!";)p 3466
5544 V 185 5547 3285 4 v 1873 5809 a Fk(202)p eop end
%%Page: 203 203
TeXDict begin 203 202 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2767
4 v 185 2468 4 2338 v 532 234 a Fa(while)39 b(\(<FILE>\))f({)691
313 y(my)i(\($meta,)e($text\))h(=)h(split)f(/\\t/,)g($_;)691
392 y(push)g(@metas,)g($meta;)532 471 y(})532 550 y(close)g(FILE;)532
708 y(my)g($denom)g(=)h($#metas;)532 786 y(if)f(\($denom)g(<)h(0\))f({)
691 865 y(warn)g("No)h(sentences)e(in)i($file";)691 944
y(next;)532 1023 y(})f(elsif)g(\($denom)g(==)h(0\))f({)691
1102 y(print)g(TEMP)g("$metas[0])g(1\\n";)532 1181 y(})g(else)h({)691
1260 y(foreach)f(my)g($i)h(\(0)f(..)h($denom\))f({)850
1338 y(my)h($weight)f(=)g(\($denom)g(-)h($i\))f(/)h($denom;)850
1417 y(print)f(TEMP)h("$metas[$i])e($weight\\n";)691
1496 y(})532 1575 y(})372 1733 y(})372 1812 y(close)h(TEMP;)372
1969 y($network->read_lexrank_bias\("$out_dir/bias.te)o(mp"\);)372
2048 y(if)h(\($clean\))e({)532 2127 y(unlink\("bias.temp"\))f(or)i
(warn)g("Couldn't)g(remove)g(bias.temp:)f($!";)372 2206
y(})213 2364 y(})p 2948 2468 V 185 2471 2767 4 v 1873
5809 a Fk(203)p eop end
%%Page: 204 204
TeXDict begin 204 203 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.30)80 b(lexrank)p 670 210 25 4 v 29 w(lar)o(ge.pl)p
185 295 3285 4 v 185 5235 4 4940 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_lexrank_large.pl)213
635 y(#)g(functionality:)f(Builds)h(a)h(cluster)f(from)g(a)h(set)f(of)h
(files,)f(computes)f(a)i(cosine)f(matrix)213 714 y(#)g(functionality:)f
(and)i(then)f(lexrank,)g(then)g(creates)g(a)g(network)g(and)h(a)f
(cluster)g(using)213 793 y(#)g(functionality:)f(a)i(lexrank-based)e
(threshold)g(of)i(0.2)213 951 y(use)f(strict;)213 1030
y(use)g(warnings;)213 1108 y(use)g(FindBin;)213 1187
y(use)g(Clair::Network;)213 1266 y(use)g
(Clair::Network::Centrality::LexRank;)213 1345 y(use)g(Clair::Cluster;)
213 1424 y(use)g(Clair::Document;)213 1582 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1660 y(my)f($input_dir)g(=)g
("$basedir/input/lexrank";)213 1818 y(#)g(chdir)h(to)f(the)h(input)f
(directory)f(so)i(that)f(the)g(filelist)g(can)g(be)h(relative)f(paths)
213 1897 y(#)g(\(since)g(we)h(don't)f(know)g(the)h(absolute)e(path\))
213 1976 y(chdir)h($input_dir;)213 2134 y(my)g($c)h(=)g(new)f
(Clair::Cluster\(\);)213 2291 y
($c->load_file_list_from_file\("filelist.txt)o(",)34
b(type)39 b(=>)h('html',)f(count_id)f(=>)i(1\);)213 2370
y($c->strip_all_documents\(\);)213 2449 y($c->stem_all_documents\(\);)
213 2607 y(print)f("I'm)g(here.)79 b(There)39 b(are)h(",)f
($c->count_elements,)e(")j(documents)e(in)i(the)438 b(\\)213
2686 y(cluster.\\n";)213 2765 y(my)39 b($sent_n)g(=)h
($c->create_sentence_based_network;)213 2844 y(print)f("Now)g(I'm)h
(here.\\n";)213 2922 y(print)f("Sentence)f(based)h(network)g(has:)h(",)
f($sent_n->num_nodes\(\),)e(")j(nodes.\\n";)213 3080
y(my)f(\045cos_matrix)g(=)g($c->compute_cosine_matrix\(text_type)c(=>)k
('stem'\);)213 3238 y(my)g($n)h(=)g($c->create_network\(cosine_matrix)
35 b(=>)k(\\\045cos_matrix\);)213 3317 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
3475 y($cent->centrality\(\);)213 3711 y(print)f("FILE)g(LEXRANK\\n";)
213 3790 y($cent->print_current_distribution\(\);)213
3869 y(print)g("\\n";)213 4027 y(my)g($lex_network)f(=)i
($n->create_network_from_lexrank\(0.2\);)213 4105 y(print)f("There)g
(are)g(",)h($lex_network->num_nodes,)c(")k(nodes)f(in)g(the)h(network)f
(created)198 b(\\)213 4184 y(from)39 b(lexrank.\\n";)213
4342 y(my)g($lex_cluster)f(=)i($n->create_cluster_from_lexrank\(0.2\);)
213 4421 y(print)f("There)g(are)g(",)h
($lex_cluster->count_elements\(\),)35 b(")40 b(documents)e(in)i(the)f
(cluster)79 b(\\)213 4500 y(created)39 b(from)g(lexrank.\\nThey)f
(have:\\n";)213 4658 y(my)h($lex_docs_ref)f(=)i
($lex_cluster->documents\(\);)213 4736 y(my)f(\045lex_docs)g(=)h
(\045$lex_docs_ref;)213 4894 y(foreach)f(my)g($doc)g(\(values)g
(\045lex_docs)g(\))g({)532 4973 y(print)g($doc->count_words,)e(")j
(words\\n";)213 5052 y(})p 3466 5235 V 185 5238 3285
4 v 1873 5809 a Fk(204)p eop end
%%Page: 205 205
TeXDict begin 205 204 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.31)80 b(lexrank.pl)p 185 295 3046 4 v 185 3736
4 3442 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lexrank.pl)213 635 y(#)g(functionality:)f(Computes)h
(lexrank)g(on)g(a)h(small)f(network)213 793 y(use)g(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Clair::Network;)213 1108 y(use)g
(Clair::Network::Centrality::LexRank;)213 1266 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1345 y(my)f($input_dir)g(=)g
("$basedir/input/lexrank";)213 1503 y(my)g($n)h(=)g(new)f
(Clair::Network\(\);)213 1660 y($n->add_node\(0,)e(text)j(=>)f('This)g
(is)h(node)f(0'\);)213 1739 y($n->add_node\(1,)e(text)j(=>)f('This)g
(is)h(node)f(1'\);)213 1818 y($n->add_node\(2,)e(text)j(=>)f('This)g
(is)h(node)f(2'\);)213 1897 y($n->add_node\(3,)e(text)j(=>)f('This)g
(is)h(node)f(3'\);)213 1976 y($n->add_node\(4,)e(text)j(=>)f('This)g
(is)h(node)f(4'\);)213 2134 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
2291 y($cent->read_lexrank_probabilities_from_fil)o(e\("$inp)o(ut_dir/)
o(files-s)o(ym.cos)o(.ID"\);)213 2370 y
($cent->read_lexrank_initial_distribution\(")o($input_)o(dir/fil)o
(es.unif)o(orm"\);)213 2528 y(#)f(Remove)g(following)g(line)g(to)h
(remove)f(lexrank)f(bias:)213 2607 y
($cent->read_lexrank_bias\("$input_dir/files)o(.bias"\))o(;)213
2765 y(print)h("Initial)g(distribution:\\n";)213 2844
y($cent->print_current_distribution\(\);)213 3001 y(print)g("READ)g
(PROBABILITIES\\n";)213 3238 y($cent->centrality\(jump)d(=>)k(0.5\);)
213 3396 y(print)f("The)g(computed)g(lexrank)g(distribution)f(is:\\n";)
213 3475 y($cent->print_current_distribution\(\);)213
3553 y(print)h("\\n";)p 3226 3736 V 185 3739 3046 4 v
1873 5809 a Fk(205)p eop end
%%Page: 206 206
TeXDict begin 206 205 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.32)80 b(linear)p 605 210 25 4 v 30 w(algebra.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_linear_algebra.pl)213
635 y(#)g(functionality:)f(A)i(variety)f(of)g(arithmetic)g(tests)g(of)g
(the)h(linear)f(algebra)f(module)213 793 y(use)h(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Clair::Utils::LinearAlgebra;)213 1187 y(my)g(@v1)h(=)f(\("1",)h
("2",)f("3",)g("4"\);)213 1266 y(my)g(@v2)h(=)f(\("5",)h("6",)f("7",)g
("8"\);)213 1345 y(my)g(@v3)h(=)f(\("2",)h("4",)f("6",)g("8",)g
("10"\);)213 1424 y(my)g(@v4)h(=)f(\("1",)h("3",)f("5",)g("7",)g
("9"\);)213 1503 y(my)g(@v5)h(=)f(\("1",)h("1",)f("2",)g("3",)g("5"\);)
213 1582 y(my)g(@v6)h(=)f(\("3",)h("2",)f("1",)g("0",)g("2"\);)213
1739 y(#Test)g(Two)g(--)h(Inner)f(Product)g(of)g(Vectors)g(One)g(and)h
(Two)213 1818 y(#Test)f(Two)g(Expected)g(--)g(70)213
1976 y(print)g("inner)g(product)g(of)g(",)h(list_to_string\(@v1\),)d(")
i(and)h(",)f(list_to_string\(@v2\),)452 2055 y("\\n";)213
2134 y(my)g($test1)g(=)h(Clair::Utils::LinearAlgebra::innerProduct)34
b(\(\\@v1,\\@v2\);)213 2213 y(print)39 b("$test1\\n";)213
2449 y(#Test)g(Seven)g(--)h(Subtraction)e(of)h(Vectors)g(One)g(and)h
(Two)213 2528 y(#Test)f(Seven)g(Expected)g(--)g(\(-4,)g(-4,)h(-4,)f
(-4\))213 2686 y(print)g("difference)f(of)i(",)f
(list_to_string\(@v1\),)e(")j(and)f(",)h(list_to_string\(@v2\),)236
b(\\)213 2765 y("\\n";)213 2844 y(my)39 b(@diff)g(=)h
(Clair::Utils::LinearAlgebra::subtract)34 b(\(\\@v1,\\@v2\);)213
2922 y(print)39 b(list_to_string\(@diff\),)d("\\n";)213
3080 y(#Test)j(Twelve)g(--)g(Addition)g(of)h(Vectors)e(One)i(and)f(Two)
213 3159 y(#Test)g(Twelve)g(Expected)f(--)i(\(6,)f(8,)h(10,)f(12\))213
3317 y(print)g("sum)g(of)h(",)f(list_to_string\(@v1\),)e(")j(and)f(",)h
(list_to_string\(@v2\),)d("\\n";)213 3396 y(my)i(@sum1)g(=)h
(Clair::Utils::LinearAlgebra::add)35 b(\(\\@v1,\\@v2\);)213
3475 y(print)k(list_to_string\(@sum1\),)d("\\n";)213
3632 y(#Test)j(Fifteen)g(--)g(Addition)g(of)g(Vectors)g(Three)g(and)h
(Four)f(and)g(Five)213 3711 y(#Test)g(Fifteen)g(Expected)f(--)i(\(4,)f
(8,)h(13,)f(18,)h(24\))213 3869 y(print)f("sum)g(of)h(",)f
(list_to_string\(@v3\),)e(")j(and)f(",)h(list_to_string\(@v4\),)d(")i
(and)h(",)372 3948 y(list_to_string\(@v5\),)d("\\n";)213
4027 y(my)i(@sum2)g(=)h(Clair::Utils::LinearAlgebra::add)35
b(\(\\@v3,\\@v4,\\@v5\);)213 4105 y(print)k(list_to_string\(@sum2\),)d
("\\n";)213 4263 y(#Test)j(Seventeen)f(--)i(Addition)f(of)g(Vectors)g
(One)g(and)h(Two)213 4342 y(#Test)f(Seventeen)f(Expected)h(--)h(\(3,)f
(4,)h(5,)f(6\))213 4500 y(print)g("mean)g(of)h(",)f
(list_to_string\(@v1\),)e(")j(and)f(",)h(list_to_string\(@v2\),)c
("\\n";)213 4579 y(my)j(@mean1)g(=)h
(Clair::Utils::LinearAlgebra::average)34 b(\(\\@v1,\\@v2\);)213
4658 y(print)39 b(list_to_string\(@mean1\),)d("\\n";)213
4815 y(#Test)j(Twenty)g(--)g(Addition)g(of)h(Vectors)e(Three)h(and)h
(Four)f(and)h(Six)213 4894 y(#Test)f(Twenty)g(Expected)f(--)i(\(2,)f
(3,)h(4,)g(5,)f(7\))213 5052 y(print)g("mean)g(of)h(",)f
(list_to_string\(@v3\),)e(")j(and)f(",)h(list_to_string\(@v4\),)c(")k
(and)g(",)372 5131 y(list_to_string\(@v6\),)d("\\n";)213
5210 y(my)i(@mean2)g(=)h(Clair::Utils::LinearAlgebra::average)34
b(\(\\@v3,\\@v4,\\@v6\);)213 5289 y(print)39 b
(list_to_string\(@mean2\),)d("\\n";)213 5446 y(sub)j(list_to_string)f
({)372 5525 y(return)h(join)g(")h(",)g(@_;)213 5604 y(})p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(206)p eop
end
%%Page: 207 207
TeXDict begin 207 206 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.33)80 b(lsi.pl)p 185 295 3245 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lsi.pl)213 635 y(#)g(functionality:)f(Constructs)h(a)g
(latent)g(semantic)g(index)g(from)g(a)h(corpus)f(of)213
714 y(#)g(functionality:)f(baseball)h(and)g(hockey)g(documents,)g(then)
g(uses)g(that)g(index)213 793 y(#)g(functionality:)f(to)i(map)f(terms,)
g(queries,)g(and)g(documents)g(to)g(latent)g(semantic)213
872 y(#)g(functionality:)f(space.)h(The)h(position)e(vectors)h(of)h
(documents)e(in)i(that)f(space)213 951 y(#)g(functionality:)f(are)i
(then)f(used)g(to)h(train)f(and)g(evaluate)g(a)h(SVM)f(classifier)213
1030 y(#)g(functionality:)f(using)h(the)h(Weka)f(interface)f(provided)h
(in)h(Clair::Interface::Weka)213 1187 y(use)f(strict;)213
1266 y(use)g(warnings;)213 1345 y(use)g(FindBin;)213
1424 y(use)g(lib)h("$FindBin::Bin/../lib";)213 1582 y(use)f
(Clair::Algorithm::LSI;)213 1660 y(use)g(Clair::Document;)213
1739 y(use)g(Clair::Cluster;)213 1818 y(use)g(Clair::Interface::Weka;)
213 1976 y(use)g(vars)g(qw\(@ISA)g(@EXPORT\);)213 2213
y(my)g($basedir)119 b(=)39 b($FindBin::Bin;)213 2291
y(my)g($input_dir)g(=)g("$basedir/input/lsi";)213 2370
y(my)g($gen_dir)119 b(=)39 b("$basedir/produced/lsi";)213
2607 y(my)g($index;)213 2686 y(#)g(Extract)g(features)g(for)g
(training,)g(then)g(for)g(testing)213 2765 y(for)g(my)h($round)f
(\(\("train",)f("test"\)\))h({)213 2844 y(if)g(\($round)g(eq)h
("train"\))e({)213 2922 y(print)h("\\n---LSI)f(TRAINING)h(ROUND---";)
213 3001 y(})g(elsif)h(\($round)e(eq)i("test"\))f({)213
3080 y(print)g("\\n---LSI)f(TEST)i(ROUND---";)213 3159
y(})213 3238 y(#)f(Create)g(a)h(cluster)213 3317 y(my)f($c)h(=)g(new)f
(Clair::Cluster;)213 3396 y($c->set_id\("sports"\);)213
3553 y(#)g(Read)h(every)f(document)f(from)i(the)f(the)h(the)f(training)
g(or)g(test)g(directory)g(and)g(insert)119 b(\\)213 3632
y(it)39 b(into)h(the)f(cluster)213 3711 y(#)g(Convert)g(from)h(HTML)f
(to)g(text,)g(then)h(stem)f(as)g(we)h(do)g(so)213 3790
y(while)f(\()h(<$input_dir/$round/)1292 3802 y(*)1332
3790 y(>)c(\))k({)213 3869 y(my)f($file)g(=)h($_;)213
4027 y(my)f($doc)h(=)f(new)h(Clair::Document\(file)d(=>)i($file,)g
(type)g(=>)h('html',)f(id)g(=>)h($file\);)213 4105 y
($doc->set_class\(extract_class\($doc->get_ht)o(ml\(\),)34
b($file\)\);)78 b(#)40 b(Set)f(the)438 b(\\)213 4184
y(document's)38 b(class)h(label)213 4263 y($doc->strip_html;)213
4342 y($doc->stem;)213 4500 y($c->insert\($file,)e($doc\);)213
4579 y(})213 4736 y(#)i(Get)h(the)f(number)g(of)h(documents)e
(belonging)h(to)g(each)h(class)f(occurring)f(in)i(the)f(cluster)213
4815 y(my)g(\045classes)g(=)h($c->classes\(\);)213 4894
y(print)f("\\nExtracting)f(",)h($c->count_elements\(\),)e(")j
(documents)e(\($round\):\\n";)213 4973 y(print)h(")159
b(")40 b(.)g($classes{'baseball'})c(.)k(")g(baseball)e(documents\\n";)
213 5052 y(print)h(")159 b(")40 b(.)g($classes{'hockey'})d(.)i(")h
(hockey)f(documents\\n";)213 5210 y(if)g(\($round)g(eq)h("train"\))e({)
213 5289 y(#)h(On)h(training)f(round,)g(construct)f(document-term)g
(matrix)h(and)g(compute)g(SVD)438 b(\\)213 5367 y(\(computationally)37
b(extremely)i(intensive\))213 5446 y(print)g("\\nConstructing)e
(document-term)h(matrix)h(and)h(computing)e(its)i(singular)e(value)119
b(\\)213 5525 y(decomposition...\\n";)213 5604 y($index)39
b(=)g(new)h(Clair::Algorithm::LSI\(cluster)35 b(=>)40
b($c,)f(type)h(=>)f("stem"\);)p 3426 5708 V 185 5711
3245 4 v 1873 5809 a Fk(207)p eop end
%%Page: 208 208
TeXDict begin 208 207 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3245
4 v 185 5544 4 5414 v 213 234 a Fa($index->build_index\(\);)213
313 y(print)39 b(")79 b(Done.\\n";)213 392 y(})39 b(elsif)h(\($round)e
(eq)i("test"\))f({)213 471 y(#)g(On)h(test)f(round,)g(road)g(the)h
(previously)e(saved)h(index)213 550 y(print)g("\\nLoading)f(latent)h
(semantic)g(index)g(from)g(file)g($gen_dir/sports.lsi...\\n";)213
629 y($index)g(=)g(new)h(Clair::Algorithm::LSI\(file)c(=>)j
("$gen_dir/sports.lsi",)332 708 y(cluster)g(=>)h($c\);)213
786 y(print)f(")79 b(Done.\\n";)213 865 y(})213 1023
y(#)39 b(For)h(each)f(document)g(in)g(the)h(cluster,)e(compute)h(the)h
(position)e(vector)h(of)h(the)358 b(\\)213 1102 y(document)38
b(in)i(latent)f(space)213 1181 y(#)g(using)h(the)f(singular)g(value)g
(decomposition)f(of)h(the)h(document-term)e(matrix)213
1260 y($c->compute_document_feature\(name)d(=>)k("latent_coord",)253
1338 y(feature)f(=>)i(\\&compute_latent_space_position_vect\);)213
1417 y(#)f(Write)h(this)f(feature)g(\(actually)f(vector)h(of)h
(features\))e(to)i(ARFF,)f(prepending)f(the)199 b(\\)213
1496 y(specified)38 b(header)213 1575 y(my)h($header)g(=)h("\0451.)f
(Title:)g(Baseball)g(/)g(Hockey)g(Corpus)g(Dataset)g(\($round\)\\n")f
(.)253 1654 y("\0452.)h(Source:)g(20_newsgroups)f(Corpus\\n")g(.)253
1733 y("\045)238 b(\(a\))40 b(Creator:)e(Ken)i(Lang\\n")f(.)253
1812 y("\045\\n";)213 1891 y(write_ARFF\($c,)f("$gen_dir/$round.arff",)
e($header\);)213 1969 y(print)j("Features)f(written)h(to)h
($gen_dir/$round.arff\\n";)213 2127 y(if)f(\($round)g(eq)h("train"\))e
({)213 2206 y(#)h(Train)h(a)f(support)g(vector)g(machine)g(\(SVM\))g
(using)g(10-fold)g(cross-validation)213 2285 y(print)g("Training)f
(support)h(vector)g(machine)g(\(SVM\))g(with)g(10-fold)836
b(\\)213 2364 y(cross-validation...\\n";)213 2443 y
(train_classifier\(classifier)36 b(=>)j
('weka.classifiers.functions.SMO',)253 2522 y(trainfile)78
b(=>)40 b("$gen_dir/train.arff",)253 2600 y(modelfile)78
b(=>)40 b("$gen_dir/SMO.model",)253 2679 y(logfile)158
b(=>)40 b("$gen_dir/train-10fold-SMO.log"\);)213 2758
y(print)f(")79 b(Done.\\n";)213 2837 y(print)39 b(")159
b(See)40 b($gen_dir/train-crossval-SMO.log)35 b(for)k(log)h(of)f
(classifier)f(output)119 b(\\)213 2916 y(from)39 b(training)g(and)g
(10-fold)g(cross-validation\\n";)213 3074 y(#)g(Perform)g(various)g
(operations)f(on)i(the)f(LSI)h(to)f(illustrate)g(the)g(functionality)f
(it)159 b(\\)213 3153 y(provides)213 3231 y(print)39
b("\\nAssorted)f(LSI)h(Operations:\\n";)213 3310 y(my)g(@docids)g(=)h
(sort)f(keys)g(\045{$c->documents\(\)};)213 3389 y(my)g($firstdoc)g(=)h
($c->documents\(\)->{$docids[0]};)213 3468 y(#)f(Find)h(documents)e
(similar)h(near)g(in)h(latent)f(semantic)f(space)i(to)f(the)h
(\(arbitrarily\))117 b(\\)213 3547 y(first)39 b(document)g(in)g(the)g
(corpus)213 3626 y(print)g("\\n1.)79 b(10)39 b(documents)g(most)g
(similar)g(to)g(the)h(first)f(\\"")g(.)837 b(\\)213 3705
y($firstdoc->get_class\(\))36 b(.)k("\\")f(document:\\n";)213
3783 y(my)g(\045doc_dists)g(=)g($index->rank_docs\($firstdoc\);)213
3862 y(@docids)g(=)g(sort)h({$doc_dists{$a})d(<=>)j($doc_dists{$b})d(})
j(keys)f(\045doc_dists;)213 3941 y(for)g(\(my)h($i=0;)f($i)g(<)h(10;)f
($i++\))g({)213 4020 y(my)g($class)g(=)h
($c->get\($docids[$i]\)->get_class\(\);)213 4099 y(print)f(")239
b($docids[$i]\\tclass:)37 b($class\\tdistance:)1073 b(\\)213
4178 y($doc_dists{$docids[$i]}\\n";)213 4257 y(})213
4336 y(#)39 b(Find)h(documents)e(far)i(away)f(from)g(that)g(document)
213 4414 y(print)g("\\n)159 b(10)39 b(documents)g(least)g(similar)g(to)
g(the)h(first)f(\\"")g(.)797 b(\\)213 4493 y($firstdoc->get_class\(\))
36 b(.)k("\\")f(document:\\n";)213 4572 y(@docids)g(=)g(sort)h
({$doc_dists{$b})d(<=>)j($doc_dists{$a})d(})j(keys)f(\045doc_dists;)213
4651 y(for)g(\(my)h($i=0;)f($i)g(<)h(10;)f($i++\))g({)213
4730 y(my)g($class)g(=)h($c->get\($docids[$i]\)->get_class\(\);)213
4809 y(print)f(")239 b($docids[$i]\\tclass:)37 b($class\\tdistance:)
1073 b(\\)213 4888 y($doc_dists{$docids[$i]}\\n";)213
4967 y(})213 5045 y(#)39 b(Find)h(terms)f(near)g(in)h(latent)f
(semantic)f(space)h(to)h(the)f(term)h("hockey")213 5124
y(print)f("\\n2.)79 b(20)39 b(terms)g(contextually)g(most)g(related)g
(to)g(\\"hockey\\":\\n";)213 5203 y(my)g(\045term_dists)g(=)g
($index->rank_terms\("hockey"\);)213 5282 y(my)g(@terms)g(=)h(sort)f
({$term_dists{$a})f(<=>)h($term_dists{$b})f(})h(keys)h(\045term_dists;)
213 5361 y(for)f(\(my)h($i=0;)f($i)g(<)h(20;)f($i++\))g({)213
5440 y(print)g(")319 b($terms[$i])237 b(\\tdistance:)38
b($term_dists{$terms[$i]}\\n";)p 3426 5544 V 185 5547
3245 4 v 1873 5809 a Fk(208)p eop end
%%Page: 209 209
TeXDict begin 209 208 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3205
4 v 185 5544 4 5414 v 213 234 a Fa(})213 313 y(#)39 b(Find)h(terms)f
(near)g(in)h(latent)f(semantic)f(space)h(to)h(the)f(term)h("playoff")e
(\(which)278 b(\\)213 392 y(denotes)39 b(baseball\))213
471 y(print)g("\\n2.)79 b(20)39 b(terms)g(contextually)g(most)g
(related)g(to)g(\\"playoff\\":\\n";)213 550 y(\045term_dists)f(=)i
($index->rank_terms\("playoff"\);)213 629 y(@terms)f(=)g(sort)h
({$term_dists{$a})d(<=>)j($term_dists{$b})d(})j(keys)f(\045term_dists;)
213 708 y(for)g(\(my)h($i=0;)f($i)g(<)h(20;)f($i++\))g({)213
786 y(print)g(")319 b($terms[$i])78 b(\\tdistance:)38
b($term_dists{$terms[$i]}\\n";)213 865 y(})213 1023 y(#)h(Order)h(the)f
(following)f(queries)h(first)g(by)h(nearness)f(in)g(semantic)g(space)g
(to)g(the)h(term)f(\\)213 1102 y("hockey",)213 1181 y(#)g(then)h(by)f
(nearness)g(in)g(semantic)g(space)g(to)h(the)f(term)g("playoff")213
1260 y(my)g(@queries)g(=)h(\("goalie)e(stops)h(puck",)332
1338 y("pitcher)g(throws)g(to)g(catcher",)332 1417 y("extra)g
(innings",)332 1496 y("overtime"\);)213 1575 y(print)g("\\n3.)79
b(Set)39 b(of)h(unordered)e(queries:\\n";)213 1654 y(print)h(")319
b(")39 b(.)h(join\("\\n)318 b(",)39 b(@queries\);)213
1733 y(print)g("\\n)159 b(Ordered)39 b(by)g(contextual)g(relationship)f
(to)h(query)g(\\"hockey\\":\\n";)213 1812 y(my)g(\045query_dists)f(=)i
($index->rank_queries\("hockey",)35 b(@queries\);)213
1891 y(my)k(@ordered)g(=)h(sort)f({$query_dists{$a})e(<=>)j
($query_dists{$b})d(})j(keys)557 b(\\)213 1969 y(\045query_dists;)213
2048 y(foreach)39 b(my)g($query)g(\(@ordered\))f({)213
2127 y(print)h(")319 b(\\"$query\\"\\t\\t\\tdistance:)36
b($query_dists{$query}\\n";)213 2206 y(})213 2285 y(print)j(")159
b(Ordered)39 b(by)g(contextual)g(relationship)f(to)h(query)h
(\\"playoff\\":\\n";)213 2364 y(\045query_dists)e(=)i
($index->rank_queries\("playoff",)35 b(@queries\);)213
2443 y(@ordered)j(=)i(sort)f({$query_dists{$a})f(<=>)h
($query_dists{$b})f(})h(keys)h(\045query_dists;)213 2522
y(foreach)f(my)g($query)g(\(@ordered\))f({)213 2600 y(print)h(")319
b(\\"$query\\"\\t\\t\\tdistance:)36 b($query_dists{$query}\\n";)213
2679 y(})213 2837 y(#)j(Save)h(latent)f(semantic)f(index)h(to)h(file)
213 2916 y(print)f("\\nSaving)f(latent)h(semantic)g(index)g(to)h(file)f
($gen_dir/sports.lsi...\\n";)213 2995 y
($index->save_to_file\("$gen_dir/sports.lsi")o(,)34 b(savecluster)k(=>)
i(0\);)213 3074 y(print)f(")79 b(Done.\\n";)213 3153
y(})213 3231 y(elsif)39 b(\($round)g(eq)g("test"\))g({)213
3310 y(#)g(Test)h(the)f(classifier)f(directly)h(on)h(the)f(test)g(set,)
h(outputting)e(predictions)g(for)159 b(\\)213 3389 y(individual)38
b(documents)213 3468 y(print)h("Testing)g(SVM)g(predictions...\\n";)213
3547 y(my)g($test_log)g(=)h(test_classifier\(classifier)35
b(=>)1355 b(\\)213 3626 y('weka.classifiers.functions.SMO',)332
3705 y(modelfile)39 b(=>)g("$gen_dir/SMO.model",)492
3783 y(testfile)78 b(=>)40 b("$gen_dir/test.arff",)492
3862 y(predfile)78 b(=>)40 b("$gen_dir/test-SMO.pred",)492
3941 y(logfile)118 b(=>)40 b("$gen_dir/test-SMO.log"\);)213
4020 y(print)f(")159 b(See)40 b($gen_dir/test-SMO.log)c(for)k(log)f(of)
h(classifier)e(output)h(from)318 b(\\)213 4099 y(testing\\n";)213
4178 y(print)39 b(")159 b(See)40 b($gen_dir/test-SMO.pred)c(for)j(log)h
(of)f(classifier)g(predictions)f(from)79 b(\\)213 4257
y(testing\\n";)213 4336 y(})213 4414 y(})213 4572 y(#)39
b(Delete)g(the)h(latent)f(semantic)f(index)i(from)f(disk)g(\(the)g
(file)h(is)f(quite)g(large\))213 4651 y(unlink)g
("$gen_dir/sports.lsi";)213 4809 y(print)g("\\nHave)g(a)g(nice)h
(day!\\n";)213 5124 y(#)f(---AUXILIARY)g(PROCEDURES---)213
5282 y(#)g(Extract)g(a)h(document's)e(class)213 5361
y(sub)h(extract_class)f({)372 5440 y(my)i($html)f(=)h(shift;)p
3386 5544 V 185 5547 3205 4 v 1873 5809 a Fk(209)p eop
end
%%Page: 210 210
TeXDict begin 210 209 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2152 4 2022 v 372 234 a Fa(my)40 b($file)f(=)h(shift;)372
392 y(my)g($label)f(=)g($1)h(if)f(\($html)g(=\230)h(m/<DOC)f
(GROUP="rec\\.sport\\.\(\\w+?\)">/\);)372 471 y(die)h("extract_class)d
(-)j(Class)f(label)g(not)h(found)f(in)g($file")g(if)h(not)f(defined)g
($label;)372 550 y(return)g($label;)213 629 y(})213 786
y(#)g(Compute)g(a)h(document's)e(position)h(in)h(latent)e(semantic)h
(space)g(as)h(that)f(space)g(is)279 b(\\)213 865 y(defined)39
b(by)g(the)h(singular)e(value)213 944 y(#)h(decomposition)f(\(and)i
(dimensionality)d(reduction)i(of)g(that)h(decomposition\))d(of)j(the)
199 b(\\)213 1023 y(document-term)38 b(matrix)h(of)g(the)213
1102 y(#)g(cluster)213 1181 y(sub)g(compute_latent_space_position_vect)
c({)213 1260 y(my)k(\045params)g(=)h(@_;)213 1338 y(my)f($docref)g(=)h
($params{document};)213 1496 y(my)f($v)h(=)g
($index->doc_to_latent_space\($docref\);)213 1575 y(my)f(@vect;)213
1654 y(foreach)g(my)g($elem)g(\(list)g($v\))h({)213 1733
y(push)f(@vect,)g($elem;)213 1812 y(})213 1969 y(return)g(\\@vect;)213
2048 y(})p 3466 2152 V 185 2155 3285 4 v 1873 5809 a
Fk(210)p eop end
%%Page: 211 211
TeXDict begin 211 210 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.34)80 b(mead)p 591 210 25 4 v 30 w(summary)-6
b(.pl)p 185 295 2886 4 v 185 4525 4 4230 v 213 399 a
Fa(#!/usr/local/bin/perl)213 556 y(#)39 b(script:)g
(test_mead_summary.pl)213 635 y(#)g(functionality:)f(Tests)h(MEAD's)g
(summarizer)g(on)g(a)h(cluster)f(of)g(two)h(documents,)213
714 y(#)f(functionality:)f(prints)h(features)g(for)g(each)g(sentence)g
(of)h(the)f(summary)213 872 y(use)g(strict;)213 951 y(use)g(warnings;)
213 1030 y(use)g(FindBin;)213 1108 y(use)g(Clair::Cluster;)213
1187 y(use)g(Clair::Config;)213 1266 y(use)g(Clair::Document;)213
1345 y(use)g(Clair::MEAD::Wrapper;)213 1424 y(use)g
(Clair::MEAD::Summary;)213 1582 y(my)g($out_dir)g(=)h
("$FindBin::Bin/produced/mead_summary";)213 1660 y(my)f($docs)g(=)h
("$FindBin::Bin/input/mead_summary";)213 1818 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 1897 y(my)f($doc1)g(=)h
(Clair::Document->new\()372 1976 y(file)f(=>)h("$docs/fed1.txt",)372
2055 y(id)g(=>)f(1,)372 2134 y(type)g(=>)h("text")213
2213 y(\);)213 2291 y($cluster->insert\(1,)d($doc1\);)213
2370 y(my)i($doc2)g(=)h(Clair::Document->new\()372 2449
y(file)f(=>)h("$docs/fed2.txt",)372 2528 y(id)g(=>)f(2,)372
2607 y(type)g(=>)h("text")213 2686 y(\);)213 2765 y
($cluster->insert\(2,)d($doc2\);)213 2922 y(my)i($mead)g(=)h
(Clair::MEAD::Wrapper->new\()372 3001 y(mead_home)f(=>)g($MEAD_HOME,)
372 3080 y(cluster)g(=>)h($cluster,)372 3159 y(cluster_dir)e(=>)i
($out_dir)213 3238 y(\);)213 3396 y(my)f($summary)g(=)h
($mead->get_summary\(\);)213 3553 y(print)f("To)g(string:\\n";)213
3632 y(print)g($summary->to_string\(\))e(.)i("\\n\\n";)213
3790 y(foreach)g(my)g($i)h(\()f(1)h(..)g($summary->size\(\))d(\))j({)
372 3948 y(my)g(\045sent)f(=)h($summary->get_sent\($i\);)372
4027 y(my)g(\045feats)f(=)g($summary->get_features\($i\);)372
4105 y(my)h($str)f(=)h(join)f(",",)g(map)h({)f("$_=$feats{$_}")f(})i
(\(keys)f(\045feats\);)372 4263 y(print)g("$sent{text})f
(\($sent{did}.$sent{sno}:)f($str\)\\n";)213 4421 y(})p
3067 4525 V 185 4528 2886 4 v 1873 5809 a Fk(211)p eop
end
%%Page: 212 212
TeXDict begin 212 211 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.35)80 b(mega.pl)p 185 295 3285 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_mega.pl)213 635 y(#)g(functionality:)f(Downloads)h
(documents)f(using)h(CorpusDownload,)f(then)h(makes)g(IDFs,)213
714 y(#)g(functionality:)f(TFs,)h(builds)g(a)h(cluster)f(from)g(them,)g
(a)h(network)f(based)g(on)g(a)213 793 y(#)g(functionality:)f(binary)h
(cosine,)g(and)g(tests)g(the)h(network)f(for)g(a)h(couple)f(of)213
872 y(#)g(functionality:)f(properties)213 1030 y(use)h(strict;)213
1108 y(use)g(warnings;)213 1187 y(use)g(FindBin;)213
1266 y(use)g(Clair::Utils::CorpusDownload;)213 1345 y(use)g
(Clair::Utils::Idf;)213 1424 y(use)g(Clair::Utils::Tf;)213
1503 y(use)g(Clair::Document;)213 1582 y(use)g(Clair::Cluster;)213
1660 y(use)g(Clair::Network;)213 1818 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 1897 y(my)f($gen_dir)g(=)h
("$basedir/produced/mega";)213 2055 y(my)f($corpusref)g(=)g
(Clair::Utils::CorpusDownload->new\(corpusname)34 b(=>)39
b("testhtml",)850 2134 y(rootdir)g(=>)h($gen_dir\);)213
2291 y(#)f(Get)h(the)f(list)h(of)f(urls)g(that)h(we)f(want)g(to)h
(download)213 2370 y(my)f($uref)g(=)2790 b(\\)213 2449
y($corpusref->poach\("http://tangra.si.umich.)o(edu/cla)o(ir/test)o
(html/in)o(dex.ht)o(ml",)273 b(\\)213 2528 y(error_file)38
b(=>)i("$gen_dir/errors.txt"\);)213 2686 y(my)f(@urls)g(=)h(@$uref;)213
2844 y(foreach)f(my)g($v)h(\(@urls\))e({)213 2922 y(print)h("URL:)g
($v\\n";)213 3001 y(})213 3159 y(#)g(Build)h(the)f(corpus)g(using)g
(the)g(list)h(of)f(urls)213 3238 y(#)g(This)h(will)f(index)g(and)g
(convert)g(to)h(TREC)f(format)213 3317 y
($corpusref->buildCorpus\(urlsref)c(=>)40 b($uref\);)213
3553 y(#)f(-----------------------------------------------)o(-------)o
(-------)o(------)213 3632 y(#)79 b(This)40 b(is)f(how)h(to)f(build)g
(the)h(IDF.)79 b(First)39 b(we)g(build)g(the)h(unstemmed)e(IDF,)213
3711 y(#)79 b(then)40 b(the)f(stemmed)g(one.)213 3790
y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 3869 y($corpusref->buildIdf\(stemmed)c(=>)40
b(0\);)213 3948 y($corpusref->buildIdf\(stemmed)35 b(=>)40
b(1\);)213 4105 y(#)f(-----------------------------------------------)o
(-------)o(-------)o(------)213 4184 y(#)79 b(This)40
b(is)f(how)h(to)f(build)g(the)h(TF.)79 b(First)39 b(we)g(build)h(the)f
(DOCNO/URL)213 4263 y(#)79 b(database,)39 b(which)g(is)g(necessary)g
(to)h(build)f(the)g(TFs.)79 b(Then)39 b(we)h(build)213
4342 y(#)79 b(unstemmed)39 b(and)g(stemmed)g(TFs.)213
4421 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 4500 y($corpusref->build_docno_dbm\(\);)213
4579 y($corpusref->buildTf\(stemmed)d(=>)j(0\);)213 4658
y($corpusref->buildTf\(stemmed)d(=>)j(1\);)213 4815 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4894 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(IDF.)79
b(The)40 b(constructor)e(\(new\))h(opens)g(the)213 4973
y(#)79 b(unstemmed)39 b(IDF.)79 b(Then)39 b(we)h(ask)f(for)h(IDFs)f
(for)g(the)h(words)f("have")213 5052 y(#)79 b("and")39
b(and)h("zimbabwe.")213 5131 y(#)f
(-----------------------------------------------)o(-------)o(-------)o
(------)213 5210 y(my)g($idfref)g(=)h(Clair::Utils::Idf->new\()c
(rootdir)j(=>)h($gen_dir,)1129 5289 y(corpusname)f(=>)g("testhtml")g(,)
1129 5367 y(stemmed)g(=>)h(0)f(\);)213 5525 y(my)g($result)g(=)h
($idfref->getIdfForWord\("have"\);)213 5604 y(print)f("IDF\(have\))f(=)
i($result\\n";)p 3466 5708 V 185 5711 3285 4 v 1873 5809
a Fk(212)p eop end
%%Page: 213 213
TeXDict begin 213 212 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 5544 4 5414 v 213 234 a Fa($result)39 b(=)g
($idfref->getIdfForWord\("and"\);)213 313 y(print)g("IDF\(and\))f(=)i
($result\\n";)213 392 y($result)f(=)g
($idfref->getIdfForWord\("zimbabwe"\);)213 471 y(print)g
("IDF\(zimbabwe\))f(=)h($result\\n";)213 629 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 708 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF.)79
b(The)40 b(constructor)e(\(new\))h(opens)g(the)213 786
y(#)79 b(unstemmed)39 b(TF.)79 b(Then)39 b(we)h(ask)f(for)h
(information)e(about)h(the)213 865 y(#)79 b(word)40 b("have":)213
944 y(#)213 1023 y(#)79 b(1)40 b(first,)f(we)h(get)f(the)g(number)g(of)
h(documents)e(in)i(the)f(corpus)g(with)213 1102 y(#)159
b(the)39 b(word)h("Washington")213 1181 y(#)79 b(2)40
b(then,)f(we)h(get)f(the)g(total)h(number)f(of)g(occurrences)f(of)i
(the)f(word)h("Washington")213 1260 y(#)79 b(3)40 b(then,)f(we)h(print)
f(a)g(list)h(of)f(URLs)h(of)f(the)g(documents)g(that)g(have)h(the)213
1338 y(#)159 b(word)39 b("Washington")213 1417 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 1496 y(my)g($tfref)g(=)h(Clair::Utils::Tf->new\()d(rootdir)
h(=>)i($gen_dir,)1050 1575 y(corpusname)e(=>)i("testhtml")e(,)1050
1654 y(stemmed)g(=>)i(0)g(\);)213 1812 y(print)f("\\n---Direct)f(term)h
(queries)g(\(unstemmed\):---\\n";)213 1891 y($result)g(=)g
($tfref->getNumDocsWithWord\("washington"\);)213 1969
y(my)g($freq)119 b(=)40 b($tfref->getFreq\("washington"\);)213
2048 y(@urls)f(=)h($tfref->getDocs\("washington"\);)213
2127 y(print)f("TF\(washington\))e(=)j($freq)f(total)g(in)h($result)f
(docs\\n";)213 2206 y(print)g("Documents)f(with)h
(\\"washington\\"\\n";)213 2285 y(foreach)g(my)g($url)g(\(@urls\))79
b({)h(print)39 b(")79 b($url\\n";)g(})213 2364 y(print)39
b("\\n";)213 2522 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 2600 y(#)79 b(Then)40 b(we)f(do)h(1-2)f(with)g(the)h(word)f
("and")213 2679 y(#)g(-----------------------------------------------)o
(-------)o(-------)o(------)213 2758 y($result)g(=)g
($tfref->getNumDocsWithWord\("and"\);)213 2837 y($freq)119
b(=)39 b($tfref->getFreq\("and"\);)213 2916 y(@urls)g(=)h
($tfref->getDocs\("and"\);)213 2995 y(print)f("TF\(and\))g(=)g($freq)g
(total)g(in)h($result)f(docs\\n";)213 3153 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3231 y(#)79 b(Then)40 b(we)f(do)h(1-3)f(with)g(the)h(word)f
("zimbabwe")213 3310 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3389 y($result)g(=)g
($tfref->getNumDocsWithWord\("zimbabwe"\);)213 3468 y($freq)119
b(=)39 b($tfref->getFreq\("zimbabwe"\);)213 3547 y(@urls)g(=)h
($tfref->getDocs\("zimbabwe"\);)213 3626 y(print)f("TF\(zimbabwe\))f(=)
h($freq)h(total)f(in)g($result)g(docs\\n";)213 3705 y(print)g
("Documents)f(with)h(\\"zimbabwe\\"\\n";)213 3783 y(foreach)g(my)g
($url)g(\(@urls\))79 b({)h(print)39 b(")79 b($url\\n";)g(})213
3862 y(print)39 b("\\n";)213 4099 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 4178 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)
f(phrase)g(queries.)79 b(The)39 b(constructor)f(\(new\))213
4257 y(#)79 b(opens)39 b(the)h(stemmed)f(TF.)79 b(Then)39
b(we)h(ask)f(for)g(information)g(about)g(the)213 4336
y(#)79 b(phrase)39 b("result)g(in":)213 4414 y(#)213
4493 y(#)79 b(1)40 b(first,)f(we)h(get)f(the)g(number)g(of)h(documents)
e(in)i(the)f(corpus)g(with)213 4572 y(#)159 b(the)39
b(phrase)g("result)g(in")213 4651 y(#)79 b(2)40 b(then,)f(we)h(get)f
(the)g(total)h(number)f(of)g(occurrences)f(of)i(the)f(phrase)213
4730 y(#)159 b("result)39 b(in")213 4809 y(#)79 b(3)40
b(then,)f(we)h(print)f(a)g(list)h(of)f(URLs)h(of)f(the)g(documents)g
(that)g(have)h(the)213 4888 y(#)159 b(word)39 b("result)g(in")g(and)h
(the)f(number)g(of)h(times)f(each)g(occurs)g(in)h(the)213
4967 y(#)159 b(document,)39 b(as)g(well)g(as)h(the)f(position)g(in)g
(the)h(document)f(of)g(the)h(initial)213 5045 y(#)159
b(term)39 b(\("result"\))g(in)g(each)g(occurrence)g(of)g(the)h(phrase)
213 5124 y(#)79 b(4)40 b(finally,)f(using)g(a)g(different)g(method,)g
(we)g(print)g(the)h(number)f(of)g(times)213 5203 y(#)159
b("result)39 b(in")g(occurs)g(in)h(each)f(document)g(in)g(which)g(it)h
(occurs)f(\(from)g(3\),)213 5282 y(#)159 b(as)40 b(well)f(as)g(the)h
(position\(s\))e(of)i(its)f(occurrence)f(\(as)i(in)f(3\))213
5361 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 5440 y($tfref)g(=)g(Clair::Utils::Tf->new\()e
(rootdir)i(=>)g($gen_dir,)p 3187 5544 V 185 5547 3006
4 v 1873 5809 a Fk(213)p eop end
%%Page: 214 214
TeXDict begin 214 213 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 1050 234 a Fa(corpusname)38 b(=>)i("testhtml")e
(,)1050 313 y(stemmed)g(=>)i(1)g(\);)213 471 y(print)f("\\n---Direct)f
(phrase)h(queries)g(\(stemmed\):---\\n";)213 550 y(my)g(@phrase)g(=)h
(\("result",)e("in"\);)213 629 y($result)h(=)g
($tfref->getNumDocsWithPhrase\(@phrase\);)213 708 y($freq)119
b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213 786 y(my)g
($positionsByUrlsRef)e(=)j($tfref->getDocsWithPhrase\(@phrase\);)213
865 y(print)f("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)g
($result)g(docs\\n";)213 944 y(print)g("Documents)f(with)h(\\"result)g
(in\\"\\n";)213 1023 y(foreach)g(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))77 b({)372 1102 y(my)40 b($url_freq)e(=)i
(scalar)f(keys)g(\045{$positionsByUrlsRef->{$url}};)372
1181 y(print)g(")80 b($url:\\n";)372 1260 y(print)39
b(")239 b(freq)g(=)39 b($url_freq\\n";)372 1338 y(print)g(")239
b(positions)39 b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 1417 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 1496 y(})213 1575 y(print)f("\\n";)213
1733 y(print)g("The)g(following)g(should)g(be)g(identical)g(to)g(the)h
(previous:\\n";)213 1812 y(foreach)f(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))e({)372 1891 y(my)j(\($url_freq,)e
($url_positions_ref\))f(=)1594 b(\\)213 1969 y
($tfref->getPhraseFreqInDocument\(\\@phrase,)33 b(url)40
b(=>)f($url\);)372 2048 y(print)g(")80 b($url:\\n";)372
2127 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
2206 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 2285 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 2364 y(})213 2443 y(print)g("\\n\\n";)213
2679 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 2758 y(#)79 b(Then)40 b(we)f(do)h(1-4)f(with)g
(the)h(phrase)f("resulting)f(in")213 2837 y(#)79 b(And)40
b(also)f(print)g(out)g(the)h(number)f(of)g(times)g("resulting)g(in")g
(is)h(used)f(in)h(each)213 2916 y(#)79 b(document)213
2995 y(#)g(Because)39 b(of)h(stemming,)e(the)i(results)e(this)i(time)f
(should)g(be)g(the)213 3074 y(#)79 b(same)40 b(as)f(those)g(from)g
(last)h(time)f(\(see)g(directly)g(above\))213 3153 y(#)g
(-----------------------------------------------)o(-------)o(-------)o
(------)213 3310 y(@phrase)g(=)g(\("resulting",)f("in"\);)213
3389 y($result)h(=)g($tfref->getNumDocsWithPhrase\(@phrase\);)213
3468 y($freq)119 b(=)39 b($tfref->getPhraseFreq\(@phrase\);)213
3547 y($positionsByUrlsRef)e(=)i($tfref->getDocsWithPhrase\(@phrase\);)
213 3626 y(print)g("freq\(\\"result)f(in\\"\))h(=)g($freq)h(total)f(in)
g($result)g(docs\\n";)213 3705 y(print)g("Documents)f(with)h
(\\"resulting)g(in\\")g(\(should)g(be)g(the)h(same)f(as)h(for)f
(\\"result)238 b(\\)213 3783 y(in\\"\)\\n";)213 3862
y(foreach)39 b(my)g($url)g(\(keys)g(\045$positionsByUrlsRef\))77
b({)372 3941 y(my)40 b($url_freq)e(=)i(scalar)f(keys)g
(\045{$positionsByUrlsRef->{$url}};)372 4020 y(print)g(")80
b($url:\\n";)372 4099 y(print)39 b(")239 b(freq)g(=)39
b($url_freq\\n";)372 4178 y(print)g(")239 b(positions)39
b(=)g(")h(.)g(join\(")f(",)g(reverse)g(sort)g(keys)797
b(\\)213 4257 y(\045{$positionsByUrlsRef->{$url}}\))35
b(.)40 b("\\n";)213 4336 y(})213 4414 y(print)f("\\n";)213
4572 y(print)g("The)g(following)g(should)g(be)g(identical)g(to)g(the)h
(previous:\\n";)213 4651 y(foreach)f(my)g($url)g(\(keys)g
(\045$positionsByUrlsRef\))e({)372 4730 y(my)j(\($url_freq,)e
($url_positions_ref\))f(=)1594 b(\\)213 4809 y
($tfref->getPhraseFreqInDocument\(\\@phrase,)33 b(url)40
b(=>)f($url\);)372 4888 y(print)g(")80 b($url:\\n";)372
4967 y(print)39 b(")239 b(freq)g(=)39 b($url_freq\\n";)372
5045 y(print)g(")239 b(positions)39 b(=)g(")h(.)g(join\(")f(",)g
(reverse)g(sort)g(keys)797 b(\\)213 5124 y(\045$url_positions_ref\))37
b(.)i("\\n";)213 5203 y(})213 5282 y(print)g("\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(214)p eop
end
%%Page: 215 215
TeXDict begin 215 214 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(#)39 b
(-----------------------------------------------)o(-------)o(-------)o
(------)213 313 y(#)79 b(Here)40 b(is)f(how)h(to)f(use)g(a)h(TF)g(for)f
(fuzzy)g(OR)h(queries.)78 b(We)40 b(query)f(the)213 392
y(#)79 b(\(stemmed)39 b(index)g(of)h(the\))f(corpus)g(as)g(follows:)213
471 y(#)213 550 y(#)79 b(1)40 b(first,)f(we)h(get)f(the)g(number)g(and)
h(scores)f(of)g(documents)g(in)g(the)h(corpus)213 629
y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(term)g
(!"thisisnotaword")f(\(#)h(=)h(N\),)213 708 y(#)159 b(then)39
b(try)h(the)f(same)g(query)g(formulated)g(as)g(a)h(negated)f(phrase)213
786 y(#)79 b(2)40 b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f
(of)g(documents)g(in)g(the)h(corpus)213 865 y(#)159 b(matching)39
b(a)g(query)g(over)h(the)f(term)g("result")g(\(#)h(=)f(A\),)213
944 y(#)159 b(then)39 b(try)h(the)f(same)g(query)g(formulated)g(as)g(a)
h(phrase)213 1023 y(#)79 b(3)40 b(then,)f(we)h(get)f(the)g(number)g
(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
1102 y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(term)g("in")h
(\(#)f(=)h(B\))213 1181 y(#)79 b(4)40 b(then,)f(we)h(get)f(the)g
(number)g(and)h(scores)f(of)g(documents)g(in)g(the)h(corpus)213
1260 y(#)159 b(matching)39 b(a)g(query)g(over)h(terms)f("result",)f
("in")i(\(#)f(=)h(C)g(<=)f(A)h(+)g(B\))213 1338 y(#)79
b(5)40 b(then,)f(we)h(get)f(the)g(number)g(and)h(scores)f(of)g
(documents)g(in)g(the)h(corpus)213 1417 y(#)159 b(matching)39
b(the)g(phrase)g(query)g("result)g(in")g(\(#)h(=)g(D)f(<=)h(A,)f(B\))
213 1496 y(#)79 b(6)40 b(then,)f(we)h(get)f(the)g(number)g(and)h
(scores)f(of)g(documents)g(in)g(the)h(corpus)213 1575
y(#)159 b(matching)39 b(a)g(query)g(over)h(the)f(negated)g(phrase)g
(!"result)g(in")g(\(#)h(=)f(E)h(=)g(N)f(-)h(D\))213 1654
y(#)79 b(7)40 b(finally,)f(we)g(get)h(the)f(number)g(and)g(scores)g(of)
h(documents)e(in)i(the)f(corpus)213 1733 y(#)159 b(matching)39
b(a)g(query)g(over)h(the)f(phrases)g("due)g(to",)g("according)g(to")213
1812 y(#)g(-----------------------------------------------)o(-------)o
(-------)o(------)213 1969 y(print)g("\\n---Fuzzy)f(OR)i(Queries)e
(\(stemmed\):---\\n";)213 2048 y(#1a)372 2127 y(print)h("Query)g(1a:)h
(!\\"thisisnotaword\\")d(\(negated)h(term)i(query\)\\n";)372
2206 y(my)g(\($pTerms,)e($pNegTerms,)g($pPhrasePtrs,)g
($pNegPhrasePtrs\))g(=)i(\([],)557 b(\\)213 2285 y(["thisisnotaword"],)
37 b([],)i([]\);)372 2364 y(my)h(\045docScores)e(=)i
($tfref->getDocsMatchingFuzzyORQuery\($pTerms)o(,)34
b($pNegTerms,)158 b(\\)213 2443 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 2522 y(my)i($N)f(=)h(scalar)f(keys)g
(\045docScores;)372 2600 y(my)h(@scores)f(=)g(sort)g({$b)h(<=>)f($a})h
(values)f(\045docScores;)372 2679 y(print)g(")160 b(#)39
b(docs)g(matching:)g(N)h(=)f($N\\n";)372 2758 y(print)g(")518
b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n";)213
2837 y(#1b)372 2916 y(print)g("Query)g(1b:)h(!\\"thisisnotaword\\")d
(\(negated)h(phrase)h(query\)\\n";)372 2995 y(\($pTerms,)g($pNegTerms,)
f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)h([],)358
b(\\)213 3074 y([["thisisnotaword"]]\);)372 3153 y(\045docScores)39
b(=)g($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34
b($pNegTerms,)277 b(\\)213 3231 y($pPhrasePtrs,)38 b
($pNegPhrasePtrs\);)372 3310 y($N)i(=)f(scalar)g(keys)h(\045docScores;)
372 3389 y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g
(\045docScores;)372 3468 y(print)g(")160 b(#)39 b(docs)g(matching:)g(N)
h(=)f($N\\n";)372 3547 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g
(",)h(@scores\))f(.)g("\\n\\n";)213 3783 y(#2a)372 3862
y(print)g("Query)g(2a:)h(\\"result\\")e(\(term)h(query\)\\n";)372
3941 y(\($pTerms,)g($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\(["result"],)e([],)h([],)h(\\)213 4020 y([]\);)372
4099 y(\045docScores)f(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 4178 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
4257 y(my)i($A)f(=)h(scalar)f(keys)g(\045docScores;)372
4336 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 4414 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)
372 4493 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n";)213 4572 y(#2b)372 4651 y(print)g("Query)g(2b:)
h(\\"result\\")e(\(phrase)h(query\)\\n";)372 4730 y(\($pTerms,)g
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)518
b(\\)213 4809 y([["result"]],)38 b([]\);)372 4888 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 4967 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
5045 y($A)i(=)f(scalar)g(keys)h(\045docScores;)372 5124
y(@scores)f(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)372
5203 y(print)g(")160 b(#)39 b(docs)g(matching:)g(A)h(=)f($A\\n";)372
5282 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 5361 y(#3)372 5440 y(print)g("Query)g(3:)h
(\\"in\\"\\n";)p 3466 5544 V 185 5547 3285 4 v 1873 5809
a Fk(215)p eop end
%%Page: 216 216
TeXDict begin 216 215 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa(\($pTerms,)39 b($pNegTerms,)f
($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)g([],)199
b(\\)213 313 y([]\);)372 392 y(\045docScores)39 b(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 471 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
550 y(my)i($B)f(=)h(scalar)f(keys)g(\045docScores;)372
629 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 708 y(print)g(")160 b(#)39 b(docs)g(matching:)g(B)h(=)f($B\\n";)372
786 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 865 y(#4)372 944 y(print)g("Query)g(4:)h
(\\"result\\",)e(\\"in\\"\\n";)372 1023 y(\($pTerms,)h($pNegTerms,)f
($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\(["in"],)f([],)g([],)199
b(\\)213 1102 y([]\);)372 1181 y(\045docScores)39 b(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 1260 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
1338 y(my)i($C)f(=)h(scalar)f(keys)g(\045docScores;)372
1417 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 1496 y(print)g(")160 b(#)39 b(docs)g(matching:)g(C)h(=)f($C)h(<=)f
(A)h(+)g(B)g(=)f(")h(.)g(\($A)f(+)h($B\))f(.)h("\\n";)372
1575 y(print)f(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 1654 y(#5)372 1733 y(print)g("Query)g(5:)h
(\\"result)e(in\\"\\n";)372 1812 y(\($pTerms,)h($pNegTerms,)f
($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)h([["result",)e
(\\)213 1891 y("in"]],)h([]\);)372 1969 y(\045docScores)g(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 2048 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
2127 y(my)i($D)f(=)h(scalar)f(keys)g(\045docScores;)372
2206 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 2285 y(print)g(")160 b(#)39 b(docs)g(matching:)g(D)h(=)f($D)h(<=)f
(min{A,)g(B}\\n";)372 2364 y(print)g(")518 b(scores:)39
b(")h(.)f(join\(")g(",)h(@scores\))f(.)g("\\n\\n";)213
2443 y(#6)372 2522 y(print)g("Query)g(6:)h(!\\"result)e(in\\"\\n";)372
2600 y(\($pTerms,)h($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f
(=)j(\([],)f([],)h([],)358 b(\\)213 2679 y([["result",)38
b("in"]]\);)372 2758 y(\045docScores)h(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 2837 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
2916 y(my)i($E)f(=)h(scalar)f(keys)g(\045docScores;)372
2995 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 3074 y(print)g(")160 b(#)39 b(docs)g(matching:)g(E)h(=)f($E)h(=)g
(N)f(-)h(D)g(=)f(")h(.)g(\($N)f(-)h($D\))f(.)h("\\n";)372
3153 y(print)f(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h(@scores\))f
(.)g("\\n\\n";)213 3231 y(#7)372 3310 y(print)g("Query)g(7:)h(\\"due)f
(to\\",)g(\\"according)f(to\\"\\n";)372 3389 y(\($pTerms,)h
($pNegTerms,)f($pPhrasePtrs,)g($pNegPhrasePtrs\))f(=)j(\([],)f([],)518
b(\\)213 3468 y([["due","to"],)38 b(["according","to"]],)e([]\);)372
3547 y(\045docScores)j(=)g
($tfref->getDocsMatchingFuzzyORQuery\($pTerms,)34 b($pNegTerms,)277
b(\\)213 3626 y($pPhrasePtrs,)38 b($pNegPhrasePtrs\);)372
3705 y(my)i($F)f(=)h(scalar)f(keys)g(\045docScores;)372
3783 y(@scores)g(=)h(sort)f({$b)g(<=>)h($a})f(values)g(\045docScores;)
372 3862 y(print)g(")160 b(#)39 b(docs)g(matching:)g(F)h(=)f($F\\n";)
372 3941 y(print)g(")518 b(scores:)39 b(")h(.)f(join\(")g(",)h
(@scores\))f(.)g("\\n\\n";)213 4257 y(print)g("\\n---Cluster)f(and)h
(Network)g(creation:---\\n";)213 4336 y(#)g(Create)g(a)h(cluster)f
(with)g(the)h(documents)213 4414 y(my)f($c)h(=)g(new)f(Clair::Cluster;)
213 4572 y($c->load_documents\("$gen_dir/download/test)o(html/ta)o
(ngra.si)o(.umich.)o(edu/cl)o(air/tes)o(tht)34 b(\\)213
4651 y(ml/)333 4663 y(*)373 4651 y(",)39 b(type)g(=>)h('html'\);)213
4809 y(print)f("Loaded)g(",)g($c->count_elements,)e(")j
(documents.\\n";)213 4967 y($c->strip_all_documents;)213
5045 y($c->stem_all_documents;)213 5203 y(print)f("I'm)g(done)g
(stripping)g(and)g(stemming\\n";)213 5440 y(my)g($count)g(=)h(0;)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(216)p eop
end
%%Page: 217 217
TeXDict begin 217 216 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2926
4 v 185 1600 4 1470 v 213 234 a Fa(my)39 b($c2)h(=)f(new)h
(Clair::Cluster;)213 313 y(foreach)f(my)g($doc)g(\(values)g(\045{)h
($c->documents})d(\))j({)213 392 y($count++;)213 550
y(if)f(\($count)g(<=)h(40\))f({)213 629 y($c2->insert\($doc->get_id,)d
($doc\);)213 708 y(})213 786 y(})213 944 y(my)j(\045cm)h(=)f
($c2->compute_cosine_matrix\(\);)213 1023 y(my)g(\045bin_cos)g(=)h
($c2->compute_binary_cosine\(0.15\);)213 1102 y(my)f($network)g(=)h
($c2->create_network\(cosine_matrix)35 b(=>)k(\\\045bin_cos\);)213
1260 y(print)g("Number)g(of)g(documents)g(in)g(network:)g(",)g
($network->num_documents,)e("\\n";)213 1417 y(print)i("Average)g
(diameter:)f(",)i($network->diameter\(avg)c(=>)k(1\),)f("\\n";)213
1496 y(print)g("Maximum)g(diameter:)f(",)i($network->diameter\(\),)c
("\\n";)p 3107 1600 V 185 1603 2926 4 v 1873 5809 a Fk(217)p
eop end
%%Page: 218 218
TeXDict begin 218 217 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.36)80 b(mmr)-8 b(.pl)p 185 295 2607 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_mmr.pl)213 635 y(#)g(functionality:)f(Tests)h(the)h
(lexrank)f(reranker)f(on)i(a)f(network)213 793 y(use)g(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Clair::Cluster;)213 1108 y(use)g(Clair::Network;)213
1187 y(use)g(Clair::Network::Centrality::LexRank;)213
1266 y(use)g(Clair::Document;)213 1503 y(my)g($input_dir)g(=)g
("$FindBin::Bin/input/mmr";)213 1582 y(my)g($file)g(=)h
("$input_dir/file.txt";)213 1660 y(my)f($bias_file)g(=)g
("$input_dir/bias.txt";)213 1739 y(my)g($lambda)g(=)h(0.5;)213
1897 y(#)f(Split)h(the)f(first)g(document)g(into)g(sentences)213
2055 y(open)g(FILE,)g("<)h($file")f(or)g(die)h("Couldn't)e(open)h
($file:)g($!";)213 2134 y(my)g($text;)213 2213 y(while)g(\(<FILE>\))g
({)372 2291 y($text)g(.=)h($_;)213 2370 y(})213 2449
y(close)f(FILE;)213 2528 y(my)g($document)g(=)h(Clair::Document->new\()
372 2607 y(string)f(=>)h($text,)372 2686 y(id)g(=>)f("document",)372
2765 y(type)g(=>)h("text")213 2844 y(\);)213 2922 y(my)f(@sents)g(=)h
($document->split_into_sentences\(\);)213 3159 y(#)f(Split)h(the)f
(second)g(document)g(into)g(sentences)213 3317 y(open)g(FILE,)g("<)h
($bias_file")e(or)h(die)h("Couldn't)e(open)i($bias_file:)e($!";)213
3396 y($text)h(=)h("";)213 3475 y(while)f(\(<FILE>\))g({)372
3553 y($text)g(.=)h($_;)213 3632 y(})213 3711 y(close)f(FILE;)213
3790 y(my)g($bias_doc)g(=)h(Clair::Document->new\()372
3869 y(string)f(=>)h($text,)372 3948 y(id)g(=>)f("document",)372
4027 y(type)g(=>)h("text")213 4105 y(\);)213 4184 y(my)f(@bias)g(=)h
($bias_doc->split_into_sentences\(\);)213 4421 y(#)f(Make)h(a)f
(cluster)g(from)g(the)h(first)f(document's)f(sentences)213
4579 y(my)h($cluster)g(=)h(Clair::Cluster->new\(\);)213
4658 y(my)f($i)h(=)g(1;)213 4736 y(for)f(\(@sents\))g({)372
4815 y(my)h($doc)f(=)h(Clair::Document->new\()532 4894
y(string)f(=>)g($_,)532 4973 y(type)g(=>)g("text",)532
5052 y(id)g(=>)h($i)372 5131 y(\);)372 5210 y($doc->stem\(\);)372
5289 y($cluster->insert\($i,)d($doc\);)372 5367 y($i++;)213
5446 y(})p 2788 5708 V 185 5711 2607 4 v 1873 5809 a
Fk(218)p eop end
%%Page: 219 219
TeXDict begin 219 218 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 2625 4 2495 v 213 234 a Fa(#)39 b(Turn)h(it)f(into)h(a)f
(matrix)g(to)h(run)f(lexrank)213 392 y(my)g(\045matrix)g(=)h
($cluster->compute_cosine_matrix\(\);)213 471 y(my)f($network)g(=)h
($cluster->create_network\()372 550 y(cosine_matrix)e(=>)i
(\\\045matrix,)372 629 y(include_zeros)e(=>)i(1)213 708
y(\);)213 786 y(my)f($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($net)o(work\);)213
865 y($cent->compute_lexrank_from_bias_sents\()34 b(bias_sents)k(=>)i
(\\@bias)f(\);)213 1102 y(#)g(Run)h(MMR)f(reranker)213
1260 y($network->mmr_rerank_lexrank\($lambda\);)213 1496
y(#)g(Print)h(out)f(the)g(sentences,)g(ordered)g(by)g(lexrank)213
1575 y(my)g($graph)g(=)h($network->{graph};)213 1654
y(my)f(@verts)g(=)h($graph->vertices\(\);)213 1812 y(my)f(\045scores)g
(=)h(\(\);)213 1891 y(foreach)f(my)g($vert)g(\(@verts\))g({)372
1969 y($scores{$vert})f(=)i($graph->get_vertex_attribute\($vert,)34
b("lexrank_value"\);)213 2048 y(})213 2206 y(foreach)39
b(my)g($vert)g(\(sort)g({)h($scores{$b})e(cmp)i($scores{$a})e(})i(keys)
f(\045scores\))f({)372 2285 y(my)i($sent)f(=)h
($cluster->get\($vert\)->get_text\(\);)372 2364 y(print)f("$sent)g
(\($scores{$vert}\)\\n";)213 2443 y(})p 3187 2625 V 185
2628 3006 4 v 1873 5809 a Fk(219)p eop end
%%Page: 220 220
TeXDict begin 220 219 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.37)80 b(netw)o(orkstat.pl)p 185 295 3285 4 v
185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_networkstat.pl)213 635 y(#)g
(functionality:)f(Generates)h(a)g(network,)g(then)g(computes)g(and)g
(displays)g(a)h(large)213 714 y(#)f(functionality:)f(number)h(of)h
(network)f(statistics)213 872 y(use)g(strict;)213 951
y(use)g(warnings;)213 1030 y(use)g(DB_File;)213 1108
y(use)g(FindBin;)213 1266 y(use)g(Clair::Network;)213
1345 y(use)g(Clair::Network::Writer::Edgelist;)213 1424
y(use)g(Clair::Network::Writer::Pajek;)213 1503 y(use)g
(Clair::Cluster;)213 1582 y(use)g(Clair::Document;)213
1739 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1818 y(my)f($input_dir)g
(=)g("input/networkstat";)213 1897 y(my)g($output_dir)g(=)g
("produced/networkstat";)213 2055 y(my)g($old_prefix)g(=)g("a";)213
2134 y(my)g($threshold)g(=)g(0.20;)213 2291 y(my)g($prefix)g(=)h
("$output_dir/$old_prefix";)213 2449 y(print)f("prefix:)g($prefix\\n";)
213 2528 y(print)g("threshold:)f($threshold\\n";)213
2686 y(#)h(Create)g(cluster)213 2765 y(my)g(\045documents)g(=)g(\(\);)
213 2844 y(my)g($cluster)g(=)h(Clair::Cluster->new\(documents)35
b(=>)40 b(\\\045documents\);)213 2922 y(my)f(@files)g(=)h(\(\);)213
3001 y(my)f(@doc_ids)g(=)h(\(\);)213 3159 y(#)f(Open)h(txt)f(file)g
(and)h(read)f(in)h(each)f(line,)g(putting)g(it)g(into)h(the)f(cluster)g
(as)213 3238 y(#)g(a)h(separate)f(document)213 3317 y(open)g(\(TXT,)g
("<$input_dir/$old_prefix.txt"\))c(||)40 b(die\("Could)e(not)i(open)637
b(\\)213 3396 y($input_dir/$old_prefix.txt."\);)213 3553
y(my)39 b($doc_count)g(=)g(0;)213 3711 y(while)g(\(<TXT>\))213
3790 y({)213 3869 y($doc_count++;)213 3948 y(my)g($doc)h(=)f
(Clair::Document->new\(type)d(=>)k('text',)f(string)g(=>)g("$_",)1568
4027 y(id)g(=>)h("$doc_count"\);)213 4105 y
($cluster->insert\($doc_count,)35 b($doc\);)213 4263
y(print)k("$doc_count:\\t$_\\n";)213 4342 y(})213 4500
y(my)g(\045cos)h(=)f($cluster->compute_cosine_matrix\(text_type)34
b(=>)40 b('text'\);)213 4658 y(##)f(CREATE)g(A.ALL.COS)g(FILE)213
4736 y($cluster->write_cos\("$prefix.all.cos",)34 b(cosine_matrix)k(=>)
h(\\\045cos\);)213 4894 y(#)g(Uncomment)g(to)h(display)e(the)i(cosine)f
(matrix:)213 4973 y(#)g(foreach)g(my)h($i)f(\(1..$doc_count\))213
5052 y(#)g({)213 5131 y(#)79 b(foreach)39 b(my)h($j)f
(\(1..$doc_count\))213 5210 y(#)79 b({)213 5289 y(#)g(if)40
b(\($j)f(<)h($i\))213 5367 y(#)79 b({)213 5446 y(#)g(print)39
b("$j)h($i)f($cos{$j}{$i}\\n";)213 5525 y(#)79 b(print)39
b("$i)h($j)f($cos{$i}{$j}\\n";)213 5604 y(#)79 b(})p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(220)p eop
end
%%Page: 221 221
TeXDict begin 221 220 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(#)79 b(})213 313 y(#)39
b(})213 550 y(#)g(Do)h(binary)f(cosine)g(w/)g(cutoff)g(of)h(0.15)213
629 y(my)f(\045bin_matrix)g(=)g
($cluster->compute_binary_cosine\($threshold\);)213 865
y(##)g(CREATE)g(A.15.COS)g(FILE)213 944 y
($cluster->write_cos\("$prefix$threshold.cos)o(",)34
b(cosine_matrix)k(=>)i(\\\045bin_matrix,)197 b(\\)213
1023 y(write_zeros)38 b(=>)i(0\);)213 1181 y(#)f(Create)g(networks)213
1260 y(my)g($network)g(=)h($cluster->create_network\(cosine_matrix)34
b(=>)39 b(\\\045cos,)g(include_zeros)f(=>)i(\\)213 1338
y(1\);)213 1417 y(my)f($networkThreshold)f(=)h
($cluster->create_network\(cosine_matrix)c(=>)k(\\\045bin_matrix\);)213
1575 y(#)g(Creating)g(.links)g(files)213 1654 y(my)g($export)g(=)h
(Clair::Network::Writer::Edgelist->new\(\);)213 1733
y($export->write_network\($network,)35 b("$prefix.all.links"\);)213
1812 y($export->write_network\($networkThreshold,)e("$prefix.links"\);)
213 1891 y($network->write_nodes\("$prefix.nodes"\);)213
1969 y($export->write_network\($networkThreshold,)g
("$prefix.linksuniq",)1129 2048 y(skip_duplicates)38
b(=>)h(1\);)213 2206 y(###)g(check)g(if)h(the)f(stats)g(file)h(exists)
213 2285 y(if)f(\(not)h(-e)f("$prefix.stats"\))f({)213
2364 y(print)h(STDERR)g("creating)f(the)i(.stats)f(file\\n";)213
2443 y(`echo)g(statistic:)f([date])h(value)g(>)h($prefix.stats`;)213
2522 y(})213 2679 y(my)f($n1)h(=)f($network->num_documents;)213
2758 y(my)g($n2)h(=)f($networkThreshold->num_documents;)213
2837 y(print_stat\("documents",)d("$n1)j(vs.)h($n2"\);)213
2995 y($n1)f(=)h($network->num_pairs;)213 3074 y($n2)f(=)h
($networkThreshold->num_pairs;)213 3153 y(print_stat\("pairs",)d("$n1)i
(vs.)g($n2"\);)213 3231 y(display_stat\("documents"\);)213
3310 y(display_stat\("pairs"\);)213 3468 y(my)g($ext_links)g(=)g
($networkThreshold->num_links\(external)c(=>)k(1\);)213
3547 y(my)g($int_links)g(=)g($networkThreshold->num_links\(internal)c
(=>)k(1\);)213 3626 y(my)g($int_links_nm)f(=)i
($networkThreshold->num_links\(internal)34 b(=>)40 b(1,)f(unique)g(=>)h
(1\);)213 3783 y(print_stat\("Number)d(of)i(external)g(links)g
(\(includes)g(links)g(with)g(multiplicities\)",)197 b(\\)213
3862 y($ext_links\);)213 3941 y(display_stat\("Number)37
b(of)i(external)g(links"\);)213 4099 y(print_stat\("Number)e(of)i
(internal)g(links)g(\(includes)g(links)g(with)g(multiplicities\)",)197
b(\\)213 4178 y($int_links\);)213 4257 y(display_stat\("Number)37
b(of)i(internal)g(links)g(\(includes)f(links)i(with)f
(multiplicities\)"\);)213 4414 y(if)g(\($ext_links)g(!=)g(0\))h({)213
4493 y(print_stat\("Ratio)d(of)j(internal)e(to)i(external)e(links",)h
($ext_links/$int_links\);)213 4572 y(display_stat\("Ratio)e(of)i
(internal)g(to)h(external)e(links"\);)213 4651 y(})213
4809 y(print_stat\("Number)f(of)i(internal)g(links)g(\(no)h
(multiplicities)d(allowed\)",)557 b(\\)213 4888 y($int_links_nm\);)213
4967 y(display_stat\("Number)37 b(of)i(internal)g(links)g(\(no)g
(multiplicities)f(allowed\)"\);)213 5124 y
($networkThreshold->write_db\("$prefix.db"\);)213 5203
y(print)h("PRINTING)f(DB\\n";)213 5282 y
($networkThreshold->print_db\("$prefix.db"\);)213 5361
y($networkThreshold->write_db\("$prefix-xpose)o(.db",)c(transpose)k(=>)
i(1\);)213 5440 y(print)f("PRINTING)f(TRANSPOSED)h(DB\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(221)p eop
end
%%Page: 222 222
TeXDict begin 222 221 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa
($networkThreshold->print_db\("$prefix-xpose)o(.db"\);)213
313 y($networkThreshold->find_scc\("$prefix.db",)33 b
("$prefix-xpose.db",)755 b(\\)213 392 y("$prefix-scc-db.fin",)36
b(verbose)j(=>)h(1\);)213 471 y
($networkThreshold->get_scc\("$prefix-scc-db)o(.fin",)33
b("$prefix.link_map",)476 b(\\)213 550 y("$prefix.scc"\);)213
629 y($export->write_network\($networkThreshold,)33 b
("$prefix-xpose.link",)1129 708 y(transpose)39 b(=>)g(1\);)213
865 y(print_stat\("Average)e(in-degree",)h("average)h(degree)g(")g(.)
1156 b(\\)213 944 y($networkThreshold->avg_in_degree\);)213
1023 y(display_stat\("Average)36 b(in-degree"\);)213
1102 y(my)j(\045in_hist)g(=)h
($networkThreshold->compute_in_link_histogr)o(am\(\);)213
1181 y($networkThreshold->write_link_matlab\(\\\045in_)o(hist,)34
b($prefix)k(.)i("_in.m",)557 b(\\)213 1260 y("$old_prefix-in"\);)213
1338 y($networkThreshold->write_link_dist\(\\\045in_hi)o(st,)34
b("$prefix-inLinks"\);)213 1496 y(print_stat\("Average)j(out-degree",)h
("average)g(degree)h(")h(.)1116 b(\\)213 1575 y
($networkThreshold->avg_out_degree\);)213 1654 y
(display_stat\("Average)36 b(out-degree"\);)213 1733
y(my)j(\045out_hist)g(=)h($networkThreshold->compute_out_link_histo)o
(gram\(\);)213 1812 y($networkThreshold->write_link_matlab\(\\\045out)o
(_hist,)33 b($prefix)39 b(.)h("_out.m",)477 b(\\)213
1891 y("$old_prefix-out"\);)213 1969 y
($networkThreshold->write_link_dist\(\\\045out_h)o(ist,)34
b("$prefix-outLinks"\);)213 2127 y(print_stat\("Average)j
(total-degree",)h("average)g(degree)h(")h(.)1036 b(\\)213
2206 y($networkThreshold->avg_total_degree\);)213 2285
y(display_stat\("Average)36 b(total-degree"\);)213 2364
y(my)j(\045tot_hist)g(=)h($networkThreshold->compute_total_link_his)o
(togram\()o(\);)213 2443 y
($networkThreshold->write_link_matlab\(\\\045tot)o(_hist,)33
b($prefix)39 b(.)h("_total.m",)397 b(\\)213 2522 y
("$old_prefix-total"\);)213 2600 y
($networkThreshold->write_link_dist\(\\\045tot_h)o(ist,)34
b("$prefix-totalLinks"\);)213 2758 y(print_stat\("Power)j(Law,)i
(out-link)g(distribution",)1353 b(\\)213 2837 y
($networkThreshold->power_law_out_link_dist)o(ributio)o(n\);)213
2916 y(display_stat\("Power)37 b(Law,)i(out-link)g(distribution"\);)213
3074 y(print_stat\("Power)e(Law,)i(in-link)g(distribution",)1393
b(\\)213 3153 y($networkThreshold->power_law_in_link_distr)o(ibution)o
(\);)213 3231 y(display_stat\("Power)37 b(Law,)i(in-link)g
(distribution"\);)213 3389 y(print_stat\("Power)e(Law,)i(total-link)g
(distribution",)1273 b(\\)213 3468 y
($networkThreshold->power_law_total_link_di)o(stribut)o(ion\);)213
3547 y(display_stat\("Power)37 b(Law,)i(total-link)f(distribution"\);)
213 3705 y(my)h($wscc)g(=)h
($networkThreshold->Watts_Strogatz_clus_coeff\()o(filenam)o(e)34
b(=>)518 b(\\)213 3783 y("$prefix.cc.out"\);)213 3862
y(print_stat\("Watts-Strogatz)36 b(clustering)i(coefficient",)g
($wscc\);)213 3941 y(display_stat\("Watts-Strogatz)d(clustering)k
(coefficient"\);)213 4099 y(my)g($newman_cc)g(=)g
($networkThreshold->newman_clustering_coefficien)o(t\(\);)213
4178 y(print_stat\("Newman)e(clustering)h(coefficient",)g
($newman_cc\);)213 4257 y(display_stat\("Newman)f(clustering)h
(coefficient"\);)213 4414 y(my)h(@triangles)g(=)g
($networkThreshold->get_triangles\(\);)213 4493 y(print_stat\("Network)
e(triangles",)h(@triangles\);)213 4572 y(display_stat\("Network)e
(triangles"\);)213 4730 y(my)j($spl)h(=)f
($networkThreshold->get_shortest_path_length\("1)o(",)34
b("12"\);)213 4809 y(print_stat\("Shortest)j(path)i(between)g(node)g(1)
h(and)f(node)g(12",)h($spl\);)213 4888 y(display_stat\("Shortest)c
(path)k(between)e(node)i(1)f(and)h(node)f(12"\);)213
5045 y(my)g(\045dist)g(=)h
($networkThreshold->get_shortest_paths_lengths)o(\("1"\);)213
5124 y(print_stat\("Shortest)d(paths)i(between)g(node)g(1)g(and)h
(reachable)e(nodes",)h(\045dist\);)213 5203 y(display_stat\("Shortest)d
(paths)j(between)g(node)g(1)h(and)g(reachable)e(nodes"\);)213
5440 y(print_stat\("Average)f(shortest)h(path",)p 3466
5544 V 185 5547 3285 4 v 1873 5809 a Fk(222)p eop end
%%Page: 223 223
TeXDict begin 223 222 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 332 234 a Fa
($networkThreshold->average_shortest_path\(\)\);)213
313 y(display_stat\("Average)36 b(shortest)j(path"\);)213
471 y(print_stat\("Average)e(directed)h(shortest)h(path",)g
($networkThreshold->diameter\(avg)c(=>)40 b(\\)213 550
y(1,)f(filename)g(=>)h("$prefix.asp.directed.out",)35
b(directed)k(=>)h(1\))f(\);)213 629 y(display_stat\("Average)d
(directed)j(shortest)g(path"\);)213 786 y(print_stat\("Average)e
(undirected)h(shortest)h(path",)g($networkThreshold->diameter\(avg)75
b(\\)213 865 y(=>)39 b(1,)h(filename)f(=>)g
("$prefix.asp.undirected.out",)d(undirected)i(=>)i(1\))f(\);)213
944 y(display_stat\("Average)d(undirected)j(shortest)f(path"\);)213
1102 y(print_stat\("Maximum)f(directed)h(shortest)h(path",)g
($networkThreshold->diameter\(max)c(=>)40 b(\\)213 1181
y(1,)f(filename)g(=>)h("$prefix.diameter.out",)c(directed)j(=>)g(1\))h
(\);)213 1260 y(display_stat\("Maximum)c(directed)j(shortest)g
(path"\);)213 1417 y(print_stat\("Maximum)e(undirected)h(shortest)h
(path",)g($networkThreshold->diameter\(max)75 b(\\)213
1496 y(=>)39 b(1,)h(filename)f(=>)g("$prefix.diameter.out",)d
(undirected)j(=>)g(1\))h(\);)213 1575 y(display_stat\("Maximum)c
(undirected)j(shortest)f(path"\);)213 1733 y(write_to_stat\("------)e
(COSINE)j(STATISTICS)g(-----------\\n"\);)213 1891 y(my)g
(\($link_avg_cos,)f($nl_avg_cos\))g(=)i
($networkThreshold->average_cosines\(\\\045cos\);)213
2048 y(print_stat\("linked)d(average)i(cosine",)f($link_avg_cos\);)213
2127 y(display_stat\("linked)f(average)h(cosine"\);)213
2285 y(print_stat\("not)f(linked)i(average)g(cosine",)g($nl_avg_cos\);)
213 2364 y(display_stat\("not)e(linked)i(average)g(cosine"\);)213
2522 y(my)g(\($link_hist,)f($nolink_hist\))g(=)i
($networkThreshold->cosine_histograms\(\\\045cos\);)213
2600 y($networkThreshold->write_histogram_matlab\()o($link_h)o(ist,)34
b($nolink_hist,)k($prefix,)158 b(\\)213 2679 y($prefix\);)213
2758 y(my)39 b($hist_string)f(=)i
($networkThreshold->get_histogram_as_string\($l)o(ink_hi)o(st,)313
b(\\)213 2837 y($nolink_hist\);)213 2916 y
(write_to_stat\($hist_string\);)213 2995 y(print)39 b($hist_string;)213
3153 y(print)g("$prefix\\n";)213 3310 y
($networkThreshold->create_cosine_dat_files)o(\($old_p)o(refix,)33
b(\\\045cos,)39 b(directory)g(=>)199 b(\\)213 3389 y
("produced/networkstat"\);)213 3547 y(print)39 b("2\\n";)213
3705 y(my)g($dat_stats)g(=)g
($networkThreshold->get_dat_stats\("$prefix",)34 b("$prefix.links",)157
b(\\)213 3783 y("$prefix.all.cos"\);)213 3941 y
(#produced/networkstat/a/produced/networkst)o(at/a-po)o(int-one)o
(-all.da)o(t)213 4099 y(print)39 b("3\\n";)213 4257 y
(write_to_stat\($dat_stats\);)213 4336 y(print)g($dat_stats;)213
4493 y(print)g("4\\n";)213 4651 y($export)g(=)g
(Clair::Network::Writer::Pajek->new\(\);)213 4730 y
($export->set_name\($prefix\);)213 4809 y
($export->write_network\($networkThreshold,)33 b("$prefix.net"\);)213
4967 y(#)213 5045 y(#)39 b(Statistics)g(Methods)213 5124
y(#)213 5203 y(sub)g(print_stat)g({)292 5282 y(my)h($name)f(=)h(shift;)
213 5361 y(my)f($value)g(=)h(shift;)213 5440 y(my)f($date)g(=)h
(`date`;)p 3466 5544 V 185 5547 3285 4 v 1873 5809 a
Fk(223)p eop end
%%Page: 224 224
TeXDict begin 224 223 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 1691
4 v 185 2783 4 2653 v 213 234 a Fa(chomp\($date\);)213
313 y(open)39 b(\(STATS,)g(">>$prefix.stats"\);)213 392
y(print)g(STATS)g($name,":)g([$date])f($value\\n";)213
471 y(close)h(STATS;)213 550 y(})213 708 y(sub)g(write_to_stat)f({)213
786 y(my)h($text)g(=)h(shift;)213 865 y(open)f(\(STATS,)g
(">>$prefix.stats"\);)213 944 y(print)g(STATS)g($text;)213
1023 y(close)g(STATS;)213 1102 y(})213 1260 y(sub)g(get_stat)g({)213
1338 y(my)g($name)g(=)h(shift;)213 1417 y(my)f($line)g(=)h(`grep)f
("\210$name")g($prefix.stats`;)213 1496 y(chomp\($line\);)213
1575 y(my)g(@columns)g(=)h(split)f(\(")g(",)h($line\);)213
1654 y(return)f($columns[$#columns];)213 1733 y(})213
1891 y(sub)g(display_stat)f({)213 1969 y(my)h($name)g(=)h(shift;)213
2048 y(print)f(`grep)g("\210$name")g($prefix.stats`;)213
2127 y(})213 2285 y(sub)g(not_exists_stat)f({)213 2364
y(my)h($name)g(=)h(shift;)213 2443 y(my)f($st)h(=)f(`grep)h
("\210$name")e($prefix.stats`;)213 2522 y(return)h(\($st)g(=\230)h
(/\210\\s)971 2534 y(*)1011 2522 y($/\);)213 2600 y(})p
1872 2783 V 185 2786 1691 4 v 1873 5809 a Fk(224)p eop
end
%%Page: 225 225
TeXDict begin 225 224 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.38)80 b(pagerank.pl)p 185 295 3285 4 v 185 3578
4 3284 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_pagerank.pl)213 635 y(#)g(functionality:)f(Creates)h
(a)h(small)f(cluster)g(and)g(runs)g(pagerank,)g(displaying)213
714 y(#)g(functionality:)f(the)i(pagerank)e(distribution)213
872 y(use)h(strict;)213 951 y(use)g(warnings;)213 1030
y(use)g(FindBin;)213 1108 y(use)g(Clair::Network;)213
1187 y(use)g(Clair::Network::Centrality::PageRank;)213
1266 y(use)g(Clair::Cluster;)213 1345 y(use)g(Clair::Document;)213
1503 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1582 y(my)f($input_dir)g
(=)g("$basedir/input/pagerank";)213 1739 y(my)g($c)h(=)g(new)f
(Clair::Cluster\(\);)213 1818 y(my)g($doc1)g(=)h(new)g
(Clair::Document\(id)d(=>)i(1,)h(type)f(=>)h('text',)e(string)h(=>)h
('This)f(is)239 b(\\)213 1897 y(document)38 b(1'\);)213
1976 y(my)h($doc2)g(=)h(new)g(Clair::Document\(id)d(=>)i(2,)h(type)f
(=>)h('text',)e(string)h(=>)h('This)f(is)239 b(\\)213
2055 y(document)38 b(2'\);)213 2134 y(my)h($doc3)g(=)h(new)g
(Clair::Document\(id)d(=>)i(3,)h(type)f(=>)h('text',)e(string)h(=>)h
('This)f(is)239 b(\\)213 2213 y(document)38 b(3'\);)213
2291 y(my)h($doc4)g(=)h(new)g(Clair::Document\(id)d(=>)i(4,)h(type)f
(=>)h('text',)e(string)h(=>)h('This)f(is)239 b(\\)213
2370 y(document)38 b(4'\);)213 2449 y($c->insert\(1,)g($doc1\);)213
2528 y($c->insert\(2,)g($doc2\);)213 2607 y($c->insert\(3,)g($doc3\);)
213 2686 y($c->insert\(4,)g($doc4\);)213 2844 y(my)h($n)h(=)g
($c->create_hyperlink_network_from_file\("$)o(input_d)o(ir/link)o
(.txt"\))o(;)213 3001 y(my)f($cent)g(=)h
(Clair::Network::Centrality::PageRank->new\($n\))o(;)213
3080 y($cent->centrality\(\);)213 3238 y(print)f("NODE)g(PAGERANK\\n";)
213 3317 y($cent->print_current_distribution\(\);)213
3396 y(print)g("\\n";)p 3466 3578 V 185 3581 3285 4 v
1873 5809 a Fk(225)p eop end
%%Page: 226 226
TeXDict begin 226 225 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.39)80 b(parse.pl)p 185 295 3285 4 v 185 2868
4 2574 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_parse.pl)213 635 y(#)g(functionality:)f(Parses)h(an)h
(input)f(file)g(and)g(then)h(runs)f(chunklink)g(on)g(it)213
793 y(use)g(strict;)213 872 y(use)g(warnings;)213 951
y(use)g(FindBin;)213 1030 y(use)g(Clair::Utils::Parse;)213
1187 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1266 y(my)f($input_dir)g
(=)g("$basedir/input/parse";)213 1345 y(my)g($gen_dir)g(=)h
("$basedir/produced/parse";)213 1503 y(#)f(Preparing)g(file)g(for)h
(parsing)213 1582 y(Clair::Utils::Parse::prepare_for_parse\("$i)o
(nput_di)o(r/test.)o(txt",)751 b(\\)213 1660 y("$gen_dir/parse.txt"\);)
213 1818 y(print)39 b("PARSING\\n";)213 1976 y(my)g($parseout)g(=)h
(Clair::Utils::Parse::parse\("$gen_dir/pars)o(e.txt",)33
b(output_file)38 b(=>)80 b(\\)213 2055 y("$gen_dir/parse_out.txt",)36
b(options)j(=>)g('-l300'\);)213 2213 y(my)g($chunkin)g(=)h
(Clair::Utils::Parse::forcl\("$gen_dir/parse)o(_out.tx)o(t",)34
b(output_file)78 b(\\)213 2291 y(=>)39 b("$gen_dir/WSJ_0000.MRG"\);)213
2449 y(print)g("Now)g(doing)g(chunklink.\\n";)213 2607
y(my)g($chunkout)g(=)h(Clair::Utils::Parse::chunklink\("$gen_dir/)o
(WSJ_000)o(0.MRG")o(,)393 b(\\)213 2686 y(output_file)38
b(=>)i("$gen_dir/chunk_out.txt",)c(options)i(=>)i('-sph'\);)p
3466 2868 V 185 2871 3285 4 v 1873 5809 a Fk(226)p eop
end
%%Page: 227 227
TeXDict begin 227 226 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.40)80 b(query)-6 b(.pl)p 185 295 3285 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(query.pl)213 635 y(#)g(functionality:)f
(Requires)h(indexes)g(to)g(be)h(built)f(via)g(index_)2445
647 y(*)2485 635 y(.pl)g(scripts,)f(shows)213 714 y(#)h(functionality:)
f(queries)h(implemented)f(in)i(Clair::Info::Query,)d(single-word)h(and)
213 793 y(#)h(functionality:)f(phrase)h(queries,)g(meta-data)f
(retrieval)h(methods)213 951 y(use)g(strict;)213 1030
y(use)g(FindBin;)213 1108 y(#)g(use)h(lib)f("$FindBin::Bin/../lib";)213
1187 y(#)g(use)h(lib)f("$FindBin::Bin/lib";)e(#)j(in)f(case)h(you)f
(are)g(outside)g(the)h(current)e(dir)213 1266 y(use)h(vars)g
(qw/$DEBUG/;)213 1424 y(use)g(Benchmark;)213 1503 y(use)g
(Clair::Index;)213 1582 y(use)g(Clair::Info::Query;)213
1660 y(use)g(Data::Dumper;)213 1739 y(use)g(POSIX;)213
1976 y($DEBUG)g(=)g(0;)213 2055 y(my)g(\045args;)213
2134 y(#)g(my)h(@indexes)f(=)g(qw/word_idx)g(document_idx)f
(document_meta_idx/;)213 2370 y($DEBUG)h(=)g(0;)213 2449
y(my)g($index_root)g(=)g("$FindBin::Bin/produced/index_mldbm",)213
2528 y(my)g($index_root_dirfiles)e(=)j
("$FindBin::Bin/produced/index_dirfiles",)213 2607 y(my)f
($stop_word_list)f(=)i("$FindBin::Bin/input/index/stopwords.txt";)213
2844 y(my)f($t0;)213 2922 y(my)g($t1;)213 3080 y(#)213
3159 y(#)g(Initializing)g(index)213 3238 y(#)213 3317
y($t0)g(=)h(new)f(Benchmark;)292 3475 y(#)h(instantiate)e(the)i(index)f
(object)g(first.)292 3553 y(my)h($idx)f(=)h(new)f(Clair::Index\(DEBUG)f
(=>)h($DEBUG,)g(index_root)f(=>)i($index_root\);)292
3711 y($idx->debugmsg\("pre-loading)c(necessary)j(meta)g(indexes..)g
(please)g(wait",)f(0\);)213 3869 y(#)h(and)h(then)f(pass)g(the)h(index)
f(object)g(into)g(the)g(query)h(constructor.)292 3948
y(my)g($q)g(=)f(new)h(Clair::Info::Query\(DEBUG)c(=>)j($DEBUG,)g
(index_object)f(=>)i($idx,)f(,)279 b(\\)213 4027 y(stop_word_list)38
b(=>)h($stop_word_list\);)213 4184 y($t1)g(=)h(new)f(Benchmark;)213
4263 y(my)g($timediff_init)f(=)i(timestr\(timediff\($t1,)c($t0\)\);)213
4342 y($idx->debugmsg\("index)g(initialization)i(took)h(:)h(")g(.)g
($timediff_init,)d(0\);)213 4579 y(#)i(test)h(some)f(queries)213
4658 y(my)g($output;)213 4815 y($idx->debugmsg\("processing)d(query:)j
('king'",)f(0\);)213 4894 y($output)h(=)g($q->process_query\("king"\);)
213 4973 y(print)g(Dumper\($output\);)213 5131 y
($idx->debugmsg\('processing)d(query:)j("julius)f(caesar"',)h(0\);)213
5210 y($output)g(=)g($q->process_query\('"julius)d(caesar"'\);)213
5289 y(print)j(Dumper\($output\);)213 5446 y($idx->debugmsg\('document)
d(frequency)j(for:)g("caesar"',)f(0\);)213 5525 y($output)h(=)g
($q->document_frequency\("caesar"\);)213 5604 y(print)g
(Dumper\($output\);)p 3466 5708 V 185 5711 3285 4 v 1873
5809 a Fk(227)p eop end
%%Page: 228 228
TeXDict begin 228 227 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 4518 4 4388 v 213 313 a Fa($idx->debugmsg\('term)37
b(frequency)h(for:)h("caesar")g(in)h(doc)f(76',)g(0\);)213
392 y($output)g(=)g($q->term_frequency\("76)e(caesar"\);)213
471 y(print)i(Dumper\($output\);)213 629 y
($idx->debugmsg\('document_title)c(for)40 b(doc_id:)e(37',)i(0\);)213
708 y($output)f(=)g($q->document_title\("37"\);)213 786
y(print)g(Dumper\($output\);)213 944 y
($idx->debugmsg\('document_content)c(for)k(doc_id:)g(37',)g(0\);)213
1023 y($output)g(=)g($q->document_content\("73",)d(0\);)213
1102 y(print)j(Dumper\($output\);)213 1338 y(#)g(these)h(results)e
(only)i(show)f(up)g(after)h(the)f(incrental)f(index)i(update)213
1417 y($idx->debugmsg\("processing)c(query:)j('romeo'",)f(0\);)213
1496 y($output)h(=)g($q->process_query\("romeo"\);)213
1575 y(print)g(Dumper\($output\);)213 1733 y
($idx->debugmsg\("processing)d(query:)j('romeo)g(juliet'",)f(0\);)213
1812 y($output)h(=)g($q->process_query\('"romeo)d(juliet"'\);)213
1891 y(print)j(Dumper\($output\);)213 2206 y($idx->debugmsg\("USING)d
(dirfiles)j(formatted)g(index",)f(0\);)213 2364 y(undef)h($idx;)213
2443 y(undef)g($q;)292 2600 y(#)h(instantiate)e(the)i(index)f(object)g
(first.)292 2679 y($idx)h(=)f(new)h(Clair::Index\(DEBUG)d(=>)j($DEBUG,)
e(index_root)h(=>)g($index_root_dirfiles,)77 b(\\)213
2758 y(index_file_format)37 b(=>)j("dirfiles"\);)e(#)h(NOTE)h
(index_file_format)d(param)292 2916 y($idx->debugmsg\("pre-loading)f
(necessary)j(meta)g(indexes..)g(please)g(wait",)f(0\);)213
3074 y(#)h(and)h(then)f(pass)g(the)h(index)f(object)g(into)g(the)g
(query)h(constructor.)292 3153 y($q)g(=)g(new)f
(Clair::Info::Query\(DEBUG)d(=>)k($DEBUG,)f(index_object)f(=>)h($idx,)g
(,)399 b(\\)213 3231 y(stop_word_list)38 b(=>)h($stop_word_list\);)213
3389 y(#)g(test)h(some)f(queries)213 3468 y(my)g($output;)213
3626 y($idx->debugmsg\("dirfiles)d(processing)i(query:)h('king'",)g
(0\);)213 3705 y($output)g(=)g($q->process_query\("king"\);)213
3783 y(print)g(Dumper\($output\);)213 3941 y($idx->debugmsg\('dirfiles)
d(processing)i(query:)h("julius)g(caesar"',)g(0\);)213
4020 y($output)g(=)g($q->process_query\('"julius)d(caesar"'\);)213
4099 y(print)j(Dumper\($output\);)213 4257 y($idx->debugmsg\('dirfiles)
d(document)j(frequency)f(for:)h("caesar"',)g(0\);)213
4336 y($output)g(=)g($q->document_frequency\("caesar"\);)213
4414 y(print)g(Dumper\($output\);)p 3466 4518 V 185 4521
3285 4 v 1873 5809 a Fk(228)p eop end
%%Page: 229 229
TeXDict begin 229 228 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.41)80 b(random)p 679 210 25 4 v 29 w(walk.pl)p
185 295 3086 4 v 185 4446 4 4152 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_random_walk.pl)213 635
y(#)g(functionality:)f(Creates)h(a)h(network,)e(assigns)h(initial)g
(probabilities)f(and)h(tests)213 714 y(#)g(functionality:)f(taking)h
(single)g(steps)g(and)h(calculating)e(stationary)g(distribution)213
872 y(use)h(strict;)213 951 y(use)g(warnings;)213 1030
y(use)g(FindBin;)213 1108 y(use)g(Clair::Network;)213
1266 y(my)g($basedir)g(=)h($FindBin::Bin;)213 1345 y(my)f($input_dir)g
(=)g("$basedir/input/random_walk";)213 1424 y(my)g($gen_dir)g(=)h
("$basedir/produced/random_walk";)213 1582 y(my)f($n)h(=)g(new)f
(Clair::Network\(\);)213 1739 y($n->add_node\(1,)e(text)j(=>)f('Text)g
(for)h(node)f(1'\);)213 1818 y($n->add_node\(2,)e(text)j(=>)f('Text)g
(for)h(node)f(2'\);)213 1897 y($n->add_node\(3,)e(text)j(=>)f('More)g
(text'\);)213 2055 y($n->read_transition_probabilities_from_fil)o
(e\("$inp)o(ut_dir/)o(t.txt"\))o(;)213 2134 y
($n->read_initial_probability_distribution\()o("$input)o(_dir/i.)o
(txt"\);)213 2291 y(print)g("READ)g(PROBABILITIES\\n";)213
2449 y($n->save_transition_probabilities_to_file\()o("$gen_d)o(ir/tran)
o(s_prob.)o(txt"\);)213 2528 y($n->make_transitions_stochastic\(\);)213
2607 y($n->save_transition_probabilities_to_file\()o("$gen_d)o(ir/stoc)
o(h_trans)o(_prob.)o(txt"\);)213 2686 y
($n->save_current_probability_distribution\()o("$gen_d)o(ir/init)o
(_prob.t)o(xt"\);)213 2844 y(print)g("WROTE_PROBABILITES)e(BACK\\n";)
213 3001 y($n->perform_next_random_walk_step\(\);)213
3080 y($n->perform_next_random_walk_step\(\);)213 3159
y($n->perform_next_random_walk_step\(\);)213 3317 y(print)i("PERFORMED)
f(RANDOM)h(WALK)g(STEPS\\n";)213 3475 y
($n->save_current_probability_distribution\()o("$gen_d)o(ir/new_)o
(prob.tx)o(t"\);)213 3632 y($n->compute_stationary_distribution\(\);)
213 3790 y(print)g("COMPUTED)f(STATIONARY)h(DISTRIBUTION\\n";)213
3869 y($n->save_current_probability_distribution\()o("$gen_d)o(ir/stat)
o(_dist.t)o(xt"\);)213 3948 y(print)g("WROTE)g(RESULTS)g(BACK\\n";)213
4105 y(print)g("The)g(computed)g(stationary)f(distribution)g(is:\\n";)
213 4184 y($n->print_current_probability_distribution)o(\(\);)213
4263 y(print)h("\\n";)p 3266 4446 V 185 4449 3086 4 v
1873 5809 a Fk(229)p eop end
%%Page: 230 230
TeXDict begin 230 229 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.42)80 b(r)o(ead)p 558 210 25 4 v 29 w(dir\002les.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_read_dirfiles.pl)213
635 y(#)g(functionality:)f(Requires)h(index_)1489 647
y(*)1529 635 y(.pl)f(scripts)h(to)h(have)f(been)g(run,)g(shows)g(how)h
(to)213 714 y(#)f(functionality:)f(access)h(the)h(document_index)d(and)
j(the)f(inverted_index,)f(how)h(to)213 793 y(#)g(functionality:)f(use)i
(common)f(access)g(API)g(to)g(retrieve)g(information)213
951 y(use)g(strict;)213 1030 y(use)g(FindBin;)213 1108
y(use)g(lib)h("$FindBin::Bin/../lib";)213 1187 y(use)f(lib)h
("$FindBin::Bin/lib";)c(#)k(if)g(you)f(are)g(outside)g(of)h(bin)f
(path..)g(just)g(in)h(case)213 1266 y(use)f(vars)g(qw/$DEBUG/;)213
1424 y(use)g(Benchmark;)213 1503 y(use)g(Clair::GenericDoc;)213
1582 y(use)g(Clair::Index;)213 1660 y(use)g(Data::Dumper;)213
1739 y(use)g(File::Find;)213 1818 y(use)g(Getopt::Long;)213
1897 y(use)g(Pod::Usage;)213 2134 y($DEBUG)g(=)g(0;)213
2213 y(my)g($index_root)g(=)g("$FindBin::Bin/produced/index_dirfiles",)
213 2291 y(my)g($index_root_mldbm)f(=)h
("$FindBin::Bin/produced/index_mldbm",)213 2370 y(my)g($stop_word_list)
f(=)i("$FindBin::Bin/input/index/stopwords.txt";)213
2607 y(#)f(instantiate)g(the)g(index)g(object)213 2686
y(my)g($idx)h(=)f(new)h(Clair::Index\()213 2765 y(DEBUG)f(=>)g(1,)213
2844 y(stop_word_list)f(=>)h($stop_word_list,)213 2922
y(index_root)f(=>)i($index_root,)213 3001 y(index_file_format)d(=>)j
("dirfiles",)213 3080 y(\);)213 3238 y($idx->debugmsg\("trying)c(to)k
(read)f(the)h(document,)e(positional)g(index)i(hash)f(from:)318
b(\\)213 3317 y($index_root",)38 b(0\);)213 3475 y(my)h($hash)g(=)h
({};)213 3553 y(my)f($count)g(=)h(0;)213 3711 y($hash)f(=)h
($idx->index_read\("dirfiles",)35 b("caesar"\);)213 3790
y($count)k(=)g(scalar)g(keys)h(\045{$hash->{caesar}};)213
3869 y($idx->debugmsg\("total)c(of)k($count)f(docs)g(contain)g(the)g
(word)h('caesar'"\);)213 4027 y($hash)f(=)h
($idx->index_read\("dirfiles",)35 b("king"\);)213 4105
y($count)k(=)g(scalar)g(keys)h(\045{$hash->{king}};)213
4184 y($idx->debugmsg\("total)c(of)k($count)f(docs)g(contain)g(the)g
(word)h('king'"\);)213 4342 y($idx->{index_root})d(=)j
($index_root_mldbm;)213 4421 y($hash)f(=)h($idx->index_read\("mldbm",)c
("caesar"\);)213 4500 y($count)j(=)g(scalar)g(keys)h
(\045{$hash->{caesar}};)213 4579 y($idx->debugmsg\("total)c(of)k
($count)f(docs)g(contain)g(the)g(word)h('caesar')e(from)i(mldbm"\);)213
4736 y($hash)f(=)h($idx->index_read\("mldbm",)c("king"\);)213
4815 y($count)j(=)g(scalar)g(keys)h(\045{$hash->{caesar}};)213
4894 y($idx->debugmsg\("total)c(of)k($count)f(docs)g(contain)g(the)g
(word)h('king')f(from)g(mldbm"\);)213 5052 y(#)g(or)h(access)f(the)g
(meta)h(index)f(by)g(supplying)g(the)g(third)g(parameter,)g(with)g(2nd)
g(parameter)213 5131 y(#)g(as)h(the)f(meta)h(index)f(name.)213
5210 y($idx->{index_root})e(=)j($index_root;)213 5289
y(my)f($dochash)g(=)h($idx->index_read\("dirfiles",)35
b("document_meta_index",)i(2\);)i(#)359 b(\\)213 5367
y(document)38 b(id)i(2)213 5446 y(print)f(Dumper\($dochash\);)213
5604 y(my)g($dochash2)g(=)h($idx->index_read\("dirfiles",)35
b("document_index",)j(100\);)h(#)g(document)79 b(\\)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(230)p eop
end
%%Page: 231 231
TeXDict begin 231 230 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1285 4 1155 v 213 234 a Fa(id)39 b(100)213 313
y(print)g(Dumper\($dochash2\);)213 471 y(my)g($dochash3)g(=)h
($idx->index_read\("dirfiles",)35 b("document_index",)j("all"\);)g(#)i
(return)79 b(\\)213 550 y(everything)38 b(in)i(document_index)213
629 y($count)f(=)g(scalar)g(keys)h(\045{$dochash3};)213
708 y($idx->debugmsg\("retrieved)c(total)j(of)h($count)e(doc)i(data)f
(from)g(document_index"\);)213 865 y(my)g($dochash4)g(=)h
($idx->index_read\("dirfiles",)35 b("document_meta_index",)i("all"\);)i
(#)159 b(\\)213 944 y(return)39 b(everything)f(for)h
(document_meta_index)213 1023 y($count)g(=)g(scalar)g(keys)h
(\045{$dochash4};)213 1102 y($idx->debugmsg\("retrieved)c(total)j(of)h
($count)e(doc)i(meta)f(data)g(from)797 b(\\)213 1181
y(document_meta_index"\);)p 3466 1285 V 185 1288 3285
4 v 60 1481 a Fi(10.3.43)80 b(sampling)o(.pl)p 185 1565
3046 4 v 185 5006 4 3442 v 213 1669 a Fa(#!/usr/local/bin/perl)213
1827 y(#)39 b(script:)g(test_sampling.pl)213 1906 y(#)g(functionality:)
f(Exercises)h(network)g(sampling)f(using)h(RandomNode)g(and)g
(ForestFire)213 2063 y(#!/usr/bin/perl)213 2221 y(use)g(strict;)213
2300 y(use)g(warnings;)213 2379 y(use)g(Clair::Network;)213
2458 y(use)g(Clair::Network::Sample::RandomNode;)213
2537 y(use)g(Clair::Network::Sample::ForestFire;)213
2694 y(my)g($net)h(=)f(new)h(Clair::Network\(\);)213
2852 y($net->add_node\("A"\);)213 2931 y($net->add_node\("B"\);)213
3010 y($net->add_node\("C"\);)213 3089 y($net->add_node\("D"\);)213
3168 y($net->add_node\("E"\);)213 3246 y($net->add_edge\("A",)d("B"\);)
213 3325 y($net->add_edge\("A",)g("C"\);)213 3404 y
($net->add_edge\("A",)g("D"\);)213 3483 y($net->add_edge\("B",)g
("C"\);)213 3562 y($net->add_edge\("B",)g("D"\);)213
3720 y(my)i($sample)g(=)h(Clair::Network::Sample::RandomNode->new\($ne)
o(t\);)213 3877 y($sample->number_of_nodes\(2\);)213
4035 y(print)f("Original)f(network:)h(",)h($net->{graph},)d("\\n";)213
4114 y(print)i("Sampling)f(2)i(nodes)f(using)g(random)g(node)g
(selection\\n";)213 4193 y(my)g($new_net)g(=)h($sample->sample\(\);)213
4351 y(print)f("New)g(network:)g(",)g($new_net->{graph},)e("\\n";)213
4508 y(my)i($fire)g(=)h(new)g
(Clair::Network::Sample::ForestFire\($net\);)213 4666
y(print)f("Sampling)f(3)i(nodes)f(using)g(Forest)g(Fire)g(model\\n";)
213 4745 y($new_net)f(=)i($fire->sample\(3,)e(0.9\);)213
4903 y(print)h("New)g(network:)g(",)g($new_net->{graph},)e("\\n";)p
3226 5006 V 185 5009 3046 4 v 1873 5809 a Fk(231)p eop
end
%%Page: 232 232
TeXDict begin 232 231 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.44)80 b(statistics.pl)p 185 295 2846 4 v 185
4919 4 4625 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_statistics.pl)213 635 y(#)g(functionality:)
f(Tests)h(linear)g(regression)g(and)g(T)h(test)f(code)213
793 y(use)g(strict;)213 872 y(use)g(warnings;)213 1030
y(use)g(Clair::Network;)213 1108 y(use)g
(Clair::Statistics::Distributions::TDist;)213 1266 y(my)g(\045hist)g(=)
h(\(1,)g(2,)f(2,)h(4,)f(3,)h(6,)f(4,)h(9,)f(5,)h(11,)f(6,)h(12,)f(7,)h
(14,)f(8,)h(16,)f(9,)h(18,)691 1345 y(10,)f(20,)h(11,)f(22)651
1424 y(\);)213 1503 y(my)g(\045bee)h(=)f(\()120 b(101.6)39
b(=>)g(37,)771 1582 y(240.4)g(=>)g(39.7,)771 1660 y(180.9)g(=>)g(40.5,)
771 1739 y(390.2)g(=>)g(42.6,)771 1818 y(360.3)g(=>)g(42.0,)771
1897 y(120.8)g(=>)g(39.1,)771 1976 y(180.5)g(=>)g(40.2,)771
2055 y(330.7)g(=>)g(37.8,)771 2134 y(395.4)g(=>)g(43.1,)771
2213 y(194.1)g(=>)g(40.2,)771 2291 y(135.2)g(=>)g(38.8,)771
2370 y(210.0)g(=>)g(41.9,)771 2449 y(240.6)g(=>)g(39.0,)771
2528 y(145.7)g(=>)g(39.0,)771 2607 y(168.3)g(=>)g(38.1,)771
2686 y(192.8)g(=>)g(40.2,)771 2765 y(305.2)g(=>)g(43.1,)771
2844 y(378.0)g(=>)g(39.9,)771 2922 y(165.9)g(=>)g(39.6,)771
3001 y(303.1)g(=>)g(40.8)691 3080 y(\);)213 3396 y(my)g($net)h(=)f
(Clair::Network->new\(\);)213 3553 y(my)g(\($coef,)g($r\))h(=)f
($net->linear_regression\(\\\045bee\);)213 3711 y(my)g($n)h(=)g(scalar)
f(keys)g(\045bee;)213 3790 y(my)g($r_squared)g(=)g($r)930
3802 y(**)1010 3790 y(2;)213 3948 y(my)g($df)h(=)f($n)h(-)g(2;)213
4027 y(my)f($sr)h(=)f(sqrt\(\(1)g(-)h($r_squared\))e(/)i($df\);)213
4105 y(my)f($t)h(=)g($r)f(/)h($sr;)213 4184 y(my)f($tdist)g(=)h
(Clair::Statistics::Distributions::TDist->new)o(\(\);)213
4263 y(my)f($t_prob)g(=)h($tdist->get_prob\($df,)d($t\))1767
4275 y(*)1847 4263 y(2;)213 4421 y(print)i("t_prob:)g($t_prob\\n";)213
4579 y(if)g(\($t_prob)g(<)h(0.05\))f({)292 4658 y(print)h("Likely)e
(power)h(law)h(relationship)e(\(p)h(<)h(0.05\)\\n";)213
4736 y(})p 3027 4919 V 185 4922 2846 4 v 1873 5809 a
Fk(232)p eop end
%%Page: 233 233
TeXDict begin 233 232 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.45)80 b(stem.pl)p 185 295 2448 4 v 185 2790 4
2495 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_stem.pl)213 635 y(#)g(functionality:)f(Tests)h(the)h
(Clair::Utils::Stem)d(stemmer)213 793 y(use)i(strict;)213
872 y(use)g(warnings;)213 951 y(use)g(FindBin;)213 1030
y(use)g(Clair::Utils::Stem;)213 1187 y(my)g($stemmer)g(=)h(new)f
(Clair::Utils::Stem;)213 1266 y(my)g($file)g(=)h
("$FindBin::Bin/input/stem/1.txt";)213 1424 y(open)f(FILE,)g($file)g
(or)h(die)f("Couldn't)g(open)g($file:)g($!";)213 1503
y(while)g(\(<FILE>\))g({)332 1582 y(chomp)g($_;)332 1660
y({)452 1739 y(/\210\([\210a-zA-Z])932 1751 y(*)972 1739
y(\)\(.)1092 1751 y(*)1132 1739 y(\)/)e(;)452 1818 y(print)i($1;)452
1897 y($_)g(=)h($2;)452 1976 y(unless)f(\()h(/\210\([a-zA-Z]+\)\(.)1411
1988 y(*)1451 1976 y(\)/)d(\))i({)h(last;)f(})452 2055
y(my)g($word)h(=)f(lc)h($1;)f(#)h(turn)f(to)h(lower)f(case)g(before)g
(calling:)452 2134 y($_)g(=)h($2;)452 2213 y($word)f(=)h
($stemmer->stem\($word\);)452 2291 y(print)f($word;)452
2370 y(redo;)332 2449 y(})332 2528 y(print)g("\\n";)213
2607 y(})213 2686 y(close)g(FILE;)p 2629 2790 V 185 2793
2448 4 v 1873 5809 a Fk(233)p eop end
%%Page: 234 234
TeXDict begin 234 233 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.46)80 b(summary)-6 b(.pl)p 185 295 3165 4 v 185
4130 4 3836 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_summary.pl)213 635 y(#)g(functionality:)f
(Test)h(the)h(cluster)f(summarization)f(ability)g(using)i(various)e
(features)213 793 y(use)h(strict;)213 872 y(use)g(warnings;)213
951 y(use)g(Clair::Document;)213 1030 y(use)g(Clair::Cluster;)213
1108 y(use)g(Clair::SentenceFeatures)e(qw\(:all\);)213
1187 y(use)i(FindBin;)213 1345 y(#)g(Load)h(some)f(documents)213
1424 y(my)g(@docs)g(=)h(glob\("$FindBin::Bin/input/summary/)2011
1436 y(*)2051 1424 y("\);)213 1503 y(my)f($cluster)g(=)h
(Clair::Cluster->new\(\);)213 1582 y
($cluster->load_file_list_array\(\\@docs,)34 b(type)39
b(=>)h("text",)f(filename_id)f(=>)h(1\);)213 1739 y(#)g(Create)g(a)h
(list)f(of)h(features)f(and)g(assign)g(them)g(uniform)g(weights)213
1818 y(my)g(\045features)g(=)h(\()372 1897 y('length')f(=>)g
(\\&length_feature,)372 1976 y('position')g(=>)g(\\&position_feature,)
372 2055 y('simwithfirst')f(=>)h(\\&sim_with_first_feature,)372
2134 y('centroid')g(=>)g(\\&centroid_feature)213 2213
y(\);)213 2291 y(my)g(\045weights)g(=)h(map)f({)h($_)f(=>)h(1)g(})f
(keys)h(\045features;)213 2449 y(#)f(Compute)g(the)h(features)e(and)i
(scale)f(them)g(to)h([0,1])213 2528 y
($cluster->compute_sentence_features\(\045featu)o(res\);)213
2607 y($cluster->normalize_sentence_features\(keys)33
b(\045features\);)213 2765 y(#)39 b(Score)h(the)f(sentences)f(using)i
(the)f(weights)213 2844 y($cluster->score_sentences\()d(weights)j(=>)g
(\\\045weights)g(\);)213 3001 y(#)g(Get)h(a)g(ten)f(sentence)g(summary)
213 3080 y(my)g(@summary)g(=)h($cluster->get_summary\()c(size)j(=>)h
(10)g(\);)213 3238 y(foreach)f(my)g($sent)g(\(@summary\))g({)372
3317 y(my)h($features)e(=)i($sent->{features};)372 3396
y(my)g($score)f(=)g($sent->{score};)372 3475 y($sent->{did})f(=\230)i
(/\([\210\\/]+\\.txt\)/;)372 3553 y(my)g($did)f(=)h($1;)372
3632 y(my)g($sno)f(=)h($sent->{'index'})d(+)j(1;)372
3711 y(print)f("[$did,$sno,$score]\\t$sent->{text}\\n";)372
3790 y(foreach)g(my)h($fname)e(\(keys)i(\045$features\))e({)532
3869 y(print)h("\\t$fname)f($features->{$fname}\\n";)372
3948 y(})213 4027 y(})p 3346 4130 V 185 4133 3165 4 v
1873 5809 a Fk(234)p eop end
%%Page: 235 235
TeXDict begin 235 234 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.47)80 b(w)o(ordcount)p 780 210 25 4 v 29 w(dir)-8
b(.pl)p 185 295 3125 4 v 185 4525 4 4230 v 213 399 a
Fa(#!/usr/local/bin/perl)213 556 y(#)39 b(script:)g
(test_wordcount_dir.pl)213 635 y(#)g(functionality:)f(Counts)h(the)h
(words)f(in)g(each)g(file)h(of)f(a)h(directory;)e(outputs)h(report)213
793 y(use)g(strict;)213 872 y(use)g(warnings;)213 951
y(use)g(Clair::Document;)213 1030 y(use)g(FindBin;)213
1187 y(my)g($prefix)g(=)h("$FindBin::Bin/input/wordcount_dir";)213
1345 y(#Count)f(words)g(in)g(every)g(Document)g(in)h(a)f(file)h(and)f
(return)g(max,min,avergage:)213 1424 y(opendir\(DIR,)f($prefix\);)213
1503 y(my)h(@files)g(=)h(grep)f({)h(/\\.txt$/)f(})g(readdir\(DIR\);)213
1582 y(closedir\(DIR\);)213 1739 y(my)g($doc;)213 1897
y(my)g($num_files)g(=)g(scalar)g(@files;)213 1976 y(die)g("No)h(files)f
(in)g($prefix")g(if)g($num_files)g(==)g(0;)213 2134 y(my)g($file)g(=)h
(shift)f(@files;)213 2213 y($file)g(=)h("$prefix/$file";)213
2291 y($doc)f(=)h(new)f(Clair::Document\(type=>'text',file=>$file\);)
213 2370 y(my)g($max)h(=)f($doc->count_words\(\);)213
2449 y(my)g($maxFile)g(=)h($file;)213 2528 y(my)f($min)h(=)f
($doc->count_words\(\);)213 2607 y(my)g($minFile)g(=)h($file;)213
2686 y(my)f($temp;)213 2765 y(my)g($avg)h(=)f(0;)213
2922 y(foreach)g($file)g(\(@files\))f({)372 3001 y($file)h(=)h
("$prefix/$file";)372 3080 y(next)f(unless)g(-f)h($file;)372
3159 y($doc)f(=)h(new)g(Clair::Document\()d(type)i(=>)h('text',)f(file)
g(=>)g($file)h(\);)372 3238 y($temp)f(=)h($doc->count_words\(\);)372
3317 y($avg)f(=)h($avg)f(+)h($temp;)372 3396 y(if\($temp)f(>)h($max\){)
532 3475 y($max)f(=)h($temp;)532 3553 y($maxFile)e(=)i($file;)372
3632 y(})372 3711 y(if\($temp)f(<)h($min\){)532 3790
y($min)f(=)h($temp;)532 3869 y($minFile)e(=)i($file;)372
3948 y(})213 4027 y(})213 4184 y($avg)f(=)h($avg)f(/)h($num_files;)213
4263 y(print)f("The)g(minimum)g(number)g(of)g(words)h(is)f($min)g
(words)g(in)h(file)f($minFile\\n";)213 4342 y(print)g("The)g(maximum)g
(number)g(of)g(words)h(is)f($max)g(words)g(in)h(file)f($maxFile\\n";)
213 4421 y(print)g("The)g(average)g(number)g(of)g(words)h(is)f($avg)g
(words\\n";)p 3306 4525 V 185 4528 3125 4 v 1873 5809
a Fk(235)p eop end
%%Page: 236 236
TeXDict begin 236 235 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.48)80 b(w)o(ordcount.pl)p 185 295 3285 4 v 185
2316 4 2022 v 213 399 a Fa(#!/usr/local/bin/perl)213
556 y(#)39 b(script:)g(test_wordcount.pl)213 635 y(#)g(functionality:)f
(Using)h(Cluster)g(and)h(Document,)e(counts)h(the)g(words)h(in)f(each)g
(file)213 714 y(#)g(functionality:)f(of)i(a)f(directory)213
872 y(use)g(strict;)213 951 y(use)g(warnings;)213 1030
y(use)g(Clair::Cluster;)213 1108 y(use)g(Clair::Document;)213
1187 y(use)g(FindBin;)213 1345 y(my)g($input_dir)g(=)g
("$FindBin::Bin/input/wordcount";)213 1503 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 1582 y
($cluster->load_documents\("$input_dir/)1693 1594 y(*)1733
1582 y(.txt)o(",)34 b(type)39 b(=>)h("text",)f(filename_id)f(=>)h(1)120
b(\\)213 1660 y(\);)213 1739 y(my)39 b($docs)g(=)h
($cluster->documents\(\);)213 1818 y(print)f("did\\t#words\\n";)213
1897 y(foreach)g(my)g($did)g(\(keys)g(\045$docs\))g({)372
1976 y(my)h($doc)f(=)h($docs->{$did};)372 2055 y(my)g($words)f(=)g
($doc->count_words\(\);)372 2134 y(print)g("$did\\t$words\\n";)213
2213 y(})p 3466 2316 V 185 2319 3285 4 v 60 2512 a Fi(10.3.49)80
b(xmldoc.pl)p 185 2597 2408 4 v 185 4776 4 2180 v 213
2701 a Fa(#!/usr/local/bin/perl)213 2859 y(#)39 b(script:)g
(test_xmldoc.pl)213 2937 y(#)g(functionality:)f(Tests)h(the)h(XML)f(to)
h(text)f(function)g(of)g(Document)213 3095 y(use)g(strict;)213
3174 y(use)g(warnings;)213 3253 y(use)g(Clair::Document;)213
3332 y(use)g(Clair::Cluster;)213 3411 y(use)g(FindBin;)213
3568 y(my)g($doc)h(=)f(Clair::Document->new\()372 3647
y(file)g(=>)h("$FindBin::Bin/input/xmldoc/dow-clean.xml",)372
3726 y(type)f(=>)h("xml"\);)213 3884 y($doc->xml_to_text\(\);)213
3963 y(my)f($text)g(=)h($doc->get_text\(\);)213 4042
y(print)f("Text:\\n$text\\n";)213 4199 y(my)g(@sents)g(=)h
($doc->get_sent\(\);)213 4278 y(print)f("Sentences:\\n";)213
4357 y(my)g($i)h(=)g(1;)213 4436 y(for)f(\(@sents\))g({)372
4515 y(print)g("$i)h($_\\n";)372 4594 y($i++;)213 4673
y(})p 2589 4776 V 185 4779 2408 4 v 1873 5809 a Fk(236)p
eop end
%%Page: 237 237
TeXDict begin 237 236 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.50)80 b(classify)p 656 210 25 4 v 29 w(weka.pl)p
185 295 3205 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 556 y(#)39 b(script:)g(test_classify_weka.pl)213
635 y(#)g(functionality:)f(Extracts)h(bag-of-words)f(features)h(from)g
(each)g(document)213 714 y(#)g(functionality:)f(in)i(a)f(training)g
(corpus)g(of)h(baseball)e(and)i(hockey)f(documents,)213
793 y(#)g(functionality:)f(then)h(trains)g(and)h(evaluates)e(a)i(Weka)f
(decision)g(tree)g(classifier,)213 872 y(#)g(functionality:)f(saving)h
(its)h(output)f(to)g(files)213 1030 y(use)g(strict;)213
1108 y(use)g(warnings;)213 1187 y(use)g(FindBin;)213
1266 y(use)g(lib)h("$FindBin::Bin/../lib";)213 1424 y(use)f
(Clair::Document;)213 1503 y(use)g(Clair::Cluster;)213
1582 y(use)g(Clair::Interface::Weka;;)213 1739 y(my)g($basedir)119
b(=)39 b($FindBin::Bin;)213 1818 y(my)g($input_dir)g(=)g
("$basedir/input/classify";)213 1897 y(my)g($gen_dir)119
b(=)39 b("$basedir/produced/classify";)213 2213 y(#)g(---FEATURE)g
(EXTRACTION)f(PHASE---)213 2291 y(print)h("\\n---FEATURE)f(EXTRACTION)g
(PHASE---";)213 2449 y(#)h(Extract)g(features)g(for)g(training,)g(then)
g(for)g(testing)213 2528 y(for)g(my)h($round)f(\(\("train",)f
("test"\)\))h({)213 2607 y(#)g(Create)g(a)h(cluster)213
2686 y(my)f($c)h(=)g(new)f(Clair::Cluster;)213 2765 y
($c->set_id\("sports"\);)213 2922 y(#)g(Read)h(every)f(document)f(from)
i(the)f(the)h(the)f(training)g(or)g(test)g(directory)g(and)g(insert)79
b(\\)213 3001 y(it)39 b(into)h(the)f(cluster)213 3080
y(#)g(Convert)g(from)h(HTML)f(to)g(text,)g(then)h(stem)f(as)g(we)h(do)g
(so)213 3159 y(while)f(\()h(<$input_dir/$round/)1292
3171 y(*)1332 3159 y(>)c(\))k({)213 3238 y(my)f($file)g(=)h($_;)213
3396 y(my)f($doc)h(=)f(new)h(Clair::Document\(type)d(=>)i('html',)g
(file)g(=>)h($file,)f(id)g(=>)h($file\);)213 3475 y
($doc->set_class\(extract_class\($doc->get_ht)o(ml\(\),)34
b($file\)\);)78 b(#)40 b(Set)f(the)398 b(\\)213 3553
y(document's)38 b(class)h(label)213 3632 y($doc->strip_html;)213
3711 y($doc->stem;)213 3869 y($c->insert\($file,)e($doc\);)213
3948 y(})213 4027 y(#)i(Compute)g(the)h(bag-of-words)e(feature)h
(\(which)f(actually)h(constitutes)f(a)i(vector\))f(for)79
b(\\)213 4105 y(each)39 b(document)g(in)g(the)h(cluster)213
4184 y($c->compute_document_feature\(name)35 b(=>)k("vect",)g(feature)g
(=>)916 b(\\)213 4263 y(\\&compute_bag_of_words_vect\);)213
4421 y(#)39 b(Get)h(the)f(number)g(of)h(documents)e(belonging)h(to)g
(each)h(class)f(occurring)f(in)i(the)318 b(\\)213 4500
y(cluster)213 4579 y(my)39 b(\045classes)g(=)h($c->classes\(\);)213
4658 y(print)f("\\nExtracting)f(",)h($c->count_elements\(\),)e(")j
(documents)e(to)i($round:\\n";)213 4736 y(print)f(")159
b(")40 b(.)g($classes{'baseball'})c(.)k(")g(baseball)e(documents\\n";)
213 4815 y(print)h(")159 b(")40 b(.)g($classes{'hockey'})d(.)i(")h
(hockey)f(documents\\n";)213 4973 y(#)g(Write)h(features)e(to)i(ARFF,)f
(prepending)f(the)i(specified)e(header)213 5052 y(my)h($header)g(=)h
("\0451.)f(Title:)g(Baseball)g(/)g(Hockey)g(Corpus)g(Dataset)g
(\($round\)\\n")f(.)253 5131 y("\0452.)h(Source:)g(20_newsgroups)f
(Corpus\\n")g(.)253 5210 y("\045)238 b(\(a\))40 b(Creator:)e(Ken)i
(Lang\\n")f(.)253 5289 y("\045\\n";)213 5367 y(write_ARFF\($c,)f
("$gen_dir/$round.arff",)e($header\);)213 5446 y(print)j("Features)f
(written)h(to)h($gen_dir/$round.arff\\n";)213 5525 y(})p
3386 5708 V 185 5711 3205 4 v 1873 5809 a Fk(237)p eop
end
%%Page: 238 238
TeXDict begin 238 237 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 313 a Fa(#)39 b(---TRAINING)g(PHASE---)213
392 y(print)g("\\n---TRAINING)f(PHASE---\\n";)213 550
y(#)h(Train)h(a)f(J48)h(decision)e(tree)i(classifier)e(using)h(10-fold)
g(cross-validation)213 629 y(print)g("Training)f(J48)i(decision)e(tree)
i(classifier)e(with)h(10-fold)876 b(\\)213 708 y
(cross-validation...\\n";)213 786 y(train_classifier\(classifier)36
b(=>)j('weka.classifiers.trees.J48',)253 865 y(trainfile)78
b(=>)40 b("$gen_dir/train.arff",)253 944 y(modelfile)78
b(=>)40 b("$gen_dir/J48.model",)253 1023 y(logfile)158
b(=>)40 b("$gen_dir/train-10fold-J48.log"\);)213 1102
y(print)f(")159 b(See)40 b($gen_dir/train-crossval-J48.log)35
b(for)k(log)h(of)f(classifier)f(output)159 b(\\)213 1181
y(from)39 b(training)g(and)g(10-fold)g(cross-validation\\n";)213
1338 y(#)g(Train)h(a)f(J48)h(decision)e(tree)i(classifier)e(using)h
(cross-validation)f(on)h(the)g(test)h(set)213 1417 y(print)f("Training)
f(J48)i(decision)e(tree)i(classifier)e(with)h(cross-validation)f(on)h
(test)199 b(\\)213 1496 y(set...\\n";)213 1575 y(my)39
b(\($train_10fold_log,)e($train_test_log\))h(=)h
(train_classifier\(classifier)d(=>)279 b(\\)213 1654
y('weka.classifiers.trees.J48',)332 1733 y(trainfile)79
b(=>)39 b("$gen_dir/train.arff",)332 1812 y(modelfile)79
b(=>)39 b("$gen_dir/J48.model",)332 1891 y(testfile)119
b(=>)39 b("$gen_dir/test.arff",)332 1969 y(logfile)159
b(=>)39 b("$gen_dir/train-test-J48.log"\);)213 2048 y(print)g(")159
b(See)40 b($gen_dir/train-crossval-J48.log)35 b(for)k(log)h(of)f
(classifier)f(output)159 b(\\)213 2127 y(from)39 b(training)g(and)g
(cross-validation)f(on)h($gen_dir/test.arff\\n";)213
2364 y(#)g(---TESTING)g(PHASE---)213 2443 y(print)g("\\n---TESTING)f
(PHASE---\\n";)213 2522 y(print)h("Testing)g(classifier)f
(predictions...\\n";)213 2600 y(#)h(Test)h(the)f(classifier)f(directly)
h(on)h(the)f(test)g(set,)h(outputting)e(predictions)g(for)199
b(\\)213 2679 y(individual)38 b(documents)213 2758 y(my)h($test_log)g
(=)h(test_classifier\(classifier)35 b(=>)40 b
('weka.classifiers.trees.J48',)332 2837 y(modelfile)f(=>)g
("$gen_dir/J48.model",)332 2916 y(testfile)79 b(=>)39
b("$gen_dir/test.arff",)332 2995 y(predfile)79 b(=>)39
b("$gen_dir/test-J48.pred",)332 3074 y(logfile)119 b(=>)39
b("$gen_dir/test-J48.log"\);)213 3153 y(print)g(")159
b(See)40 b($gen_dir/test-J48.log)c(for)k(log)f(of)h(classifier)e
(output)h(from)358 b(\\)213 3231 y(testing\\n";)213 3310
y(print)39 b(")159 b(See)40 b($gen_dir/test-J48.pred)c(for)j(log)h(of)f
(classifier)g(predictions)f(from)119 b(\\)213 3389 y(testing\\n";)213
3626 y(#)39 b(---DONE---)213 3705 y(print)g("\\nHave)g(a)g(nice)h
(day!\\n";)213 4020 y(#)f(---AUXILIARY)g(PROCEDURES---)213
4178 y(#)g(Extract)g(a)h(document's)e(class)213 4257
y(sub)h(extract_class)f({)372 4336 y(my)i($html)f(=)h(shift;)372
4414 y(my)g($file)f(=)h(shift;)372 4572 y(my)g($label)f(=)g($1)h(if)f
(\($html)g(=\230)h(m/<DOC)f(GROUP="rec\\.sport\\.\(\\w+?\)">/\);)372
4651 y(die)h("extract_class)d(-)j(Class)f(label)g(not)h(found)f(in)g
($file")g(if)h(not)f(defined)g($label;)372 4730 y(return)g($label;)213
4809 y(})213 5045 y(#)g(Compute)g(the)h(bag-of)f(words)g(feature)g
(from)g(10)g(pre-selected)f(features)h(\(these)358 b(\\)213
5124 y(features)38 b(were)i(culled)f(earlier)213 5203
y(#)g(from)h(the)f(entire)g(set)g(of)h(stemmed)f(terms)g(occurring)f
(in)i(the)f(corpus)g(using)g(chi)h(square)f(\\)213 5282
y(feature)g(selection\))213 5361 y(sub)g(compute_bag_of_words_vect)d({)
213 5440 y(my)j(\045params)g(=)h(@_;)p 3466 5544 V 185
5547 3285 4 v 1873 5809 a Fk(238)p eop end
%%Page: 239 239
TeXDict begin 239 238 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 1611
4 v 185 1600 4 1470 v 213 234 a Fa(my)39 b($docref)g(=)h
($params{document};)213 392 y(my)f(\045tf)h(=)f($docref->tf\(type)f(=>)
h("stem"\);)213 471 y(my)g(\045vect;)213 550 y($vect{'hockei'})e(=)j
($tf{'hockei'})118 b(||)39 b(0;)213 629 y($vect{'nhl'})f(=)i
($tf{'nhl'})357 b(||)39 b(0;)213 708 y($vect{'playoff'})e(=)j
($tf{'playoff'})e(||)h(0;)213 786 y($vect{'pitch'})f(=)h($tf{'pitch'})
198 b(||)39 b(0;)213 865 y($vect{'basebal'})e(=)j($tf{'basebal'})e(||)h
(0;)213 944 y($vect{'goal'})f(=)h($tf{'goal'})278 b(||)39
b(0;)213 1023 y($vect{'cup'})f(=)i($tf{'cup'})357 b(||)39
b(0;)213 1102 y($vect{'ca'})f(=)i($tf{'ca'})437 b(||)39
b(0;)213 1181 y($vect{'bat'})f(=)i($tf{'bat'})357 b(||)39
b(0;)213 1260 y($vect{'pitcher'})e(=)j($tf{'pitcher'})e(||)h(0;)213
1417 y(return)g(\\\045vect;)213 1496 y(})p 1792 1600
V 185 1603 1611 4 v 1873 5809 a Fk(239)p eop end
%%Page: 240 240
TeXDict begin 240 239 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.3.51)80 b(lsi.pl)p 185 295 3245 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)39
b(script:)g(test_lsi.pl)213 635 y(#)g(functionality:)f(Constructs)h(a)g
(latent)g(semantic)g(index)g(from)g(a)h(corpus)f(of)213
714 y(#)g(functionality:)f(baseball)h(and)g(hockey)g(documents,)g(then)
g(uses)g(that)g(index)213 793 y(#)g(functionality:)f(to)i(map)f(terms,)
g(queries,)g(and)g(documents)g(to)g(latent)g(semantic)213
872 y(#)g(functionality:)f(space.)h(The)h(position)e(vectors)h(of)h
(documents)e(in)i(that)f(space)213 951 y(#)g(functionality:)f(are)i
(then)f(used)g(to)h(train)f(and)g(evaluate)g(a)h(SVM)f(classifier)213
1030 y(#)g(functionality:)f(using)h(the)h(Weka)f(interface)f(provided)h
(in)h(Clair::Interface::Weka)213 1187 y(use)f(strict;)213
1266 y(use)g(warnings;)213 1345 y(use)g(FindBin;)213
1424 y(use)g(lib)h("$FindBin::Bin/../lib";)213 1582 y(use)f
(Clair::Algorithm::LSI;)213 1660 y(use)g(Clair::Document;)213
1739 y(use)g(Clair::Cluster;)213 1818 y(use)g(Clair::Interface::Weka;)
213 1976 y(use)g(vars)g(qw\(@ISA)g(@EXPORT\);)213 2213
y(my)g($basedir)119 b(=)39 b($FindBin::Bin;)213 2291
y(my)g($input_dir)g(=)g("$basedir/input/lsi";)213 2370
y(my)g($gen_dir)119 b(=)39 b("$basedir/produced/lsi";)213
2607 y(my)g($index;)213 2686 y(#)g(Extract)g(features)g(for)g
(training,)g(then)g(for)g(testing)213 2765 y(for)g(my)h($round)f
(\(\("train",)f("test"\)\))h({)213 2844 y(if)g(\($round)g(eq)h
("train"\))e({)213 2922 y(print)h("\\n---LSI)f(TRAINING)h(ROUND---";)
213 3001 y(})g(elsif)h(\($round)e(eq)i("test"\))f({)213
3080 y(print)g("\\n---LSI)f(TEST)i(ROUND---";)213 3159
y(})213 3238 y(#)f(Create)g(a)h(cluster)213 3317 y(my)f($c)h(=)g(new)f
(Clair::Cluster;)213 3396 y($c->set_id\("sports"\);)213
3553 y(#)g(Read)h(every)f(document)f(from)i(the)f(the)h(the)f(training)
g(or)g(test)g(directory)g(and)g(insert)119 b(\\)213 3632
y(it)39 b(into)h(the)f(cluster)213 3711 y(#)g(Convert)g(from)h(HTML)f
(to)g(text,)g(then)h(stem)f(as)g(we)h(do)g(so)213 3790
y(while)f(\()h(<$input_dir/$round/)1292 3802 y(*)1332
3790 y(>)c(\))k({)213 3869 y(my)f($file)g(=)h($_;)213
4027 y(my)f($doc)h(=)f(new)h(Clair::Document\(file)d(=>)i($file,)g
(type)g(=>)h('html',)f(id)g(=>)h($file\);)213 4105 y
($doc->set_class\(extract_class\($doc->get_ht)o(ml\(\),)34
b($file\)\);)78 b(#)40 b(Set)f(the)438 b(\\)213 4184
y(document's)38 b(class)h(label)213 4263 y($doc->strip_html;)213
4342 y($doc->stem;)213 4500 y($c->insert\($file,)e($doc\);)213
4579 y(})213 4736 y(#)i(Get)h(the)f(number)g(of)h(documents)e
(belonging)h(to)g(each)h(class)f(occurring)f(in)i(the)f(cluster)213
4815 y(my)g(\045classes)g(=)h($c->classes\(\);)213 4894
y(print)f("\\nExtracting)f(",)h($c->count_elements\(\),)e(")j
(documents)e(\($round\):\\n";)213 4973 y(print)h(")159
b(")40 b(.)g($classes{'baseball'})c(.)k(")g(baseball)e(documents\\n";)
213 5052 y(print)h(")159 b(")40 b(.)g($classes{'hockey'})d(.)i(")h
(hockey)f(documents\\n";)213 5210 y(if)g(\($round)g(eq)h("train"\))e({)
213 5289 y(#)h(On)h(training)f(round,)g(construct)f(document-term)g
(matrix)h(and)g(compute)g(SVD)438 b(\\)213 5367 y(\(computationally)37
b(extremely)i(intensive\))213 5446 y(print)g("\\nConstructing)e
(document-term)h(matrix)h(and)h(computing)e(its)i(singular)e(value)119
b(\\)213 5525 y(decomposition...\\n";)213 5604 y($index)39
b(=)g(new)h(Clair::Algorithm::LSI\(cluster)35 b(=>)40
b($c,)f(type)h(=>)f("stem"\);)p 3426 5708 V 185 5711
3245 4 v 1873 5809 a Fk(240)p eop end
%%Page: 241 241
TeXDict begin 241 240 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3245
4 v 185 5544 4 5414 v 213 234 a Fa($index->build_index\(\);)213
313 y(print)39 b(")79 b(Done.\\n";)213 392 y(})39 b(elsif)h(\($round)e
(eq)i("test"\))f({)213 471 y(#)g(On)h(test)f(round,)g(road)g(the)h
(previously)e(saved)h(index)213 550 y(print)g("\\nLoading)f(latent)h
(semantic)g(index)g(from)g(file)g($gen_dir/sports.lsi...\\n";)213
629 y($index)g(=)g(new)h(Clair::Algorithm::LSI\(file)c(=>)j
("$gen_dir/sports.lsi",)332 708 y(cluster)g(=>)h($c\);)213
786 y(print)f(")79 b(Done.\\n";)213 865 y(})213 1023
y(#)39 b(For)h(each)f(document)g(in)g(the)h(cluster,)e(compute)h(the)h
(position)e(vector)h(of)h(the)358 b(\\)213 1102 y(document)38
b(in)i(latent)f(space)213 1181 y(#)g(using)h(the)f(singular)g(value)g
(decomposition)f(of)h(the)h(document-term)e(matrix)213
1260 y($c->compute_document_feature\(name)d(=>)k("latent_coord",)253
1338 y(feature)f(=>)i(\\&compute_latent_space_position_vect\);)213
1417 y(#)f(Write)h(this)f(feature)g(\(actually)f(vector)h(of)h
(features\))e(to)i(ARFF,)f(prepending)f(the)199 b(\\)213
1496 y(specified)38 b(header)213 1575 y(my)h($header)g(=)h("\0451.)f
(Title:)g(Baseball)g(/)g(Hockey)g(Corpus)g(Dataset)g(\($round\)\\n")f
(.)253 1654 y("\0452.)h(Source:)g(20_newsgroups)f(Corpus\\n")g(.)253
1733 y("\045)238 b(\(a\))40 b(Creator:)e(Ken)i(Lang\\n")f(.)253
1812 y("\045\\n";)213 1891 y(write_ARFF\($c,)f("$gen_dir/$round.arff",)
e($header\);)213 1969 y(print)j("Features)f(written)h(to)h
($gen_dir/$round.arff\\n";)213 2127 y(if)f(\($round)g(eq)h("train"\))e
({)213 2206 y(#)h(Train)h(a)f(support)g(vector)g(machine)g(\(SVM\))g
(using)g(10-fold)g(cross-validation)213 2285 y(print)g("Training)f
(support)h(vector)g(machine)g(\(SVM\))g(with)g(10-fold)836
b(\\)213 2364 y(cross-validation...\\n";)213 2443 y
(train_classifier\(classifier)36 b(=>)j
('weka.classifiers.functions.SMO',)253 2522 y(trainfile)78
b(=>)40 b("$gen_dir/train.arff",)253 2600 y(modelfile)78
b(=>)40 b("$gen_dir/SMO.model",)253 2679 y(logfile)158
b(=>)40 b("$gen_dir/train-10fold-SMO.log"\);)213 2758
y(print)f(")79 b(Done.\\n";)213 2837 y(print)39 b(")159
b(See)40 b($gen_dir/train-crossval-SMO.log)35 b(for)k(log)h(of)f
(classifier)f(output)119 b(\\)213 2916 y(from)39 b(training)g(and)g
(10-fold)g(cross-validation\\n";)213 3074 y(#)g(Perform)g(various)g
(operations)f(on)i(the)f(LSI)h(to)f(illustrate)g(the)g(functionality)f
(it)159 b(\\)213 3153 y(provides)213 3231 y(print)39
b("\\nAssorted)f(LSI)h(Operations:\\n";)213 3310 y(my)g(@docids)g(=)h
(sort)f(keys)g(\045{$c->documents\(\)};)213 3389 y(my)g($firstdoc)g(=)h
($c->documents\(\)->{$docids[0]};)213 3468 y(#)f(Find)h(documents)e
(similar)h(near)g(in)h(latent)f(semantic)f(space)i(to)f(the)h
(\(arbitrarily\))117 b(\\)213 3547 y(first)39 b(document)g(in)g(the)g
(corpus)213 3626 y(print)g("\\n1.)79 b(10)39 b(documents)g(most)g
(similar)g(to)g(the)h(first)f(\\"")g(.)837 b(\\)213 3705
y($firstdoc->get_class\(\))36 b(.)k("\\")f(document:\\n";)213
3783 y(my)g(\045doc_dists)g(=)g($index->rank_docs\($firstdoc\);)213
3862 y(@docids)g(=)g(sort)h({$doc_dists{$a})d(<=>)j($doc_dists{$b})d(})
j(keys)f(\045doc_dists;)213 3941 y(for)g(\(my)h($i=0;)f($i)g(<)h(10;)f
($i++\))g({)213 4020 y(my)g($class)g(=)h
($c->get\($docids[$i]\)->get_class\(\);)213 4099 y(print)f(")239
b($docids[$i]\\tclass:)37 b($class\\tdistance:)1073 b(\\)213
4178 y($doc_dists{$docids[$i]}\\n";)213 4257 y(})213
4336 y(#)39 b(Find)h(documents)e(far)i(away)f(from)g(that)g(document)
213 4414 y(print)g("\\n)159 b(10)39 b(documents)g(least)g(similar)g(to)
g(the)h(first)f(\\"")g(.)797 b(\\)213 4493 y($firstdoc->get_class\(\))
36 b(.)k("\\")f(document:\\n";)213 4572 y(@docids)g(=)g(sort)h
({$doc_dists{$b})d(<=>)j($doc_dists{$a})d(})j(keys)f(\045doc_dists;)213
4651 y(for)g(\(my)h($i=0;)f($i)g(<)h(10;)f($i++\))g({)213
4730 y(my)g($class)g(=)h($c->get\($docids[$i]\)->get_class\(\);)213
4809 y(print)f(")239 b($docids[$i]\\tclass:)37 b($class\\tdistance:)
1073 b(\\)213 4888 y($doc_dists{$docids[$i]}\\n";)213
4967 y(})213 5045 y(#)39 b(Find)h(terms)f(near)g(in)h(latent)f
(semantic)f(space)h(to)h(the)f(term)h("hockey")213 5124
y(print)f("\\n2.)79 b(20)39 b(terms)g(contextually)g(most)g(related)g
(to)g(\\"hockey\\":\\n";)213 5203 y(my)g(\045term_dists)g(=)g
($index->rank_terms\("hockey"\);)213 5282 y(my)g(@terms)g(=)h(sort)f
({$term_dists{$a})f(<=>)h($term_dists{$b})f(})h(keys)h(\045term_dists;)
213 5361 y(for)f(\(my)h($i=0;)f($i)g(<)h(20;)f($i++\))g({)213
5440 y(print)g(")319 b($terms[$i])237 b(\\tdistance:)38
b($term_dists{$terms[$i]}\\n";)p 3426 5544 V 185 5547
3245 4 v 1873 5809 a Fk(241)p eop end
%%Page: 242 242
TeXDict begin 242 241 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3205
4 v 185 5544 4 5414 v 213 234 a Fa(})213 313 y(#)39 b(Find)h(terms)f
(near)g(in)h(latent)f(semantic)f(space)h(to)h(the)f(term)h("playoff")e
(\(which)278 b(\\)213 392 y(denotes)39 b(baseball\))213
471 y(print)g("\\n2.)79 b(20)39 b(terms)g(contextually)g(most)g
(related)g(to)g(\\"playoff\\":\\n";)213 550 y(\045term_dists)f(=)i
($index->rank_terms\("playoff"\);)213 629 y(@terms)f(=)g(sort)h
({$term_dists{$a})d(<=>)j($term_dists{$b})d(})j(keys)f(\045term_dists;)
213 708 y(for)g(\(my)h($i=0;)f($i)g(<)h(20;)f($i++\))g({)213
786 y(print)g(")319 b($terms[$i])78 b(\\tdistance:)38
b($term_dists{$terms[$i]}\\n";)213 865 y(})213 1023 y(#)h(Order)h(the)f
(following)f(queries)h(first)g(by)h(nearness)f(in)g(semantic)g(space)g
(to)g(the)h(term)f(\\)213 1102 y("hockey",)213 1181 y(#)g(then)h(by)f
(nearness)g(in)g(semantic)g(space)g(to)h(the)f(term)g("playoff")213
1260 y(my)g(@queries)g(=)h(\("goalie)e(stops)h(puck",)332
1338 y("pitcher)g(throws)g(to)g(catcher",)332 1417 y("extra)g
(innings",)332 1496 y("overtime"\);)213 1575 y(print)g("\\n3.)79
b(Set)39 b(of)h(unordered)e(queries:\\n";)213 1654 y(print)h(")319
b(")39 b(.)h(join\("\\n)318 b(",)39 b(@queries\);)213
1733 y(print)g("\\n)159 b(Ordered)39 b(by)g(contextual)g(relationship)f
(to)h(query)g(\\"hockey\\":\\n";)213 1812 y(my)g(\045query_dists)f(=)i
($index->rank_queries\("hockey",)35 b(@queries\);)213
1891 y(my)k(@ordered)g(=)h(sort)f({$query_dists{$a})e(<=>)j
($query_dists{$b})d(})j(keys)557 b(\\)213 1969 y(\045query_dists;)213
2048 y(foreach)39 b(my)g($query)g(\(@ordered\))f({)213
2127 y(print)h(")319 b(\\"$query\\"\\t\\t\\tdistance:)36
b($query_dists{$query}\\n";)213 2206 y(})213 2285 y(print)j(")159
b(Ordered)39 b(by)g(contextual)g(relationship)f(to)h(query)h
(\\"playoff\\":\\n";)213 2364 y(\045query_dists)e(=)i
($index->rank_queries\("playoff",)35 b(@queries\);)213
2443 y(@ordered)j(=)i(sort)f({$query_dists{$a})f(<=>)h
($query_dists{$b})f(})h(keys)h(\045query_dists;)213 2522
y(foreach)f(my)g($query)g(\(@ordered\))f({)213 2600 y(print)h(")319
b(\\"$query\\"\\t\\t\\tdistance:)36 b($query_dists{$query}\\n";)213
2679 y(})213 2837 y(#)j(Save)h(latent)f(semantic)f(index)h(to)h(file)
213 2916 y(print)f("\\nSaving)f(latent)h(semantic)g(index)g(to)h(file)f
($gen_dir/sports.lsi...\\n";)213 2995 y
($index->save_to_file\("$gen_dir/sports.lsi")o(,)34 b(savecluster)k(=>)
i(0\);)213 3074 y(print)f(")79 b(Done.\\n";)213 3153
y(})213 3231 y(elsif)39 b(\($round)g(eq)g("test"\))g({)213
3310 y(#)g(Test)h(the)f(classifier)f(directly)h(on)h(the)f(test)g(set,)
h(outputting)e(predictions)g(for)159 b(\\)213 3389 y(individual)38
b(documents)213 3468 y(print)h("Testing)g(SVM)g(predictions...\\n";)213
3547 y(my)g($test_log)g(=)h(test_classifier\(classifier)35
b(=>)1355 b(\\)213 3626 y('weka.classifiers.functions.SMO',)332
3705 y(modelfile)39 b(=>)g("$gen_dir/SMO.model",)492
3783 y(testfile)78 b(=>)40 b("$gen_dir/test.arff",)492
3862 y(predfile)78 b(=>)40 b("$gen_dir/test-SMO.pred",)492
3941 y(logfile)118 b(=>)40 b("$gen_dir/test-SMO.log"\);)213
4020 y(print)f(")159 b(See)40 b($gen_dir/test-SMO.log)c(for)k(log)f(of)
h(classifier)e(output)h(from)318 b(\\)213 4099 y(testing\\n";)213
4178 y(print)39 b(")159 b(See)40 b($gen_dir/test-SMO.pred)c(for)j(log)h
(of)f(classifier)g(predictions)f(from)79 b(\\)213 4257
y(testing\\n";)213 4336 y(})213 4414 y(})213 4572 y(#)39
b(Delete)g(the)h(latent)f(semantic)f(index)i(from)f(disk)g(\(the)g
(file)h(is)f(quite)g(large\))213 4651 y(unlink)g
("$gen_dir/sports.lsi";)213 4809 y(print)g("\\nHave)g(a)g(nice)h
(day!\\n";)213 5124 y(#)f(---AUXILIARY)g(PROCEDURES---)213
5282 y(#)g(Extract)g(a)h(document's)e(class)213 5361
y(sub)h(extract_class)f({)372 5440 y(my)i($html)f(=)h(shift;)p
3386 5544 V 185 5547 3205 4 v 1873 5809 a Fk(242)p eop
end
%%Page: 243 243
TeXDict begin 243 242 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2152 4 2022 v 372 234 a Fa(my)40 b($file)f(=)h(shift;)372
392 y(my)g($label)f(=)g($1)h(if)f(\($html)g(=\230)h(m/<DOC)f
(GROUP="rec\\.sport\\.\(\\w+?\)">/\);)372 471 y(die)h("extract_class)d
(-)j(Class)f(label)g(not)h(found)f(in)g($file")g(if)h(not)f(defined)g
($label;)372 550 y(return)g($label;)213 629 y(})213 786
y(#)g(Compute)g(a)h(document's)e(position)h(in)h(latent)e(semantic)h
(space)g(as)h(that)f(space)g(is)279 b(\\)213 865 y(defined)39
b(by)g(the)h(singular)e(value)213 944 y(#)h(decomposition)f(\(and)i
(dimensionality)d(reduction)i(of)g(that)h(decomposition\))d(of)j(the)
199 b(\\)213 1023 y(document-term)38 b(matrix)h(of)g(the)213
1102 y(#)g(cluster)213 1181 y(sub)g(compute_latent_space_position_vect)
c({)213 1260 y(my)k(\045params)g(=)h(@_;)213 1338 y(my)f($docref)g(=)h
($params{document};)213 1496 y(my)f($v)h(=)g
($index->doc_to_latent_space\($docref\);)213 1575 y(my)f(@vect;)213
1654 y(foreach)g(my)g($elem)g(\(list)g($v\))h({)213 1733
y(push)f(@vect,)g($elem;)213 1812 y(})213 1969 y(return)g(\\@vect;)213
2048 y(})p 3466 2152 V 185 2155 3285 4 v 60 2348 a Fi(10.3.52)80
b(parse.pl)p 185 2433 V 185 5006 4 2574 v 213 2537 a
Fa(#!/usr/local/bin/perl)213 2694 y(#)39 b(script:)g(test_parse.pl)213
2773 y(#)g(functionality:)f(Parses)h(an)h(input)f(file)g(and)g(then)h
(runs)f(chunklink)g(on)g(it)213 2931 y(use)g(strict;)213
3010 y(use)g(warnings;)213 3089 y(use)g(FindBin;)213
3168 y(use)g(Clair::Utils::Parse;)213 3325 y(my)g($basedir)g(=)h
($FindBin::Bin;)213 3404 y(my)f($input_dir)g(=)g
("$basedir/input/parse";)213 3483 y(my)g($gen_dir)g(=)h
("$basedir/produced/parse";)213 3641 y(#)f(Preparing)g(file)g(for)h
(parsing)213 3720 y(Clair::Utils::Parse::prepare_for_parse\("$i)o
(nput_di)o(r/test.)o(txt",)751 b(\\)213 3798 y("$gen_dir/parse.txt"\);)
213 3956 y(print)39 b("PARSING\\n";)213 4114 y(my)g($parseout)g(=)h
(Clair::Utils::Parse::parse\("$gen_dir/pars)o(e.txt",)33
b(output_file)38 b(=>)80 b(\\)213 4193 y("$gen_dir/parse_out.txt",)36
b(options)j(=>)g('-l300'\);)213 4351 y(my)g($chunkin)g(=)h
(Clair::Utils::Parse::forcl\("$gen_dir/parse)o(_out.tx)o(t",)34
b(output_file)78 b(\\)213 4429 y(=>)39 b("$gen_dir/WSJ_0000.MRG"\);)213
4587 y(print)g("Now)g(doing)g(chunklink.\\n";)213 4745
y(my)g($chunkout)g(=)h(Clair::Utils::Parse::chunklink\("$gen_dir/)o
(WSJ_000)o(0.MRG")o(,)393 b(\\)213 4824 y(output_file)38
b(=>)i("$gen_dir/chunk_out.txt",)c(options)i(=>)i('-sph'\);)p
3466 5006 V 185 5009 3285 4 v 60 5219 a Fh(10.4)99 b(Utilities)60
5375 y Fk(This)20 b(section)g(contains)g(dif)n(ferent)e(utility)i
(scripts)h(that)f(perform)e(common)h(tasks.)1873 5809
y(243)p eop end
%%Page: 244 244
TeXDict begin 244 243 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.1)81 b(bfs)p 462 210 25 4 v 30 w(extract)p 743
210 V 27 w(subnet.pl)p 185 295 2926 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/local/bin/perl)213 556 y(#)213
635 y(#)39 b(Read)h(a)f(network)g(from)g(a)h(Clairlib)f(Network)g(file)
g(\(in)g(edgelist)g(format\),)213 714 y(#)g(and)h(extract)f(the)g
(subgraph)g(centered)f(around)h(a)h(specified)f(node.)213
793 y(#)g(The)h(node)f(is)h(represented)e(in)h(the)h(same)f(form)g(as)h
(appearing)e(in)i(the)f(edgelist)213 872 y(#)g(file.)h(For)f(example,)g
(if)g(it)h(is)f(a)h(query)f(network,)g(then)g(the)g(center)g(node)213
951 y(#)g(should)g(be)h(be)g(specified)e(as)i(queries.)213
1030 y(#)213 1108 y(#)f(Author:)g(Xiaodong)g(Shi)213
1187 y(#)g(Date:)h(11-09-2007)213 1266 y(#)213 1503 y(use)f(lib)h
("/data0/projects/clairlib-dev/lib";)213 1582 y(use)f(lib)h
("/data0/projects/clairlib-dev/util";)213 1660 y(use)f(lib)h("../lib";)
213 1818 y(use)f(strict;)213 1897 y(use)g(warnings;)213
2055 y(use)g(Clair::Network;)213 2134 y(use)g
(Clair::Network::Reader::Edgelist;)213 2213 y(use)g(Getopt::Long;)213
2291 y(use)g(Clair::Network::Subnet;)213 2528 y
(####################################)213 2607 y(##)358
b(Start)39 b(of)h(Script)318 b(##)213 2686 y
(####################################)213 2922 y(my)39
b(\($input_file,)f($output_file,)g($center_node,)g($depth,)h
($directed,)f($delim\);)213 3001 y(my)h(\($weighted,)g($threshold,)f
($sel_query_file,)f($out_net_format\);)213 3159 y(#)i(get)h(the)f
(parameters)g(from)g(command)g(line)213 3238 y(GetOptions\("input=s")e
(=>)i(\\$input_file,)332 3317 y("outformat:s")f(=>)i
(\\$out_net_format,)332 3396 y("output:s")f(=>)g(\\$output_file,)332
3475 y("center=s")g(=>)g(\\$center_node,)332 3553 y("depth=i")g(=>)g
(\\$depth,)332 3632 y("directed:i")f(=>)i(\\$directed,)332
3711 y("weighted:i")e(=>)i(\\$weighted,)332 3790 y("delim:s")f(=>)g
(\\$delim,)332 3869 y("threshold=f")f(=>)i(\\$threshold,)332
3948 y("selected:s")e(=>)i(\\$sel_query_file\);)213 4184
y(#)f(default)g(output)g(network)g(format)213 4263 y(unless)g
(\(defined)f($out_net_format\))g({)372 4342 y(#)i(clairlib)f(edgelist)f
(network)h(format)372 4421 y($out_net_format)f(=)h("clairlib";)213
4500 y(})213 4658 y(#)g(default)g(output)g(file)g(path)213
4736 y(unless)g(\(defined)f($output_file\))g({)372 4815
y($output_file)g(=)i("./nets/sub_query_network.net";)213
4894 y(})213 5052 y(#)f(directed)g(network)g(or)g(undirected)213
5131 y(unless)g(\(defined)f($directed\))h({)372 5210
y(#)h(default)f(is)g(undirected)g(network)372 5289 y($directed)g(=)g
(0;)213 5367 y(})213 5525 y(#)g(edge-weighted)f(network?)213
5604 y(unless)h(\(defined)f($weighted\))h({)p 3107 5708
V 185 5711 2926 4 v 1873 5809 a Fk(244)p eop end
%%Page: 245 245
TeXDict begin 245 244 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa(#)40 b(default)f(is)g(weighted)372
313 y($weighted)g(=)g(1;)213 392 y(})213 550 y(#)g(default)g(delimiter)
g(of)g(edge)h(list)213 629 y(unless)f(\(defined)f($delim\))h({)372
708 y(#)h(default)f(is)g(tab)372 786 y($delim)g(=)h("\\t";)213
865 y(})213 1023 y(#)f(if)h(a)g(pre-selected)e(list)h(of)h(nodes)f(is)g
(defined,)g(use)g(that)h(list)f(of)g(nodes)g(and)319
b(\\)213 1102 y(extract)213 1181 y(#)39 b(the)h(edges)f(from)g(the)h
(network)e(to)i(construct)e(the)i(subgraph)213 1260 y(my)f
(\045sel_query_hash)f(=)i(\(\);)213 1338 y(my)f($presel_query)f(=)i(0;)
213 1417 y(if)f(\(\(defined)g($sel_query_file\))e(and)j
(\($sel_query_file)d(ne)j(0\)\))f({)372 1496 y(printf)g
("\\tPre-selected)f(Query:)h(")g(.)h($sel_query_file)e(.)h("\\n";)372
1575 y($presel_query)f(=)i(1;)372 1654 y(open)f(SEL_QUERY,)g
("<$sel_query_file)e(")j(or)f(die)h("Could)f(not)g(open)g(pre-selected)
198 b(\\)213 1733 y(query)39 b(input)g(file:)g($!\\n";)372
1812 y(while)g(\(<SEL_QUERY>\))f({)213 1891 y(my)h($line)g(=)h($_;)213
1969 y(chomp)f($line;)213 2048 y($sel_query_hash{$line})d(=)k(1;)372
2127 y(})372 2206 y(close)f(SEL_QUERY;)213 2285 y(})213
2522 y(#)g(print)h(parameter)e(settings)213 2600 y(print)h
("Parameters:)f(\\n";)213 2679 y(print)h("\\tInput)g(Net)g(Format)g(:)h
(clairlib\\n";)213 2758 y(print)f("\\tOutput)f(Net)i(Format:)f(")g(.)h
($out_net_format)e(.)h("\\n";)213 2837 y(print)g("\\tInput)g(Net)g
(File:)159 b(")39 b(.)h($input_file)e(.)i("\\n";)213
2916 y(print)f("\\tCenter)f(Node:)279 b(")39 b(.)h($center_node)e(.)i
("\\n";)213 2995 y(print)f("\\tDirected:)397 b(")39 b(.)h($directed)e
(.)i("\\n";)213 3074 y(print)f("\\tWeighted:)397 b(")39
b(.)h($weighted)e(.)i("\\n";)213 3153 y(print)f("\\tDelim:)517
b(")39 b(.)h($delim)f(.)h("\\n";)213 3231 y(print)f("\\tMax.)g(Depth:)
318 b(")39 b(.)h($depth)f(.)h("\\n";)213 3310 y(print)f("\\tThreshold:)
357 b(")39 b(.)h($threshold)e(.)i("\\n";)213 3389 y(print)f("\\tOutput)
f(File:)279 b(")39 b(.)h($output_file)e(.)i("\\n";)213
3705 y(#Load)f(the)g(network)g(from)g(the)h(input)f(file)213
3783 y(print)g("Loading)g(network)f(from)i(input)f(file)g($input_file)f
(...)i(";)213 3862 y(my)f($reader)g(=)h
(Clair::Network::Reader::Edgelist->new\(\);)213 3941
y(my)f($network)g(=)h($reader->read_network\($input_file,)253
4020 y(directed)e(=>)i($directed,)253 4099 y(weights)e(=>)i($weighted,)
253 4178 y(property)e(=>)i("weight",)253 4257 y(edge_property)e(=>)h
("weight",)253 4336 y(delim)g(=>)g($delim\);)213 4414
y(print)g("finished!\\n";)213 4651 y(my)g($extractor)g(=)g
(Clair::Network::Subnet->new\($network\);)213 4730 y(my)g($subnet)g(=)h
($extractor->BFS_extract_from\($center_node,)292 4809
y(depth)g(=>)f($depth,)292 4888 y(directed)g(=>)h($directed,)292
4967 y(threshold)f(=>)h($threshold\);)213 5203 y(printf)f("Subgraph)f
(statistics:)g(\\n";)213 5282 y(printf)h("\\tNum.)g(nodes:)f(")i(.)g
($subnet->num_nodes\(\))d(.)i("\\n";)213 5361 y(printf)g("\\tNum.)g
(edges:)f(")i(.)g($subnet->num_links\(\))d(.)i("\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(245)p eop
end
%%Page: 246 246
TeXDict begin 246 245 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5149 4 5019 v 213 313 a Fa(#)39 b(export)g(the)h(extracted)e
(subgraph)h(to)h(output)e(file)213 392 y(printf)h("Export)g
($out_net_format)e(network)i(to)g(output)g(file)h($output_file)e(...)h
(";)213 471 y(my)g($export;)213 550 y(if)g(\($out_net_format)f(eq)h
("pajek"\))g({)372 629 y(#Export)g(the)g(Pajek-format)f(file)372
708 y($export)h(=)h(Clair::Network::Writer::Pajek->new\(\);)372
786 y($export->set_name\("sub_query_network"\);)372 865
y($export->write_network\($subnet,)35 b($output_file\);)213
944 y(})213 1023 y(else)k({)372 1102 y(#Export)g(the)g(clairlib)g
(network)g(file)372 1181 y($export)g(=)h
(Clair::Network::Writer::Edgelist->new\(\);)372 1260
y($export->write_network\($subnet,)35 b($output_file,)j(delim)h(=>)h
($delim,)f(weights)g(=>)119 b(\\)213 1338 y($weighted\);)213
1417 y(})213 1496 y(printf)39 b("completed!\\n";)213
1812 y(#)213 1891 y(#)g(Print)h(out)f(usage)g(message)213
1969 y(#)213 2048 y(sub)g(usage)213 2127 y({)372 2206
y(print)g("usage:)g($0)h(-input)f(file)g(-center)g(node)g(-depth)g(m)h
([-outformat)e(format])238 b(\\)213 2285 y([-output)38
b(file])i(";)372 2364 y(print)f("[-directed)f(d])i([-weighted)e(w])i
([-delim)f(delimiter])f([-threshold)g(t])319 b(\\)213
2443 y([-selected)38 b(file]\\n";)372 2522 y(print)h("or:)159
b($0)40 b([-f)f(dotfile])g(<)g(file\\n";)372 2600 y(print)g(")80
b(--input)39 b(file\\n";)372 2679 y(print)g(")399 b(Input)39
b(network)g(file)g(in)g(edge-edge)g(format\\n";)372 2758
y(print)g(")80 b(--center)38 b(node\\n";)372 2837 y(print)h(")399
b(The)39 b(center)g(node)g(from)g(which)h(BFS)f(starts\\n";)372
2916 y(print)g(")80 b(--depth)39 b(m\\n";)372 2995 y(print)g(")399
b(Maximum)38 b(depth)i(allowed)e(for)i(BFS)f(to)h(reach\\n";)372
3074 y(print)f(")80 b(--delim)39 b(delimiter\\n";)372
3153 y(print)g(")399 b(Vertices)38 b(are)i(delimited)e(by)i(delimter)e
(character\\n";)372 3231 y(print)h(")80 b(--outformat)38
b(format\\n";)372 3310 y(print)h(")399 b(The)39 b(format)g(of)h(the)f
(network)g(to)g(export,)g(either)g(clairlib)g(or)159
b(\\)213 3389 y(pajek\\n";)372 3468 y(print)39 b(")80
b(--output)38 b(out_file\\n";)372 3547 y(print)h(")399
b(The)39 b(network)g(file)g(to)h(which)f(the)g(extracted)g(subgraph)f
(is)319 b(\\)213 3626 y(exported\\n";)372 3705 y(print)39
b(")80 b(--directed)38 b(d\\n";)372 3783 y(print)h(")399
b(Treat)39 b(graph)g(as)g(an)h(directed)f(graph)g(or)g(not\\n";)372
3862 y(print)g(")80 b(--weighted)38 b(w\\n";)372 3941
y(print)h(")399 b(Treat)39 b(graph)g(as)g(edge-weighted)f(graph)h(or)h
(not\\n";)372 4020 y(print)f(")80 b(--threshold)38 b(t\\n";)372
4099 y(print)h(")399 b(Extract)38 b(only)i(edges)f(\(and)g(connected)g
(nodes\))g(whose)g(weight)g(is)119 b(\\)213 4178 y(above)39
b(threshold\\n";)372 4257 y(print)g(")80 b(--selected)38
b(file\\n";)372 4336 y(print)h(")399 b(The)39 b(file)g(containing)g
(predefined)f(queries)h(that)g(should)g(be)239 b(\\)213
4414 y(included)38 b(in)i(the)f(subgrahp\\n";)372 4493
y(print)g("\\n";)372 4572 y(print)g("example:)g($0)g(-input)g
(./lex_nets/query_network.graph)d(-outformat)357 b(\\)213
4651 y(clairlib)38 b(-center)h(ford)g(-directed)g(0)h(";)372
4730 y(print)f("-weighted)g(1)g(delim)g('\\t')h(-depth)f(2)g
(-threshold)g(0.2)g(-output)597 b(\\)213 4809 y
(./lex_nets/subgraph_test.graph\\n";)372 4967 y(exit;)213
5045 y(})p 3466 5149 V 185 5152 3285 4 v 1873 5809 a
Fk(246)p eop end
%%Page: 247 247
TeXDict begin 247 246 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.2)81 b(chunk)p 577 210 25 4 v 30 w(document.pl)p
185 295 3165 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 477 y(#)213 556 y(#)39 b(script:)g(chunk_document)213
635 y(#)213 714 y(#)g(functionality:)f(Breaks)h(a)h(text)f(file)g(into)
h(multiple)e(files)h(of)h(a)g(given)f(word)g(length)213
793 y(#)213 951 y(use)g(strict;)213 1030 y(use)g(warnings;)213
1108 y(use)g(Getopt::Long;)213 1187 y(use)g(File::Spec;)213
1345 y(sub)g(usage;)213 1503 y(my)g($in_file)g(=)h("";)213
1582 y(my)f($out_dir)g(=)h("";)213 1660 y(my)f($out_file)g(=)h("";)213
1739 y(my)f($word_limit)g(=)g(500;)213 1818 y(my)g($vol)h(=)f("";)213
1897 y(my)g($dir)h(=)f("";)213 1976 y(my)g($prefix)g(=)h("";)213
2134 y(my)f($res)h(=)f(GetOptions\("input=s")e(=>)j(\\$in_file,)213
2213 y("output=s")e(=>)i(\\$out_dir,)213 2291 y("words=i")e(=>)i
(\\$word_limit\);)213 2449 y(#)f(check)h(for)f(input)213
2528 y(if\()g($in_file)g(eq)g("")h(\){)292 2607 y(usage\(\);)292
2686 y(exit;)213 2765 y(})213 2922 y(#)f(check)h(for)f(output)g
(directory)213 3001 y(if\()g($out_dir)g(eq)g("")h(\){)213
3080 y(usage\(\);)213 3159 y(exit;)213 3238 y(})f(else)h({)292
3317 y(unless)f(\(-d)h($out_dir\))e({)372 3396 y(mkdir)h($out_dir)g(or)
g(die)h("Couldn't)e(create)h($out_dir:)g($!";)292 3475
y(})213 3553 y(})213 3711 y(#)g(open)h(infile)213 3790
y(open\(IN,$in_file\))d(or)j(die)f("Can't)g(open)g($in_file:)g($!";)213
3948 y(#)g(get)h(infile)f(name)213 4027 y(\($vol,)g($dir,)g($prefix\))f
(=)i(File::Spec->splitpath\($in_file\);)213 4184 y(#)f(read)h(in)f
(infile,)g(split)g(into)g(words)h(and)f(print)g(words)g(to)h(outfile)f
(till)g(you)g(reach)213 4263 y(#)g(word_limit,)g(then)g(start)g(new)g
(outfile)213 4421 y(my)g(@line)g(=)h(\(\);)213 4500 y(my)f(@bin)h(=)f
(\(\);)213 4579 y(my)g($dump)g(=)h("";)213 4658 y(my)f($count)g(=)h(1;)
213 4736 y(my)f($word)g(=)h("";)213 4894 y($out_file)e(=)i
($out_dir.'/'.$prefix.'.'.$word_limit;)213 5052 y(while\(<IN>\){)213
5131 y(#split)f(line)g(into)g(words)g(and)h(move)f(into)g(array)292
5210 y(my)h(@line)f(=)h(split\(/)f(/,)g($_\);)292 5367
y(#add)h(words)f(to)g(array)g(until)h(it's)f($word_limit)f(long)213
5446 y(foreach)h($word)g(\(@line\){)213 5525 y(if\($#bin)f(<)i
($word_limit\))e({)213 5604 y(push)h(\(@bin,)g($word\);)p
3346 5708 V 185 5711 3165 4 v 1873 5809 a Fk(247)p eop
end
%%Page: 248 248
TeXDict begin 248 247 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3177 4 3047 v 372 234 a Fa(})40 b(else)f({)452
313 y($dump)g(=)h(join\(')f(',)g(@bin\);)213 392 y(#print)g("writing:)f
($out_file.$count\\n";)213 471 y(open\(OUT,)g(">$out_file.$count"\))f
(or)j(die)f("Can't)g(open)g($out_file:)g($!";)213 550
y(print)g(OUT)g($dump;)213 629 y(close)g(OUT;)213 708
y(@bin)g(=)h(\($word\);)213 786 y($count++;)213 865 y(})213
944 y(})213 1023 y(})213 1181 y(#get)f(last)g(words)213
1260 y($dump)g(=)h(join\(')f(',)g(@bin\);)213 1338 y(#print)g
("writing:)f($out_file.$count\\n";)213 1417 y(open\(OUT,)g
(">$out_file.$count"\))f(or)j(die)f("Can't)g(open)g($out_file:)g($!";)
213 1496 y(print)g(OUT)g($dump;)213 1575 y(close)g(OUT;)213
1733 y(#)213 1812 y(#)g(Print)h(out)f(usage)g(message)213
1891 y(#)213 1969 y(sub)g(usage)213 2048 y({)292 2127
y(print)h("usage:)e($0)i(--input)f(input_file)f(--output)h(output_dir)f
([--words)557 b(\\)213 2206 y(word_limit]\\n\\n";)292
2285 y(print)40 b(")79 b(--input)39 b(input_file\\n";)213
2364 y(print)g(")199 b(Name)39 b(of)h(the)f(input)g(file\\n";)213
2443 y(print)g(")79 b(--output)39 b(output_dir\\n";)213
2522 y(print)g(")199 b(Name)39 b(of)h(the)f(output)g(directory.\\n";)
292 2600 y(print)h(")79 b(--words)39 b(word_limit\\n";)213
2679 y(print)g(")199 b(Number)39 b(of)g(words)h(to)f(include)g(in)g
(each)h(file.)79 b(Defaults)38 b(to)i(500.\\n";)213 2758
y(print)f("\\n";)213 2837 y(print)g("example:)f($0)i(--input)f
(file.txt)f(--output)h(./corpus)g(--words)g(1000\\n";)213
2916 y(exit;)213 2995 y(})p 3466 3177 V 185 3180 3285
4 v 1873 5809 a Fk(248)p eop end
%%Page: 249 249
TeXDict begin 249 248 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.3)81 b(compute)p 661 210 25 4 v 29 w(lexrank.pl)p
185 295 2767 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
36 b(-w)213 477 y(use)j(strict;)213 635 y(use)g(lib)h
("/data0/projects/clairlib-1.03/lib";)213 793 y(use)f(Clair::Cluster;)
213 872 y(use)g(Clair::Network::Centrality::LexRank;)213
951 y(use)g(Clair::Document;)213 1030 y(use)g(File::Copy;)213
1266 y(my)g($stem)g(=)h(shift;)213 1345 y(my)f(@titleforid)g(=)g(\(\);)
213 1503 y(my)g($index)g(=)h(0)g(;)213 1660 y(open)f(IN,)g
("$stem.txt";)213 1818 y(while\(my)f($title)h(=)h(<IN>\){)372
1897 y(chomp)f($title;)372 1976 y($titleforid[$index])e(=)j($title;)372
2055 y(++$index;)372 2134 y(print)f($index."\\n";)213
2213 y(})213 2291 y(close)g(IN;)213 2370 y(close)g(OUT;)213
2607 y(my)g($i)h(=)g(0)f(;)213 2686 y(my)g(\045used_num;)213
2765 y(my)g($random_num;)213 2922 y(my)g($cluster)g(=)h
(Clair::Cluster->new\(\);)213 3001 y
($cluster->load_lines_from_file\("$stem.txt")o(\);)213
3159 y($cluster->stem_all_documents\(\);)213 3317 y(print)f("Now)g
(computing)g(Cosine)g(similarity\\n";)213 3475 y(my)g(\045cos_hash)g(=)
h($cluster->compute_cosine_matrix\(\);)213 3632 y(my)f($tt;)213
3711 y(my)g($pp;)213 3869 y(open)g(OUT,)g(">$stem.cos";)213
3948 y(#print)g("\\n";)213 4027 y(#print)g("COSINE)g(MATRIX:\\n";)213
4105 y(#print)g("#########################################)o(#######)o
(#######)o(#\\n";)213 4184 y(foreach)g($tt)g(\(sort)g(keys)g
(\045cos_hash\){)372 4263 y(foreach)g($pp)g(\(sort)g(keys)h
(\045{$cos_hash{$tt}}\){)213 4342 y(print)f(OUT)g("$tt)h($pp)f
($cos_hash{$tt}{$pp}\\n";)372 4421 y(})332 4500 y(#)h(print)f("\\n";)
213 4579 y(})213 4658 y(close)g(OUT;)213 4736 y(#print)g
("#########################################)o(#######)o(#######)o
(#\\n";)213 4815 y(#print"\\n";)213 4894 y(print)g("LexRank)g
(Distribution:\\n\\n";)213 5052 y(my)g($network)g(=)h
($cluster->create_network\(cosine_matrix)34 b(=>)39 b
(\\\045cos_hash\);)213 5131 y(#$network->export_to_Pajek\($network,)34
b("99win.net"\);)213 5289 y(my)39 b($cent)79 b(=)40 b
(Clair::Network::Centrality::LexRank->new\($ne)o(twork\);)213
5367 y(#$cent->centrality\(\);)213 5525 y(my)f($dist)g(=)h
($cent->normalized_centrality\(\);)p 2948 5708 V 185
5711 2767 4 v 1873 5809 a Fk(249)p eop end
%%Page: 250 250
TeXDict begin 250 249 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2727
4 v 185 732 4 602 v 213 234 a Fa(open)39 b(OUTF,)g(">$stem.lr";)213
392 y(foreach)g(my)79 b($v)40 b(\(sort)f({$dist->{$b})f(<=>)h
($dist->{$a};})f(keys)h(\045{$dist}\){)372 471 y(print)g(OUTF)79
b(")120 b($dist->{$v})158 b(\\"$titleforid[$v]\\"\\n";)213
550 y(})213 629 y(close)39 b(OUTF;)p 2908 732 V 185 735
2727 4 v 1873 5809 a Fk(250)p eop end
%%Page: 251 251
TeXDict begin 251 250 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.4)81 b(con)m(v)o(ert)p 621 210 25 4 v 28 w(netw)o(ork.pl)p
185 295 2926 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(Convert)g(graph)g(between)g(different)g(formats)213
635 y(use)g(strict;)213 714 y(use)g(warnings;)213 872
y(use)g(Getopt::Long;)213 951 y(use)g(File::Spec;)213
1030 y(use)g(Clair::Network)f(qw\($verbose\);)213 1108
y(use)h(Clair::Network::Reader::Edgelist;)213 1187 y(use)g
(Clair::Network::Reader::GML;)213 1266 y(use)g
(Clair::Network::Reader::Pajek;)213 1345 y(use)g
(Clair::Network::Writer::Edgelist;)213 1424 y(use)g
(Clair::Network::Writer::GraphML;)213 1503 y(use)g
(Clair::Network::Writer::Pajek;)213 1582 y(use)g
(Clair::Network::Writer::Graclus;)213 1739 y(sub)g(usage;)213
1897 y(my)g($fname)g(=)h("";)213 1976 y(my)f($delim)g(=)h("[)g(\\t]+";)
213 2055 y(my)f($output_delim)f(=)i(")g(";)213 2134 y(my)f
($input_format)f(=)i("";)213 2213 y(my)f($out_file)g(=)h("";)213
2291 y(my)f($output_format)f(=)i("";)213 2370 y(my)f($undirected)g(=)g
(0;)213 2449 y(my)g($noduplicate)f(=)i(0;)213 2528 y(my)f($noIsoNodes)g
(=)g(0;)213 2686 y(my)g($res)h(=)f(GetOptions\("input=s")e(=>)j
(\\$fname,)e("undirected")g(=>)i(\\$undirected,)1050
2765 y("delim=s")e(=>)i(\\$delim,)1050 2844 y("delimout=s")e(=>)h
(\\$output_delim,)1050 2922 y("input-format=s")e(=>)j(\\$input_format,)
1050 3001 y("output-format=s")d(=>)i(\\$output_format,)1050
3080 y("output=s")f(=>)i(\\$out_file,)1050 3159 y("verbose")e(=>)i
(\\$verbose,)412 3238 y("no-duplicated-edges")d(=>)i(\\$noduplicate,)
412 3317 y("ignore-isolated-nodes")d(=>)k(\\$noIsoNodes)412
3475 y(\);)213 3632 y(#my)f($directed)g(=)g(not)h($undirected;)213
3711 y(my)f($directed)g(=)h(1)f(-)h($undirected;)213
3790 y($Clair::Network::verbose)c(=)k($verbose;)213 3948
y(if)f(\(!$res)g(or)h(\($fname)f(eq)g(""\))h(or)f(\($input_format)f(eq)
h(""\))h(or)372 4027 y(\($out_file)f(eq)g(""\))g(or)h(\($output_format)
e(eq)h(""\)\))g({)292 4105 y(usage\(\);)213 4184 y(})213
4342 y(my)g($vol;)213 4421 y(my)g($dir;)213 4500 y(my)g($prefix;)213
4579 y(\($vol,)g($dir,)g($prefix\))f(=)i
(File::Spec->splitpath\($fname\);)213 4815 y(#)f(Read)h(in)f(file)213
4894 y(my)g($net;)213 4973 y(if)g(\($input_format)f(eq)i("edgelist"\))e
({)292 5052 y(if)i(\($verbose\))e({)i(print)f(STDERR)g("Reading)g(in)g
(edgelist)g(file)g($fname\\n";)g(})292 5131 y($prefix)g(=\230)h
(s/\\.graph//;)292 5210 y(my)g($reader)f(=)h
(Clair::Network::Reader::Edgelist->new\(\);)292 5367
y($net)g(=)f($reader->read_network\($fname,)1448 5446
y(delim)g(=>)h($delim,)1448 5525 y(directed)f(=>)g($directed\);)213
5604 y(})g(elsif)h(\($input_format)d(eq)j("gml"\))f({)p
3107 5708 V 185 5711 2926 4 v 1873 5809 a Fk(251)p eop
end
%%Page: 252 252
TeXDict begin 252 251 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 292 234 a Fa(if)40 b(\($verbose\))e({)i(print)f
(STDERR)g("Reading)g(in)g(GML)h(file)f($fname\\n";)f(})292
313 y(my)i($reader)f(=)h(Clair::Network::Reader::GML->new\(\);)292
471 y($net)g(=)f($reader->read_network\($fname,)d(directed)j(=>)g
($directed\);)292 550 y(if)h(\($verbose\))e({)372 629
y(print)h(STDERR)g("Input)g(network)g(has)g(")h(.)g
($net->num_nodes\(\))d(.)452 708 y(")j(nodes)f(and)g(")h(.)f
($net->get_edges\(\))f(.)h(")h(edges\\n";)292 786 y(})213
865 y(})f(elsif)h(\($input_format)d(eq)j("pajek"\))f({)292
944 y(if)h(\($verbose\))e({)i(print)f(STDERR)g("Reading)g(in)g(Pajek)g
(file)h($fname\\n";)e(})292 1023 y(my)i($reader)f(=)h
(Clair::Network::Reader::Pajek->new\(\);)292 1181 y($net)g(=)f
($reader->read_network\($fname,)d(directed)j(=>)g($directed\);)292
1260 y(if)h(\($verbose\))e({)372 1338 y(print)h(STDERR)g("Input)g
(network)g(has)g(")h(.)g($net->num_nodes\(\))d(.)452
1417 y(")j(nodes)f(and)g(")h(.)f($net->get_edges\(\))f(.)h(")h
(edges\\n";)292 1496 y(})213 1575 y(})f(else)h({)292
1654 y(print)g(STDERR)f("Unsupported)f(input)h(format)g
($input_format\\n";)292 1733 y(exit;)213 1812 y(})213
1969 y(#)g(Write)h(file)213 2048 y(my)f($writer)g(=)h(0;)213
2127 y(if)f(\($output_format)f(eq)h("edgelist"\))g({)292
2206 y(if)h(\($verbose\))e({)i(print)f(STDERR)g("Writing)g(edgelist)f
(file)i($out_file\\n";)e(})292 2285 y($writer)h(=)h
(Clair::Network::Writer::Edgelist->new\(\);)213 2364
y(})f(elsif)h(\($output_format)d(eq)j("pajek"\))e({)292
2443 y(if)i(\($verbose\))e({)i(print)f(STDERR)g("Writing)g(edgelist)f
(file)i($out_file\\n";)e(})292 2522 y($writer)h(=)h
(Clair::Network::Writer::Pajek->new\(\);)292 2600 y
($writer->set_name\("pajek"\);)213 2679 y(})f(elsif)h(\($output_format)
d(eq)j("graphml"\))e({)292 2758 y(if)i(\($verbose\))e({)i(print)f
(STDERR)g("Writing)g(edgelist)f(file)i($out_file\\n";)e(})292
2837 y($writer)h(=)h(Clair::Network::Writer::GraphML->new\(\);)292
2916 y($writer->set_name\("graphml"\);)213 2995 y(})f(elsif)h
(\($output_format)d(eq)j("graclus"\))e({)292 3074 y(my)i($writer)f(=)h
(Clair::Network::Writer::Graclus->new\(\);)292 3153 y
($writer->set_name\("graclus"\);)292 3231 y
($writer->write_network\($net,)c($out_file\);)213 3310
y(})j(else)h({)292 3389 y(print)g(STDERR)f("Unsupported)f(output)h
(format)f($output_format\\n";)292 3468 y(exit;)213 3547
y(})213 3705 y($writer->write_network\($net,)d($out_file,)k
("no_duplicate")f(=>)h($noduplicate\);)213 3941 y(#)213
4020 y(#)g(Print)h(out)f(usage)g(message)213 4099 y(#)213
4178 y(sub)g(usage)213 4257 y({)292 4336 y(print)h("usage:)e($0)i([-e])
f([-d)h(delimiter])e(-i)h(file\\n";)292 4414 y(print)h("or:)158
b($0)40 b([-f)f(dotfile])g(<)h(file\\n";)292 4493 y(print)g(")79
b(--input)39 b(file\\n";)292 4572 y(print)h(")398 b(Input)39
b(file)g(in)h(edge-edge)e(format\\n";)292 4651 y(print)i(")79
b(--input-format)38 b(format\\n";)292 4730 y(print)i(")398
b(Input)39 b(file)g(format:)g(edgelist,)g(gml,)g(pajek\\n";)292
4809 y(print)h(")79 b(--delim)39 b(delimiter\\n";)292
4888 y(print)h(")398 b(Vertices)39 b(in)g(input)g(are)h(delimited)e(by)
i(delimiter)e(character\\n";)292 4967 y(print)i(")79
b(--output)39 b(out_file\\n";)292 5045 y(print)h(")398
b(If)39 b(the)h(network)f(is)g(modified)g(\(sampled,)f(etc.\))i(you)f
(can)438 b(\\)213 5124 y(optionally)38 b(write)h(it\\n";)292
5203 y(print)h(")398 b(out)39 b(to)h(another)f(file\\n";)292
5282 y(print)h(")79 b(--output-format)38 b(format\\n";)292
5361 y(print)i(")398 b(Output)39 b(file)g(format:)g(edgelist,)f(gml,)i
(pajek,)f(graclus\\n";)292 5440 y(print)h(")79 b(--undirected\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(252)p eop
end
%%Page: 253 253
TeXDict begin 253 252 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1048 4 918 v 292 234 a Fa(print)40 b(")398 b(create)39
b(an)g(undirected)g(graph,)g(not)g(specify)g(this)g(option)g(means)159
b(\\)213 313 y(create)39 b(a)g(directed)g(graph\\n";)292
392 y(print)h(")79 b(--no-duplicated-edges\\n";)292 471
y(print)40 b(")398 b(create)39 b(an)g(graph)h(with)f(unidirection)f
(edges";)292 550 y(print)i(")79 b(--ignore-isolated-nodes\\n";)292
629 y(print)40 b(")398 b(ignore)39 b(isolated)g(nodes\\n";)292
708 y(print)h("\\n";)292 865 y(exit;)213 944 y(})p 3466
1048 V 185 1051 3285 4 v 1873 5809 a Fk(253)p eop end
%%Page: 254 254
TeXDict begin 254 253 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.5)81 b(cor)o(pus)p 595 210 25 4 v 29 w(to)p 694
210 V 30 w(cos.pl)p 185 295 3165 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(corpus_to_cos.pl)213 556 y(#)g(functionality:)f(Calculates)h(cosine)g
(similarity)f(for)h(a)h(corpus)213 714 y(use)f(strict;)213
793 y(use)g(warnings;)213 951 y(use)g(Getopt::Long;)213
1108 y(use)g(Clair::Cluster;)213 1187 y(use)g(Clair::IDF;)213
1345 y(sub)g(usage;)213 1503 y(my)g($corpus_name)f(=)i("";)213
1582 y(my)f($basedir)g(=)h("produced";)213 1660 y(my)f($out_file)g(=)h
("";)213 1739 y(my)f($sample_size)f(=)i(0;)213 1818 y(my)f($verbose)g
(=)h(0;)213 1897 y(my)f($stem)g(=)h(1;)213 2055 y(my)f($res)h(=)f
(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d("base=s")i(=>)h
(\\$basedir,)412 2134 y("output:s")e(=>)i(\\$out_file,)e("sample=i")g
(=>)i(\\$sample_size,)412 2213 y("stem!")f(=>)g(\\$stem,)g("verbose!")g
(=>)g(\\$verbose\);)213 2370 y(if)g(\(!$res)g(or)h(\($corpus_name)e(eq)
h(""\))h(or)f(\($basedir)g(eq)g(""\)\))h({)292 2449 y(usage\(\);)292
2528 y(exit;)213 2607 y(})213 2765 y(my)f($gen_dir)g(=)h("$basedir";)
213 2922 y(my)f($corpus_data_dir)f(=)h
("$gen_dir/corpus-data/$corpus_name";)213 3001 y(my)g($linkfile)g(=)h
("$corpus_data_dir/$corpus_name.links";)213 3080 y(my)f($doc_to_file)f
(=)i("$corpus_data_dir/")d(.)j($corpus_name)e(.)i("-docid-to-file";)213
3159 y(my)f($doc_to_url)g(=)g("$corpus_data_dir/")e(.)j($corpus_name)e
(.)i("-docid-to-url";)213 3238 y(my)f($compress_dbm)f(=)i
("$corpus_data_dir/")d(.)j($corpus_name)e(.)h("-compress-docid";)213
3396 y(my)g($idf_file)g(=)h("";)213 3475 y(if)f(\($stem\))g({)292
3553 y($idf_file)g(=)h("$corpus_data_dir/")d(.)i($corpus_name)f(.)i
("-idf-s";)213 3632 y(})f(else)h({)292 3711 y($idf_file)f(=)h
("$corpus_data_dir/")d(.)i($corpus_name)f(.)i("-idf";)213
3790 y(})213 3948 y(if)f(\($verbose\))g({)g(print)g("Loading)g(corpus)g
(into)g(cluster\\n";)g(})213 4027 y(my)g($cluster)g(=)h(new)f
(Clair::Cluster;)213 4105 y(load_corpus\($cluster,)d(docid_to_file_dbm)
i(=>)h($doc_to_file\);)213 4263 y($cluster->strip_all_documents;)213
4342 y(if)g(\($stem\))g({)292 4421 y($cluster->stem_all_documents;)213
4500 y(})213 4736 y(if)g(\(-e)h($idf_file\))e({)292 4815
y(open_nidf\($idf_file\);)292 4894 y
(Essence::IDF::open_nidf\($idf_file\);)213 4973 y(})h(else)h({)292
5052 y(print)g(STDERR)f("Could)f(not)i(find)f(IDF)h(file,)f(have)g(you)
g(run)h(index_corpus.pl)d(yet?\\n";)213 5131 y(})213
5289 y(my)i($text_type)g(=)g("";)213 5367 y(if)g(\($stem\))g({)292
5446 y($text_type)g(=)h("stem";)213 5525 y(})f(else)h({)292
5604 y($text_type)f(=)h("text";)p 3346 5708 V 185 5711
3165 4 v 1873 5809 a Fk(254)p eop end
%%Page: 255 255
TeXDict begin 255 254 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 5544 4 5414 v 213 234 a Fa(})213 392 y(my)39
b(\045cos_matrix)g(=)g($cluster->compute_cosine_matrix\(text_type)34
b(=>)40 b($text_type\);)213 550 y(#)f(default)g(to)h(corpus)f(name)g(+)
h(.cos)f(if)h(no)f(output)g(filename)g(given)213 629
y(if)g(\($out_file)g(eq)g(""\))h({)292 708 y($out_file)f(=)h
($corpus_name)e(.)h(".cos";)213 786 y(})213 944 y(my)g(\($vol,)g($dir,)
g($file\);)213 1023 y(\($vol,)g($dir,)g($file\))g(=)g
(File::Spec->splitpath\($out_file\);)213 1102 y(if)g(\($dir)g(ne)h
(""\))f({)292 1181 y(unless)g(\(-d)h($dir\))f({)372 1260
y(mkdir)g($dir)h(or)f(die)g("Couldn't)g(create)g($dir:)g($!";)292
1338 y(})213 1417 y(})213 1654 y($cluster->write_cos\($out_file,)c
(cosine_matrix)j(=>)i(\\\045cos_matrix\);)213 1812 y(#)213
1891 y(#)f(Load)h(a)f(corpus)g(into)h(a)f(cluster)213
1969 y(#)213 2048 y(sub)g(load_corpus)f({)292 2127 y(my)i($self)f(=)h
(shift;)292 2285 y(my)g(\045parameters)e(=)i(@_;)292
2443 y(my)g($property)f(=)g(\()h(defined)f($parameters{property})d(?)
332 2522 y($parameters{propery})h(:)j('pagerank_transition')d(\);)292
2679 y(my)j($ignore_EX)e(=)i(\()g(defined)f($parameters{ignore_EX})d(?)
372 2758 y($parameters{ignore_EX})h(:)i(1)h(\);)292 2916
y(my)g(\045docid_to_file)e(=)h(\(\);)292 3074 y(if)h(\(defined)f
($parameters{docid_to_file_dbm}\))c({)372 3153 y(my)40
b($docid_to_file_dbm_file)c(=)k($parameters{docid_to_file_dbm};)372
3231 y(dbmopen)f(\045docid_to_file,)f($docid_to_file_dbm_file,)e(0666)j
(or)452 3310 y(die)g("Cannot)g(open)g(DBM:)h
($docid_to_file_dbm_file\\n";)292 3389 y(})292 3547 y(my)g(\045id_hash)
f(=)g(\(\);)292 3705 y(foreach)g(my)h($id)f(\(keys)g
(\045docid_to_file\))f({)372 3783 y(if)i(\(not)f(exists)g
($id_hash{$id}\))f({)452 3862 y(if)h(\($id)h(eq)f("EX"\))g({)213
3941 y($id_hash{$id})f(=)h($id;)452 4020 y(})h(else)f({)213
4099 y(my)g($filename)g(=)h($docid_to_file{"$id"};)213
4178 y(my)f(\($vol,)g($dir,)g($fn\))h(=)f
(File::Spec->splitpath\($filename\);)213 4257 y(my)g($doc)h(=)f
(Clair::Document->new\(file)d(=>)k("$filename",)e(id)i(=>)f("$fn",)492
4336 y(type)g(=>)h('html'\);)213 4414 y($self->insert\($doc->get_id,)c
($doc\);)213 4493 y($id_hash{$id})i(=)h($doc;)452 4572
y(})372 4651 y(})292 4730 y(})292 4888 y(return)g($self;)213
4967 y(})213 5203 y(#)213 5282 y(#)g(Print)h(out)f(usage)g(message)213
5361 y(#)213 5440 y(sub)g(usage)p 3187 5544 V 185 5547
3006 4 v 1873 5809 a Fk(255)p eop end
%%Page: 256 256
TeXDict begin 256 255 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2073 4 1943 v 213 234 a Fa({)292 313 y(print)40
b("usage:)e($0)i(-c)f(corpus_name)g(-o)g(out_file)g([-b)g
(base_dir]\\n\\n";)292 392 y(print)h(")79 b(-c)40 b(corpus_name\\n";)
292 471 y(print)g(")278 b(Name)40 b(of)f(the)h(corpus\\n";)292
550 y(print)g(")79 b(-b)40 b(base_dir\\n";)292 629 y(print)g(")278
b(Base)40 b(directory)e(filename.)78 b(The)40 b(corpus)f(is)g(loaded)g
(from)h(here\\n";)292 708 y(print)g(")79 b(-o)40 b(out_file\\n";)292
786 y(print)g(")278 b(Name)40 b(of)f(file)g(to)h(write)f(network)g
(to\\n";)292 865 y(print)h(")79 b(--sample)39 b(sample_size\\n";)292
944 y(print)h(")278 b(Instead)39 b(of)h(computing)e(cosines)h(for)g
(the)h(entire)f(corpus,)g(sample)238 b(\\)213 1023 y(sample_size)38
b(documents)g(uniformly)h(from)g(the)h(document)e(set\\n";)292
1102 y(print)i(")79 b(--stem)39 b(or)h(--no-stem\\n";)292
1181 y(print)g(")278 b(Use)40 b(the)f(stemmed)g(or)h(unstemmed)e
(version)h(of)g(the)h(corpus)f(to)g(generate)79 b(\\)213
1260 y(the)39 b(cosine)g(files,)g(default)g(is)g(stem\\n";)292
1417 y(print)h("\\n";)292 1575 y(print)g("example:)e($0)i(-c)f
(bulgaria)g(-o)g(data/bulgaria.graph)e(-b)877 b(\\)213
1654 y(/data0/projects/lexnets/pipeline/produced\\)o(n";)292
1812 y(exit;)213 1891 y(})p 3466 2073 V 185 2076 3285
4 v 1873 5809 a Fk(256)p eop end
%%Page: 257 257
TeXDict begin 257 256 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.6)81 b(cor)o(pus)p 595 210 25 4 v 29 w(to)p 694
210 V 30 w(cos-thr)o(eaded.pl)p 185 295 3006 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39
b(script:)g(corpus_to_cos-threaded.pl)213 556 y(#)g(functionality:)f
(Calculates)h(cosine)g(similarity)f(using)h(multiple)g(threads)213
635 y(#)213 793 y(use)g(strict;)213 872 y(use)g(warnings;)213
1030 y(use)g(Getopt::Long;)213 1108 y(use)g(Clair::Cluster;)213
1187 y(use)g(MEAD::SimRoutines;)213 1266 y(use)g(Clair::IDF;)213
1345 y(use)g(threads;)213 1424 y(use)g(threads::shared;)213
1503 y(use)g(Thread::Queue;)213 1582 y(use)g(Storable)g(qw\(freeze)f
(thaw)i(dclone\);)213 1739 y(select)f(STDOUT;)g($|)g(=)h(1;)213
1897 y(sub)f(usage;)213 2055 y(my)g($corpus_name)f(=)i("";)213
2134 y(my)f($basedir)g(=)h("produced";)213 2213 y(my)f($output_file)f
(=)i("";)213 2291 y(my)f($sample_size)f(=)i(0;)213 2449
y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d
("base=s")i(=>)h(\\$basedir,)412 2528 y("output:s")e(=>)i
(\\$output_file,)e("sample:i")g(=>)i(\\$sample_size\);)213
2686 y(if)f(\(!$res)g(or)h(\($corpus_name)e(eq)h(""\))h(or)f
(\($basedir)g(eq)g(""\)\))h({)292 2765 y(usage\(\);)292
2844 y(exit;)213 2922 y(})213 3080 y(my)f($gen_dir)g(=)h("$basedir";)
213 3159 y(my)f($verbose)g(=)h(0;)213 3238 y(my)f($documents)g(:)g
(shared;)213 3396 y(my)g($corpus_data_dir)f(=)h
("$gen_dir/corpus-data/$corpus_name";)213 3475 y(my)g($linkfile)g(=)h
("$corpus_data_dir/$corpus_name.links";)213 3553 y(my)f($doc_to_file)f
(=)i("$corpus_data_dir/")d(.)j($corpus_name)e(.)i("-docid-to-file";)213
3632 y(my)f($doc_to_url)g(=)g("$corpus_data_dir/")e(.)j($corpus_name)e
(.)i("-docid-to-url";)213 3711 y(my)f($compress_dbm)f(=)i
("$corpus_data_dir/")d(.)j($corpus_name)e(.)h("-compress-docid";)213
3790 y(my)g($idf_file)g(=)h("$corpus_data_dir/")d(.)i($corpus_name)f(.)
i("-idf-s";)213 3948 y(if)f(\($verbose\))g({)g(print)g("Loading)g
(corpus)g(into)g(cluster\\n";)g(})213 4027 y(my)g($cluster)g(=)h(new)f
(Clair::Cluster;)213 4184 y(print)g("Loading)g(corpus\\n";)213
4263 y(load_corpus\($cluster,)d($sample_size,)i(docid_to_file_dbm)g(=>)
h($doc_to_file\);)213 4421 y($cluster->strip_all_documents;)213
4500 y($cluster->stem_all_documents;)213 4658 y(my)g(\045documents)g(=)
g(\(\);)213 4815 y(print)g("Computing)f(cosine)h(matrix\\n";)213
4973 y(open_nidf\($idf_file\);)213 5131 y(my)g(\045cos_matrix)g(=)g
(compute_cosine_matrix\($cluster,)c(text_type)k(=>)h('stem'\);)213
5289 y(#)f(default)g(to)h(corpus)f(name)g(+)h(.cos)f(if)h(no)f(output)g
(filename)g(given)213 5367 y(if)g(\($output_file)f(eq)i(""\))f({)292
5446 y($output_file)g(=)g($corpus_name)f(.)i(".cos";)213
5525 y(})p 3187 5708 V 185 5711 3006 4 v 1873 5809 a
Fk(257)p eop end
%%Page: 258 258
TeXDict begin 258 257 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2966
4 v 185 5544 4 5414 v 213 234 a Fa($cluster->write_cos\($output_file,)
35 b(cosine_matrix)j(=>)h(\\\045cos_matrix\);)213 392
y(#)213 471 y(#)g(Load)h(a)f(corpus)g(into)h(a)f(cluster)213
550 y(#)213 629 y(sub)g(load_corpus)f({)292 708 y(my)i($self)f(=)h
(shift;)292 786 y(my)g($sample_size)e(=)i(shift;)292
944 y(my)g(\045parameters)e(=)i(@_;)292 1102 y(my)g($property)f(=)g(\()
h(defined)f($parameters{property})d(?)332 1181 y($parameters{propery})h
(:)j('pagerank_transition')d(\);)292 1338 y(my)j($ignore_EX)e(=)i(\()g
(defined)f($parameters{ignore_EX})d(?)372 1417 y
($parameters{ignore_EX})h(:)i(1)h(\);)292 1575 y(my)g
(\045docid_to_file)e(=)h(\(\);)292 1733 y(if)h(\(defined)f
($parameters{docid_to_file_dbm}\))c({)372 1812 y(my)40
b($docid_to_file_dbm_file)c(=)k($parameters{docid_to_file_dbm};)372
1891 y(dbmopen)f(\045docid_to_file,)f($docid_to_file_dbm_file,)e(0666)j
(or)452 1969 y(die)g("Cannot)g(open)g(DBM:)h
($docid_to_file_dbm_file\\n";)292 2048 y(})292 2206 y(my)g(\045id_hash)
f(=)g(\(\);)292 2285 y(my)h(@id_array)f(=)g(\(\);)292
2364 y(my)h(@sample_array)e(=)i(\(\);)292 2443 y(my)g(\045sample_hash)e
(=)i(\(\);)292 2600 y(foreach)f(my)h($id)f(\(keys)g
(\045docid_to_file\))f({)372 2679 y(push)h(@id_array,)g($id;)292
2758 y(})292 2837 y(my)h($id_size)f(=)g(scalar\(@id_array\);)292
2995 y(if)h(\($sample_size)e(>)i(0\))f({)372 3074 y(srand;)372
3153 y(for)h(\(my)f($i)h(=)f(0;)h($i)f(<)h($sample_size;)e($i++\))h({)
452 3231 y(push)g(@sample_array,)f($id_array[int\(rand\($id_size\)\)];)
372 3310 y(})292 3389 y(})i(else)f({)372 3468 y(@sample_array)f(=)i
(@id_array;)292 3547 y(})292 3705 y(print)g("Inserting)e(",)h
(scalar\(@sample_array\),)e(")j(documents)e(into)i(cluster\\n";)292
3783 y(foreach)f(my)h($id)f(\(@sample_array\))f({)372
3862 y(if)i(\(not)f(exists)g($id_hash{$id}\))f({)452
3941 y(if)h(\($id)h(eq)f("EX"\))g({)213 4020 y($id_hash{$id})f(=)h
($id;)452 4099 y(})h(else)f({)213 4178 y(my)g($filename)g(=)h
($docid_to_file{"$id"};)213 4257 y(my)f($doc)h(=)f
(Clair::Document->new\(file)d(=>)k("$filename",)e(id)i(=>)f("$id",)492
4336 y(type)g(=>)h('html'\);)213 4414 y($self->insert\($doc->get_id,)c
($doc\);)213 4493 y($id_hash{$id})i(=)h($doc;)452 4572
y(})372 4651 y(})292 4730 y(})292 4809 y(print)h("\\n";)292
4967 y(return)f($self;)213 5045 y(})213 5282 y(sub)g
(compute_cosine_matrix)e({)292 5361 y(my)j($self)f(=)h(shift;)p
3147 5544 V 185 5547 2966 4 v 1873 5809 a Fk(258)p eop
end
%%Page: 259 259
TeXDict begin 259 258 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2966
4 v 185 5544 4 5414 v 292 234 a Fa(my)40 b(\045parameters)e(=)i(@_;)292
392 y(my)g($text_type)e(=)i("stem";)292 471 y(if)g(\(exists)f
($parameters{text_type}\))d({)372 550 y($text_type)j(=)g
($parameters{text_type};)292 629 y(})292 786 y(#)h(deep)f(copy)h(to)f
(keep)g(threads::shared)f(happy)292 865 y(print)i("Copying)e(documents)
h(object\\n";)292 944 y(\045documents)g(=)h(\045{$self->{documents}};)
292 1102 y(my)g($i)g(=)f(0;)292 1181 y(my)h($j)g(=)f(0;)292
1260 y(my)h(\045cos_hash)f(:)g(shared)g(=)h(\(\);)292
1338 y(my)g($global_count)e(:)i(shared)f(=)g(0;)292 1496
y(#)h(Create)f(the)h(document)e(queue)292 1575 y(print)i("Creating)e
(queue\\n";)292 1654 y(my)i($jobs)f(=)h(new)f(Thread::Queue;)292
1812 y(print)h("Adding)e(",)i(scalar\(keys)e(\045documents\),)g(")i
(documents)e(to)i(queue\\n";)292 1891 y(my)g($sum)f(=)h(0;)292
1969 y(foreach)f(my)h($doc1_key)e(\(keys)h(\045documents\))g({)372
2048 y($i)h(=)f(0;)372 2127 y($j++;)372 2285 y(#)h(setup)f(the)g
(shared)g(variable)372 2364 y(#)h(must)f(create)g(nested)g(shared)g
(data)g(structures)g(by)g(first)g(creating)g(shared)372
2443 y(#)h(leaf)f(nodes)g(\(threads::shared)f(docs\))372
2522 y($cos_hash{$doc1_key})f(=)j(&share\({}\);)372 2679
y(foreach)f(my)h($doc2_key)e(\(keys)h(\045documents\))f({)452
2758 y($i++;)452 2837 y(if)h(\($i)h(<)g($j\))f({)213
2916 y(my)g(@obj)h(=)f(\($doc1_key,)f($doc2_key\);)213
2995 y(#)79 b($sum++;)213 3074 y(#)g(if)40 b(\(\($sum)f(\045)h(1000\))f
(==)g(0\))h({)213 3153 y(#)159 b(print)39 b($sum)g(/)h(1000,)f("\\n";)
213 3231 y(#)79 b(})213 3310 y($jobs->enqueue\(freeze\(\\@obj\)\);)452
3389 y(})372 3468 y(})292 3547 y(})292 3705 y(#)40 b(Create)f(the)h
(worker)e(threads)292 3783 y(print)i("Creating)e(worker)h(threads\\n";)
292 3862 y(my)h($x)g(=)f(0;)292 3941 y(my)h(@threads)f(=)g(\(\);)292
4020 y($threads[$x++])f(=)i(threads->new\(\\&threaded_cosine,)35
b($x,)40 b($jobs,)f(\\\045cos_hash,)213 4099 y(\\$global_count,)e
($text_type\))i(for)g(\(0..3\);)292 4257 y(#)h(wait)f(for)h(them)f(to)h
(exit)292 4336 y($x)g(=)g(0;)292 4414 y($threads[$x++]->join\(\))d(for)
i(\(0..3\);)292 4572 y($self->{cosine_matrix})e(=)j(\\\045cos_hash;)292
4651 y(return)f(\045cos_hash;)213 4730 y(})213 4888 y(sub)g
(threaded_cosine)f({)292 4967 y(my)i($num)f(=)h(shift;)292
5045 y(my)g($jobs)f(=)h(shift;)292 5124 y(my)g($cos_hash)f(=)g(shift;)
292 5203 y(my)h($global_count)e(=)i(shift;)292 5282 y(my)g($text_type)e
(=)i(shift;)292 5440 y(for)g(\(;;\))f({)p 3147 5544 V
185 5547 2966 4 v 1873 5809 a Fk(259)p eop end
%%Page: 260 260
TeXDict begin 260 259 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5307 4 5177 v 372 234 a Fa(my)40 b($commanddata)e(=)h
(thaw\($jobs->dequeue_nb\);)372 313 y(return)g(unless)g($commanddata;)
372 392 y(my)h(\($doc1_key,)e($doc2_key\))g(=)i(@{$commanddata};)372
471 y(my)g($doc1)f(=)h($documents{$doc1_key};)372 550
y(my)g($doc2)f(=)h($documents{$doc2_key};)372 629 y(my)g($cos)f(=)h
(compute_document_cosine\($doc1,)35 b($doc2,)k($text_type\);)213
708 y(#)159 b(print)39 b("thread)g($num:)g($doc1_key\\n";)372
786 y(lock)g(\($cos_hash\);)372 865 y
($cos_hash->{$doc1_key}{$doc2_key})c(=)40 b($cos;)372
944 y($cos_hash->{$doc2_key}{$doc1_key})35 b(=)40 b($cos;)213
1023 y(#)159 b(lock\($$global_count\);)213 1102 y(#)g
($$global_count++;)213 1181 y(#)g(if)40 b(\(\($$global_count)d(\045)j
(10\))f(==)h(0\))f({)213 1260 y(#)239 b(print)39 b($$global_count)f(/)h
(10,)h("\\n";)213 1338 y(#)159 b(})292 1417 y(})213 1496
y(})213 1654 y(#)213 1733 y(#)39 b(Split)h(this)f(out)g(so)h(we)f(can)h
(make)f(use)g(of)h(threading)213 1812 y(#)213 1891 y(sub)f
(compute_document_cosine)e({)292 1969 y(my)j($document1)e(=)i(shift;)
292 2048 y(my)g($document2)e(=)i(shift;)292 2127 y(my)g($text_type)e(=)
i(shift;)292 2285 y(my)g($text1)f(=)h("";)292 2364 y(my)g($text2)f(=)h
("";)292 2443 y(if)g(\($text_type)e(eq)i("stem"\))f({)372
2522 y($text1)g(=)h($document1->get_stem;)372 2600 y($text2)f(=)h
($document2->get_stem;)292 2679 y(})g(elsif)f(\($text_type)f(eq)i
("text"\))f({)372 2758 y($text1)g(=)h($document1->{text};)372
2837 y($text2)f(=)h($document2->{text};)292 2916 y(})292
3074 y(my)g($cos)f(=)h(GetLexSim\($text1,)d($text2\);)292
3231 y(return)i($cos;)213 3310 y(})213 3547 y(#)213 3626
y(#)g(Print)h(out)f(usage)g(message)213 3705 y(#)213
3783 y(sub)g(usage)213 3862 y({)292 3941 y(print)h("usage:)e($0)i(-c)f
(corpus_name)g(-o)g(output_file)f([-b)i(base_dir]\\n\\n";)292
4020 y(print)g(")79 b(-c)40 b(corpus_name\\n";)292 4099
y(print)g(")278 b(Name)40 b(of)f(the)h(corpus\\n";)292
4178 y(print)g(")79 b(-b)40 b(base_dir\\n";)292 4257
y(print)g(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(loaded)g(from)h(here\\n";)292
4336 y(print)g(")79 b(-o)40 b(output_file\\n";)292 4414
y(print)g(")278 b(Name)40 b(of)f(file)g(to)h(write)f(network)g(to\\n";)
292 4493 y(print)h(")79 b(-s,--sample)38 b(n\\n";)292
4572 y(print)i(")278 b(Take)40 b(a)f(sample)g(of)h(size)f(n)h(from)f
(the)g(documents\\n";)292 4651 y(print)h("\\n";)292 4809
y(print)g("example:)e($0)i(-c)f(bulgaria)g(-o)g(data/bulgaria.cos)f(-b)
956 b(\\)213 4888 y(/data0/projects/lexnets/pipeline/produced\\)o(n";)
292 5045 y(exit;)213 5124 y(})p 3466 5307 V 185 5310
3285 4 v 1873 5809 a Fk(260)p eop end
%%Page: 261 261
TeXDict begin 261 260 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.7)81 b(cor)o(pus)p 595 210 25 4 v 29 w(to)p 694
210 V 30 w(lexical)p 951 210 V 28 w(netw)o(ork.pl)p 185
295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(script:)g(corpus_to_lexical_network.pl)213
556 y(#)g(functionality:)f(Generates)h(a)g(lexical)g(network)g(for)g(a)
h(corpus)213 635 y(#)f(In)h(the)f(lexical)g(network,)g(each)g(node)g
(is)h(a)g(word,)f(and)g(an)h(edge)f(exists)g(between)213
714 y(#)g(two)h(words)f(if)h(they)f(occur)g(in)g(the)h(same)f
(sentences.)78 b(Multiple)39 b(occurences)f(are)213 793
y(#)h(weighted)g(more.)213 872 y(#)213 1030 y(use)g(strict;)213
1108 y(use)g(warnings;)213 1266 y(use)g(Getopt::Long;)213
1424 y(use)g(Clair::Cluster;)213 1503 y(use)g
(Clair::Network::Writer::Edgelist;)213 1582 y(#mjschal)f(was)i(here,)f
(removing)g(references)f(to)h(Essence.)79 b(This)39 b(doesn't)g(appear)
g(to)h(be)119 b(\\)213 1660 y(used:)213 1739 y(#use)39
b(Essence::IDF;)213 1897 y(sub)g(usage;)213 2055 y(my)g($corpus_name)f
(=)i("";)213 2134 y(my)f($basedir)g(=)h("produced";)213
2213 y(my)f($output_file)f(=)i("";)213 2291 y(my)f($sample_size)f(=)i
(0;)213 2370 y(my)f($verbose)g(=)h(0;)213 2449 y(my)f($stem)g(=)h(1;)
213 2607 y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j
(\\$corpus_name,)d("base=s")i(=>)h(\\$basedir,)412 2686
y("output:s")e(=>)i(\\$output_file,)412 2765 y("stem!")f(=>)g(\\$stem,)
g("verbose!")g(=>)g(\\$verbose\);)213 2922 y(if)g(\(!$res)g(or)h
(\($corpus_name)e(eq)h(""\))h(or)f(\($basedir)g(eq)g(""\)\))h({)292
3001 y(usage\(\);)292 3080 y(exit;)213 3159 y(})213 3317
y(my)f($gen_dir)g(=)h("$basedir";)213 3475 y(my)f($corpus_data_dir)f(=)
h("$gen_dir/corpus-data/$corpus_name";)213 3553 y(my)g($doc_to_file)f
(=)i("$corpus_data_dir/")d(.)j($corpus_name)e(.)i("-docid-to-file";)213
3711 y(if)f(\($verbose\))g({)g(print)g("Loading)g(corpus)g(into)g
(cluster\\n";)g(})213 3790 y(my)g($cluster)g(=)h(new)f(Clair::Cluster;)
213 3869 y($cluster->load_corpus\($corpus_name,)34 b(docid_to_file_dbm)
k(=>)h($doc_to_file\);)213 4027 y(if)g(\($verbose\))g({)g(print)g
("Stripping)g(cluster\\n";)f(})213 4105 y
($cluster->strip_all_documents;)213 4184 y(if)h(\($verbose\))g({)g
(print)g("Stemming)g(cluster\\n";)f(})213 4263 y(if)h(\($stem\))g({)292
4342 y($cluster->stem_all_documents;)213 4421 y(})213
4579 y(if)g(\($verbose\))g({)g(print)g("Creating)g(network\\n";)f(})213
4658 y(my)h($network)g(=)h($cluster->create_lexical_network\(\);)213
4815 y(if)f(\($output_file)f(ne)i(""\))f({)292 4894 y(my)h($export)f(=)
h(Clair::Network::Writer::Edgelist->new\(\);)292 4973
y($export->write_network\($network,)c($output_file,)h(weights)i(=>)h
(1\);)213 5052 y(})213 5289 y(#)213 5367 y(#)f(Print)h(out)f(usage)g
(message)213 5446 y(#)213 5525 y(sub)g(usage)213 5604
y({)p 3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(261)p
eop end
%%Page: 262 262
TeXDict begin 262 261 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1600 4 1470 v 292 234 a Fa(print)40 b("usage:)e($0)i(-c)f
(corpus_name)g(-o)g(output_file)f([-b)i(base_dir]\\n\\n";)292
313 y(print)g(")79 b(-c)40 b(corpus_name\\n";)292 392
y(print)g(")278 b(Name)40 b(of)f(the)h(corpus\\n";)292
471 y(print)g(")79 b(-b)40 b(base_dir\\n";)292 550 y(print)g(")278
b(Base)40 b(directory)e(filename.)78 b(The)40 b(corpus)f(is)g(loaded)g
(from)h(here\\n";)292 629 y(print)g(")79 b(-o)40 b(output_file\\n";)292
708 y(print)g(")278 b(Name)40 b(of)f(file)g(to)h(write)f(network)g
(to\\n";)292 786 y(print)h(")79 b(--stem)39 b(or)h(--no-stem\\n";)292
865 y(print)g(")278 b(Use)40 b(the)f(stemmed)g(or)h(unstemmed)e
(version)h(of)g(the)h(corpus)f(to)g(generate)79 b(\\)213
944 y(the)39 b(network\\n";)292 1102 y(print)h("\\n";)292
1260 y(print)g("example:)e($0)i(-c)f(bulgaria)g(-o)g(bulgaria.graph)f
(-b)i(produced\\n";)292 1417 y(exit;)213 1496 y(})p 3466
1600 V 185 1603 3285 4 v 1873 5809 a Fk(262)p eop end
%%Page: 263 263
TeXDict begin 263 262 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.8)81 b(cor)o(pus)p 595 210 25 4 v 29 w(to)p 694
210 V 30 w(netw)o(ork.pl)p 185 295 3006 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39
b(script:)g(corpus_to_network.pl)213 556 y(#)g(functionality:)f
(Generates)h(a)g(hyperlink)g(network)g(from)g(corpus)g(HTML)g(files)213
714 y(use)g(strict;)213 793 y(use)g(warnings;)213 951
y(use)g(Getopt::Std;)213 1030 y(use)g(vars)g(qw/)h(\045opt)f(/;)213
1108 y(use)g(Clair::Network;)213 1187 y(use)g
(Clair::Network::Writer::Edgelist;)213 1266 y(use)g
(Clair::Utils::TFIDFUtils;)213 1424 y(sub)g(usage;)213
1582 y(my)g($opt_string)g(=)g("c:b:o:";)213 1660 y
(getopts\("$opt_string",)d(\\\045opt\))j(or)h(usage\(\);)213
1818 y(my)f($corpus_name)f(=)i("";)213 1897 y(if)f(\($opt{"c"}\))g({)
292 1976 y($corpus_name)g(=)g($opt{"c"};)213 2055 y(})g(else)h({)292
2134 y(usage\(\);)292 2213 y(exit;)213 2291 y(})213 2449
y(my)f($basedir)g(=)h("produced";)213 2528 y(if)f(\($opt{"b"}\))g({)292
2607 y($basedir)g(=)h($opt{"b"};)213 2686 y(})213 2765
y(my)f($gen_dir)g(=)h("$basedir";)213 2922 y(my)f($output_file)f(=)i
("";)213 3001 y(if)f(\($opt{"o"}\))g({)292 3080 y($output_file)g(=)g
($opt{"o"};)213 3159 y(#)79 b(open\(OUTFILE,)38 b(">)i
($output_file"\);)213 3238 y(})f(else)h({)213 3317 y(#)332
3329 y(*)372 3317 y(OUTFILE)f(=)771 3329 y(*)811 3317
y(STDOUT;)292 3396 y(usage\(\);)292 3475 y(exit;)213
3553 y(})213 3711 y(my)g($verbose)g(=)h(0;)213 3948 y(my)f
($corpus_data_dir)f(=)h("$gen_dir/corpus-data/$corpus_name";)213
4027 y(my)g($linkfile)g(=)h("$corpus_data_dir/$corpus_name.links";)213
4105 y(my)f($doc_to_file)f(=)i("$corpus_data_dir/")d(.)j($corpus_name)e
(.)i("-docid-to-file";)213 4184 y(my)f($doc_to_url)g(=)g
("$corpus_data_dir/")e(.)j($corpus_name)e(.)i("-docid-to-url";)213
4263 y(my)f($compress_dbm)f(=)i("$corpus_data_dir/")d(.)j($corpus_name)
e(.)h("-compress-docid";)213 4500 y(if)g(\($verbose\))g({)g(print)g
("Generating)g(hyperlink)f(network\\n";)g(})213 4579
y(my)h($network)g(=)h(Clair::Network->new_hyperlink_network\($lin)o
(kfile,)372 4658 y(docid_to_file_dbm)d(=>)372 4736 y($doc_to_file,)372
4815 y(compress_docid)h(=>)372 4894 y($compress_dbm\);)213
5052 y(if)h(\($output_file)f(ne)i(""\))f({)292 5131 y
(write_links\($network,)e($output_file,)h($doc_to_url\);)213
5210 y(})213 5446 y(#)213 5525 y(#)h(Like)h(write_links)e(in)h
(Clair::Network,)f(but)h(print)h(the)f(URL)g(too)213
5604 y(#)p 3187 5708 V 185 5711 3006 4 v 1873 5809 a
Fk(263)p eop end
%%Page: 264 264
TeXDict begin 264 263 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3086
4 v 185 5544 4 5414 v 213 234 a Fa(sub)39 b(write_links)213
313 y({)292 392 y(my)h($self)f(=)h(shift;)292 471 y(my)g($graph)f(=)h
($self->{graph};)292 629 y(my)g($filename)f(=)g(shift;)292
708 y(my)h($doc_to_url)e(=)i(shift;)292 865 y(my)g(\045parameters)e(=)i
(@_;)292 944 y(my)g($skip_duplicates)d(=)j(0;)292 1023
y(if)g(\(exists)f($parameters{skip_duplicates})c(&&)452
1102 y($parameters{skip_duplicates})h(==)j(1\))h({)372
1181 y($skip_duplicates)e(=)h(1;)292 1260 y(})292 1417
y(my)h($transpose)e(=)i(0;)292 1496 y(if)g(\(exists)f
($parameters{transpose})d(and)k($parameters{transpose})c(==)k(1\))f({)
372 1575 y($transpose)g(=)g(1;)292 1654 y(})292 1812
y(open\(FILE,)g(">)g($filename"\))g(or)g(die)h("Could)e(not)i(open)f
(file:)g($filename\\n";)292 1969 y(my)h(\045seen_edges)e(=)i(\(\);)292
2127 y(#)g(Open)f(docid)h(to)f(URL)g(database)292 2206
y(my)h(\045docid_to_url_dbm)d(=)j(\(\);)292 2285 y(dbmopen)f
(\045docid_to_url_dbm,)e($doc_to_url,)h(0444)i(or)f(die;)292
2443 y(foreach)g(my)h($e)f(\($graph->edges\))f({)372
2522 y(my)i($u;)372 2600 y(my)g($v;)372 2758 y(\($u,)f($v\))h(=)g(@$e;)
372 2837 y(if)g(\($u)f(ne)h("EX"\))f({)452 2916 y($u)g(=)h
($docid_to_url_dbm{$u->get_id\(\)};)372 2995 y(})372
3074 y(if)g(\($v)f(ne)h("EX"\))f({)452 3153 y($v)g(=)h
($docid_to_url_dbm{$v->get_id\(\)};)372 3231 y(})372
3310 y(if)g(\($transpose)e(==)h(1\))h({)452 3389 y(my)f($temp)h(=)f
($u;)452 3468 y($u)g(=)h($v;)452 3547 y($v)f(=)h($temp;)372
3626 y(})372 3783 y(if)g(\($skip_duplicates)77 b(==)39
b(1)h(||)g(not)f(exists)g($seen_edges{"$u,$v"}\))e({)452
3862 y(print\(FILE)h("$u)i($v\\n"\);)452 3941 y($seen_edges{"$u,$v"})d
(=)i(1;)372 4020 y(})292 4099 y(})292 4257 y(dbmclose)g
(\045docid_to_url_dbm;)292 4336 y(close\(FILE\);)213
4414 y(})213 4651 y(#)213 4730 y(#)g(Print)h(out)f(usage)g(message)213
4809 y(#)213 4888 y(sub)g(usage)213 4967 y({)292 5045
y(print)h("usage:)e($0)i(-c)f(corpus_name)g(-o)g(output_file)f([-b)i
(base_dir]\\n\\n";)292 5124 y(print)g(")79 b(-c)40 b(corpus_name\\n";)
292 5203 y(print)g(")278 b(Name)40 b(of)f(the)h(corpus\\n";)292
5282 y(print)g(")79 b(-b)40 b(base_dir\\n";)292 5361
y(print)g(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(loaded)g(from)h(here\\n";)292
5440 y(print)g(")79 b(-o)40 b(output_file\\n";)p 3266
5544 V 185 5547 3086 4 v 1873 5809 a Fk(264)p eop end
%%Page: 265 265
TeXDict begin 265 264 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 969 4 839 v 292 234 a Fa(print)40 b(")278 b(Name)40
b(of)f(file)g(to)h(write)f(network)g(to\\n";)292 313
y(print)h("\\n";)292 471 y(print)g("example:)e($0)i(-c)f(bulgaria)g(-o)
g(data/bulgaria.graph)e(-b)877 b(\\)213 550 y
(/data0/projects/lexnets/pipeline/produced\\)o(n";)292
708 y(exit;)213 786 y(})p 3466 969 V 185 972 3285 4 v
1873 5809 a Fk(265)p eop end
%%Page: 266 266
TeXDict begin 266 265 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.9)81 b(cos)p 467 210 25 4 v 29 w(to)p 566 210
V 29 w(cosplots.pl)p 185 295 2966 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(cos_to_cosplots.pl)213 556 y(#)g(functionality:)f(Generates)h(cosine)g
(distribution)f(plots,)h(creating)f(a)213 635 y(#)h(functionality:)f
(histogram)h(in)g(log-log)g(space,)g(and)g(a)h(cumulative)f(cosine)f
(plot)213 714 y(#)h(functionality:)f(histogram)h(in)g(log-log)g(space)
213 793 y(#)213 872 y(#)g(Based)h(on)f(the)h(make_cosiine_plots.pl)c
(script)j(by)h(Alex)213 951 y(#)213 1108 y(use)f(strict;)213
1187 y(use)g(warnings;)213 1345 y(use)g(File::Spec;)213
1424 y(use)g(Getopt::Long;)213 1582 y(sub)g(usage;)213
1739 y(sub)g(plot)g({)292 1818 y(my)h($fh)f(=)h(shift;)292
1897 y(my)g($data)f(=)h(shift;)292 2055 y(print)g($fh)f
("plot\($data\);\\n";)213 2134 y(})213 2291 y(sub)g(loglog_plot)f({)292
2370 y(my)i($fh)f(=)h(shift;)292 2449 y(my)g($data)f(=)h(shift;)292
2607 y(print)g($fh)f("loglog\($data\);\\n";)213 2686
y(})213 2844 y(sub)g(set_labels)g({)292 2922 y(my)h($fh)f(=)h(shift;)
292 3001 y(my)g($title)f(=)h(shift;)292 3080 y(my)g($xlabel)f(=)h
(shift;)292 3159 y(my)g($ylabel)f(=)h(shift;)292 3317
y(print)g($fh)f("title\(['")f(.)i($title)f(.)h("']\);\\n";)292
3396 y(print)g($fh)f("xlabel\('")f(.)i($xlabel)f(.)h("'\);\\n";)292
3475 y(print)g($fh)f("ylabel\('")f(.)i($ylabel)f(.)h("'\);\\n";)213
3553 y(})213 3790 y(sub)f(set_font)g({)292 3869 y(my)h($fh)f(=)h
(shift;)292 4027 y(#)g(Change)f(label)g(font)g(sizes)292
4105 y(print)h($fh)f("h)h(=)f(get\(gca,)g('title'\);\\n";)292
4184 y(print)h($fh)f("set\(h,)g('FontSize',)f(16\);\\n";)292
4263 y(print)i($fh)f("h)h(=)f(get\(gca,)g('xlabel'\);\\n";)292
4342 y(print)h($fh)f("set\(h,)g('FontSize',)f(16\);\\n";)292
4421 y(print)i($fh)f("h)h(=)f(get\(gca,)g('ylabel'\);\\n";)292
4500 y(print)h($fh)f("set\(h,)g('FontSize',)f(16\);\\n";)213
4579 y(})213 4736 y(sub)h(save_plot)g({)292 4815 y(my)h($fh)f(=)h
(shift;)292 4894 y(my)g($fn)f(=)h(shift;)292 5052 y(print)g($fh)f("v)h
(=)f(axis;\\n";)292 5131 y(print)h($fh)f("v\(1\))g(=)h(0;)f(v\(2\))h(=)
f(1;\\n";)292 5210 y(print)h($fh)f("axis\(v\)\\n";)292
5289 y(print)h($fh)f("print)g(\('-deps',)f('$fn.eps'\)\\n";)292
5367 y(print)i($fh)f("saveas\(gcf,)f('$fn.jpg',)g('jpg'\);)h(\\n";)213
5446 y(})213 5604 y(sub)g(plot_all)g({)p 3147 5708 V
185 5711 2966 4 v 1873 5809 a Fk(266)p eop end
%%Page: 267 267
TeXDict begin 267 266 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2966
4 v 185 5544 4 5414 v 292 234 a Fa(my)40 b($fh)f(=)h(shift;)292
313 y(my)g($type)f(=)h(shift;)292 392 y(my)g($num)f(=)h(shift;)292
550 y(my)g($held)f(=)h(0;)292 629 y(for)g(\(my)f($i)h(=)g(1;)f($i)h(<=)
f($num;)g($i++\))g({)372 708 y(if)h(\($type)f(eq)g("loglog"\))g({)452
786 y(loglog_plot\($fh,)e("x\(:,1,$i\),)i(x\(:,2,$i\)"\);)372
865 y(})h(elsif)f(\($type)g(eq)g("plot"\))g({)452 944
y(plot\($fh,)f("x\(:,1,$i\),)h(x\(:,2,$i\)"\);)372 1023
y(})372 1102 y(if)h(\(!$held\))e({)452 1181 y(print)h($fh)g("hold)g
(all;\\n";)452 1260 y($held)g(=)h(1;)372 1338 y(})292
1417 y(})213 1496 y(})213 1654 y(sub)f(write_cosine_hist)e({)292
1733 y(my)j($fh)f(=)h(shift;)292 1812 y(my)g($name)f(=)h(shift;)292
1891 y(my)g($fn)f(=)h(shift;)292 1969 y(my)g($type)f(=)h(shift;)292
2048 y(my)g($num)f(=)h(shift;)292 2206 y(plot_all\($fh,)e($type,)h
($num\);)292 2285 y(set_labels\($fh,)f("Number)h(of)g(pairs)h(per)f
(cosine)g(in)g($name",)731 2364 y("Cosine)g(Value",)731
2443 y("Number)g(of)g(pairs"\);)292 2522 y(set_font\($fh\);)292
2600 y(save_plot\($fh,)f($fn\);)213 2679 y(})213 2837
y(sub)h(write_cumulative_cosine)e({)292 2916 y(my)j($fh)f(=)h(shift;)
292 2995 y(my)g($name)f(=)h(shift;)292 3074 y(my)g($fn)f(=)h(shift;)292
3153 y(my)g($type)f(=)h(shift;)292 3231 y(my)g($num)f(=)h(shift;)292
3389 y(plot_all\($fh,)e($type,)h($num\);)292 3468 y(set_labels\($fh,)f
("Number)h(of)g(pairs)h(per)f(cosine)g(in)g($name",)731
3547 y("Cosine)g(Threshold)f(Value",)731 3626 y("Number)h(of)g(pairs)g
(w/cosine)g(less)g(than)g(or)h(equal)f(to)h(threshold"\);)292
3705 y(set_font\($fh\);)292 3783 y(save_plot\($fh,)e($fn\);)213
3862 y(})213 4020 y(my)h(@cos_files)g(=)g(\(\);)213 4099
y(my)g($num_bins)g(=)h(100;)213 4178 y(my)f($output_name)f(=)i("";)213
4336 y(my)f($res)h(=)f(GetOptions\("input=s")e(=>)j(\\@cos_files,)e
("bins:i")g(=>)i(\\$num_bins,)1050 4414 y("output=s")e(=>)i
(\\$output_name\);)213 4572 y(if)f(\(!$res)g(||)h(\(!@cos_files\))e(||)
h(\($output_name)f(eq)i(""\)\))f({)292 4651 y(print)h("please)e
(provide)h(both)g(input)h(and)f(output)g(file)g(name\\n";)292
4730 y(usage\(\);)292 4809 y(exit;)213 4888 y(})213 5045
y(my)g($fname)g(=)h($output_name)e(.)i("-cosine-hist.m";)213
5124 y(my)f($fname2)g(=)h($output_name)e(.)i("-cosine-cumulative.m";)
213 5203 y(open\(OUT,">$fname"\))d(or)i(die)h(\("Cannot)e(write)h(to)h
($fname"\);)213 5282 y(open\(OUT2,">$fname2"\))c(or)k(die)f(\("Cannot)g
(write)g(to)h($fname2"\);)213 5440 y(my)f($i)h(=)g(0;)p
3147 5544 V 185 5547 2966 4 v 1873 5809 a Fk(267)p eop
end
%%Page: 268 268
TeXDict begin 268 267 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 5544 4 5414 v 213 234 a Fa(foreach)39 b(my)g($cos_file)g
(\(@cos_files\))f({)292 313 y($i++;)292 392 y(my)i($cosines)f(=)g
("$cos_file";)292 550 y(my)h(@link_bin)f(=)g(\(\);)292
629 y($link_bin[$num_bins])e(=)j(0;)292 786 y(my)g($link_total)e(=)i
(0;)292 865 y(my)g($link_count)e(=)i(0;)292 944 y(my)g(\045cos_hash)f
(=)g(\(\);)292 1102 y(my)h(\($doc1,)79 b($doc2,)f($cos\);)292
1181 y(open)40 b(\(COS,)f($cosines\))f(or)i(die)f("cannot)g(open)g
($cosines\\n";)292 1338 y(while\(<COS>\))g({)372 1417
y(chomp;)372 1496 y(\($doc1,)g($doc2,)g($cos\))g(=)h(split;)372
1575 y(my)g($key1)f(=)h("$doc1)e($doc2";)372 1654 y(my)i($key2)f(=)h
("$doc2)e($doc1";)372 1812 y(if)i(\(\($doc1)f(ne)g($doc2\))g(&&)532
1891 y(!\(exists)f($cos_hash{$key2}\))g(&&)532 1969 y(!\(exists)g
($cos_hash{$key1}\)\))f({)452 2127 y($cos_hash{$key1})g(=)j(1;)452
2206 y(my)f($c)h(=)g($cos;)452 2285 y(my)f($d)h(=)g(get_index\($c\);)
452 2364 y($link_bin[$d]++;)452 2443 y($link_total)e(+=)i($cos;)452
2522 y($link_count++;)372 2600 y(})292 2679 y(})292 2758
y(close\(COS\);)292 2916 y(#)g(print)f(final)g(info)292
2995 y(print)h("average)e(cosine)h(is)h(")f(.)h
($link_total/$link_count)d(.)i("\\n")h(if)372 3074 y($link_count>0;)292
3231 y(my)g($cumulative=0;)292 3389 y(print)g(OUT)f("x\(:,:,$i\))f(=)i
([";)292 3468 y(print)g(OUT2)f("x\(:,:,$i\))f(=)i([";)292
3547 y(foreach)f(my)h($i)f(\(0..$#link_bin\))f({)372
3626 y(my)i($out)f(=)h($link_bin[$i];)372 3705 y(if\(not)f(defined)g
($link_bin[$i]\))f({)452 3783 y($out)h(=)h(0;)372 3862
y(})372 3941 y($cumulative+=)e($out;)372 4020 y(my)i($thres)f(=)g
($i/100;)372 4099 y(#)120 b(print)39 b("$thres)f($out\\n";)372
4178 y(print)h(OUT)h("$thres)e($out;\\n";)372 4257 y(print)h(OUT2)h
("$thres)e($cumulative;\\n";)292 4336 y(})292 4414 y(print)i(OUT)f
("];\\n";)292 4493 y(print)h(OUT2)f("];\\n";)213 4572
y(})213 4809 y(my)g($out_filename;)213 4967 y($out_filename)f(=)h
($output_name)f(.)i("-cosine-hist-loglog";)213 5045 y
(write_cosine_hist\()933 5057 y(*)973 5045 y(OUT,)c($output_name,)i
($out_filename,)g("loglog",)g($i\);)213 5124 y(print)h(OUT)g("hold)g
(off;\\n\\n";)213 5282 y($out_filename)f(=)h($output_name)f(.)i
("-cosine-cumulative-loglog";)213 5361 y(write_cumulative_cosine\()1173
5373 y(*)1213 5361 y(OUT2,)35 b($output_name,)j($out_filename,)g
("loglog",)g($i\);)213 5440 y(print)h(OUT2)g("hold)g(off;\\n\\n";)p
3187 5544 V 185 5547 3006 4 v 1873 5809 a Fk(268)p eop
end
%%Page: 269 269
TeXDict begin 269 268 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3125
4 v 185 2862 4 2732 v 213 313 a Fa($out_filename)38 b(=)h($output_name)
f(.)i("-cosine-hist";)213 392 y(write_cosine_hist\()933
404 y(*)973 392 y(OUT,)c($output_name,)78 b($out_filename,)38
b("plot",)h($i\);)213 550 y($out_filename)f(=)h($output_name)f(.)i
("-cosine-cumulative";)213 629 y(write_cumulative_cosine\()1173
641 y(*)1213 629 y(OUT2,)35 b($output_name,)j($out_filename,)g("plot",)
h($i\);)213 786 y(close)g(OUT;)213 865 y(close)g(OUT2;)213
1102 y(sub)g(get_index)g({)292 1181 y(my)h($d)g(=)f(shift;)292
1260 y(my)h($c)g(=)f(int\($d)890 1272 y(*)970 1260 y
($num_bins+0.000001\);)213 1338 y(#)79 b(print)39 b("$c)h($d\\n";)292
1417 y(return)f($c;)213 1496 y(})213 1654 y(sub)g(usage)g({)292
1733 y(print)h("Usage)f($0)g(--input)g(input_file)f([--bins)h
(num_bins]\\n\\n";)292 1812 y(print)h(")79 b(--input)39
b(input_file\\n";)292 1891 y(print)h(")278 b(Name)40
b(of)f(the)h(input)f(graph)g(file.)79 b(Multiple)38 b(inputs)h(can)h
(be\\n";)292 1969 y(print)g(")278 b(specified.)79 b(Simply)39
b(add)g(additional)f(--input)h(arguments\\n";)292 2048
y(print)h(")79 b(--output)39 b(outputprefix\\n";)292
2127 y(print)h(")278 b(Prefix)39 b(to)h(append)f(to)g(output)g(files.)
79 b(Also,)39 b(title)g(to)h(use)f(for\\n";)292 2206
y(print)h(")278 b(graphs\\n";)292 2285 y(print)40 b(")79
b(--bins)39 b(num_bins\\n";)292 2364 y(print)h(")278
b(Number)39 b(of)h(bis\\n";)292 2443 y(print)g(")278
b(num_bins)39 b(is)h(optional,)e(and)h(defaults)g(to)h(100\\n";)292
2522 y(print)g("\\n";)292 2600 y(exit;)213 2679 y(})p
3306 2862 V 185 2865 3125 4 v 1873 5809 a Fk(269)p eop
end
%%Page: 270 270
TeXDict begin 270 269 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.10)80 b(cos)p 508 210 25 4 v 30 w(to)p 608 210
V 29 w(histograms.pl)p 185 295 3086 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(cos_to_histograms.pl)213 556 y(#)g(functionality:)f(Generates)h
(degree)g(distribution)f(histograms)g(from)213 635 y(#)h
(functionality:)f(degree)h(distribution)f(data)213 793
y(use)h(strict;)213 872 y(use)g(warnings;)213 1030 y(use)g(File::Spec;)
213 1108 y(use)g(Getopt::Long;)213 1187 y(use)g(Clair::Network;)213
1345 y(sub)g(usage;)213 1503 y(my)g($graph_file)g(=)g("";)213
1582 y(my)g($output_file)f(=)i("";)213 1660 y(my)f($start)g(=)h(0.0;)
213 1739 y(my)f($end)h(=)f(1.0;)213 1818 y(my)g($inc)h(=)f(0.01;)213
1897 y(my)g($hists)g(=)h(1;)213 1976 y(my)f($verbose)g(=)h(0;)213
2055 y(#my)f($matlab_script)f(=)i
("/data0/projects/lr/plots/distplots.m";)213 2213 y(my)f($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$graph_file,)e("output=s")g(=>)i
(\\$output_file,)1050 2291 y("start=f")e(=>)i(\\$start,)e("end=f")h(=>)
h(\\$end,)1050 2370 y("step=f")e(=>)i(\\$inc,)1050 2449
y("hists!")e(=>)i(\\$hists,)e("verbose")h(=>)h(\\$verbose\);)213
2607 y(if)f(\(!$res)g(or)h(\($graph_file)e(eq)h(""\)\))h({)292
2686 y(usage\(\);)292 2765 y(exit;)213 2844 y(})213 3001
y(unless)f(\(-d)g("plots"\))g({)292 3080 y(mkdir)h("plots")e(or)i(die)f
("Couldn't)g(create)g(plots)g(directory:)f($!";)213 3159
y(})213 3317 y(my)h(\($vol,)g($dir,)g($hist_prefix\))f(=)i
(File::Spec->splitpath\($graph_file\);)213 3396 y($hist_prefix)e(=\230)
h(s/\\.cos//;)213 3553 y(if)g(\($verbose\))g({)g(print)g(STDERR)g
("Loading)g($graph_file\\n";)f(})213 3632 y(my)h(@edges)g(=)h
(load_cos\($graph_file\);)213 3790 y(my)f($max_degree)g(=)g(0;)213
3948 y(if)g(\($hists\))g({)292 4027 y(for)h(\(my)f($i)h(=)g($start;)e
($i)i(<=)f($end;)h($i)f(+=)h($inc\))f({)372 4105 y(#)h(below)f(is)h
(because)e(of)i(some)f(strange)g(rounding)g(bug)g(on)h(the)f(linux)g
(machines)372 4184 y($i)h(=)f(sprintf\("\045.4f",)f($i\);)372
4263 y(my)i($cutoff)f(=)g(sprintf\("\045.2f",)f($i\);)372
4342 y(my)i(@filtered)e(=)i(filter_cosine\(\\@edges,)c($cutoff\);)372
4421 y(my)k(@hist)f(=)h(link_degree\(\\@filtered\);)372
4500 y(if)g(\(scalar\(@hist\))d(>)j($max_degree\))e({)452
4579 y($max_degree)g(=)i(scalar\(@hist\);)372 4658 y(})372
4736 y(write_hist\("hists",)d($hist_prefix)h(.)i(".")f(.)h($cutoff)f(.)
h(".hist",)e(\\@hist\);)292 4815 y(})213 4894 y(})h(else)h({)292
4973 y(if)g(\($verbose\))e({)i(print)f(STDERR)g("Skipping)g(writing)f
(histogram)h(files\\n";)f(})213 5052 y(})213 5210 y
(write_plot\("hists",)f($hist_prefix,)h($start,)g($end,)i($inc,)f
($max_degree\);)213 5446 y(#)213 5525 y(#)g(Write)h(the)f(matlab)g
(plot)g(for)h(the)f(cutoff)g(files)213 5604 y(#)p 3266
5708 V 185 5711 3086 4 v 1873 5809 a Fk(270)p eop end
%%Page: 271 271
TeXDict begin 271 270 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(sub)39 b(write_plot)g({)292
313 y(my)h($dir)f(=)h(shift;)292 392 y(my)g($file)f(=)h(shift;)292
471 y(my)g($start)f(=)h(shift;)292 550 y(my)g($end)f(=)h(shift;)292
629 y(my)g($inc)f(=)h(shift;)292 708 y(my)g($max_degree)e(=)i(shift;)
292 865 y(my)g(@hists)f(=)h(\(\);)292 944 y(my)g(@cutoffs)f(=)g(\(\);)
292 1023 y(for)h(\(my)f($i)h(=)g($end;)f($i)g(>)h($start;)f($i)g(-=)h
($inc\))f({)372 1102 y(#)h(below)f(is)h(because)e(of)i(some)f(strange)g
(rounding)g(bug)g(on)h(the)f(linux)g(machines)372 1181
y($i)h(=)f(sprintf\("\045.4f",)f($i\);)372 1260 y(my)i($cutoff)f(=)g
(sprintf\("\045.2f",)f($i\);)372 1338 y(push)h(\(@hists,)g($dir)g(.)h
("/")f(.)h($file)f(.)h(".")f(.)h($cutoff)f(.)h(".hist"\);)372
1417 y(push)f(\(@cutoffs,)g($cutoff\);)292 1496 y(})292
1654 y(open\(MYOUTFILE,)f(">$file-distplots.m"\);)292
1733 y(my)i($file_count)e(=)i(0;)292 1812 y(my)g($color_index)e(=)i(5;)
292 1891 y(my)g($x)g(=)f("";)292 1969 y(my)h($y)g(=)f("";)292
2048 y(my)h($c)g(=)f("";)292 2206 y(foreach)g(my)h($hist)f(\(@hists\))g
({)372 2285 y(chomp\($hist\);)372 2443 y(my)h($max_degree)e(=)i(100;)
372 2522 y(print)f(MYOUTFILE)g("y$file_count)f(=)h(load\('$hist'\);)f
(\\n";)372 2679 y(print)h(MYOUTFILE)g("y$file_count)f(=)h
(load\('$hist'\);)f(\\n";)372 2837 y(print)h(MYOUTFILE)g("if)g
(length\(y$file_count\))e(<)j($max_degree)e(\\n";)372
2916 y(print)h(MYOUTFILE)g(")79 b(y$file_count)38 b(=)i([y$file_count)e
(zeros\(1,)h($max_degree)f(-)239 b(\\)213 2995 y(size\(y$file_count,)37
b(2\)\)];\\n";)372 3074 y(print)i(MYOUTFILE)g("elseif)g
(length\(y$file_count\))d(>)k($max_degree\\n";)372 3153
y(print)f(MYOUTFILE)g(")79 b(y$file_count)38 b(=)i
(y$file_count\(1:$max_degree\);)c(\\n";)372 3231 y(print)j(MYOUTFILE)g
("end)g(\\n";)372 3310 y(print)g(MYOUTFILE)g("\\n";)372
3468 y($y)h(=)f($y."y".$file_count.";)e(";)372 3547 y($x)j(=)f
($x."1:1:length\(y0\);)e(";)372 3626 y($c)j(=)f($c."temp)891
3638 y(*)931 3626 y($color_index;";)372 3705 y($file_count++;)372
3783 y($color_index)f(=)i($color_index)e(+)i(5;)292 3862
y(})292 3941 y(print)g(MYOUTFILE)e("Y)i(=)f([)h($y)g(];)f(\\n";)292
4020 y(print)h(MYOUTFILE)e("X)i(=)f([)h($x)g(];)f(\\n";)292
4099 y(#hard)h(coded)f(to)g(y0)292 4178 y(print)h(MYOUTFILE)e("temp)h
(=)h(ones\(1,length\(y0\))d(\);)j(\\n";)292 4336 y(my)g($z)g(=)f("";)
292 4414 y(foreach)g($c)h(\(@cutoffs\))e({)372 4493 y(chomp\($c\);)372
4572 y($z)i(=)f($z."temp)891 4584 y(*)931 4572 y(".$c.";)f(";)292
4651 y(})292 4809 y(print)i(MYOUTFILE)e("C)i(=)f([)h($c)g(];)f(\\n";)
292 4888 y(print)h(MYOUTFILE)e("Z)i(=)f([)h($z)g(];)f(\\n)h(\\n";)f(#)h
(print)f(MYOUTFILE)f("surf\(Z,X,Y\);)g(\\n";)292 4967
y(print)i(MYOUTFILE)e("surf\(Z,X,Y,C\);)g(\\n";)h(#)h(print)f
(MYOUTFILE)f("colormap)h(hsv;)g(\\n";)292 5124 y(print)h(MYOUTFILE)e
("xlabel\('Cosine)g(similarity)g(threshold'\);\\n";)292
5203 y(print)i(MYOUTFILE)e("ylabel\('Vertex)g(degree'\);\\n";)292
5282 y(print)i(MYOUTFILE)e("zlabel\('Number)g(of)h(nodes'\);\\n";)292
5440 y(print)h(MYOUTFILE)e("view\(-120,37.5\);)f(\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(271)p eop
end
%%Page: 272 272
TeXDict begin 272 271 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3125
4 v 185 5544 4 5414 v 292 313 a Fa(my)40 b($save)f(=)h($file)f(.)h("_")
f(.)h($start)f(.)g("_")h(.)f($inc)h(.)f("_")h(.)g($end;)292
471 y(print)g(MYOUTFILE)e("saveas\(gcf,'plots/".$save.".jpg','jpg'\);)c
(\\n";)292 550 y(print)40 b(MYOUTFILE)e
("saveas\(gcf,'plots/".$save.".eps','eps'\);)c(\\n";)292
708 y(close\(MYOUTFILE\);)213 786 y(})213 944 y(#)213
1023 y(#)39 b(Write)h(histogram)e(to)i(file)213 1102
y(#)213 1181 y(sub)f(write_hist)g({)292 1260 y(my)h($dir)f(=)h(shift;)
292 1338 y(my)g($fn)f(=)h(shift;)292 1417 y(my)g($h)g(=)f(shift;)292
1496 y(my)h(@hist)f(=)h(@{$h};)292 1654 y(unless)f(\(-d)h($dir\))f({)
372 1733 y(mkdir)g($dir)h(or)f(die)g("Couldn't)g(create)g($dir:)g($!";)
292 1812 y(})292 1969 y(open\(OUTFILE,)f(">",)i($dir)f(.)h("/")f(.)h
($fn\))f(or)g(die)h("Couldn't)e(open)i(")f(.)h($dir)f(.)h("/")f(.)372
2048 y($fn,)g("\\n";)292 2206 y(foreach)g(my)h($deg)f(\(@hist\))g({)372
2285 y(print)g(OUTFILE)g("$deg)g(";)292 2364 y(})292
2443 y(print)h(OUTFILE)e("\\n";)292 2600 y(close)i(OUTFILE;)213
2679 y(})213 2916 y(#)213 2995 y(#)f(Load)h(cosine)f(file)213
3074 y(#)213 3153 y(sub)g(load_cos)g({)292 3231 y(my)h($file)f(=)h
(shift;)292 3389 y(my)g(@edges)f(=)h(\(\);)292 3547 y(open\(INFILE,)f
($file\))f(or)i(die)f("Couldn't)g(open)g($file\\n";)292
3705 y(while)h(\(<INFILE>\))e({)372 3783 y(chomp;)372
3862 y(my)i(@array)f(=)g(split\(/)g(/,)h($_\);)372 3941
y(push)f(@edges,)g(\\@array;)292 4020 y(})292 4178 y(close)h(INFILE;)
292 4336 y(return)f(@edges;)213 4414 y(})213 4651 y(sub)g(link_degree)f
({)292 4730 y(my)i($vert)f(=)h(shift;)292 4809 y(my)g(@edges)f(=)h
(@{$vert};)292 4967 y(my)g($pagecount)e(=)i(0;)292 5045
y(my)g(\045ct)f(=)h(\(\);)292 5124 y(my)g(\045links)f(=)h(\(\);)292
5203 y(my)g(\045pageswith)e(=)i(\(\);)292 5361 y(my)g(@hist)f(=)h
(\(\);)p 3306 5544 V 185 5547 3125 4 v 1873 5809 a Fk(272)p
eop end
%%Page: 273 273
TeXDict begin 273 272 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 292 234 a Fa(foreach)39 b(my)h($e)f(\(@edges\))g
({)372 313 y(my)h(\($from,)f($to\))g(=)g(@{$e};)372 392
y($ct{$from})g(=)g(1;)372 471 y($ct{$to})g(=)h(1;)372
629 y(if)g(\(not)f(exists)g($links{$to}\))f({)452 708
y($links{$to})g(=)i(0;)452 786 y($pagecount++;)372 865
y(})372 1023 y(if)g(\(not)f(exists)g($links{$from}\))f({)452
1102 y($links{$from})g(=)h(0;)452 1181 y($pagecount++;)372
1260 y(})372 1417 y($links{$from}++;)292 1496 y(})292
1654 y(my)h($total)f(=)h(scalar\(keys)e(\045ct\);)292
1812 y(foreach)h(my)h($i2)f(\(0..$total-1\))f({)372 1891
y($pageswith{$i2})g(=)h(0;)292 1969 y(})292 2127 y(foreach)g(my)h
($node)f(\(keys)g(\045links\))g({)372 2206 y
($pageswith{$links{$node}}++;)292 2285 y(})292 2443 y(foreach)g(my)h
($linkcount)e(\(sort)h({$a)h(<=>)f($b})g(keys)h(\045pageswith\))e({)372
2522 y($hist[$linkcount])f(=)j($pageswith{$linkcount};)292
2600 y(})292 2758 y(return)f(@hist;)213 2837 y(})213
2995 y(#)213 3074 y(#)g(filter)g(cosine)g(file)h(by)f(cutoff)213
3153 y(#)213 3231 y(sub)g(filter_cosine)f({)292 3310
y(my)i($cref)f(=)h(shift;)292 3389 y(my)g(@cos)f(=)h(@{$cref};)292
3468 y(my)g($cutoff)f(=)h(shift;)292 3626 y(my)g(@edges)f(=)h(\(\);)292
3783 y(foreach)f(my)h($e)f(\(@cos\))g({)372 3862 y(my)h(@links)f(=)g
(@{$e};)372 3941 y(my)h(\($l,)f($r,)g($c\))h(=)f(@links;)372
4020 y(if)h(\($c)f(>=)h($cutoff\))e({)452 4099 y(push)h(@edges,)g
(\\@links;)372 4178 y(})292 4257 y(})292 4414 y(return)g(@edges;)213
4493 y(})213 4730 y(#)213 4809 y(#)g(Print)h(out)f(usage)g(message)213
4888 y(#)213 4967 y(sub)g(usage)213 5045 y({)292 5124
y(print)h("usage:)e($0)i(--input)f(input_file)f([--output)h
(output_file])f([--start)g(start])159 b(\\)213 5203 y([--end)39
b(end])g([--step)g(step]\\n\\n";)292 5282 y(print)h(")79
b(--input)39 b(input_file\\n";)292 5361 y(print)h(")278
b(Name)40 b(of)f(the)h(input)f(graph)g(file\\n";)292
5440 y(print)h(")79 b(--output)39 b(output_file\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(273)p eop
end
%%Page: 274 274
TeXDict begin 274 273 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3046
4 v 185 1285 4 1155 v 292 234 a Fa(print)40 b(")278 b(Name)40
b(of)f(plot)g(output)g(file\\n";)292 313 y(print)h(")79
b(--start)39 b(start\\n";)292 392 y(print)h(")278 b(Cutoff)39
b(value)g(to)h(start)f(at\\n";)292 471 y(print)h(")79
b(--end)39 b(end\\n";)292 550 y(print)h(")278 b(Cutoff)39
b(value)g(to)h(end)f(at\\n";)292 629 y(print)h(")79 b(--step)39
b(step\\n";)292 708 y(print)h(")278 b(Size)40 b(of)f(step)g(between)g
(cutoff)g(points\\n";)292 786 y(print)h("\\n";)292 944
y(print)g("example:)e($0)i(--input)e(data/bulgaria.cos)g(--output)g
(data/bulgaria.m\\n";)292 1102 y(exit;)213 1181 y(})p
3226 1285 V 185 1288 3046 4 v 1873 5809 a Fk(274)p eop
end
%%Page: 275 275
TeXDict begin 275 274 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.11)80 b(cos)p 508 210 25 4 v 30 w(to)p 608 210
V 29 w(netw)o(orks.pl)p 185 295 3285 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/local/bin/perl)213 477 y(#)39 b(script:)g
(cos_to_networks.pl)213 556 y(#)g(functionality:)f(Generate)h(series)g
(of)g(networks)g(by)h(incrementing)e(through)g(cosine)199
b(\\)213 635 y(cutoffs)213 714 y(#)213 872 y(use)39 b(strict;)213
951 y(use)g(warnings;)213 1030 y(use)g(Getopt::Long;)213
1108 y(use)g(File::Spec;)213 1187 y(use)g(Clair::Network)f
(qw\($verbose\);)213 1266 y(use)h(Clair::Network::Writer::Edgelist;)213
1424 y(sub)g(usage;)213 1582 y(my)g($cos_file)g(=)h("";)213
1660 y(my)f($start)g(=)h(0.0;)213 1739 y(my)f($end)h(=)f(1.0;)213
1818 y(my)g($inc)h(=)f(0.01;)213 1897 y(my)g($graph_dir)g(=)g("";)213
2055 y(my)g($res)h(=)f(GetOptions\("input=s")e(=>)j(\\$cos_file,)e
("output=s")g(=>)i(\\$graph_dir,)412 2134 y("start=f")f(=>)g(\\$start,)
g("end=f")g(=>)g(\\$end,)412 2213 y("step=f")g(=>)g(\\$inc\);)213
2370 y(if)g(\($cos_file)g(eq)g(""\))h({)292 2449 y(usage\(\);)292
2528 y(exit;)213 2607 y(})213 2765 y(my)f(\($vol,)g($dir,)g($prefix\))g
(=)h(File::Spec->splitpath\($cos_file\);)213 2844 y($prefix)f(=\230)g
(s/\\.cos//;)213 2922 y(if)g(\($graph_dir)g(eq)g(""\))g({)292
3001 y($graph_dir)g(=)h("graphs/$prefix";)213 3080 y(})213
3238 y(unless)f(\(-d)g($graph_dir\))f({)292 3317 y(`mkdir)h(-p)h
($graph_dir`;)292 3396 y(unless)f(\(-d)h($graph_dir\))e({)i(die)f
("Couldn't)g(make)g(directory)f($graph_dir:)h($!\\n";)g(})213
3475 y(})213 3632 y(my)g(@edges)g(=)h(load_cos\($cos_file\);)213
3790 y(my)f($test_net)g(=)h(new)f(Clair::Network\(\);)213
3869 y(my)g($net)h(=)f($test_net->create_cosine_network\(\\@edges\);)
213 4027 y(for)g(\(my)h($i)f(=)h($start;)f($i)g(<=)h($end;)f($i)g(+=)h
($inc\))f({)292 4105 y(#)h(below)f(is)h(because)f(of)g(some)g(strange)g
(rounding)g(bug)g(on)h(the)f(linux)g(machines)292 4184
y($i)h(=)g(sprintf\("\045.4f",)d($i\);)292 4263 y(my)j($cutoff)f(=)h
(sprintf\("\045.2f",)d($i\);)292 4342 y(my)j($cos_net)f(=)g
($net->create_network_from_cosines\($cutoff\);)292 4500
y(my)h($export)f(=)h(Clair::Network::Writer::Edgelist->new\(\);)292
4579 y($export->write_network\($cos_net,)1209 4658 y($graph_dir)e(.)i
("/")f(.)h($prefix)f(.)h("-")f(.)h($cutoff)f(.)g(".net"\);)213
4736 y(})213 4894 y(#)213 4973 y(#)g(Load)h(cosine)f(file)213
5052 y(#)213 5131 y(sub)g(load_cos)g({)292 5210 y(my)h($file)f(=)h
(shift;)292 5367 y(my)g(@edges)f(=)h(\(\);)292 5525 y(open\(INFILE,)f
($file\))f(or)i(die)f("Couldn't)g(open)g($file\\n";)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(275)p eop
end
%%Page: 276 276
TeXDict begin 276 275 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3020 4 2890 v 292 234 a Fa(while)40 b(\(<INFILE>\))e({)372
313 y(chomp;)372 392 y(my)i(@array)f(=)g(split\(/)g(/,)h($_\);)372
471 y(push)f(@edges,)g(\\@array;)292 550 y(})292 708
y(close)h(INFILE;)292 865 y(return)f(@edges;)213 944
y(})213 1102 y(#)213 1181 y(#)g(Print)h(out)f(usage)g(message)213
1260 y(#)213 1338 y(sub)g(usage)213 1417 y({)292 1496
y(print)h("usage:)e($0)i(--input)f(input_file)f([--output)h
(output_directory])e([--start)238 b(\\)213 1575 y(start])39
b([--end)g(end])g([--step)g(step]\\n\\n";)292 1654 y(print)h(")79
b(--input)39 b(input_file\\n";)292 1733 y(print)h(")278
b(Name)40 b(of)f(the)h(input)f(graph)g(file\\n";)292
1812 y(print)h(")79 b(--output)39 b(output_directory\\n";)292
1891 y(print)h(")278 b(Name)40 b(of)f(output)g(directory.)78
b(The)40 b(default)f(is)916 b(\\)213 1969 y
(graphs/input_file_prefix\\n";)292 2048 y(print)40 b(")79
b(--start)39 b(start\\n";)292 2127 y(print)h(")278 b(Cutoff)39
b(value)g(to)h(start)f(at\\n";)292 2206 y(print)h(")79
b(--end)39 b(end\\n";)292 2285 y(print)h(")278 b(Cutoff)39
b(value)g(to)h(end)f(at\\n";)292 2364 y(print)h(")79
b(--step)39 b(step\\n";)292 2443 y(print)h(")278 b(Size)40
b(of)f(step)g(between)g(cutoff)g(points\\n";)292 2522
y(print)h("\\n";)292 2679 y(print)g("example:)e($0)i(--input)e
(data/bulgaria.cos)g(--output)g(networks\\n";)292 2837
y(exit;)213 2916 y(})p 3466 3020 V 185 3023 3285 4 v
1873 5809 a Fk(276)p eop end
%%Page: 277 277
TeXDict begin 277 276 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.12)80 b(cos)p 508 210 25 4 v 30 w(to)p 608 210
V 29 w(stats.pl)p 185 295 2926 4 v 185 5708 4 5414 v
213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(cos_to_stats.pl)213 556 y(#)g(functionality:)f(Generates)h(a)g(table)h
(of)f(network)g(statistics)f(for)i(networks)e(by)213
635 y(#)h(functionality:)f(incrementing)g(through)h(cosine)g(cutoffs)
213 714 y(#)213 872 y(use)g(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(Getopt::Long;)213 1108 y(use)g(File::Spec;)213
1187 y(use)g(Clair::Network)f(qw\($verbose\);)213 1266
y(use)h(Clair::Network::Sample::ForestFire;)213 1345
y(use)g(Clair::Network::Sample::RandomEdge;)213 1424
y(use)g(Clair::Network::Sample::RandomNode;)213 1503
y(use)g(Clair::Network::Reader::Edgelist;)213 1582 y(use)g
(Clair::Network::Writer::Edgelist;)213 1660 y(use)g
(Clair::Network::Writer::GraphML;)213 1739 y(use)g(Math::BigFloat)f
(lib)h(=>)h('GMP';)213 1818 y(use)f(Math::BigInt)f(lib)i(=>)f('GMP';)
213 1976 y(sub)g(usage;)213 2134 y(my)g($delim)g(=)h("[)g(\\t]+";)213
2213 y(my)f($output_delim)f(=)i(")g(";)213 2291 y(my)f($cos_file)g(=)h
("";)213 2370 y(my)f($graphml)g(=)h(0;)213 2449 y(my)f($threshold;)213
2528 y(my)g($start)g(=)h(0.0;)213 2607 y(my)f($end)h(=)f(1.0;)213
2686 y(my)g($inc)h(=)f(0.01;)213 2765 y(my)g($sample_size)f(=)i(0;)213
2844 y(my)f($sample_type)f(=)i("randomnode";)213 2922
y(my)f($out_file)g(=)h("";)213 3001 y(my)f($graphs)g(=)h(0;)213
3080 y(my)f($all)h(=)f(0;)213 3159 y(my)g($stats)g(=)h(1;)213
3238 y(my)f($single)g(=)h(0;)213 3317 y(my)f($verbose)g(=)h(0;)213
3396 y(my)f($summary)79 b(=)40 b(0;)213 3475 y(my)f($reverse)g(=)h(0;)
213 3553 y(my)f(@props)g(=)h(\(\);)213 3711 y(my)f($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$cos_file,)e("output=s")g(=>)i
(\\$out_file,)1050 3790 y("delimout=s")e(=>)h(\\$output_delim,)1050
3869 y("graphml")f(=>)i(\\$graphml,)1050 3948 y("threshold=f")e(=>)h
(\\$threshold,)f("delim=s")h(=>)g(\\$delim,)1050 4027
y("start=f")f(=>)i(\\$start,)e("end=f")h(=>)h(\\$end,)1050
4105 y("step=f")e(=>)i(\\$inc,)f("graphs:s")f(=>)i(\\$graphs,)1050
4184 y("sample=i")e(=>)i(\\$sample_size,)d("single")i(=>)h(\\$single,)
1050 4263 y("sampletype=s")d(=>)j(\\$sample_type,)1050
4342 y("all")f(=>)g(\\$all,)g("stats!")g(=>)g(\\$stats,)1050
4421 y("summary")f(=>)i(\\$summary,)e("properties:s")g(=>)h(\\@props,)
1050 4500 y("reverse")f(=>)i(\\$reverse,)e("verbose")h(=>)g
(\\$verbose\);)213 4658 y($Clair::Network::verbose)d(=)k($verbose;)213
4815 y(if)f(\($graphs)g(eq)h(""\))f({)292 4894 y(#)h(Use)g(default)e
(directory)h(graphs)g(if)g(graphs)g(enabled)292 4973
y($graphs)g(=)h("graphs";)213 5052 y(})213 5210 y(if)f(\($graphs\))g({)
292 5289 y(unless)g(\(-d)h($graphs\))e({)372 5367 y(mkdir)h($graphs)g
(or)h(die)f("Couldn't)g(create)f($graphs:)h($!";)292
5446 y(})213 5525 y(})p 3107 5708 V 185 5711 2926 4 v
1873 5809 a Fk(277)p eop end
%%Page: 278 278
TeXDict begin 278 277 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3086
4 v 185 5544 4 5414 v 213 234 a Fa(if)39 b(\(!$res)g(or)h(\($cos_file)e
(eq)i(""\)\))f({)292 313 y(usage\(\);)292 392 y(exit;)213
471 y(})213 629 y(my)g($dir;)213 708 y(my)g($vol;)213
786 y(my)g($prefix;)213 865 y(my)g($file;)213 1023 y(\($vol,)g($dir,)g
($prefix\))f(=)i(File::Spec->splitpath\($cos_file\);)213
1102 y($prefix)f(=\230)g(s/\\.cos//;)213 1181 y(if)g(\($out_file)g(ne)g
(""\))h({)292 1260 y(\($vol,)f($dir,)h($file\))e(=)i
(File::Spec->splitpath\($out_file\);)292 1338 y(if)g(\($dir)f(ne)h
(""\))f({)372 1417 y(unless)g(\(-d)h($dir\))f({)452 1496
y(mkdir)g($dir)g(or)h(die)f("Couldn't)g(create)g($dir:)g($!";)372
1575 y(})292 1654 y(})292 1812 y(open\(OUTFILE,)f(">)i($out_file"\);)
292 1903 y(*)332 1891 y(STDOUT)f(=)691 1903 y(*)731 1891
y(OUTFILE;)292 1969 y(select)g(OUTFILE;)g($|)h(=)f(1;)213
2048 y(})213 2206 y(#)g(make)h(unbuffered)213 2285 y(select)f(STDOUT;)g
($|)g(=)h(1;)213 2364 y(select)f(STDERR;)g($|)g(=)h(1;)213
2443 y(select)f(STDOUT;)213 2679 y(#)g(Print)h(only)f(summary)g
(statistics)f(if)i(enabled)213 2758 y(if)f(\($summary\))g({)292
2837 y(open\(FIN,)g($cos_file\))f(or)i(die)f("Couldn't)g(open)g
($cos_file:)f($!\\n";)292 2916 y(my)i(\045seen)f(=)h(\(\);)292
2995 y(my)g($n)g(=)f(Math::BigInt->new\(0\);)292 3074
y(my)h($mean)f(=)h(Math::BigFloat->new\(0\);)292 3153
y(my)g($sum)f(=)h(Math::BigFloat->new\(0\);)292 3231
y(my)g($sum_sqr)f(=)g(Math::BigFloat->new\(0\);)292 3310
y(my)h($var)f(=)h(Math::BigFloat->new\(0\);)292 3389
y(my)g($s)g(=)f(0;)292 3468 y(my)h($delta;)292 3705 y(my)g(\045mat)f(=)
h(\(\);)292 3783 y(while)g(\(<FIN>\))e({)372 3862 y(chomp;)372
3941 y(my)i(@edge)f(=)h(split\(/$delim/\);)372 4020 y(my)g(\($u,)f($v,)
g($w\))h(=)f(@edge;)372 4178 y(if)h(\(\(!exists)e($mat{$u}{$v}\))g(and)
i(\(!exists)e($mat{$v}{$u}\)\))g({)452 4257 y($mat{$u}{$v})g(=)i(1;)452
4336 y($mat{$v}{$u})e(=)i(1;)452 4414 y($sum)f(+=)h
(Math::BigFloat->new\($w\);)452 4493 y($sum_sqr)f(+=)79
b($w)1089 4505 y(*)1169 4493 y($w;)452 4572 y($n++;)372
4651 y(})292 4730 y(})292 4809 y(close)40 b(FIN;)292
4967 y($mean)g(=)f($sum)h(/)f($n;)292 5045 y($var)h(=)f(\($sum_sqr)g(-)
h($sum)1249 5057 y(*)1329 5045 y($mean\)/\($n)e(-)i(1\);)292
5124 y(print)g("Sample)e(Mean:)199 b(")40 b(.)f($mean->ffround\(-4\))e
(.)j("\\n";)292 5203 y(print)g("Sample)e(Variance:)h(")h(.)f
($var->ffround\(-4\))f(.)h("\\n";)292 5282 y(print)h("Sample)e(Std.)i
(Dev:)f(")h(.)f(Math::BigFloat->new\(sqrt\($var\)\)->ffround\(-4\))34
b(.)372 5361 y("\\n";)292 5440 y(exit;)p 3266 5544 V
185 5547 3086 4 v 1873 5809 a Fk(278)p eop end
%%Page: 279 279
TeXDict begin 279 278 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(})213 471 y(my)39
b($net;)213 550 y(#)g(Sample)g(network)g(if)h(requested)213
629 y(if)f(\($sample_size)f(>)i(0\))f({)292 708 y(if)h(\($verbose\))e
({)i(print)f(STDERR)g("Reading)g(in)g($cos_file\\n";)f(})292
786 y(my)i($reader)f(=)h(new)f(Clair::Network::Reader::Edgelist;)292
865 y($net)h(=)f($reader->read_network\($cos_file,)c(undirected)k(=>)g
(1,)h(delim)f(=>)h($delim\);)292 1023 y(if)g(\($sample_type)e(eq)h
("randomedge"\))f({)372 1102 y(if)i(\($verbose\))e({)452
1181 y(print)h(STDERR)g("Sampling)f($sample_size)g(edges)i(from)f
(network)g(using)g(random)g(edge)79 b(\\)213 1260 y(algorithm\\n";)38
b(})372 1338 y(my)i($sample)f(=)g
(Clair::Network::Sample::RandomEdge->new\($net\);)372
1417 y($net)g(=)h($sample->sample\($sample_size\);)292
1496 y(})g(elsif)f(\($sample_type)f(eq)i("forestfire"\))e({)372
1575 y(if)i(\($verbose\))e({)452 1654 y(print)h(STDERR)g("Sampling)f
($sample_size)g(nodes)i(from)f(network)g(using)g(Forest)g(Fire)79
b(\\)213 1733 y(algorithm\\n";)38 b(})372 1812 y(my)i($sample)f(=)g
(Clair::Network::Sample::ForestFire->new\($net\);)372
1891 y($net)g(=)h($sample->sample\($sample_size,)c(0.7\);)292
1969 y(})k(elsif)f(\($sample_type)f(eq)i("randomnode"\))e({)372
2048 y(if)i(\($verbose\))e({)452 2127 y(print)h(STDERR)g("Sampling)f
($sample_size)g(nodes)i(from)f(network)g(using)g(Random)g(Node)79
b(\\)213 2206 y(algorithm\\n";)372 2285 y(})372 2364
y(my)40 b($sample)f(=)g
(Clair::Network::Sample::RandomNode->new\($net\);)372
2443 y($sample->number_of_nodes\($sample_size\);)372
2522 y($net)g(=)h($sample->sample\(\);)292 2600 y(})213
2679 y(})f(else)h({)292 2758 y(if)g(\($graphs\))f({)372
2837 y(#)h(no)f(sampling,)g(just)g(write)g(the)h(graph)f(files)372
2916 y(for)h(\(my)f($i)h(=)f($start;)g($i)h(<=)f($end;)g($i)h(+=)f
($inc\))g({)452 2995 y(#)h(below)f(is)g(because)g(of)h(some)f(strange)g
(rounding)f(bug)i(on)f(the)h(linux)f(machines)452 3074
y($i)g(=)h(sprintf\("\045.4f",)e($i\);)452 3153 y(my)h($cutoff)g(=)h
(sprintf\("\045.2f",)e($i\);)452 3231 y(if)h(\($verbose\))g({)532
3310 y(print)g(STDERR)g("Writing)f(graph)h(file)h(for)f(cutoff)g
($cutoff\\n";)452 3389 y(};)452 3468 y(open)g(FOUT,)g
(">$graphs/$prefix-$cutoff.graph";)452 3626 y(open\(FIN,)f($cos_file\))
h(or)g(die)h("Couldn't)e(open)h($cos_file:)g($!\\n";)452
3705 y(while)g(\(<FIN>\))g({)532 3783 y(chomp;)532 3862
y(my)g(@edge)g(=)h(split\(/$delim/\);)532 4020 y(my)f(\($u,)g($v,)h
($w\))f(=)h(@edge;)532 4099 y(if)f(\(\($reverse)f(and)i(\($w)f(<=)h
($cutoff\)\))e(or)691 4178 y(\(not)h($reverse)g(and)g(\($w)h(>=)f
($cutoff\)\)\))g({)611 4257 y(print)g(FOUT)h
("$u$output_delim$v$output_delim$w\\n";)532 4336 y(})452
4414 y(})452 4493 y(close)f(FIN;)452 4572 y(close)g(FOUT;)372
4651 y(})292 4730 y(})213 4809 y(})213 4967 y(if)g(\($stats\))g({)292
5045 y(if)h(\($verbose\))e({)i(print)f(STDERR)g("Reading)g(in)g
($cos_file\\n";)f(})292 5124 y(my)i($reader)f(=)h(new)f
(Clair::Network::Reader::Edgelist;)292 5203 y($net)h(=)f
($reader->read_network\($cos_file,)c(undirected)k(=>)g(1,)1448
5282 y(unionfind)g(=>)g(1,)h(delim)f(=>)g($delim\);)292
5361 y(if)h(\(scalar\(@props\))e(==)h(0\))h({)372 5440
y(if)g(\($net->{directed}\))d({)p 3466 5544 V 185 5547
3285 4 v 1873 5809 a Fk(279)p eop end
%%Page: 280 280
TeXDict begin 280 279 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 452 234 a Fa(@props)39 b(=)2630
b(\\)213 313 y(\("threshold","nodes","edges","diameter","l)o(cc","st)o
(rongly_)o(connect)o(ed_com)o(ponents)o(",")34 b(\\)213
392 y(avg_short_path",)850 471 y
("ferrer_avg_short_path","watts_strogatz_cc","hm)o(gd",)850
550 y("in_link_power","in_link_power_rsquared","in_li)o(nk_psc)o(ore",)
850 629 y("in_link_power_newman","in_link_power_newman_er)o(ror",)850
708 y("out_link_power","out_link_power_rsquared","out)o(_link_)o
(pscore")o(,)850 786 y("out_link_power_newman","out_link_power_newman_)
o(error")o(,)850 865 y("total_link_power","total_link_power_rsquared",)
850 944 y("total_link_pscore","total_link_power_newman",)850
1023 y("total_link_power_newman_error","avg_degree"\);)372
1102 y(})40 b(else)f({)452 1181 y(@props)g(=)2630 b(\\)213
1260 y(\("threshold","nodes","edges","diameter","l)o(cc","st)o(rongly_)
o(connect)o(ed_com)o(ponents)o(",")34 b(\\)213 1338 y(avg_short_path",)
850 1417 y("ferrer_avg_short_path","watts_strogatz_cc","hm)o(gd",)850
1496 y("total_link_power","total_link_power_rsquared",)850
1575 y("total_link_pscore","total_link_power_newman",)850
1654 y("total_link_power_newman_error","avg_degree"\);)372
1733 y(})292 1812 y(})40 b(else)f({)372 1891 y(@props)g(=)h
(split\(/,/,join\(',',)d(@props\)\);)292 1969 y(})292
2048 y(if)j(\($single)f(and)g($threshold\))f({)372 2127
y(#)i(Run)f(for)h(already)e(generated)h(graph)372 2206
y(print_network\($net,)e($threshold,)h(\\@props\);)292
2285 y(})i(elsif)f(\($threshold\))f({)372 2364 y(#)i(Run)f(for)h(just)f
(a)h(single)f(cutoff)372 2443 y(run_cutoff\($net,)f($threshold,)g
(\\@props\);)292 2522 y(})i(else)f({)372 2600 y(#)h(Run)f(for)h(all)f
(cutoffs)372 2679 y(my)h($header)f(=)g(join\(")g(",)h(@props\);)372
2758 y(print)f("$header\\n";)372 2837 y(for)h(\(my)f($i)h(=)f($start;)g
($i)h(<=)f($end;)g($i)h(+=)f($inc\))g({)452 2916 y(#)h(below)f(is)g
(because)g(of)h(some)f(strange)g(rounding)f(bug)i(on)f(the)h(linux)f
(machines)452 2995 y($i)g(=)h(sprintf\("\045.4f",)e($i\);)452
3074 y(my)h($cutoff)g(=)h(sprintf\("\045.2f",)e($i\);)452
3231 y(run_cutoff\($net,)f($cutoff,)i(\\@props\);)372
3310 y(})292 3389 y(})213 3468 y(})213 3626 y(sub)g(array_to_graphml)f
({)292 3705 y(my)i($fn)f(=)h(shift;)292 3783 y(my)g($ed)f(=)h(shift;)
292 3862 y(my)g(@edges)f(=)h(@{$ed};)292 4020 y(open\(GRAPH,)f(">)g
($fn"\))g(or)h(die)f("Couldn't)g(open)g(file:)g($fn\\n";)292
4178 y(print)h(GRAPH)f(<<EOH)213 4257 y(<?xml)g(version="1.0")f
(encoding="UTF-8"?>)213 4336 y(<graphml)g
(xmlns="http://graphml.graphdrawing.org/xmlns")292 4414
y(xmlns:xsi="http://www.w3.org/2001/XMLSchema-ins)o(tance")292
4493 y(xsi:schemaLocation="http://graphml.graphdrawing)o(.org/xm)o(lns)
1089 4572 y(http://graphml.graphdrawing.org/xmlns/1.0/graph)o(ml.xsd")o
(>)213 4651 y(EOH)213 4730 y(;)292 4888 y(print)i(GRAPH)f("<key)g
(id=\\"d1\\")f(for=\\"edge\\")g(attr.name=\\"weight\\")675
b(\\)213 4967 y(attr.type=\\"double\\"/>\\n";)292 5045
y(print)40 b(GRAPH)f(")79 b(<graph)39 b(id=\\"graph\\")f
(edgedefault=\\"undirected\\">\\n";)292 5203 y(my)i(\045nodes)f(=)h
(\(\);)292 5282 y(foreach)f(my)h($e)f(\(@edges\))g({)372
5361 y(my)h(\($u,)f($v,)g($w\))h(=)f(@{$e};)372 5440
y($nodes{$u})g(=)g(1;)p 3466 5544 V 185 5547 3285 4 v
1873 5809 a Fk(280)p eop end
%%Page: 281 281
TeXDict begin 281 280 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa($nodes{$v})39 b(=)g(1;)292
313 y(})292 471 y(foreach)g(my)h($v)f(\(keys)g(\045nodes\))g({)372
550 y(print)g(GRAPH)g(")160 b(<node)39 b(id=\\"")g(.)g($v)h(.)g
("\\"/>\\n";)292 629 y(})292 786 y(foreach)f(my)h($e)f(\(@edges\))g({)
372 865 y(my)h(\($u,)f($v,)g($w\))h(=)f(@{$e};)372 944
y(print)g(GRAPH)g(")160 b(<edge)39 b(source=\\"")f(.)i($u)f(.)h("\\")f
(target=\\"")g(.)h($v)f(.)h("\\">\\n";)372 1023 y(print)f(GRAPH)g(")239
b(<data)39 b(key=\\"d1\\">")f(.)i($w)g(.)f("</data>\\n";)372
1102 y(print)g(GRAPH)g(")160 b(</edge>\\n";)292 1181
y(})292 1338 y(print)40 b(GRAPH)f(")79 b(</graph>\\n";)292
1417 y(print)40 b(GRAPH)f("</graphml>\\n";)292 1575 y(close\(GRAPH\);)
213 1654 y(})213 1969 y(sub)g(run_cutoff)g({)292 2048
y(my)h($net)f(=)h(shift;)292 2127 y(my)g($cutoff)f(=)h(shift;)292
2206 y(my)g($p)g(=)f(shift;)292 2364 y(if)h(\($verbose\))e({)i(print)f
(STDERR)g("Creating)g(network)f(for)i(cutoff)f($cutoff\\n";)f(})292
2443 y(my)i($cos_net)f(=)g($net->create_network_from_cosines\($cutoff,)
2205 2522 y(reverse)g(=>)h($reverse\);)292 2679 y
(print_network\($cos_net,)d($cutoff,)i($p\);)292 2758
y(if)h(\($all\))f({)372 2837 y(#)h(Dump)f(out)h(additional)e(data)372
2916 y(#)i(triangles)372 2995 y(open\(FOUT,)f
(">$dir/$prefix-$cutoff.triangles"\))34 b(or)40 b(die)f("Couldn't)g
(open)358 b(\\)213 3074 y($dir/$prefix.triangles:)36
b($!\\n";)372 3153 y(my)k(\($triangles,)e($triangle_cnt,)g
($triple_cnt\))g(=)h($net->get_triangles\(\);)372 3231
y(foreach)g(my)h($triangle)e(\(@{$triangles}\))g({)452
3310 y(print)h(FOUT)g($triangle,)g("\\n";)372 3389 y(})372
3468 y(close)g(FOUT;)372 3547 y(#)h(average)f(shortest)f(path)i(matrix)
372 3626 y(open\(FOUT,)f(">$dir/$prefix-$cutoff.asp"\))c(or)40
b(die)f("Couldn't)g(open)597 b(\\)213 3705 y($dir/$prefix.asp:)37
b($!\\n";)372 3783 y(#)j(save)f(stdout)g(and)g(redirect)g(it)h(to)f
(the)h(file)372 3874 y(*)412 3862 y(SAVED)f(=)731 3874
y(*)771 3862 y(STDOUT;)372 3953 y(*)412 3941 y(STDOUT)g(=)771
3953 y(*)811 3941 y(FOUT;)372 4020 y($cos_net->print_asp_matrix\(\);)
372 4099 y(#)h(restore)f(stdout)372 4190 y(*)412 4178
y(STDOUT)g(=)771 4190 y(*)811 4178 y(SAVED;)372 4257
y(close)g(FOUT;)292 4336 y(})213 4493 y(#)79 b(print)39
b("total_size)g(out:)g(",)g(total_size\($cos_net\),)e("\\n";)292
4651 y(if)j(\($graphs\))f({)372 4730 y(write_network\($cos_net,)e
($cutoff\);)292 4809 y(})213 4888 y(})213 5045 y(sub)i(print_network)f
({)292 5124 y(my)i($net)f(=)h(shift;)292 5203 y(my)g($cutoff)f(=)h
(shift;)292 5282 y(my)g($p)g(=)f(shift;)292 5361 y(my)h(@props)f(=)h
(@{$p};)p 3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(281)p
eop end
%%Page: 282 282
TeXDict begin 282 281 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 292 234 a Fa(my)40 b(@zeros)f(=)h(map)f({)h(0)f
(})h(@props;)292 313 y(if)g(\($net->num_nodes)d(>)j(0\))g({)372
392 y(if)g(\($verbose\))e({)i(print)f(STDERR)g("Getting)f(network)h
(info)h(for)f(cutoff)g($cutoff\\n";)f(})372 471 y(my)i($str)f(=)h
($net->get_network_info_as_string\($p,)34 b(reverse)39
b(=>)h($reverse\);)372 550 y(print)f("$cutoff)g(")h(.)f($str)h(.)f
("\\n";)292 629 y(})h(else)f({)372 708 y(print)g("$cutoff)g(";)372
786 y(print)g(join\(")g(",)h(@zeros[0)e(..)i($#zeros-1]\))e(.)i("\\n";)
292 865 y(})213 944 y(})213 1102 y(sub)f(write_network)f({)292
1181 y(my)i($cos_net)f(=)g(shift;)292 1260 y(my)h($cutoff)f(=)h(shift;)
292 1417 y(my)g($export)f(=)h
(Clair::Network::Writer::Edgelist->new\(\);)292 1496
y($export->write_network\($cos_net,)1209 1575 y
("$graphs/$prefix-$cutoff.graph",)35 b(weights)k(=>)g(1\);)292
1733 y(if)h(\($graphml\))e({)372 1812 y(my)i($ge)f(=)h
(Clair::Network::Writer::GraphML->new\(\);)372 1891 y
($ge->write_network\($cos_net,)1129 1969 y
("$graphs/$prefix-$cutoff.graphml",)35 b(weights)k(=>)g(1\);)292
2048 y(})292 2206 y(if)h(\($all\))f({)372 2285 y(#)h(Dump)f(out)h
(additional)e(data)372 2364 y(#)i(triangles)372 2443
y(open\(FOUT,)f(">$dir/$prefix-$cutoff.triangles"\))34
b(or)40 b(die)f("Couldn't)g(open)358 b(\\)213 2522 y
($dir/$prefix.triangles:)36 b($!\\n";)372 2600 y(my)k(\($triangles,)e
($triangle_cnt,)g($triple_cnt\))g(=)h($net->get_triangles\(\);)372
2679 y(foreach)g(my)h($triangle)e(\(@{$triangles}\))g({)452
2758 y(print)h(FOUT)g($triangle,)g("\\n";)372 2837 y(})372
2916 y(close)g(FOUT;)372 2995 y(#)h(average)f(shortest)f(path)i(matrix)
372 3074 y(open\(FOUT,)f(">$dir/$prefix-$cutoff.asp"\))c(or)40
b(die)f("Couldn't)g(open)597 b(\\)213 3153 y($dir/$prefix.asp:)37
b($!\\n";)372 3231 y(#)j(save)f(stdout)g(and)g(redirect)g(it)h(to)f
(the)h(file)372 3322 y(*)412 3310 y(SAVED)f(=)731 3322
y(*)771 3310 y(STDOUT;)372 3401 y(*)412 3389 y(STDOUT)g(=)771
3401 y(*)811 3389 y(FOUT;)372 3468 y($cos_net->print_asp_matrix\(\);)
372 3547 y(#)h(restore)f(stdout)372 3638 y(*)412 3626
y(STDOUT)g(=)771 3638 y(*)811 3626 y(SAVED;)372 3705
y(close)g(FOUT;)292 3783 y(})213 3862 y(})213 4099 y(#)213
4178 y(#)g(Print)h(out)f(usage)g(message)213 4257 y(#)213
4336 y(sub)g(usage)213 4414 y({)292 4493 y(print)h("usage:)e($0)i
(--input)f(input_file)f([--output)h(output_file])f([--start)g(start])
159 b(\\)213 4572 y([--end)39 b(end])g([--step)g(step]\\n\\n";)292
4651 y(print)h(")79 b(--input)39 b(input_file\\n";)292
4730 y(print)h(")278 b(Name)40 b(of)f(the)h(input)f(graph)g(file\\n";)
292 4809 y(print)h(")79 b(--output)39 b(output_file\\n";)292
4888 y(print)h(")278 b(Name)40 b(of)f(output)g(file.)79
b(Dumps)39 b(the)h(stats)f(to)g(this)h(file\\n";)292
4967 y(print)g(")79 b(--start)39 b(start\\n";)292 5045
y(print)h(")278 b(Cutoff)39 b(value)g(to)h(start)f(at\\n";)292
5124 y(print)h(")79 b(--end)39 b(end\\n";)292 5203 y(print)h(")278
b(Cutoff)39 b(value)g(to)h(end)f(at\\n";)292 5282 y(print)h(")79
b(--step)39 b(step\\n";)292 5361 y(print)h(")278 b(Size)40
b(of)f(step)g(between)g(cutoff)g(points\\n";)292 5440
y(print)h(")79 b(--sample)39 b(sample_size\\n";)p 3466
5544 V 185 5547 3285 4 v 1873 5809 a Fk(282)p eop end
%%Page: 283 283
TeXDict begin 283 282 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2704 4 2574 v 292 234 a Fa(print)40 b(")278 b(Sample)39
b(from)h(the)f(network\\n";)292 313 y(print)h(")79 b(--sampletype)38
b(sample_algorithm\\n";)292 392 y(print)i(")278 b(Sampling)39
b(algorithm)g(to)g(use,)g(can)h(be:)f(randomnode,)f(randomedge,)238
b(\\)213 471 y(forestfire\\n";)292 550 y(print)40 b(")79
b(--graphs)39 b([directory]\\n";)292 629 y(print)h(")278
b(If)40 b(set,)f(output)g(a)h(graph)f(file)g(for)h(each)f(cutoff)g(in)g
(the)h(specified)213 708 y(directory)e(\(defaults)h(to)g(graphs\)\\n";)
292 786 y(print)h(")79 b(--single\\n";)292 865 y(print)40
b(")278 b(Generate)39 b(line)g(for)h(a)f(single)g(threshold.)79
b(Must)39 b(also)g(specify)318 b(\\)213 944 y(threshold\\n";)292
1023 y(print)40 b(")79 b(--threshold)38 b(threshold\\n";)292
1102 y(print)i(")278 b(Generate)39 b(network)g(for)g(single)g
(threshold)g(and)g(print)g(stats)g(for)279 b(\\)213 1181
y(it.\\n";)292 1260 y(print)40 b(")79 b(--properties)38
b(propertylist\\n";)292 1338 y(print)i(")278 b(Specify)39
b(which)g(network)g(properties)f(to)i(print.)79 b(Separate)38
b(values)199 b(\\)213 1417 y(with)39 b(a)h(comma.\\n";)292
1496 y(print)g(")278 b(Example:)79 b(--properties)1672
b(\\)213 1575 y(threshold,nodes,edges,avg_short_path,lcc\\n)o(";)292
1654 y(print)40 b(")79 b(--stats,)39 b(--nostats\\n";)292
1733 y(print)h(")278 b(Enable)39 b(or)h(disable)f(printing)f(of)i
(actual)f(statistics\\n";)292 1812 y(print)h(")278 b(For)40
b(example,)e(specify)h(--nostats)g(and)g(--graphs)g(to)g(just)h
(output\\n";)292 1891 y(print)g(")278 b(cosine)39 b(graphs)g(for)h
(later)f(processing\\n";)292 1969 y(print)h(")79 b(--reverse\\n";)292
2048 y(print)40 b(")278 b(Compute)39 b(stats)g(for)h(edges)f(less)g
(than)g(or)h(equal)f(threshold)f(instead)h(of)h(\\)213
2127 y(greater)f(than)g(or)g(equal)g(to)h(threshold\\n";)292
2206 y(print)g("\\n";)292 2364 y(print)g("example:)e($0)i(--input)e
(data/bulgaria.cos)g(--output)g(networks\\n";)292 2522
y(exit;)213 2600 y(})p 3466 2704 V 185 2707 3285 4 v
1873 5809 a Fk(283)p eop end
%%Page: 284 284
TeXDict begin 284 283 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.13)80 b(crawl)p 596 210 25 4 v 29 w(url.pl)p
185 295 3125 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(script:)g(crawl_url.pl)213 556 y(#)g(functionality:)f
(Crawls)h(from)g(a)h(starting)f(URL,)g(returning)g(a)g(list)h(of)f
(URLs)213 635 y(#)g(Output)g(to)h(stdout,)f(or)g(a)h(file)213
793 y(use)f(strict;)213 872 y(use)g(warnings;)213 1030
y(use)g(Getopt::Long;)213 1108 y(use)g(Clair::Utils::CorpusDownload;)
213 1187 y(use)g(Clair::Utils::Idf;)213 1266 y(use)g(Clair::Utils::Tf;)
213 1424 y(sub)g(usage;)213 1582 y(my)g($url)h(=)f("";)213
1660 y(my)g($output_file)f(=)i("";)213 1739 y(my)f($test)g(=)h("";)213
1818 y(my)f($verbose)g(=)h(0;)213 1976 y(my)f($res)h(=)f
(GetOptions\("url=s")e(=>)j(\\$url,)f("output=s")f(=>)i
(\\$output_file,)412 2055 y("test=s")f(=>)g(\\$test,)g("verbose!")f(=>)
i(\\$verbose\);)213 2213 y(if)f(\($url)g(eq)h(""\))f({)292
2291 y(usage\(\);)292 2370 y(exit;)213 2449 y(})213 2607
y(if)g(\($output_file)f(ne)i(""\))f({)292 2686 y(open\(OUTFILE,)f(">)i
($output_file"\);)213 2765 y(})f(else)h({)292 2856 y(*)332
2844 y(OUTFILE)f(=)731 2856 y(*)771 2844 y(STDOUT;)213
2922 y(})213 3080 y(#)g(make)h(unbuffered)213 3159 y(select)f(STDOUT;)g
($|)g(=)h(1;)213 3238 y(select)f(OUTFILE;)f($|)i(=)g(1;)213
3475 y(my)f($corpusref)g(=)g(Clair::Utils::CorpusDownload->new\(\);)213
3632 y(if)g(\($verbose\))g({)g(print)g("Crawling)g($url\\n";)g(})213
3711 y(my)g($uref)g(=)h(0;)213 3790 y(if)f(\($test)g(ne)h(""\))f({)292
3869 y($uref)h(=)f($corpusref->poach\($url,)e(error_file)h(=>)i
("errors.txt",)372 3948 y(test)f(=>)h($test\);)213 4027
y(})f(else)h({)292 4105 y($uref)g(=)f($corpusref->poach\($url,)e
(error_file)h(=>)i("errors.txt"\);)213 4184 y(})213 4342
y(foreach)f(my)g($url)g(\(@{$uref}\))g({)292 4421 y(print)h(OUTFILE)e
($url,)h("\\n";)213 4500 y(})213 4658 y(close)g(OUTFILE;)213
4815 y(unlink\("seen_url",)e("urls_list"\);)213 4973
y(#)213 5052 y(#)i(Print)h(out)f(usage)g(message)213
5131 y(#)213 5210 y(sub)g(usage)213 5289 y({)292 5367
y(print)h("usage:)e($0)i(-c)f(corpus_name)g(-u)g(url)h([-b)f(base_dir])
g([-o)g(output_file]\\n\\n";)292 5446 y(print)h(")79
b(--url)39 b(url\\n";)292 5525 y(print)h(")278 b(URL)40
b(to)f(start)g(the)h(crawl)f(from\\n";)292 5604 y(print)h(")79
b(--output)39 b(output)g(filename\\n";)p 3306 5708 V
185 5711 3125 4 v 1873 5809 a Fk(284)p eop end
%%Page: 285 285
TeXDict begin 285 284 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1206 4 1076 v 292 234 a Fa(print)40 b(")278 b(File)40
b(to)f(store)g(the)h(URLs)f(in.)79 b(If)40 b(not)f(specified,)g(print)g
(them)g(to)199 b(\\)213 313 y(STDOUT\\n";)292 392 y(print)40
b(")79 b(--test)39 b(test)g(regular)g(expression\\n";)292
471 y(print)h(")278 b(Regular)39 b(expression)g(to)g(test)g(URLs\\n";)
292 550 y(print)h("\\n";)292 708 y(print)g("example:)e($0)i(-c)f(kzoo)g
(-b)h(/data0/projects/lexnets/pipeline/produced)34 b(-u)159
b(\\)213 786 y(http://www.kzoo.edu/)37 b(-o)i(data/kzoo.urls\\n";)292
944 y(exit;)213 1023 y(})p 3466 1206 V 185 1209 3285
4 v 1873 5809 a Fk(285)p eop end
%%Page: 286 286
TeXDict begin 286 285 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.14)80 b(dir)o(ectory)p 725 210 25 4 v 28 w(to)p
823 210 V 29 w(cor)o(pus.pl)p 185 295 3285 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)213
556 y(#)39 b(script:)g(directory_to_corpus.pl)213 635
y(#)g(functionality:)f(Generates)h(a)g(clairlib)g(Corpus)g(from)g(a)h
(directory)f(of)g(documents)213 714 y(#)213 872 y(use)g(strict;)213
951 y(use)g(warnings;)213 1108 y(use)g(File::Spec;)213
1187 y(use)g(Getopt::Long;)213 1266 y(use)g
(Clair::Utils::CorpusDownload;)213 1424 y(sub)g(usage;)213
1582 y(my)g($corpus_name)f(=)i("";)213 1660 y(my)f($base_dir)g(=)h
("produced";)213 1739 y(my)f($input_dir)g(=)g("";)213
1818 y(my)g($in_file)g(=)h("";)213 1897 y(my)f($type)g(=)h("text";)213
1976 y(my)f($verbose)g(=)h(0;)213 2055 y(my)f($safe)g(=)h(0;)213
2134 y(my)f($skipDownload)f(=)i(0;)213 2291 y(my)f($res)h(=)f
(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d("base=s")i(=>)h
(\\$base_dir,)412 2370 y("directory=s")e(=>)h(\\$input_dir,)g
("input=s")f(=>)i(\\$in_file,)412 2449 y("type=s")f(=>)g(\\$type,)g
("verbose")g(=>)g(\\$verbose,)f("skipDownload")g(=>)478
b(\\)213 2528 y(\\$skipDownload\);)213 2686 y(if)39 b(\(!$res)g(or)h
(\($corpus_name)e(eq)h(""\)\))h({)292 2765 y(usage\(\);)292
2844 y(exit;)213 2922 y(})213 3080 y(unless)f(\(-d)g($base_dir\))f({)
292 3159 y(mkdir)i($base_dir)e(or)i(die)f("Couldn't)g(create)f
($base_dir:)h($!";)213 3238 y(})213 3475 y(my)g($gen_dir)g(=)h
("$base_dir";)213 3632 y(my)f($corpus_data_dir)f(=)h
("$gen_dir/corpus-data/$corpus_name";)213 3790 y(if)g
(\($skipDownload\))78 b({)292 3869 y($safe)40 b(=)f(1;)292
3948 y(print)h("Skipping)e(download.\\n";)213 4027 y(})213
4184 y(if)h(\($verbose)g(\))h({)f(print)g("Instantiating)f(corpus)h
($corpus_name)f(in)i($gen_dir\\n";)e(})213 4342 y(my)h($corpus)g(=)h
(Clair::Utils::CorpusDownload->new\(corpusnam)o(e)34
b(=>)40 b("$corpus_name",)372 4421 y(rootdir)f(=>)h("$gen_dir"\);)213
4579 y(if)f(\($input_dir)g(ne)g(""\))g({)292 4658 y
($corpus->build_corpus_from_directory\(dir)34 b(=>)40
b($input_dir,)e(cleanup)h(=>)g(0,)492 4736 y(safe)g(=>)h($safe,)e
(relative)h(=>)h(1,)f(skipCopy)g(=>)g($skipDownload\);)213
4815 y(})g(elsif)h(\($in_file)e(ne)i(""\))f({)292 4894
y(my)h(@files)f(=)h(\($in_file\);)292 4973 y
($corpus->buildCorpusFromFiles\(filesref)35 b(=>)k(\\@files,)g(cleanup)
g(=>)g(0,)h(safe)f(=>)239 b(\\)213 5052 y($safe,)39 b(skipCopy)f(=>)i
($skipDownload\);)213 5131 y(})f(else)h({)292 5210 y(usage\(\);)292
5289 y(exit;)213 5367 y(})213 5525 y(sub)f(usage)g({)292
5604 y(print)h("Usage)f($0)g(--corpus)g(corpus)g([--input)f(input_file)
h(|)g(--directory)517 b(\\)p 3466 5708 V 185 5711 3285
4 v 1873 5809 a Fk(286)p eop end
%%Page: 287 287
TeXDict begin 287 286 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 1758 4 1628 v 213 234 a Fa(input_dir]\\n\\n";)292
313 y(print)40 b(")79 b(--corpus)39 b(corpus\\n";)292
392 y(print)h(")278 b(Name)40 b(of)f(the)h(corpus)f(to)g(index\\n";)292
471 y(print)h(")79 b(--base)39 b(base_dir\\n";)292 550
y(print)h(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(generated)g(here\\n";)292 629
y(print)h(")79 b(--directory)38 b(input_dir\\n";)292
708 y(print)i(")278 b(Directory)39 b(containing)f(files)h(to)h(insert)f
(into)g(the)h(corpus\\n";)292 786 y(print)g(")79 b(--input)39
b(input_file\\n";)292 865 y(print)h(")278 b(File)40 b(containing)e
(filenames)g(of)i(input)f(documents\\n";)292 944 y(print)h(")79
b(--type)39 b(document_type\\n";)292 1023 y(print)h(")278
b(Document)39 b(type,)g(one)h(of:)f(text,)g(html,)g(stem\\n";)292
1102 y(print)h(")79 b(--skipDownload\\n";)292 1181 y(print)40
b(")278 b(Skips)39 b(copying)g(files)g(into)h(the)f($base_dir/download)
e(folder\\n";)292 1260 y(print)j(")79 b(--verbose\\n";)292
1338 y(print)40 b(")278 b(Include)39 b(verbose)g(output\\n";)292
1417 y(print)h("\\n";)292 1575 y(die;)213 1654 y(})p
3187 1758 V 185 1761 3006 4 v 1873 5809 a Fk(287)p eop
end
%%Page: 288 288
TeXDict begin 288 287 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.15)80 b(do)o(wnload)p 743 210 25 4 v 29 w(urls.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(script:)g(download_urls.pl)213 556 y(#)g(functionality:)f
(Downloads)h(a)g(set)h(of)f(URLs)213 714 y(use)g(strict;)213
793 y(use)g(warnings;)213 951 y(use)g(Getopt::Std;)213
1030 y(use)g(vars)g(qw/)h(\045opt)f(/;)213 1108 y(use)g
(Clair::Utils::CorpusDownload;)213 1266 y(sub)g(usage;)213
1424 y(my)g($opt_string)g(=)g("b:c:i:";)213 1503 y
(getopts\("$opt_string",)d(\\\045opt\))j(or)h(usage\(\);)213
1660 y(my)f($corpus_name)f(=)i("";)213 1739 y(#my)f($corpus_name)f(=)i
("umich2";)213 1818 y(if)f(\($opt{"c"}\))g({)292 1897
y($corpus_name)g(=)g($opt{"c"};)213 1976 y(})g(else)h({)292
2055 y(usage\(\);)292 2134 y(exit;)213 2213 y(})213 2370
y(my)f($url_file)g(=)h("";)213 2449 y(if)f(\($opt{"i"}\))g({)292
2528 y($url_file)g(=)h($opt{"i"};)213 2607 y(})f(else)h({)292
2686 y(usage\(\);)292 2765 y(exit;)213 2844 y(})213 3001
y(my)f($basedir)g(=)h("produced";)213 3080 y(if)f(\($opt{"b"}\))g({)292
3159 y($basedir)g(=)h($opt{"b"};)213 3238 y(})213 3317
y(my)f($gen_dir)g(=)h("$basedir";)213 3475 y(my)f($verbose)g(=)h(0;)213
3632 y(if)f(\($verbose)g(\))h({)f(print)g("Instantiating)f(corpus)h
($corpus_name)f(in)i($gen_dir\\n";)e(})213 3711 y(my)h($corpus)g(=)h
(Clair::Utils::CorpusDownload->new\(corpusnam)o(e)34
b(=>)40 b("$corpus_name",)372 3790 y(rootdir)f(=>)h("$gen_dir"\);)213
3948 y(if)f(\($verbose\))g({)g(print)g("Reading)g(URLs\\n";)g(})213
4027 y(my)g($uref)g(=)h($corpus->readUrlsFile\($url_file\);)213
4184 y(if)f(\($verbose\))g({)g(print)g("Building)g(corpus\\n";)f(})213
4263 y($corpus->buildCorpus\(urlsref)d(=>)40 b($uref,)f(cleanup)g(=>)g
(0\);)213 4421 y(#)g(write)h(links)f(file)213 4500 y
(#$corpus->write_links\(\);)213 4658 y(#)213 4736 y(#)g(Print)h(out)f
(usage)g(message)213 4815 y(#)213 4894 y(sub)g(usage)213
4973 y({)292 5052 y(print)h("usage:)e($0)i(-c)f(corpus_name)g(-i)g
(url_file)g([-b)g(base_dir]\\n\\n";)292 5131 y(print)h(")79
b(-i)40 b(url_file\\n";)292 5210 y(print)g(")278 b(Name)40
b(of)f(the)h(file)f(containing)f(a)i(list)f(of)h(URLs)f(from)g(which)g
(to)h(build)79 b(\\)213 5289 y(the)39 b(network\\n";)292
5367 y(print)h(")79 b(-c)40 b(corpus_name\\n";)292 5446
y(print)g(")278 b(Name)40 b(of)f(the)h(corpus\\n";)292
5525 y(print)g(")79 b(-b)40 b(base_dir\\n";)292 5604
y(print)g(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(generated)g(here\\n\\n";)p 3466
5708 V 185 5711 3285 4 v 1873 5809 a Fk(288)p eop end
%%Page: 289 289
TeXDict begin 289 288 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 811 4 681 v 292 313 a Fa(print)40 b("example:)e($0)i(-c)f
(bulgaria)g(-i)g(data/bulgaria.10.urls)e(-b)797 b(\\)213
392 y(/data0/projects/lexnets/pipeline/produced\\)o(n";)292
550 y(exit;)213 629 y(})p 3466 811 V 185 814 3285 4 v
60 1007 a Fi(10.4.16)80 b(erase)p 582 1007 25 4 v 29
w(cor)o(pus.pl)p 185 1092 3285 4 v 185 4533 4 3442 v
213 1196 a Fa(#!)39 b(/usr/bin/perl)f(-w)213 1275 y(#)213
1353 y(#)h(script:)g(remove)g(all)h(information)e(of)h(the)h(corpus.)
213 1432 y(#)213 1590 y(use)f(strict;)213 1669 y(use)g(warnings;)213
1827 y(use)g(Getopt::Long;)213 1984 y(sub)g(usage;)213
2142 y(#)g(print)h(out)f(the)g(usage)g(message)213 2221
y(sub)g(usage)g({)213 2300 y(print)g("usage:)g($0)g(-c)h(corpus)f(name)
g(-b)h(base)f(directory)f(for)i(the)f(corpus.\\n";)213
2379 y(print)g(")79 b(--corpus-name)38 b(name\\n";)213
2458 y(print)h(")398 b(name)39 b(of)h(the)f(corpus\\n)g(";)213
2537 y(print)g(")79 b(--base-dir\\n";)213 2615 y(print)39
b(")398 b(base)39 b(directory)g(of)h(the)f(corpus.\\n";)213
2694 y(exit;)213 2773 y(})213 2931 y(my)g($corpusName)g(=)g("";)213
3010 y(my)g($baseDir)g(=)h("";)213 3168 y(my)f($res)h(=)f
(GetOptions\("corpus-name=s")d(=>)k(\\$corpusName,)e("base-dir=s")g(=>)
438 b(\\)213 3246 y(\\$baseDir\);)213 3404 y(if)39 b(\(!$res)g(or)h
(\($corpusname)e(eq)h(""\))h(or)f(\($basedir)g(eq)g(""\)\))h({)213
3483 y(print)f("please)g(specify)f(both)i(corpus)f(name)g(and)g(base)h
(directory)e(of)i(the)f(corpus\\n";)213 3562 y(usage\(\);)213
3641 y(exit;)213 3720 y(})213 3877 y(`rm)g
($baseDir/$corpusName.download.uniq`;)213 3956 y(`rm)g(-rf)h
($baseDir/corpora/$corpusName`;)213 4035 y(`rm)f(-rf)h
($baseDir/corpus-data/$corpusName`;)213 4114 y(`rm)f(-rf)h
($baseDir/corpus-data/$corpusName-tf`;)213 4193 y(`rm)f(-rf)h
($baseDir/corpus-data/$corpusName-tf-s`;)213 4272 y(`rm)f(-rf)h
($baseDir/download/$corpusName`;)213 4351 y(print)f("Done!\\n";)p
3466 4533 V 185 4536 3285 4 v 1873 5809 a Fk(289)p eop
end
%%Page: 290 290
TeXDict begin 290 289 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.17)80 b(erase)p 582 210 25 4 v 29 w(isolated)p
884 210 V 29 w(nodes.pl)p 185 295 3046 4 v 185 5156 4
4861 v 213 399 a Fa(#!)39 b(/usr/bin/perl)f(-w)213 477
y(#)213 556 y(#)h(script:)g(remove)g(all)h(single)f(nodes)g(in)g(a)h
(edgelist)f(network)213 635 y(#)213 793 y(use)g(strict;)213
872 y(use)g(warnings;)213 1030 y(use)g(Getopt::Long;)213
1187 y(sub)g(usage;)213 1345 y(#)g(print)h(out)f(the)g(usgage)g
(message)213 1424 y(sub)g(usage)g({)213 1503 y(print)g("usage:)g($0)g
(-i)h(graph)f(name)g(-o)h(output)f(graph)g(name\\n";)213
1582 y(print)g(")79 b(--input)39 b(name\\n";)213 1660
y(print)g(")398 b(name)39 b(of)h(the)f(graph\\n";)213
1739 y(print)g(")79 b(--output)39 b(name\\n";)213 1818
y(print)g(")438 b(name)39 b(of)h(the)f(output)g(graph,)g(removed)g
(nodes)g(with)g(degree)g(0\\n";)213 1897 y(exit;)213
1976 y(})213 2134 y(my)g($input)g(=)h("";)213 2213 y(my)f($output)g(=)h
("";)213 2370 y(my)f($res)h(=)f(GetOptions\("input=s")e(=>)j(\\$input,)
e("output=s")h(=>)g(\\$output\);)213 2528 y(if)g(\(!$res)g(or)h
(\($input)f(eq)g(""\))h(or)f(\($output)g(eq)g(""\)\))h({)213
2607 y(print)f("please)g(specify)f(both)i(input)f(and)g(output\\n";)213
2686 y(usage\(\);)213 2765 y(exit;)213 2844 y(})213 2922
y(if)g(\($input)g(eq)h($output\))e({)213 3001 y(print)h("input)g(and)g
(output)g(name)g(should)g(be)h(different\\n";)213 3080
y(exit;)213 3159 y(})213 3317 y(open)f(\(FIN,)g("<",)g($input\))g(||)h
(die)f("$!";)213 3396 y(open)g(\(FOUT,)g(">",)g($output\))g(||)g(die)h
("$!";)213 3553 y(while)f(\(<FIN>\))g({)213 3632 y(chomp\(\);)213
3711 y($_)g(=)h(trim\($_\);)213 3790 y(my)f(@nodes)g(=)h(split\(\);)213
3869 y(next)f(if)h($#nodes)e(==)i(0;)213 4027 y(print)f(FOUT)g(join\(")
g(",)h(@nodes\);)213 4105 y(print)f(FOUT)g("\\n";)213
4263 y(})213 4342 y(close\(FIN\);)213 4421 y(close\(FOUT\);)213
4736 y(sub)g(trim{)213 4815 y(my)g($str)h(=)f(shift;)213
4894 y($str)g(=\230)h(s/\210\\s)732 4906 y(*)772 4894
y(|\\s)892 4906 y(*)932 4894 y($//g;)213 4973 y(return)f($str;)213
5052 y(})p 3226 5156 V 185 5159 3046 4 v 1873 5809 a
Fk(290)p eop end
%%Page: 291 291
TeXDict begin 291 290 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.18)80 b(extract)p 648 210 25 4 v 28 w(ngrams.pl)p
185 295 3285 4 v 185 5708 4 5414 v 213 399 a Fa(#)39
b(!/usr/bin/perl)213 477 y(#)g(script:)g(extract_ngrams.pl)213
556 y(#)g(author:)g(Jonathan)g(DePeri)213 635 y(#)g(functionality:)f
(Extracts)h(n-gram)g(counts)g(from)g(a)h(file)f(or)h(set)f(of)h(files)f
(in)g(a)319 b(\\)213 714 y(directory,)213 793 y(#)637
b(or)40 b(from)f(a)h(previously)e(dumped)h(n-gram)g(dictionary.)f
(Provides)318 b(\\)213 872 y(options)213 951 y(#)637
b(to)40 b(ignore)f(thresholds)f(having)h(few)g(occurrences.)213
1108 y(use)g(strict;)213 1187 y(use)g(warnings;)213 1345
y(use)g(Clair::Cluster;)213 1424 y(use)g(Clair::LM::Ngram)f
(qw\(load_ngramdict)f(dump_ngramdict)h(extract_ngrams)476
b(\\)213 1503 y(write_ngram_counts)37 b(enforce_count_thresholds\);)213
1582 y(use)i(File::Spec;)213 1660 y(use)g(Getopt::Long;)213
1897 y(my)g($readfiles)g(=)g("";)213 1976 y(my)g($format;)213
2055 y(my)g($loaddump)g(=)h("";)213 2134 y(my)f($writeout)g(=)h("";)213
2213 y(my)f($dumpout)g(=)h("";)213 2291 y(my)f($N;)213
2370 y(my)g($mincount;)213 2449 y(my)g($topcount;)213
2528 y(my)g($stem)g(=)h(0;)213 2607 y(my)f($segment)g(=)h(0;)213
2686 y(my)f($sort)g(=)h(0;)213 2765 y(my)f($verbose)g(=)h(0;)213
2844 y(my)f($help)g(=)h(0;)213 3001 y(my)f($res)h(=)f
(GetOptions\("readfiles=s"=>)d(\\$readfiles,)1050 3080
y("format=s")118 b(=>)39 b(\\$format,)1050 3159 y("loaddump=s")f(=>)h
(\\$loaddump,)1050 3238 y("writeout=s")f(=>)h(\\$writeout,)1050
3317 y("dumpout=s")78 b(=>)39 b(\\$dumpout,)1050 3396
y("N=i")318 b(=>)39 b(\\$N,)1050 3475 y("mincount=i")f(=>)h
(\\$mincount,)1050 3553 y("topcount=i")f(=>)h(\\$topcount,)412
3632 y("stem!")238 b(=>)40 b(\\$stem,)1050 3711 y("segment!")118
b(=>)39 b(\\$segment,)1050 3790 y("sort!")238 b(=>)39
b(\\$sort,)1050 3869 y("verbose!")118 b(=>)39 b(\\$verbose,)1050
3948 y("help!")238 b(=>)39 b(\\$help)g(\);)213 4027 y($format)g(=)g
("html")g(if)h($readfiles)e(and)i(not)f(defined)g($format;)213
4105 y($format)g(=)g(lc\($format\);)213 4263 y(exit)g(if)h(not)f($res;)
213 4421 y(usage\(\))g(and)g(exit)g(if)h($help;)213 4579
y(abort\("Must)e(specify)h(either)g(--readfiles)f(or)h
(--loaddump.\\n"\))f(if)i(\($readfiles)e(eq)h("")80 b(\\)213
4658 y(and)39 b($loaddump)g(eq)g(""\);)213 4736 y(abort\("Cannot)f
(specify)g(both)i(--readfiles)e(and)h(--loaddump.\\n"\))f(if)i
(\($readfiles)e(and)119 b(\\)213 4815 y($loaddump\);)213
4894 y(abort\("--format)37 b(must)j(be)f(either)g('text')g(or)h('html')
f(\(without)f(the)i(apostrophes\).\\n"\))292 4973 y(if)g(\($readfiles)e
(and)i($format)e(ne)i("text")f(and)g($format)g(ne)h("html"\);)213
5052 y(abort\("Specifying)d(--readfiles)h(requires)h(--N.\\n"\))g(if)g
(\($readfiles)f(and)i(not)f(defined)79 b(\\)213 5131
y($N\);)213 5210 y(abort\("Cannot)38 b(specify)g(--segment)h(with)g(N)h
(=)g(1,)f(since)g(sentence)g(boundaries)f(is)319 b(\\)213
5289 y(irrelevant)38 b(for)i(unigrams.\\n"\))292 5367
y(if)g(\($segment)f(and)g($N)g(==)h(1\);)213 5446 y(abort\("Cannot)e
(specify)g(both)i(--loaddump)e(and)h(--format.\\n"\))f(if)i
(\($loaddump)e(and)279 b(\\)213 5525 y($format\);)213
5604 y(abort\("Cannot)38 b(specify)g(both)i(--loaddump)e(and)h
(--N.\\n"\))g(if)h(\($loaddump)e(and)h($N\);)p 3466 5708
V 185 5711 3285 4 v 1873 5809 a Fk(291)p eop end
%%Page: 292 292
TeXDict begin 292 291 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(abort\("Cannot)38
b(specify)g(both)i(--loaddump)e(and)h(--stem.\\n"\))g(if)g(\($loaddump)
g(and)g($stem\);)213 313 y(abort\("Cannot)f(specify)g(both)i
(--loaddump)e(and)h(--segment.\\n"\))f(if)i(\($loaddump)e(and)239
b(\\)213 392 y($segment\);)213 471 y(abort\("Must)38
b(specify)h(either)g(--writeout)f(or)i(--dumpout,)e(or)i(both.\\n"\))e
(if)i(\($writeout)78 b(\\)213 550 y(eq)39 b("")h(and)f($dumpout)g(eq)g
(""\);)213 629 y(abort\("--N)f(must)h(be)h(at)f(least)h(1.\\n"\))f(if)g
(\(defined)g($N)g(and)h($N)f(<)h(1\);)213 708 y(abort\("If)e
(specified,)h(--mincount)f(must)h(be)h(at)f(least)g(1.\\n"\))g(if)h
(\(defined)f($mincount)118 b(\\)213 786 y(and)39 b($mincount)g(<)g
(1\);)213 865 y(abort\("If)f(specified,)h(--topcount)f(must)h(be)h(at)f
(least)g(1.\\n"\))g(if)h(\(defined)f($topcount)118 b(\\)213
944 y(and)39 b($topcount)g(<)g(1\);)213 1260 y(my)g($r_ngramdict)f(=)i
({};)213 1338 y(if)f(\($readfiles\))f({)372 1417 y(print)h("Reading)g
(file\(s\))g($readfiles)f(...\\n")h(if)h(\($verbose\);)372
1496 y(my)g($r_cluster)e(=)i(Clair::Cluster->new;)372
1575 y($r_cluster->load_documents\($readfiles,)1448 1654
y(type)f(=>)h($format,)1448 1733 y(filename_id)e(=>)i(1\);)372
1812 y(print)f(scalar)g(keys)g(\045{$r_cluster->documents\(\)},)d(")k
(document\(s\))e(read.\\n")h(if)199 b(\\)213 1891 y(\($verbose\);)372
2048 y(extract_ngrams\(cluster)116 b(=>)40 b($r_cluster,)970
2127 y(N)358 b(=>)40 b($N,)970 2206 y(ngramdict)e(=>)i($r_ngramdict,)
970 2285 y(format)158 b(=>)40 b($format,)970 2364 y(stem)238
b(=>)40 b($stem,)970 2443 y(segment)118 b(=>)40 b($segment,)970
2522 y(verbose)118 b(=>)40 b($verbose)f(\);)213 2600
y(})g(elsif)h(\($loaddump\))e({)372 2679 y(print)h("Loading)g(n-gram)g
(dictionary)f(dump)h(from)h($loaddump)e(...\\n")h(if)h(\($verbose\);)
372 2758 y(\($N,)f($r_ngramdict\))f(=)i(load_ngramdict\(infile)d(=>)i
($loaddump\);)372 2837 y(print)g("$N-gram)g(dictionary)f(loaded.\\n";)
213 2916 y(})213 3074 y(if)h(\(defined)g($mincount)f(or)i(defined)f
($topcount\))f({)372 3153 y(if)i(\($verbose\))e({)532
3231 y(print)h("Removing)f($N-grams)h(",)g(\(defined)g($topcount)g(?)g
("not)h(ranking)e(among)h(the)h(\\)213 3310 y(top)f($topcount")g(:)g
(""\),)1647 3389 y(\(defined)g($topcount)g(and)g(defined)g($mincount)f
(?)80 b(\\)213 3468 y(")39 b(or)h(")g(:)f(""\),)1647
3547 y(\(defined)g($mincount)g(?)g("with)g(count)g(<)399
b(\\)213 3626 y($mincount")38 b(:)i(""\),)1647 3705 y(")g(...\\n";)372
3783 y(})372 3862 y(enforce_count_thresholds\(N)c(=>)k($N,)1368
3941 y(ngramdict)f(=>)g($r_ngramdict,)1368 4020 y(mincount)79
b(=>)39 b($mincount,)1368 4099 y(topcount)79 b(=>)39
b($topcount)g(\);)213 4178 y(})213 4336 y(if)g(\($writeout\))g({)372
4414 y(print)g("Writing)g(",)g(\($sort)g(?)h("sorted")f(:)g
("unsorted"\),)g(")g($N-gram)g(counts)g(to)239 b(\\)213
4493 y($writeout)38 b(...\\n")h(if)h(\($verbose\);)372
4572 y(write_ngram_counts\(N)356 b(=>)39 b($N,)1129 4651
y(ngramdict)g(=>)g($r_ngramdict,)1129 4730 y(outfile)119
b(=>)39 b($writeout,)1129 4809 y(sort)239 b(=>)39 b($sort)g(\);)213
4888 y(})213 4967 y(if)g(\($dumpout\))g({)372 5045 y(print)g
("Serializing)f($N-gram)h(dictionary)f(to)i($dumpout)f(...\\n")g(if)g
(\($verbose\);)372 5124 y(dump_ngramdict\(N)356 b(=>)40
b($N,)970 5203 y(ngramdict)e(=>)i($r_ngramdict,)970 5282
y(outfile)118 b(=>)40 b($dumpout)f(\);)213 5361 y(})213
5440 y(print)g("Done.\\n")f(if)i(\($verbose\);)p 3466
5544 V 185 5547 3285 4 v 1873 5809 a Fk(292)p eop end
%%Page: 293 293
TeXDict begin 293 292 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 392 a Fa(sub)39 b(usage)g({)372
471 y(print)g("Usage:)g($0)h([-r)f(fileexpr)g(|)g(-l)h(dumpfile])e([-f)
i(filefmt])f([-w)g(outfile])g([-d)79 b(\\)213 550 y(outfile])38
b(-N)i(len)f([-min)g(J])h([-top)f(K])h([-stem])e([-segment])h([-sort])g
([-v]\\n";)372 629 y(print)g("Extract)g(n-grams)g(counts)g(from)g(text)
g(or)h(html)f(documents,)f(or)i(from)f(a)319 b(\\)213
708 y(previous)38 b(dump.\\n";)372 786 y(print)h("Ignores)g(low-count)f
(n-grams)h(as)h(specified.\\n";)372 865 y(print)f("\\n";)372
944 y(print)g("Arguments:\\n";)372 1023 y(print)g("\\n";)372
1102 y(print)g(")80 b(--readfiles)38 b(fileexpr\\n";)372
1181 y(print)h(")279 b(Input)39 b(file)g(expression,)g(eg.)g(\\"docs/)
2286 1193 y(*)2326 1181 y(.txt\\".)f(Bigrams)g(will)i(be)159
b(\\)213 1260 y(extracted\\n";)372 1338 y(print)39 b(")279
b(from)39 b(by)h(reading)f(all)g(files)g(matching)g(this)g
(expression.\\n";)372 1417 y(print)g(")279 b(NOTE:)39
b(To)h(guarantee)e(wildcard)h(expressions)f(match)h(file)g(names)h(as)
119 b(\\)213 1496 y(expected,\\n";)372 1575 y(print)39
b(")518 b(fileexpr)39 b(should)g(be)g(enclosed)g(in)h(quotes.\\n";)372
1654 y(print)f(")80 b(--format)38 b(filefmt\\n";)372
1733 y(print)h(")279 b(Input)39 b(file)g(format:)g(either)g('html')g
(or)h('text'.)f(Default)f(is)319 b(\\)213 1812 y('html'.\\n";)372
1891 y(print)39 b(")80 b(--loaddump)38 b(infile\\n";)372
1969 y(print)h(")279 b(Loads)39 b(previously)g(extracted)f(n-gram)h
(dictionary)f(from)i(dump)318 b(\\)213 2048 y(file.\\n";)372
2127 y(print)39 b(")80 b(--writeout)38 b(outfile\\n";)372
2206 y(print)h(")279 b(File)39 b(where)g(n-gram)g(dictionary)g(is)g(to)
h(be)f(written.)g(Must)g(be)319 b(\\)213 2285 y(specified\\n";)372
2364 y(print)39 b(")279 b(if)40 b(--dumpfile)e(is)i(not)f
(specified.\\n";)372 2443 y(print)g(")80 b(--dumpout)38
b(outfile\\n";)372 2522 y(print)h(")279 b(File)39 b(where)g(n-gram)g
(dictionary)g(hash)g(is)h(to)f(be)h(dumped)f(for)g(later)119
b(\\)213 2600 y(reloading.\\n";)372 2679 y(print)39 b(")279
b(Must)39 b(be)h(specified)e(if)i(--writeout)e(is)i(not)f
(specified.\\n";)372 2758 y(print)g(")80 b(--N)39 b(ngram_len\\n";)372
2837 y(print)g(")279 b(Length)39 b(of)h(n-grams)e(to)i(be)f(extracted.)
g(Must)g(be)h(at)f(least)g(1.\\n";)372 2916 y(print)g(")80
b(--mincount)38 b(J\\n";)372 2995 y(print)h(")279 b(If)40
b(specified,)e(ignores)h(all)g(n-grams)g(having)g(less)g(than)g(J)399
b(\\)213 3074 y(occurrences;\\n";)372 3153 y(print)39
b(")279 b(must)39 b(be)h(at)f(least)h(1.)f(Default)g(is)g(1.\\n";)372
3231 y(print)g(")80 b(--topcount)38 b(J\\n";)372 3310
y(print)h(")279 b(If)40 b(specified,)e(ignores)h(all)g(n-grams)g(not)g
(among)h(the)f(top)g(J)h(in)239 b(\\)213 3389 y(number)39
b(of\\n";)372 3468 y(print)g(")279 b(occurrences;)38
b(must)h(be)h(at)f(least)h(1.)f(Defaults)g(to)g(the)h(total)f(number)g
(\\)213 3547 y(of.\\n";)372 3626 y(print)g(")279 b(n-grams.\\n";)372
3705 y(print)39 b(")80 b(--stem\\n";)372 3783 y(print)39
b(")279 b(If)40 b(set,)f(uses)g(stemmed)g(terms.)g(Default)g(is)g
(unstemmed.\\n";)372 3862 y(print)g(")80 b(--segment\\n";)372
3941 y(print)39 b(")279 b(If)40 b(set,)f(segments)g(sentences)f(using)h
(the)h(sentence)e(segmenter)278 b(\\)213 4020 y(defined)39
b(in\\n";)372 4099 y(print)g(")279 b(Clair::Config.)38
b(A)i(term)f(occurring)f(at)i(sentence)f(beginning)f(occurs)79
b(\\)213 4178 y(in)39 b(a\\n";)372 4257 y(print)g(")279
b(bigram)39 b(\(\\".\\",)g(term\);)g(a)g(term)h(occurring)e(at)i
(sentence)e(end)i(occurs)f(\\)213 4336 y(in)g(a\\n";)372
4414 y(print)g(")279 b(bigram)39 b(\(term,)g(\\".\\"\).)g(Default)g(is)
g(unsegmented,)f(in)i(which)f(case)119 b(\\)213 4493
y(bigrams\\n";)372 4572 y(print)39 b(")279 b(are)39 b(composed)g(only)g
(of)h(terms.\\n";)372 4651 y(print)f(")80 b(--sort\\n";)372
4730 y(print)39 b(")279 b(If)40 b(set,)f(together)g(with)g(--writeout,)
f(sorts)h(n-gram)g(counts)g(output)79 b(\\)213 4809 y(in\\n";)372
4888 y(print)39 b(")279 b(descending)38 b(order)i(by)f(count.)g
(Default)g(is)g(unsorted.\\n";)372 4967 y(print)g(")80
b(--verbose\\n";)372 5045 y(print)39 b(")279 b(If)40
b(set,)f(displays)g(status)f(during)h(processing.)g(Default)f(is)i(not)
199 b(\\)213 5124 y(verbose.\\n";)372 5203 y(print)39
b("\\n";)372 5282 y(print)g("example:)g($0)g(-r)h(\\"docs/)1529
5294 y(*)1569 5282 y(.txt\\")e(-f)h(text)g(-w)h(doc.2gram)f(-d)g
(doc.2gram.dump)f(\\)213 5361 y(-N)h(2)h(-top)f(10)h(-threshold)e(100)i
(-stem)f(-segment)f(-sort)h(-v\\n";)p 3466 5544 V 185
5547 3285 4 v 1873 5809 a Fk(293)p eop end
%%Page: 294 294
TeXDict begin 294 293 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 1053
4 v 185 811 4 681 v 372 234 a Fa(exit;)213 313 y(})213
550 y(sub)39 b(abort{)372 629 y(print)g($_[0])g(and)h(exit;)213
708 y(})p 1234 811 V 185 814 1053 4 v 1873 5809 a Fk(294)p
eop end
%%Page: 295 295
TeXDict begin 295 294 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.19)80 b(generate)p 703 210 25 4 v 28 w(random)p
1013 210 V 29 w(netw)o(ork.pl)p 185 295 3006 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39
b(script:)g(generate_random_network.pl)213 556 y(#)g(functionality:)f
(Generates)h(a)g(random)g(network)213 714 y(use)g(strict;)213
793 y(use)g(warnings;)213 951 y(use)g(Getopt::Long;)213
1030 y(use)g(Clair::Network::Generator::ErdosRenyi;)213
1108 y(use)g(Clair::Network::Reader::Edgelist;)213 1187
y(use)g(Clair::Network::Writer::Edgelist;)213 1345 y(sub)g(usage;)213
1503 y(my)g($in_file)g(=)h("";)213 1582 y(my)f($delim)g(=)h("[)g
(\\t]+";)213 1660 y(my)f($out_file)g(=)h("";)213 1739
y(my)f($type)g(=)h("";)213 1818 y(my)f($verbose)g(=)h(0;)213
1897 y(my)f($undirected)g(=)g(0;)213 1976 y(my)g($n)h(=)g(0;)213
2055 y(my)f($m)h(=)g(0;)213 2134 y(my)f($p)h(=)g(0;)213
2213 y(my)f($stats)g(=)h(1;)213 2291 y(my)f($weights)g(=)h(0;)213
2370 y(my)f($res)h(=)f(GetOptions\("input=s")e(=>)j(\\$in_file,)78
b("delim=s")38 b(=>)i(\\$delim,)1050 2449 y("output=s")e(=>)i
(\\$out_file,)e("type=s")g(=>)i(\\$type,)1050 2528 y("verbose")e(=>)i
(\\$verbose,)e("undirected")g(=>)i(\\$undirected,)1050
2607 y("n=i")f(=>)g(\\$n,)h("m=i")f(=>)g(\\$m,)g("p=f")h(=>)f(\\$p,)
1050 2686 y("weights")f(=>)i(\\$weights,)e("stats!")h(=>)g(\\$stats\);)
213 2844 y(my)g($directed)g(=)h(not)f($undirected;)213
3001 y(if)g(\(!$res)g(or)h(\($type)f(eq)g(""\)\))h({)292
3080 y(usage\(\);)292 3159 y(exit;)213 3238 y(})213 3396
y(my)f($in_net)g(=)h(0;)213 3475 y(if)f(\($in_file)g(ne)g(""\))h({)292
3553 y(my)g($reader)f(=)h(Clair::Network::Reader::Edgelist->new\(\);)
292 3632 y(my)g($in_net)f(=)h($reader->read_network\($in_file,)1687
3711 y(delim)f(=>)h($delim,)1687 3790 y(directed)f(=>)g($directed\);)
292 3869 y($n)h(=)g($in_net->num_nodes\(\);)292 3948
y($m)g(=)g($in_net->num_links\(\);)213 4027 y(})213 4184
y(my)f($parent_type)f(=)i("";)213 4263 y(my)f($subtype)g(=)h("";)213
4342 y(if)f(\($type)g(eq)h("erdos-renyi-gnm"\))d({)292
4421 y($parent_type)i(=)g("erdos-renyi";)292 4500 y($subtype)g(=)h
("gnm";)292 4579 y(if)g(\($m)f(==)h(0\))g({)372 4658
y(print)f("Need)g(m)h(argument)f(for)g(number)g(of)h(edges\\n";)372
4736 y(usage\(\);)292 4815 y(})213 4894 y(})f(elsif)h(\($type)f(eq)g
("erdos-renyi-gnp"\))e({)292 4973 y($parent_type)i(=)g("erdos-renyi";)
292 5052 y($subtype)g(=)h("gnp";)292 5131 y(if)g(\($p)f(==)h(0\))g({)
372 5210 y(print)f("Need)g(p)h(argument)f(for)g(probability)f(of)i
(edge\\n";)372 5289 y(usage\(\);)292 5367 y(})213 5446
y(})213 5604 y(my)f($net)h(=)f(0;)p 3187 5708 V 185 5711
3006 4 v 1873 5809 a Fk(295)p eop end
%%Page: 296 296
TeXDict begin 296 295 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2926
4 v 185 4045 4 3915 v 213 234 a Fa(if)39 b(\($parent_type)f(eq)i
("erdos-renyi"\))e({)292 313 y(my)i($generator)e(=)i
(Clair::Network::Generator::ErdosRenyi->new\(di)o(rected)33
b(=>)2644 392 y($directed\);)292 471 y(if)40 b(\($subtype)f(eq)g
("gnm"\))g({)372 550 y($net)g(=)h($generator->generate\($n,)c($m,)k
(type)f(=>)h($subtype,)1488 629 y(weights)f(=>)g($weights,)1488
708 y(directed)g(=>)g($directed\);)292 786 y(})h(else)f({)372
865 y($net)g(=)h($generator->generate\($n,)c($p,)k(type)f(=>)h
($subtype,)1488 944 y(weights)f(=>)g($weights,)1488 1023
y(directed)g(=>)g($directed\);)292 1102 y(})213 1181
y(})213 1338 y(if)g(\($out_file)g(ne)g(""\))h({)292 1417
y(my)g($export)f(=)h(Clair::Network::Writer::Edgelist->new\(\);)292
1496 y($export->write_network\($net,)c($out_file,)i(weights)h(=>)h
($weights\);)213 1575 y(})213 1654 y(if)f(\($stats\))g({)292
1733 y($net->print_network_info\(\);)213 1812 y(})213
1969 y(sub)g(usage)g({)292 2048 y(print)h("Usage)f($0)g(--output)g
(output_file)f(--type)h(type)g([--verbose]\\n\\n";)292
2127 y(print)h(")79 b(--input)39 b(input_file\\n";)292
2206 y(print)h(")278 b(Name)40 b(of)f(the)h(input)f(graph)g(file\\n";)
292 2285 y(print)h(")79 b(--delim)39 b(delimiter\\n";)292
2364 y(print)h(")398 b(Vertices)39 b(are)g(delimited)f(by)i(delimter)f
(character\\n";)292 2443 y(print)h(")79 b(--undirected,)f(-u\\n";)292
2522 y(print)40 b(")398 b(Treat)39 b(graph)g(as)h(an)f(undirected)g
(graph\\n";)292 2600 y(print)h(")79 b(--output)39 b(output_file\\n";)
292 2679 y(print)h(")278 b(Name)40 b(of)f(the)h(output)f(graph)g
(file\\n";)292 2758 y(print)h(")79 b(--type)39 b(graph_type\\n";)292
2837 y(print)h(")278 b(Type)40 b(of)f(random)g(graph)g(to)h(generate,)e
(can)i(be)f(one)h(of:\\n";)292 2916 y(print)g(")478 b(erdos-renyi-gnm:)
37 b(Set)i(number)g(of)h(edges\\n";)292 2995 y(print)g(")478
b(erdos-renyi-gnp:)37 b(Random)i(edge)g(w/)h(prob)f(p\\n";)292
3074 y(print)h(")79 b(-n)40 b(number_nodes\\n";)292 3153
y(print)g(")278 b(Number)39 b(of)h(nodes\\n";)292 3231
y(print)g(")79 b(-m)40 b(number_edges\\n";)292 3310 y(print)g(")278
b(Number)39 b(of)h(edges\\n";)292 3389 y(print)g(")79
b(-p)40 b(edge_probability\\n";)292 3468 y(print)g(")278
b(Probability)39 b(of)g(edge)g(between)g(two)h(nodes\\n";)292
3547 y(print)g(")79 b(--verbose\\n";)292 3626 y(print)40
b(")278 b(Increase)39 b(verbosity)g(of)g(debugging)g(output\\n";)292
3705 y(print)h("\\n";)292 3783 y(die;)213 3862 y(})p
3107 4045 V 185 4048 2926 4 v 1873 5809 a Fk(296)p eop
end
%%Page: 297 297
TeXDict begin 297 296 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.20)80 b(idf)p 494 210 25 4 v 30 w(query)-6 b(.pl)p
185 295 2966 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 477 y(#)39 b(script:)g(get_idf.pl)213 556 y(#)g(functionality:)f
(Looks)h(up)h(idf)f(values)g(for)h(terms)f(in)g(a)h(corpus)213
714 y(use)f(strict;)213 793 y(use)g(warnings;)213 872
y(use)g(Getopt::Long;)213 951 y(use)g(File::Spec;)213
1030 y(use)g(Clair::Utils::Idf;)213 1187 y(sub)g(usage;)213
1345 y(my)g($base_dir)g(=)h("";)213 1424 y(my)f($out_file)g(=)h("";)213
1503 y(my)f($corpus_name)f(=)i("";)213 1582 y(my)f($query)g(=)h("";)213
1660 y(my)f($all)h(=)f('';)213 1739 y(my)g($stemmed)g(=)h('';)213
1818 y(my)f($dir;)213 1897 y(my)g($vol;)213 1976 y(my)g($file;)213
2213 y(my)g($res)h(=)f(GetOptions\("basedir=s")e(=>)i(\\$base_dir,)g
("output=s")f(=>)i(\\$out_file,)213 2291 y("corpus=s")e(=>)i
(\\$corpus_name,)213 2370 y("query=s")e(=>)i(\\$query,)213
2449 y("all")f(=>)g(\\$all,)213 2528 y("stemmed")f(=>)i(\\$stemmed\);)
213 2686 y(#)f(check)h(for)f(input)g(dir)213 2765 y(if\()g($base_dir)g
(eq)g("")h(\){)292 2844 y(usage\(\);)292 2922 y(exit;)213
3001 y(})213 3159 y(#)f(check)h(for)f(corpus)g(name)213
3238 y(if\()g($corpus_name)f(eq)i("")f(\){)292 3317 y(usage\(\);)292
3396 y(exit;)213 3475 y(})213 3632 y(#)g(check)h(for)f(output)g(file)
213 3711 y(if)g(\($out_file)g(ne)g(""\))h({)292 3790
y(\($vol,)f($dir,)h($file\))e(=)i(File::Spec->splitpath\($out_file\);)
292 3869 y(if)g(\($dir)f(ne)h(""\))f({)372 3948 y(unless)g(\(-d)h
($dir\))f({)452 4027 y(mkdir)g($dir)g(or)h(die)f("Couldn't)g(create)g
($dir:)g($!";)372 4105 y(})292 4184 y(})292 4342 y(open\(OUTFILE,)f(">)
i($out_file"\);)292 4433 y(*)332 4421 y(STDOUT)f(=)691
4433 y(*)731 4421 y(OUTFILE;)292 4500 y(select)g(OUTFILE;)g($|)h(=)f
(1;)213 4579 y(})213 4736 y(#)g(make)h(unbuffered)213
4815 y(select)f(STDOUT;)g($|)g(=)h(1;)213 4894 y(select)f(STDERR;)g($|)
g(=)h(1;)213 4973 y(select)f(STDOUT;)213 5131 y(#)g(check)h(for)f(word)
g(query)213 5210 y(if\()g($query)g(eq)h("")f(\){)292
5289 y($all)h(=)f(1;)213 5367 y(})213 5525 y(#)g(create)g(idf)h(object)
213 5604 y(my)f($idf)h(=)f(Clair::Utils::Idf->new\(rootdir)d(=>)j
("$base_dir",)p 3147 5708 V 185 5711 2966 4 v 1873 5809
a Fk(297)p eop end
%%Page: 298 298
TeXDict begin 298 297 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3572 4 3442 v 1528 234 a Fa(corpusname)38 b(=>)i
("$corpus_name",)253 313 y(stemmed)e(=>)i($stemmed\);)213
471 y(#)f(get)h(idfs)213 550 y(my)f(\045idfs)g(=)h($idf->getIdfs\(\);)
213 708 y(#)f(print)h(words)f(and)g(idfs)g(to)h(output)213
786 y(if\()f($all)g(\){)292 865 y(foreach)g(my)h($k)f(\(keys)g
(\045idfs\))g({)372 944 y(print)g("$k:)h(")f(.)h($idfs{$k})e(.)i
("\\n";)292 1023 y(})213 1102 y(})f(elsif\()g($idfs{$query})f(\))i({)
292 1181 y(print)g("$query:)e(")i(.)g($idfs{$query})e(.)h("\\n";)213
1260 y(})g(else)h({)292 1338 y(print)g("$query)e(not)i(found\\n";)213
1417 y(})213 1654 y(#)213 1733 y(#)f(Print)h(out)f(usage)g(message)213
1812 y(#)213 1891 y(sub)g(usage)213 1969 y({)292 2048
y(print)h("usage:)e($0)i(--basedir)e(base_dir)h(--corpus)g(corpus_name)
f([--output)477 b(\\)213 2127 y(output_file])38 b([--query)g(word])i
([--all])e([--stemmed]\\n\\n";)292 2206 y(print)i(")79
b(--basedir)39 b(base_dir\\n";)292 2285 y(print)h(")239
b(Base)39 b(directory)f(filename.)79 b(The)39 b(corpus)g(is)h
(generated)e(here.\\n";)292 2364 y(print)i(")79 b(--corpus)39
b(corpus_name\\n";)292 2443 y(print)h(")239 b(Name)39
b(of)g(the)h(corpus.\\n";)292 2522 y(print)g(")79 b(--output)39
b(output_file\\n";)292 2600 y(print)h(")239 b(Name)39
b(of)g(output)g(file.)79 b(If)40 b(not)f(given,)g(dumps)g(to)h
(stdout.\\n";)292 2679 y(print)g(")79 b(--query)39 b(word\\n";)292
2758 y(print)h(")239 b(Term)39 b(to)g(query.\\n";)292
2837 y(print)h(")79 b(--all\\n";)292 2916 y(print)40
b(")239 b(Print)39 b(out)g(all)g(words)h(and)f(IDF's.)79
b(Default.\\n";)292 2995 y(print)40 b(")79 b(--stemmed\\n";)292
3074 y(print)40 b(")239 b(Set)39 b(whether)g(the)g(input)g(is)h
(already)f(stemmed.\\n";)292 3153 y(print)h("\\n";)292
3231 y(print)g("example:)e($0)i(--basedir)e
(/data0/corpora/sfi/abs/produced)d(--corpus)k(ABS)199
b(\\)213 3310 y(--output)38 b(./abs.idf)h(--query)g(hahn)g
(--stemmed\\n";)292 3389 y(exit;)213 3468 y(})p 3466
3572 V 185 3575 3285 4 v 1873 5809 a Fk(298)p eop end
%%Page: 299 299
TeXDict begin 299 298 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.21)80 b(index)p 591 210 25 4 v 30 w(cor)o(pus.pl)p
185 295 3086 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(script:)g(index_corpus.pl)213 556 y(#)g(functionality:)f
(Builds)h(the)h(TF)f(and)h(IDF)f(indices)g(for)g(a)h(corpus)213
635 y(#)f(functionality:)f(as)i(well)f(as)h(several)e(other)h(support)g
(indices)213 714 y(#)213 872 y(use)g(strict;)213 951
y(use)g(warnings;)213 1108 y(use)g(File::Spec;)213 1187
y(use)g(Getopt::Long;)213 1345 y(use)g(Clair::Utils::CorpusDownload)d
(qw\($verbose\);)213 1424 y(use)j(Clair::Utils::Tf;)213
1503 y(use)g(Clair::Utils::Idf;)213 1660 y(sub)g(usage;)213
1818 y(my)g($corpus_name)f(=)i("";)213 1897 y(my)f($base_dir)g(=)h
("produced";)213 1976 y(my)f($input_dir)g(=)g("";)213
2055 y(my)g($docno_flag)g(=)g(1;)213 2134 y(my)g($tf_flag)g(=)h(1;)213
2213 y(my)f($idf_flag)g(=)h(1;)213 2291 y(my)f($links_flag)g(=)g(1;)213
2370 y(my)g($stats_flag)g(=)g(1;)213 2449 y(my)g($verbose)g(=)h(0;)213
2528 y(my)f($punc)g(=)h(0;)213 2686 y(my)f($res)h(=)f
(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d("base=s")i(=>)h
(\\$base_dir,)412 2765 y("tf!")f(=>)h(\\$tf_flag,)e("idf!")h(=>)h
(\\$idf_flag,)1050 2844 y("links!")e(=>)i(\\$links_flag,)e("stats!")g
(=>)i(\\$stats_flag,)1050 2922 y("docno!")e(=>)i(\\$docno_flag,)1050
3001 y("verbose")e(=>)i(\\$verbose,)1050 3080 y("punc")f(=>)g
(\\$punc\);)213 3238 y($Clair::Utils::CorpusDownload::verbose)34
b(=)40 b($verbose;)213 3396 y(if)f(\(!$res)g(or)h(\($corpus_name)e(eq)h
(""\))h(or)f(\($base_dir)g(eq)g(""\)\))g({)292 3475 y(usage\(\);)292
3553 y(exit;)213 3632 y(})213 3790 y(unless)g(\(-d)g($base_dir\))f({)
292 3869 y(mkdir)i($base_dir)e(or)i(die)f("Couldn't)g(create)f
($base_dir:)h($!";)213 3948 y(})213 4184 y(my)g($gen_dir)g(=)h
("$base_dir";)213 4342 y(my)f($corpus_data_dir)f(=)h
("$gen_dir/corpus-data/$corpus_name";)213 4579 y(if)g(\($verbose)g(\))h
({)f(print)g("Instantiating)f(corpus)h($corpus_name)f(in)i
($gen_dir\\n";)e(})213 4658 y(my)h($corpus)g(=)h
(Clair::Utils::CorpusDownload->new\(corpusnam)o(e)34
b(=>)40 b("$corpus_name",)2086 4736 y(rootdir)f(=>)g("$gen_dir"\);)213
4894 y(#)g(index)h(the)f(corpus)213 4973 y(print)g("Indexing)f(the)i
(corpus\\n";)213 5052 y(if)f(\($docno_flag\))f({)292
5131 y($corpus->build_docno_dbm\(\);)213 5210 y(})213
5367 y(#)h(Write)h(links)f(file)213 5446 y(if)g(\($links_flag\))f({)292
5525 y(if)i(\($verbose\))e({)i(print)f("Building)g(hyperlink)f
(database\\n";)g(})292 5604 y($corpus->write_links\(\);)p
3266 5708 V 185 5711 3086 4 v 1873 5809 a Fk(299)p eop
end
%%Page: 300 300
TeXDict begin 300 299 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 4203 4 4073 v 213 234 a Fa(})213 392 y(#)39 b(Build)h(tf-idf)f
(files)213 471 y(if)g(\($idf_flag\))g({)292 550 y(if)h(\($verbose\))e
({)i(print)f("Building)g(IDF)g(database\\n";)f(})292
629 y($corpus->buildIdf\(stemmed)f(=>)i(0,)h(punc)f(=>)g($punc\);)292
708 y($corpus->buildIdf\(stemmed)e(=>)i(1,)h(punc)f(=>)g($punc\);)213
786 y(})213 865 y(if)g(\($tf_flag\))g({)292 944 y(if)h(\($verbose\))e
({)i(print)f("Building)g(TF)g(database\\n";)f(})292 1023
y($corpus->buildTf\(stemmed)f(=>)i(0\);)292 1102 y
($corpus->buildTf\(stemmed)e(=>)i(1\);)213 1181 y(})213
1338 y(#)g(build)h(document)e(length)h(dist)g(and)h(term)f(counts)213
1417 y(if)g(\($stats_flag\))f({)292 1496 y(if)i(\($verbose\))e({)i
(print)f("Building)g(document)f(length)h(and)h(term)f(count)g
(databases\\n";})292 1575 y($corpus->build_doc_len\(stemmed)d(=>)j
(0\);)292 1654 y($corpus->build_term_counts\(stemmed)c(=>)40
b(0\);)292 1733 y($corpus->build_term_counts\(stemmed)35
b(=>)40 b(1\);)213 1812 y(})213 1969 y(sub)f(usage)g({)292
2048 y(print)h("Usage)f($0)g(--corpus)g(corpus\\n\\n";)292
2127 y(print)h(")79 b(--corpus)39 b(corpus\\n";)292 2206
y(print)h(")278 b(Name)40 b(of)f(the)h(corpus)f(to)g(index\\n";)292
2285 y(print)h(")79 b(--base)39 b(base_dir\\n";)292 2364
y(print)h(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(located)g(here\\n";)292 2443
y(print)h(")f(--docno,)g(--no-docno\\n";)292 2522 y(print)h(")278
b(Enable)39 b(or)h(disable)f(building)f(of)i(docno)f(database.)78
b(Enabled)39 b(by)279 b(\\)213 2600 y(default\\n";)292
2679 y(print)40 b(")f(--tf,)g(--notf\\n";)292 2758 y(print)h(")278
b(Enable)39 b(or)h(disable)f(building)f(of)i(TF)f(index.)79
b(Enabled)39 b(by)h(default\\n";)292 2837 y(print)g(")f(--idf,)g
(--noidf\\n";)292 2916 y(print)h(")278 b(Enable)39 b(or)h(disable)f
(building)f(of)i(IDF)f(index.)79 b(Enabled)39 b(by)478
b(\\)213 2995 y(default\\n";)292 3074 y(print)40 b(")f(--links,)g
(--nolinks\\n";)292 3153 y(print)h(")278 b(Enable)39
b(or)h(disable)f(building)f(hyperlink)h(database.)78
b(Enabled)39 b(by)239 b(\\)213 3231 y(default\\n";)292
3310 y(print)40 b(")f(--stats,)g(--nostats\\n";)292 3389
y(print)h(")278 b(Enable)39 b(or)h(disable)f(building)f(term)i(counts)f
(and)g(doc.)g(len.)g(dist.\\n";)292 3468 y(print)h(")278
b(Enabled)39 b(by)h(default\\n";)292 3547 y(print)g(")f(--punc\\n";)292
3626 y(print)h(")278 b(Include)39 b(punctuation)f(in)i(IDF.)79
b(Disabled)39 b(by)g(default.\\n";)292 3705 y(print)h(")79
b(--verbose\\n";)292 3783 y(print)40 b(")278 b(Include)39
b(verbose)g(output\\n";)292 3862 y(print)h("\\n";)292
4020 y(die;)213 4099 y(})p 3466 4203 V 185 4206 3285
4 v 1873 5809 a Fk(300)p eop end
%%Page: 301 301
TeXDict begin 301 300 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.22)80 b(lines)p 558 210 25 4 v 30 w(to)p 658
210 V 29 w(docs.pl)p 185 295 3006 4 v 185 3894 4 3600
v 213 399 a Fa(#!)39 b(/usr/bin/perl)f(-w)213 477 y(#)h(script:)g
(lines_to_docs.pl)213 556 y(#)g(functionality:)f(Converts)h(a)h
(document)e(with)h(sentences)g(into)g(a)h(set)f(of)213
635 y(#)g(functionality:)f(documents)h(with)g(one)g(sentence)g(per)g
(document)213 793 y(use)g(strict;)213 872 y(use)g(warnings;)213
951 y(use)g(Getopt::Long;)213 1108 y(sub)g(usage;)213
1266 y(my)g($fileName)g(=)h("";)213 1345 y(my)f($folderName)g(=)g("";)
213 1503 y(my)g($res)h(=)f(GetOptions\("input=s")e(=>)j(\\$fileName,)e
("output=s")g(=>)i(\\$folderName\);)213 1660 y(if)f(\(!$res)g(or)h
(\($folderName)e(eq)h(""\)\))h({)213 1739 y(usage\(\);)213
1818 y(exit;)213 1897 y(})213 1976 y(open)f(\(FIN,)g("<",)g
($fileName\))g(||)g(die)h($!;)213 2055 y(my)f($folder)g(=)h
($folderName;)213 2213 y(#`rm)f(-rf)g(./$folder`;)213
2291 y(`mkdir)g($folder`;)213 2370 y(my)g($counter)g(=)h(0;)213
2528 y(while)f(\(<FIN>\))g({)213 2607 y(chomp;)213 2686
y(open)g(\(FOUT,)g(">",)g("$folder/$counter"\)||)e(die)i($!;)213
2765 y($counter++;)213 2844 y(print)g(FOUT)g($_,"\\n";)213
2922 y(close)g(\(FOUT\);)213 3001 y(})213 3159 y(close\(FIN\);)213
3317 y(sub)g(usage)g({)292 3396 y(print)h(")79 b(--input)39
b(in_file\\n";)292 3475 y(print)h(")278 b(Input)39 b(file)h(to)f(parse)
g(into)h(sentences\\n";)292 3553 y(print)g(")79 b(--output)39
b(output\\n";)292 3632 y(print)h(")278 b(Output)39 b(filename)g(or)h
(directory\\n";)213 3711 y(print)f("example:)f(./lines_to_docs.pl)g(-i)
h(99.txt)g(-o)h(./99\\n";)213 3790 y(})p 3187 3894 V
185 3897 3006 4 v 1873 5809 a Fk(301)p eop end
%%Page: 302 302
TeXDict begin 302 301 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.23)80 b(link)p 535 210 25 4 v 30 w(synthetic)p
884 210 V 30 w(collection.pl)p 185 295 3165 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/bin/perl)37 b(-w)213 477
y(#)i(script:)g(link_synthetic_collection.pl)213 556
y(#)g(functionality:)f(Links)h(a)h(collection)e(using)h(a)h(certain)f
(network)g(generator)213 635 y(#)g(Usage:)g($0)213 714
y(#)79 b(-n)40 b(<name_of_new_corpus>)213 793 y(#)79
b(-c)40 b(<input_collection>)213 872 y(#)79 b(-l)40 b(<link_policy>,)e
(any)h(of:)g({radev,)g(menczer,)g(erdos,)g(watts})213
951 y(#)213 1030 y(#)g(The)h(following)e(arguments)h(are)g(required)g
(by)g(the)h(specified)e(policies:)213 1108 y(#)213 1187
y(#)h(Option)g(and)h(value)f(Policies)g(Argument)f(Type)213
1266 y(#)79 b(-p)40 b(<link_probability>erdos,)c(watts)j(positive)g
(float)g([0,1])213 1345 y(#)79 b(-k)40 b(<k-parameter>watts)d(positive)
i(integer)213 1424 y(#)79 b(-w)40 b(<term_weight_file>radev)c(path)k
(to)f(term)g(weight)g(file)213 1503 y(#)79 b(-s)40 b
(<sigmoid_steepness>radev,)c(menczer)j(positive)f(float)213
1582 y(#)79 b(-t)40 b(<sigmoid_threshold>radev,)c(menczer)j(positive)f
(float)213 1660 y(#)79 b(-r)40 b(<probability_reserve>radev)76
b(positive)38 b(float)213 1739 y(use)h(strict;)213 1897
y(use)g(Getopt::Long;)213 2055 y(use)g(Clair::SyntheticCollection;)213
2134 y(use)g(Clair::LinkPolicy::WattsStrogatz;)213 2213
y(use)g(Clair::LinkPolicy::ErdosRenyi;)213 2291 y(use)g
(Clair::LinkPolicy::MenczerMacro;)213 2370 y(use)g
(Clair::LinkPolicy::RadevMicro;)213 2528 y(#)g(Default)g(error)213
2607 y(sub)g(usage)g({)292 2686 y(die)h(")213 2765 y(Usage:)f($0)253
2844 y(-n)g(<name_of_new_corpus>)571 2922 y(-b)h
(<base_directory_of_new_corpus>)253 3001 y(-c)f
(<name_of_input_synthetic_collection>)571 3080 y(-d)h
(<base_directory_of_input_collection>)253 3159 y(-l)f(<link_policy>,)f
(any)h(of:)h({radev,)f(menczer,)f(erdos,)h(watts})253
3317 y(The)g(following)g(arguments)f(are)h(required)g(by)h(the)f
(specified)g(policies:)253 3475 y(Option)g(and)g(value)g(Policies)g
(Argument)f(Type)292 3553 y(-p)i(<link_probability>erdos,)c(watts)j
(positive)g(float)g([0,1])292 3632 y(-k)h(<num_neighbors>watts)d
(positive)i(integer)292 3711 y(-w)h(<term_weight_file>radev)c(term)k
(weight)f(file)292 3790 y(-s)h(<sigmoid_steepness>radev,)c(menczer)j
(positive)g(float)292 3869 y(-t)h(<sigmoid_threshold>radev,)c(menczer)j
(positive)g(float)292 3948 y(-r)h(<probability_reserve>radev)76
b(positive)38 b(float\\n\\n";)213 4027 y(})213 4184 y(my)h
($corpus_name)f(=)i("";)213 4263 y(my)f($base_dir)g(=)h("produced";)213
4342 y(my)f($new_dir)g(=)h("";)213 4421 y(my)f($new_name)g(=)h("";)213
4500 y(my)f($link_policy)f(=)i("";)213 4579 y(my)f($num_neighbors)f(=)i
(-1;)213 4658 y(my)f($link_prob)g(=)g(-1;)213 4736 y(my)g
($term_weight_file)f(=)h("";)213 4815 y(my)g($sigmoid_steepness)e(=)j
(-1;)213 4894 y(my)f($sigmoid_threshold)e(=)j(-1;)213
4973 y(my)f($prob_reserve)f(=)i(-1;)213 5052 y(my)f($verbose)g(=)h(-1;)
213 5210 y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j
(\\$corpus_name,)d("directory=s")h(=>)i(\\$base_dir,)412
5289 y("name=s")f(=>)g(\\$new_name,)f("base=s")h(=>)h(\\$new_dir,)412
5367 y("k=i")f(=>)h(\\$num_neighbors,)412 5446 y("link=s")f(=>)g
(\\$link_policy,)412 5525 y("probability=f")f(=>)h(\\$link_prob,)412
5604 y("weight=s")f(=>)i(\\$term_weight_file,)p 3346
5708 V 185 5711 3165 4 v 1873 5809 a Fk(302)p eop end
%%Page: 303 303
TeXDict begin 303 302 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3205
4 v 185 5544 4 5414 v 412 234 a Fa("steepness=f")38 b(=>)h
(\\$sigmoid_steepness,)412 313 y("threshold=f")f(=>)h
(\\$sigmoid_threshold,)412 392 y("reserve=f")f(=>)i(\\$prob_reserve,)
412 471 y("verbose")f(=>)g(\\$verbose\);)213 629 y(#)g(We)h(need)f(at)h
(least)f(-n,)g(-c,)h(-l)213 708 y(unless)f(\(\($corpus_name)e(ne)j
(""\))f(&&)h(\($new_name)e(ne)i(""\))f(&&)532 786 y(\($link_policy)e
(ne)j(""\)\))f({)h(usage\(\);)f(})213 944 y(#)g(Make)h(sure)f(we)h(can)
f(open)g(the)h(existing)e(collection.)213 1023 y(#)h(\(should)g(croak)g
(here)h(if)f(collection)g(does)g(not)g(exist\))213 1102
y(my)g($synthdox)g(=)h(Clair::SyntheticCollection->new)35
b(\(name)k(=>)g($corpus_name,)213 1181 y(base)g(=>)h($base_dir,)213
1260 y(mode)f(=>)h("read_only"\);)213 1417 y(my)f($new_corpus;)213
1575 y(#)g(Verify)g(additional)g(args)g(and)g(create)g(the)h
(appropriate)e(corpus.)213 1654 y(if)h(\($link_policy)f(eq)i("radev"\))
e({)292 1733 y(#)i(verify)f(args)292 1812 y(unless)g
(\(\($term_weight_file)e(ne)j(""\))f(&&)h(\($sigmoid_steepness)d(ne)j
(-1\))f(&&)611 1891 y(\($sigmoid_threshold)e(ne)j(-1\))f(&&)h
(\($prob_reserve)e(ne)h(-1\)\))g({)h(usage\(\))f(})292
2048 y(#)h(create)f(corpus)292 2127 y($new_corpus)g(=)g
(Clair::LinkPolicy::RadevMicro->new\(base_collect)o(ion)34
b(=>)332 2206 y($synthdox,)332 2285 y(base_dir)39 b(=>)h($new_dir\);)
292 2364 y($new_corpus->create_corpus\(corpus_name)274
b(=>)39 b($new_name,)412 2443 y(term_weights)237 b(=>)40
b($term_weight_file,)412 2522 y(sigmoid_steepness)d(=>)j
($sigmoid_steepness,)412 2600 y(sigmoid_threshold)d(=>)j
($sigmoid_threshold,)412 2679 y(prob_reserve)237 b(=>)40
b($prob_reserve\);)213 2837 y(})f(elsif)h(\($link_policy)d(eq)j
("menczer"\))e({)292 2916 y(#)i(verify)f(args)292 2995
y(unless)g(\(\($sigmoid_steepness)e(ne)j(-1\))f(&&)h
(\($sigmoid_threshold)d(ne)i(-1\)\))h({)f(usage\(\))g(})292
3153 y(#)h(create)f(corpus)292 3231 y($new_corpus)g(=)g
(Clair::LinkPolicy::MenczerMacro->new\(base_colle)o(ction)33
b(=>)412 3310 y($synthdox,)412 3389 y(base_dir)39 b(=>)g($new_dir\);)
292 3468 y($new_corpus->create_corpus\(corpus_name)274
b(=>)39 b($new_name,)412 3547 y(sigmoid_steepness)e(=>)j
($sigmoid_steepness,)412 3626 y(sigmoid_threshold)d(=>)j
($sigmoid_threshold\);)213 3783 y(})f(elsif)h(\($link_policy)d(eq)j
("erdos"\))f({)292 3862 y(#)h(verify)f(args)292 3941
y(unless)g(\($link_prob)g(ne)g(-1\))h({)f(usage\(\))g(})292
4099 y(#)h(create)f(corpus)292 4178 y($new_corpus)g(=)g
(Clair::LinkPolicy::ErdosRenyi->new\(base_collect)o(ion)34
b(=>)332 4257 y($synthdox,)332 4336 y(base_dir)39 b(=>)h($new_dir\);)
292 4414 y($new_corpus->create_corpus\(corpus_name)35
b(=>)k($new_name,)412 4493 y(link_prob)118 b(=>)40 b($link_prob\);)213
4651 y(})f(elsif)h(\($link_policy)d(eq)j("watts"\))f({)292
4730 y(#)h(verify)f(args)292 4809 y(unless)g(\(\($link_prob)f(ne)i
(-1\))f(&&)h(\($num_neighbors)e(ne)h(-1\)\))g({)h(usage\(\))f(})292
4967 y(#)h(create)f(corpus)292 5045 y($new_corpus)g(=)g
(Clair::LinkPolicy::WattsStrogatz->new\(base_coll)o(ection)33
b(=>)452 5124 y($synthdox\);)292 5203 y
($new_corpus->create_corpus\(corpus_name)114 b(=>)40
b($new_name,)412 5282 y(link_prob)198 b(=>)39 b($link_prob,)412
5361 y(num_neighbors)f(=>)h($num_neighbors\);)213 5440
y(})g(else)h({)f(usage\(\);)g(})p 3386 5544 V 185 5547
3205 4 v 1873 5809 a Fk(303)p eop end
%%Page: 304 304
TeXDict begin 304 303 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.24)80 b(list)p 503 210 25 4 v 30 w(to)p 603 210
V 29 w(cos)p 743 210 V 30 w(stats.pl)p 185 295 3285 4
v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)36
b(-w)213 477 y(#)j(script:)g(list_to_cos_stats.pl)213
556 y(#functionality:)e(takes)i(in)h(text)f(file)h(of)f(lines)g(of)h
(data,)f(creates)g(corpus)g(of)398 b(\\)213 635 y(documents)213
714 y(#)597 b(with)40 b(one)f(line)g(per)h(document,)e(creates)h
(cosine)g(file)g(of)h(documents)213 793 y(#)597 b(and)40
b(prints)f(out)g(stats)g(for)h(different)e(cosine)h(cutoffs)213
951 y(use)g(warnings;)213 1030 y(use)g(Getopt::Long;)213
1187 y(sub)g(usage;)213 1266 y($usage)g(=)g("USAGE:)g
(list_to_cos_stats.pl)e(in_file)i(data_dir)g(corpus_name\\n";)213
1424 y(my)g($corpus)g(=)h("";)213 1503 y(my)f($base_dir)g(=)h
("produced";)213 1582 y(my)f($data_dir)g(=)h("data";)213
1660 y(my)f($infile)g(=)h("";)213 1739 y(my)f($step)g(=)h("0.1";)213
1897 y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j(\\$corpus,)e
("base=s")h(=>)g(\\$base_dir,)1050 1976 y("data=s")f(=>)i(\\$data_dir,)
e("input=s")h(=>)g(\\$infile,)g("step=s")f(=>)i(\\)213
2055 y(\\$step\);)213 2213 y($bin)f(=)h
("/data0/projects/clairlib-dev/util";)213 2370 y(if)f(\()h(!)g($infile)
f(||)g(!)h($data_dir)e(||)i(!)g($corpus)e(||)i(!$res\))f({)292
2449 y(usage\(\);;)292 2528 y(exit;)213 2607 y(})213
2765 y(open)g(IN,)g($infile)g(or)h(die)f("Can't)g(open)g($infile\\n";)
213 2922 y(if\()g(-d)h($data_dir\))e({)292 3001 y(print)i("Data)f(dir)g
($data_dir)g(already)f(exists!\\n";)292 3080 y(exit;)213
3159 y(}else{)292 3238 y(`mkdir)h($data_dir`;)213 3317
y(})213 3475 y($i)g(=)h(0;)213 3553 y(while)f(\(<IN>\))g({)292
3632 y(open)h(OUT,)f(">$data_dir/$i";)292 3711 y(print)h(OUT)f($_;)292
3790 y(close)h(OUT;)292 3869 y($i++;)213 3948 y(})213
4105 y(print)f("-->)g(directory_to_corpus\\n";)213 4184
y(`$bin/directory_to_corpus.pl)c(-c)40 b($corpus)f(-d)g($data_dir)g(-b)
g($base_dir`;)213 4342 y(print)g("-->)g(index_corpus\\n";)213
4421 y(`$bin/index_corpus.pl)d(-c)k($corpus)f(-b)g($base_dir)g(--notf)g
(-nolinks)g(--nostats`;)213 4579 y(print)g("-->)g(corpus_to_cos\\n";)
213 4658 y(`$bin/corpus_to_cos.pl)d(-c)k($corpus)f(-b)g($base_dir)g(-o)
g($corpus.cos`;)213 4815 y(print)g("-->)g(corpus_to_stats\\n";)213
4894 y(`$bin/cos_to_stats.pl)d(-i)k($corpus.cos)e(--step)h($step)g(-o)h
($corpus.cos.stats)396 b(\\)213 4973 y(--graphs`;)213
5131 y(sub)39 b(usage)g({)292 5210 y(print)h("usage:)e($0)i(--corpus)f
(corpus)g([--base)f(base_dir])h([--data)g(data_dir])f(--input)79
b(\\)213 5289 y(input_file\\n\\n";)292 5367 y(print)40
b(")79 b(--corpus)39 b(corpus\\n";)292 5446 y(print)h(")278
b(Name)40 b(of)f(the)h(corpus)f(to)g(index\\n";)292 5525
y(print)h(")79 b(--base)39 b(base_dir\\n";)292 5604 y(print)h(")278
b(Base)40 b(directory)e(filename.)h(Default:)f(produced\\n";)p
3466 5708 V 185 5711 3285 4 v 1873 5809 a Fk(304)p eop
end
%%Page: 305 305
TeXDict begin 305 304 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 1127 4 997 v 292 234 a Fa(print)40 b(")79 b(--data)39
b(data_dir\\n";)292 313 y(print)h(")278 b(Directory)39
b(where)g(input)g(data)g(files)g(will)h(be)f(created.)g(Default:)238
b(\\)213 392 y(data\\n";)292 471 y(print)40 b(")79 b(--input)39
b(input_file\\n";)292 550 y(print)h(")278 b(List)40 b(file)f(with)g
(one)h(data)f(item)g(per)g(line\\n";)292 629 y(print)h(")79
b(--step)39 b(step\\n";)292 708 y(print)h(")278 b(Step)40
b(for)f(cos_to_stats.pl.)e(Default:)i(0.1\\n";)292 786
y(print)h("\\n";)292 944 y(die;)213 1023 y(})p 3466 1127
V 185 1130 3285 4 v 1873 5809 a Fk(305)p eop end
%%Page: 306 306
TeXDict begin 306 305 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.25)80 b(list)p 503 210 25 4 v 30 w(to)p 603 210
V 29 w(lexrank.pl)p 185 295 3285 4 v 185 5708 4 5414
v 213 399 a Fa(#!/usr/local/bin/perl)213 477 y(#)39 b(script:)g
(list_to_lexrank.pl)213 556 y(#)g(functionality:)f(uses)h(file)h
(containing)e(a)i(list)f(of)h(sentences)e(and)i(thier)f(cosines)213
635 y(#)79 b(and)40 b(calculates)e(its)h(lexrank)213
793 y(use)g(warnings;)213 872 y(use)g(FindBin;)213 951
y(use)g(Getopt::Long;)213 1030 y(use)g(Clair::Network;)213
1108 y(use)g(Clair::Network::Centrality::LexRank;)213
1266 y($listfile)f(=)i("";)213 1345 y($cosfile)e(=)i("";)213
1424 y($corpus)f(=)g("";)213 1582 y(my)g($res)h(=)f
(GetOptions\("corpus=s")e(=>)j(\\$corpus,)e("list=s")h(=>)g
(\\$listfile,)f("cos=s")h(=>)h(\\)213 1660 y(\\$cosfile\);)213
1818 y(if)f(\()h(!)g($listfile)e(||)i(!)f($cosfile)g(||)h(!)f
($corpus\))g({)292 1897 y(usage\(\);)292 1976 y(exit;)213
2055 y(})213 2213 y($distfile)f(=)i("./$corpus.dist";)213
2370 y(open)f(LIST,)g($listfile)g(or)g(die)h("Can't)f(open)g
($listfile\\n";)213 2528 y(my)g($n)h(=)g(new)f(Clair::Network\(\);)213
2686 y($i)g(=)h(0;)213 2765 y(while)f(\(<LIST>\))g({)213
2844 y(chomp;)292 2922 y($n->add_node\($i,)f(text)h(=>)h('$_'\);)292
3001 y($i++;)213 3080 y(})213 3238 y(if\()f(!)h(-f)f($distfile)g(\))h
({)292 3317 y(open)g(DIST,)f(">$distfile")f(or)h(die)h("Can't)f(open)g
(distribution)f(file)h($distfile:)278 b(\\)213 3396 y($!\\n";)292
3553 y($dist)40 b(=)f(1/$i;)292 3711 y(for\($j)g(=)h(0,)g($j)f(<=)h
($i,)f($j++\))g({)372 3790 y(print)g(DIST)h("$j)f($dist";)292
3869 y(})213 3948 y(})213 4105 y(my)g($cent)g(=)h
(Clair::Network::Centrality::LexRank->new\($n\);)213
4263 y(if\()f(-f)h($cosfile)e(\))i({)292 4342 y
($cent->read_lexrank_probabilities_from_file\("$c)o(osfile")o(\);)213
4421 y(}else{)292 4500 y(die)g("Can't)f(read)g(from)g(cosine)g(file)h
($cosfile:)e($!\\n";)213 4579 y(})213 4736 y
($cent->read_lexrank_initial_distribution\(")o($distfi)o(le"\);)213
4894 y($cent->centrality\(jump)e(=>)k(0.5\);)213 5052
y($cent->save\("$corpus.lexrank"\);)213 5210 y(sub)f(usage)g({)292
5289 y(print)h("usage:)e($0)i(--corpus)f(corpus)g(--list)f(list_file)h
(--cos)g(cos_file\\n\\n";)292 5367 y(print)h(")79 b(--corpus)39
b(corpus\\n";)292 5446 y(print)h(")278 b(Name)40 b(of)f(the)h
(corpus\\n";)292 5525 y(print)g(")79 b(--list)39 b(list_file\\n";)292
5604 y(print)h(")278 b(File)40 b(with)f(list)g(of)h(data,)f(one)g(data)
g(point)h(per)f(line\\n";)p 3466 5708 V 185 5711 3285
4 v 1873 5809 a Fk(306)p eop end
%%Page: 307 307
TeXDict begin 307 306 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 1531
4 v 185 811 4 681 v 292 234 a Fa(print)40 b(")79 b(--cos)39
b(cos_file\\n";)292 313 y(print)h(")278 b(Cosine)39 b(graph)g
(file\\n";)292 392 y(print)h("\\n";)292 550 y(die;)213
629 y(})p 1712 811 V 185 814 1531 4 v 1873 5809 a Fk(307)p
eop end
%%Page: 308 308
TeXDict begin 308 307 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.26)80 b(mak)o(e)p 590 210 25 4 v 30 w(synth)p
814 210 V 29 w(collection.pl)p 185 295 3086 4 v 185 5708
4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39
b(script:)g(make_synth_collection.pl)213 556 y(#)g(functionality:)f
(Makes)h(a)h(synthetic)f(document)f(set)213 635 y(#)213
793 y(use)h(strict;)213 872 y(use)g(warnings;)213 1030
y(use)g(File::Spec;)213 1108 y(use)g(Getopt::Long;)213
1266 y(use)g(Clair::Config;)213 1345 y(use)g
(Clair::Utils::CorpusDownload;)213 1424 y(use)g
(Clair::SyntheticCollection;)213 1503 y(use)g
(Clair::RandomDistribution::Gaussian;)213 1582 y(use)g
(Clair::RandomDistribution::LogNormal;)213 1660 y(use)g
(Clair::RandomDistribution::Poisson;)213 1739 y(use)g
(Clair::RandomDistribution::RandomDistribution)o(FromWei)o(ghts;)213
1818 y(use)g(Clair::RandomDistribution::Zipfian;)213
1976 y(sub)g(usage;)213 2134 y(my)g($corpus_name)f(=)i("";)213
2213 y(my)f($output_name)f(=)i("";)213 2291 y(my)f($output_dir)g(=)g
("";)213 2370 y(my)g($base_dir)g(=)h("produced";)213
2449 y(my)f($term_policy)f(=)i("";)213 2528 y(my)f($doclen_policy)f(=)i
("";)213 2607 y(my)f($num_docs)g(=)h(0;)213 2686 y(my)f($verbose)g(=)h
(0;)213 2844 y(#)f(Distribution)g(parameters)213 2922
y(my)g($term_alpha)g(=)g(0.0;)213 3001 y(my)g($term_mean)g(=)g(0.0;)213
3080 y(my)g($term_variance)f(=)i(0.0;)213 3159 y(my)f($term_std_dev)f
(=)i(0.0;)213 3238 y(my)f($term_lambda)f(=)i(0.0;)213
3396 y(my)f($doclen_alpha)f(=)i(0.0;)213 3475 y(my)f($doclen_mean)f(=)i
(0.0;)213 3553 y(my)f($doclen_variance)f(=)h(0.0;)213
3632 y(my)g($doclen_std_dev)f(=)i(0.0;)213 3711 y(my)f($doclen_lambda)f
(=)i(0.0;)213 3869 y(my)f($k)h(=)g(0;)213 3948 y(my)f($n)h(=)g(0;)213
4105 y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d
("base=s")i(=>)h(\\$base_dir,)1050 4184 y("size=i")e(=>)i(\\$num_docs,)
1050 4263 y("term-policy=s")d(=>)j(\\$term_policy,)1050
4342 y("doclen-policy=s")d(=>)i(\\$doclen_policy,)1050
4421 y("output=s")f(=>)i(\\$output_name,)1050 4500 y("directory=s")e
(=>)h(\\$output_dir,)f("verbose!")g(=>)i(\\$verbose,)1050
4579 y("term-alpha:f")d(=>)j(\\$term_alpha,)1050 4658
y("term-mean:f")e(=>)h(\\$term_mean,)1050 4736 y("term-variance:f")e
(=>)i(\\$term_variance,)1050 4815 y("term-std_dev:f")e(=>)j
(\\$term_std_dev,)1050 4894 y("term-lambda:f")d(=>)j(\\$term_lambda,)
1050 4973 y("doclen-alpha:f")d(=>)j(\\$doclen_alpha,)1050
5052 y("doclen-mean:f")d(=>)j(\\$doclen_mean,)1050 5131
y("doclen-variance:f")d(=>)i(\\$doclen_variance,)1050
5210 y("doclen-std_dev:f")e(=>)i(\\$doclen_std_dev,)1050
5289 y("doclen-lambda:f")e(=>)i(\\$doclen_lambda,)1050
5367 y("k:i")g(=>)g(\\$k,)h("n:i")f(=>)g(\\$n\);)213
5525 y(if)g(\(!$res)g(or)h(\($num_docs)e(==)i(0\))f(or)372
5604 y(\(\($corpus_name)f(eq)h(""\))h(and)f(\($doclen_policy)f(ne)h
("constant"\)\))g(or)p 3266 5708 V 185 5711 3086 4 v
1873 5809 a Fk(308)p eop end
%%Page: 309 309
TeXDict begin 309 308 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3165
4 v 185 5544 4 5414 v 372 234 a Fa(\($output_name)38
b(eq)i(""\))f(or)h(\($output_dir)e(eq)h(""\))h(or)f(\($term_policy)f
(eq)i(""\))f(or)372 313 y(\($doclen_policy)f(eq)h(""\)\))h({)292
392 y(usage\(\);)292 471 y(exit;)213 550 y(})213 708
y(my)f($gen_dir)g(=)h("$base_dir";)213 865 y(my)f($corpus_data_dir)f(=)
h("$gen_dir/corpus-data/$corpus_name";)213 1023 y(my)g(\045doclen)g(=)h
(\(\);)213 1102 y(my)f(\045tc)h(=)f(\(\);)213 1181 y(if)g
(\($doclen_policy)f(ne)h("constant"\))g({)292 1260 y(my)h($corpus)f(=)h
(Clair::Utils::CorpusDownload->new\(corpusn)o(ame)34
b(=>)39 b("$corpus_name",)2165 1338 y(rootdir)g(=>)h("$gen_dir"\);)292
1496 y(#)g(index)f(the)h(corpus)292 1575 y(my)g($pwd)f(=)h(`pwd`;)292
1654 y(chomp)g($pwd;)292 1812 y(#)g(Get)g(the)f(document)g(length)g
(distribution)292 1891 y(\045doclen)g(=)h
($corpus->get_doc_len_dist\(\);)292 1969 y(#)g(Get)g(term)f(counts)292
2048 y(\045tc)h(=)g($corpus->get_term_counts\(\);)292
2206 y(chdir)g($pwd;)213 2285 y(})f(else)h({)292 2364
y(#)g(Constant)f(document)f(length)292 2443 y(for)i(\(my)f($i)h(=)g(0;)
f($i)h(<)f($num_docs;)g($i++\))g({)372 2522 y($doclen{$i})f(=)i($n;)292
2600 y(})213 2679 y(})213 2837 y(my)f(@doclen_weights)f(=)i(\(\);)213
2916 y(my)f(@lengths)g(=)h(\(\);)213 2995 y(my)f(@term_weights)f(=)i
(\(\);)213 3074 y(my)f(@terms)g(=)h(\(\);)213 3231 y(my)f($num_terms;)
213 3310 y(if)g(\($k\))h({)292 3389 y(for)g(\(my)f($i)h(=)g(0;)f($i)h
(<=)f($k;)h($i++\))f({)372 3468 y(#)h(Convert)f(to)g(alpha)372
3547 y(my)h(@ascii)f(=)g(unpack\("C)1210 3559 y(*)1250
3547 y(",)f("$i"\);)372 3626 y(foreach)h(my)h($c)f(\(@ascii\))g({)452
3705 y($c)g(+=)h(49;)372 3783 y(})372 3941 y(my)g($out)f(=)h(pack\("C)
1051 3953 y(*)1091 3941 y(",)e(@ascii\);)372 4020 y(push)h(@terms,)g
($out;)292 4099 y(})292 4178 y($num_terms)g(=)h($k;)213
4257 y(})f(else)h({)292 4336 y($num_terms)f(=)h(scalar\(keys)e
(\045tc\);)213 4414 y(})213 4572 y(#)h(Get)h(document)f(length)f
(weights)213 4651 y(if)h(\($doclen_policy)f(ne)h("constant"\))g({)292
4730 y(foreach)g(my)h($j)f(\(sort)g({$doclen{$a})g(cmp)g($doclen{$b}})f
(keys)h(\045doclen\))g({)372 4809 y(push)g(@doclen_weights,)f
($doclen{$j};)372 4888 y(if)i(\($doclen_policy)d(eq)j("mirror"\))e({)
452 4967 y(#)i(Include)e(the)i(length)f(of)g(every)g(document)g(in)h
(the)f(lengths)g(parameter)452 5045 y(#)h(If)f(we're)g(mirroring)g(the)
g(document)g(distribution)452 5124 y(for)g(\(my)h($m)f(=)h(0;)f($m)h(<)
g($doclen{$j};)e($m++\))h({)532 5203 y(push)g(@lengths,)f($j;)452
5282 y(})372 5361 y(})i(else)f({)452 5440 y(push)g(@lengths,)g($j;)p
3346 5544 V 185 5547 3165 4 v 1873 5809 a Fk(309)p eop
end
%%Page: 310 310
TeXDict begin 310 309 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa(})292 392 y(})213
471 y(})213 629 y(#)39 b(Get)h(term)f(weights)213 708
y(if)g(\(!$k\))g({)292 786 y(foreach)g(my)h($k)f(\(sort)g({$tc{$b})g
(cmp)h($tc{$a}})e(keys)h(\045tc\))h({)372 865 y(push)f(@term_weights,)f
($tc{$k};)372 944 y(push)h(@terms,)g($k;)292 1023 y(})213
1102 y(})213 1260 y(my)g($a;)213 1338 y(my)g($b;)213
1496 y(if)g(\($verbose\))g({)g(print)g("Reading)g(in)h(term)f
(distribution...\\n";)e(})213 1575 y(if)i(\($verbose\))g({)g(print)g
("Reading)g(in)h(document)e(length)h(distribution...\\n";)e(})213
1812 y(if)i(\($term_policy)f(eq)i("randomdistributionfromweights"\))35
b({)292 1891 y($a)40 b(=)g(Clair::RandomDistribution::RandomDistribut)o
(ionFrom)o(Weights)o(->new\()o(weights)2962 1969 y(=>)359
b(\\)213 2048 y(\\@term_weights\);)213 2127 y(})39 b(elsif)h
(\($term_policy)d(eq)j("gaussian"\))e({)292 2206 y($a)i(=)g
(Clair::RandomDistribution::Gaussian->new\(m)o(ean)34
b(=>)39 b($term_mean,)2126 2285 y(variance)f(=>)i($term_variance,)2126
2364 y(dist_size)e(=>)i($num_terms\);)213 2443 y(})f(elsif)h
(\($term_policy)d(eq)j("lognormal"\))e({)292 2522 y($a)i(=)g
(Clair::RandomDistribution::LogNormal->new\()o(mean)34
b(=>)39 b($term_mean,)2165 2600 y(std_dev)g(=>)h($term_std_dev,)2165
2679 y(dist_size)f(=>)h($num_terms\);)213 2758 y(})f(elsif)h
(\($term_policy)d(eq)j("poisson"\))e({)292 2837 y($a)i(=)g
(Clair::RandomDistribution::Poisson->new\(la)o(mbda)34
b(=>)39 b($term_lambda,)2086 2916 y(dist_size)f(=>)i($num_terms\);)213
2995 y(})f(elsif)h(\($term_policy)d(eq)j("zipfian"\))e({)292
3074 y($a)i(=)g(Clair::RandomDistribution::Zipfian->new\(al)o(pha)34
b(=>)39 b($term_alpha,)2086 3153 y(dist_size)f(=>)i($num_terms\);)213
3231 y(})213 3389 y(if)f(\($doclen_policy)f(eq)h
("randomdistributionfromweights"\))d({)292 3468 y($b)k(=)g
(Clair::RandomDistribution::RandomDistribut)o(ionFrom)o(Weights)o
(->new\()o(weights)33 b(=>)3401 3547 y(\\)213 3626 y
(\\@doclen_weights\);)213 3705 y(})39 b(elsif)h(\($doclen_policy)d(eq)j
("gaussian"\))e({)292 3783 y($b)i(=)g
(Clair::RandomDistribution::Gaussian->new\(m)o(ean)34
b(=>)39 b($doclen_mean,)2126 3862 y(variance)f(=>)i($doclen_variance,)
2126 3941 y(dist_size)e(=>)i($num_docs\);)213 4020 y(})f(elsif)h
(\($doclen_policy)d(eq)j("lognormal"\))e({)292 4099 y($b)i(=)g
(Clair::RandomDistribution::LogNormal->new\()o(mean)34
b(=>)39 b($doclen_mean,)2165 4178 y(std_dev)g(=>)h($doclen_std_dev,)
2165 4257 y(dist_size)f(=>)h($num_docs\);)213 4336 y(})f(elsif)h
(\($doclen_policy)d(eq)j("poisson"\))e({)292 4414 y($b)i(=)g
(Clair::RandomDistribution::Poisson->new\(la)o(mbda)34
b(=>)39 b($doclen_lambda,)2086 4493 y(dist_size)f(=>)i($num_docs\);)213
4572 y(})f(elsif)h(\($doclen_policy)d(eq)j("zipfian"\))e({)292
4651 y($b)i(=)g(Clair::RandomDistribution::Zipfian->new\(al)o(pha)34
b(=>)39 b($doclen_alpha,)2086 4730 y(dist_size)f(=>)i($num_docs\);)213
4809 y(})213 4967 y(if)f(\($verbose\))g({)g(print)g("Creating)g
(collection\\n";)f(})213 5045 y(my)h($col;)213 5124 y(if)g
(\($doclen_policy)f(eq)h("constant"\))g({)292 5203 y(#)h(All)g
(documents)e(have)h(the)h(same)f(length)292 5282 y($col)h(=)f
(Clair::SyntheticCollection->new\(name)c(=>)k($output_name,)1847
5361 y(base)g(=>)g($output_dir,)1847 5440 y(mode)g(=>)g("create_new",)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(310)p eop
end
%%Page: 311 311
TeXDict begin 311 310 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 1847 234 a Fa(term_map)38 b(=>)i(\\@terms,)1847
313 y(term_dist)e(=>)i($a,)1847 392 y(doc_length)e(=>)i($n,)1847
471 y(size)f(=>)g($num_docs\);)213 550 y(})g(elsif)h(\($doclen_policy)d
(eq)j("mirror"\))e({)292 629 y(#)i(Mirror)f(the)h(lengths)e(of)i(the)f
(existing)g(corpus)292 708 y($col)h(=)f
(Clair::SyntheticCollection->new\(name)c(=>)k($output_name,)1847
786 y(base)g(=>)g($output_dir,)1847 865 y(mode)g(=>)g("create_new",)
1847 944 y(term_map)f(=>)i(\\@terms,)1847 1023 y(term_dist)e(=>)i($a,)
1847 1102 y(doclen_dist)e(=>)h($b,)1847 1181 y(doclen_map)f(=>)i
(\\@lengths,)1847 1260 y(mirror_doclen)e(=>)h(1,)1847
1338 y(size)g(=>)g($num_docs\);)213 1417 y(})g(else)h({)292
1496 y(#)g(Use)g(some)f(random)g(distribution)f(of)h(document)g
(lengths)292 1575 y($col)h(=)f(Clair::SyntheticCollection->new\(name)c
(=>)k($output_name,)1847 1654 y(base)g(=>)g($output_dir,)1847
1733 y(mode)g(=>)g("create_new",)1847 1812 y(term_map)f(=>)i(\\@terms,)
1847 1891 y(term_dist)e(=>)i($a,)1847 1969 y(doclen_dist)e(=>)h($b,)
1847 2048 y(doclen_map)f(=>)i(\\@lengths,)1847 2127 y(size)f(=>)g
($num_docs\);)213 2206 y(})213 2364 y(if)g(\($verbose\))g({)g(print)g
("Generating)g(documents\\n";)f(})213 2443 y
($col->create_documents\(\);)213 2522 y(#)213 2600 y(#)h(Print)h(out)f
(usage)g(message)213 2679 y(#)213 2758 y(sub)g(usage)213
2837 y({)292 2916 y(print)h("$0\\n";)292 2995 y(print)g("Generate)e(a)i
(synthetic)e(corpus\\n";)292 3074 y(print)i("\\n";)292
3153 y(print)g("usage:)e($0)i(-c)f(corpus_name)g([-b)g
(base_dir]\\n\\n";)292 3231 y(print)h(")79 b(--output,-o)38
b(name\\n";)292 3310 y(print)i(")278 b(Name)40 b(of)f(the)h(generated)e
(corpus\\n";)292 3389 y(print)i(")79 b(--directory,-d)38
b(output)h(directory\\n";)292 3468 y(print)h(")278 b(Directory)39
b(to)g(output)g(generated)g(corpus)g(in\\n";)292 3547
y(print)h(")79 b(--corpus,-c)38 b(corpus_name\\n";)292
3626 y(print)i(")278 b(Name)40 b(of)f(the)h(source)f(corpus\\n";)292
3705 y(print)h(")79 b(--base,-b)39 b(base_dir\\n";)292
3783 y(print)h(")278 b(Base)40 b(directory)e(filename.)78
b(The)40 b(corpus)f(is)g(loaded)g(from)h(here\\n";)292
3862 y(print)g(")79 b(--term-policy,-t)38 b(policy\\n";)292
3941 y(print)i(")278 b(Term)40 b(length)f(distribution:)e({gaussian,)i
(lognormal,)f(poisson,)318 b(\\)213 4020 y
(randomdistributionfromweights,)35 b(zipfian}\\n";)292
4099 y(print)40 b(")79 b(--doclen-policy\\n";)292 4178
y(print)40 b(")278 b(Document)39 b(length)g(distribution:)f({gaussian,)
g(lognormal,)h(poisson,)158 b(\\)213 4257 y
(randomdistributionfromweights,)35 b(zipfian,)k(constant,)f
(mirrored}\\n";)292 4336 y(print)i(")79 b(--size,)39
b(-s)g(number_of_documents\\n";)292 4414 y(print)h(")278
b(Number)39 b(of)h(documents)e(to)i(generate\\n";)292
4493 y(print)g(")79 b(--verbose,-v\\n";)292 4572 y(print)40
b(")278 b(Increase)39 b(debugging)g(verbosity\\n";)292
4651 y(print)h("\\n";)292 4730 y(print)g(")f(The)h(following)e
(arguments)h(are)g(required)g(by)g(the)h(spcified)e(policies:\\n";)292
4809 y(print)i("Option)e(and)i(value)158 b(Policy)597
b(Argument)39 b(Type\\n";)292 4888 y(print)h("alpha)596
b(zipfian)557 b(positive)39 b(float\\n";)292 4967 y(print)h("mean)636
b(gaussian,lognormal)117 b(positive)39 b(float\\n";)292
5045 y(print)h("variance)476 b(gaussian)517 b(positive)39
b(float\\n";)292 5124 y(print)h("std_dev)516 b(lognormal)477
b(positive)39 b(float\\n";)292 5203 y(print)h("lambda)556
b(poisson)h(positive)39 b(float\\n";)292 5282 y(print)h("k)756
b(constant)517 b(integer\\n";)292 5361 y(print)40 b(")119
b(vocabulary)38 b(size\\n";)292 5440 y(print)i("n)756
b(constant)517 b(integer\\n";)p 3466 5544 V 185 5547
3285 4 v 1873 5809 a Fk(311)p eop end
%%Page: 312 312
TeXDict begin 312 311 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 969 4 839 v 292 234 a Fa(print)40 b(")119 b(number)39
b(of)g(terms)h(in)f(each)g(document\\n";)292 313 y(print)h("lambda)556
b(poisson)h(positive)39 b(float\\n";)292 392 y(print)h("\\n";)292
471 y(print)g("example:)e($0)i(--term-policy)e(zipfian)g(--term-alpha)g
(1)i(--doclen-policy)277 b(\\)213 550 y(randomdistributionfromweights)
35 b(-o)40 b(synthy)f(-d)g(synth_out)g(-c)g(lexrank-sample)f(-b)279
b(\\)213 629 y(produced)38 b(-s)i(10)g(--verbose\\n";)292
786 y(exit;)213 865 y(})p 3466 969 V 185 972 3285 4 v
1873 5809 a Fk(312)p eop end
%%Page: 313 313
TeXDict begin 313 312 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.27)80 b(manage)p 675 210 25 4 v 29 w(cor)o(pus.pl)p
185 295 3165 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)39 b(Tool)h(to)f(manage)g(corpus)g(directories)213
635 y(use)g(strict;)213 714 y(use)g(warnings;)213 872
y(use)g(File::Path;)213 951 y(use)g(File::Spec;)213 1030
y(use)g(Getopt::Long;)213 1187 y(sub)g(usage;)213 1345
y(my)g($corpus_name)f(=)i("";)213 1424 y(my)f($basedir)g(=)h("";)213
1503 y(my)f($delete)g(=)h(0;)213 1582 y(my)f($verbose)g(=)h(0;)213
1739 y(my)f($res)h(=)f(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d
("base=s")i(=>)h(\\$basedir,)1050 1818 y("delete")e(=>)i(\\$delete,)
1050 1897 y("verbose")e(=>)i(\\$verbose\);)213 2055 y(if)f(\($basedir)g
(eq)g(""\))h({)292 2134 y($basedir)f(=)h(".";)213 2213
y(})213 2370 y(my)f($corpus_data_dir)f(=)h
("$basedir/corpus-data/$corpus_name";)213 2449 y(my)g
($corpus_download_dir)e(=)j("$basedir/download/$corpus_name";)213
2528 y(my)f($corpus_corpora_dir)e(=)j("$basedir/corpora/$corpus_name";)
213 2607 y(my)f(@del_dirs)g(=)h(\()f
("$basedir/corpus-data/$corpus_name",)890 2686 y
("$basedir/corpus-data/$corpus_name-tf",)890 2765 y
("$basedir/corpus-data/$corpus_name-tf-s",)890 2844 y
("$basedir/download/$corpus_name",)890 2922 y
("$basedir/corpora/$corpus_name")811 3001 y(\);)213 3080
y(my)g(@del_files)g(=)g(\("$basedir/$corpus_name.download.uniq"\);)213
3238 y(if)g(\(!$res\))g({)292 3317 y(usage\(\);)213 3396
y(})213 3553 y(if)g(\($delete)g(and)g(\($corpus_name)f(eq)i(""\)\))f({)
292 3632 y(print)h(STDERR)f("Delete)f(requires)h(a)h(corpus)f
(name\\n";)292 3711 y(exit;)213 3790 y(})213 3948 y(if)g(\($delete\))g
({)292 4027 y(#)h(check)f(if)h(directories)e(and)h(files)h(exist)292
4105 y(my)g(@final_dirs)e(=)i(\(\);)292 4184 y(my)g(@final_files)e(=)i
(\(\);)292 4263 y(foreach)f(my)h($dir)f(\(@del_dirs\))f({)372
4342 y(if)i(\(-d)f($dir\))g({)452 4421 y(push)g(@final_dirs,)f($dir;)
372 4500 y(})292 4579 y(})292 4658 y(foreach)h(my)h($file)f
(\(@del_files\))f({)372 4736 y(if)i(\(-e)f($file\))g({)452
4815 y(push)g(@final_files,)f($file;)372 4894 y(})292
4973 y(})292 5052 y(print)i("We)f(are)g(about)g(to)h(delete)f(the)g
(the)h(following)e(directories)h(and)g(files:\\n)78 b(";)292
5131 y(print)40 b(join\("\\n)78 b(",)40 b(\(@final_dirs,)e
(@final_files\)\);)292 5210 y(print)i("\\nProceed?)e([y/n]\\n";)292
5289 y(my)i($ans;)292 5367 y(chomp\($ans)f(=)h(<STDIN>\);)292
5446 y(if\($ans)f(=\230)h(/\210[yY]/\))e({)372 5525 y(foreach)h(my)h
($dir)f(\(@final_dirs\))f({)452 5604 y(if)h(\(-d)h($dir\))f({)p
3346 5708 V 185 5711 3165 4 v 1873 5809 a Fk(313)p eop
end
%%Page: 314 314
TeXDict begin 314 313 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 2625 4 2495 v 532 234 a Fa(print)39 b("Deleting)f($dir\\n";)532
313 y(rmtree)h($dir;)452 392 y(})372 471 y(})372 550
y(foreach)g(my)h($file)f(\(@final_files\))e({)452 629
y(if)i(\(-e)h($file\))f({)532 708 y(print)g("Deleting)f($file\\n";)532
786 y(unlink)h($file;)452 865 y(})372 944 y(})292 1023
y(})213 1102 y(})213 1260 y(#)213 1338 y(#)g(Print)h(out)f(usage)g
(message)213 1417 y(#)213 1496 y(sub)g(usage)213 1575
y({)292 1654 y(print)h("usage:)e($0)i(--input)f(input_file)f([--output)
h(output_file])f([--start)g(start])159 b(\\)213 1733
y([--end)39 b(end])g([--step)g(step]\\n\\n";)292 1812
y(print)h(")79 b(--corpus)39 b(corpus";)292 1891 y(print)h(")278
b(Name)40 b(of)f(the)h(corpus)f(to)g(modify\\n";)292
1969 y(print)h(")79 b(--delete\\n";)292 2048 y(print)40
b(")278 b(Delete)39 b(the)h(corpus\\n";)292 2127 y(print)g("\\n";)292
2285 y(print)g("example:)e($0)i(--corpus)e(acl_anthology)g
(--delete\\n";)292 2443 y(exit;)213 2522 y(})p 3466 2625
V 185 2628 3285 4 v 1873 5809 a Fk(314)p eop end
%%Page: 315 315
TeXDict begin 315 314 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.28)80 b(netw)o(ork)p 692 210 25 4 v 29 w(gr)o(o)o(wth.pl)p
185 295 3125 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213
477 y(#)213 556 y(#)39 b(script:)g(network_growth.pl)213
635 y(#)g(functionality:)f(Generates)h(graphs)g(for)g(queries)g(in)g
(web)h(search)f(engine)213 714 y(#)g(functionality:)f(query)h(logs)h
(and)f(measures)g(network)f(statistics)213 793 y(#)213
872 y(#)h(The)h(network)f(edges)g(are)g(updated)g(every)g(time)g(new)h
(word)f(\(in)g(the)h(ranked)f(word)g(list\))213 951 y(#)g(is)h
(included)f(in)g(measuring)g(the)g(similarities)f(of)i(queries.)213
1030 y(#)f(Based)h(on)f(code)g(by)h(Xiaodong)f(Shi)213
1108 y(#)213 1266 y(use)g(strict;)213 1345 y(use)g(warnings;)213
1503 y(use)g(File::Path;)213 1582 y(use)g(Getopt::Long;)213
1660 y(use)g(Clair::Network;)213 1739 y(use)g(Clair::Corpus;)213
1818 y(use)g(Clair::Cluster;)213 1976 y(sub)g(usage;)213
2134 y(#my)g($word_freqs)f(=)i("sorted_word_freqs_from_50000q.stat";)
213 2213 y(my)f($in_file)g(=)h("sorted_word_freqs_from_1000q.stat";)213
2291 y(my)f($stat_file)g(=)g("net.stat";)213 2370 y(my)g($delim)g(=)h
("\\t\\t";)213 2449 y(my)f($sample_size)f(=)i(1000;)213
2528 y(my)f($corpus_name)f(=)i("";)213 2607 y(my)f($basedir)g(=)h
("produced";)213 2686 y(my)f($min_freq)g(=)h(2;)213 2765
y(my)f($verbose)g(=)h(0;)213 2922 y(my)f($res)h(=)f
(GetOptions\("corpus=s")e(=>)j(\\$corpus_name,)d("base=s")i(=>)h
(\\$basedir,)1050 3001 y("wordfreqs=s")e(=>)h(\\$in_file,)f("delim=s")h
(=>)h(\\$delim,)1050 3080 y("sample=i")e(=>)i(\\$sample_size,)d("t=s")i
(=>)h(\\$stat_file,)412 3159 y("minfreq=i")e(=>)i(\\$min_freq,)e
("verbose")g(=>)i(\\$verbose\);)213 3317 y(if)f(\($corpus_name)f(eq)i
(""\))f({)292 3396 y(usage\(\);)213 3475 y(})213 3632
y(my)g($corpus)g(=)h(Clair::Corpus->new\(corpusname)35
b(=>)40 b("$corpus_name",)1488 3711 y(rootdir)f(=>)g("$basedir"\);)213
3869 y(if)g(\($verbose\))g({)g(print)g("Loading)g(corpus)g(into)g
(cluster\\n";)g(})213 3948 y(my)g($cluster)g(=)h(new)f(Clair::Cluster;)
213 4027 y($cluster->load_corpus\($corpus\);)213 4184
y(#)213 4263 y(#)g(1.)h(Read)f(the)h(corpus)f(file)g(to)g(get)h(the)f
(document)g(content)213 4342 y(#)213 4500 y(my)g(@queries)g(=)h(\(\);)
213 4579 y(my)f(\045query_hash)g(=)g(\(\);)213 4658 y(my)g($line_num)g
(=)h(0;)213 4815 y(my)f($docs)g(=)h($cluster->documents\(\);)213
4894 y(foreach)f(my)g($did)g(\(keys)g(\045{$docs}\))g({)292
4973 y(my)h($doc)f(=)h($docs->{$did};)292 5052 y($doc->strip_html\(\);)
292 5131 y(my)g(@sents)f(=)h($doc->get_sentences\(\);)292
5210 y(foreach)f(my)h($line)f(\(@sents\))g({)372 5289
y(chomp)g($line;)372 5367 y(#)h($line)f(=)h(lc\($line\);)372
5446 y($line_num++;)372 5525 y($queries[$line_num-1])d(=)j($line;)p
3306 5708 V 185 5711 3125 4 v 1873 5809 a Fk(315)p eop
end
%%Page: 316 316
TeXDict begin 316 315 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3165
4 v 185 5544 4 5414 v 372 234 a Fa(if)40 b(\(not)f(defined)g
($query_hash{$line}\))e({)452 313 y($query_hash{$line})g(=)j(1;)372
392 y(})g(else)f({)452 471 y($query_hash{$line})e(=)j
($query_hash{$line})d(+)j(1;)372 550 y(})292 629 y(})213
708 y(})213 865 y(#)213 944 y(#)f(2.)h(Read)f(the)h(words)f(and)g
(their)g(ranked)g(frequencies)f(from)i(input)f(file.)213
1023 y(#)213 1181 y(my)g(\045freq)g(=)h($corpus->get_term_counts\(\);)
213 1338 y(print)f("Reading)g(finished!\\n";)213 1417
y(print)g("Reversing)f(the)i(order)f(of)g(sorted)g(words)g(...\\n";)213
1575 y(#)g(Reverse)g(the)h(order)f(of)g(words)213 1654
y(my)g(@words)g(=)h(sort)f({)h($freq{$a})e(cmp)i($freq{$b})e(})i(keys)f
(\045freq;)213 1733 y(my)g(\045word_rank_hash)f(=)i(\(\);)213
1812 y(my)f(@r_words)g(=)h(\(\);)213 1891 y(my)f($size)g(=)h
(scalar\(keys)e(\045freq\);)213 2048 y(for)h(\(my)h($i)f(=)h(0;)f($i)h
(<)g($size;)f($i++\))g({)292 2127 y($r_words[$i])g(=)g($words[$size)f
(-)i(1)g(-)f($i];)292 2285 y(if)h(\(exists)f
($word_rank_hash{$r_words[$i]}\))c({)292 2364 y(})40
b(else)f({)372 2443 y($word_rank_hash{$r_words[$i]})d(=)j($i)h(+)g(1;)
292 2522 y(})213 2600 y(})213 2758 y(print)f("Total)g(",)g($size,)g(")h
(words.)f(Order)g(reversed!\\n";)213 2837 y(print)g("Size)g(of)h
(word_rank_hash)d(table:)i(",)h(scalar\(keys)e(\045word_rank_hash\),)f
("\\n";)213 2995 y(#)213 3074 y(#)i(3.)h(Take)f(one)h(word)f(each)g
(time)g(and)h(build)f(the)g(graph)213 3153 y(#)213 3310
y(my)g($network)g(=)h(Clair::Network->new\(\);)213 3389
y(#my)f($out_file)g(=)g("$corpus_name.edges";)213 3468
y(#if)g(\(!\(-d)g($out_file\)\))f({)213 3547 y(#)79 b(mkpath)39
b(\($out_file,)f(1,)i(0777\);)213 3626 y(#})213 3705
y(my)f($out_file)g(=)h("$corpus_name.wordmodel.nodes";)213
3862 y(open)f(\(FOUT,)g(">$out_file"\))f(or)h(die)h("Could)f(not)g
(open)g(output)g(file)h($out_file:)e($!\\n";)213 3941
y(print)h("Writing)g(network)f(nodes)h(to)h(output)f(file)g($out_file)g
(...\\n";)213 4099 y(my)g(@qs)h(=)f(keys)h(\045query_hash;)213
4178 y(foreach)f(\(my)g($i)h(=)f(0;)h($i)f(<)h(scalar\(@qs\);)e($i++\))
h({)292 4257 y(#)h(add)g(queries)e(to)i(the)f(graph)292
4336 y($network->add_node\($i)e(+)j(1,)f($qs[$i]\);)292
4414 y(print)h(FOUT)f(\(\($i+1\))g(.)79 b("\\t")39 b(.)h($qs[$i])f(.)h
("\\n"\);)213 4493 y(})213 4651 y(close)f(FOUT;)213 4809
y(print)g("Num.)g(Nodes)g(written:)g(",)g($network->num_nodes\(\),)e
("\\n";)213 4967 y(#)i(Output)g(network)g(edges)g(into)h(file)213
5045 y(#$out_file)e(=)i($out_dir)e(.)i("/")g(.)f($corpus_name)f(.)i
("/graph";)213 5124 y(#if)f(\(!\(-d)g($out_file\)\))f({)213
5203 y(#)79 b(mkpath)39 b(\($out_file,)f(1,)i(0777\);)213
5282 y(#})213 5361 y(#$out_file)e(=)i($out_file)e(.)i("/edges";)213
5440 y($out_file)e(=)i("$corpus_name.wordmodel.edges";)p
3346 5544 V 185 5547 3165 4 v 1873 5809 a Fk(316)p eop
end
%%Page: 317 317
TeXDict begin 317 316 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 213 234 a Fa(open)39 b(\(FOUT,)g(">$out_file"\))f
(or)h(die)h("Could)f(not)g(open)g(output)g(file)h($out_file:)e($!\\n";)
213 313 y(print)h("Writing)g(network)f(edges)h(to)h(output)f(file)g
($out_file)g(...\\n";)213 471 y(#)g(Output)g(the)h(network)f
(statistics)f(into)h(file)213 550 y(#my)g($net_stat_file)f(=)i
($out_dir)e(.)i("/")f(.)h($corpus_name)e(.)i("/stats";)213
629 y(#if)f(\(!\(-d)g($net_stat_file\)\))f({)213 708
y(#)79 b(mkpath)39 b(\($net_stat_file,)f(1,)h(0777\);)213
786 y(#})213 865 y(#$net_stat_file)e(=)j($net_stat_file)e(.)i
("/net.stat";)213 944 y(my)f($net_stat_file)f(=)i
("$corpus_name.wordmodel.stats";)213 1023 y(open)f(\(STAT,)g
(">$net_stat_file"\))e(or)j(die)f("Could)g(not)g(open)h(network)f
(stats)g(file)318 b(\\)213 1102 y($net_stat_file:)37
b($!\\n";)213 1260 y(print)i(STAT)g("threshold)f(nodes)i(edges)f
(diameter)f(lcc)i(avg_short_path)e(watts_strogatz_cc)f(\\)213
1338 y(newman_cc)h(in_link_power)g(in_link_power_rsquared)f
(in_link_pscore)755 b(\\)213 1417 y(in_link_power_newman)37
b(in_link_power_newman_error)f(out_link_power)715 b(\\)213
1496 y(out_link_power_rsquared)36 b(out_link_pscore)i
(out_link_power_newman)754 b(\\)213 1575 y(out_link_power_newman_error)
36 b(total_link_power)h(total_link_power_rsquared)395
b(\\)213 1654 y(total_link_pscore)37 b(total_link_power_newman)f
(total_link_power_newman_error)355 b(\\)213 1733 y(avg_degree\\n";)213
1891 y(#)39 b(loop)h(through)f(all)g(distinct)g(queries)f(and)i(add)f
(one)h(word)f(at)g(a)h(time;)213 1969 y(#)f(determine)g(if)h(two)f
(queries)g(share)g(a)h(common)e(word)i(ranked)f(higher)g(than)g(the)g
(added)213 2048 y(#)g(word;)213 2127 y(for)g(\(my)h($n)f(=)h(0;)f($n)h
(<)g($size;)f($n++\))g({)292 2206 y(#)h(only)f(if)h(the)f(word)h
(appears)e(in)i(more)f(than)g(1)h(query,)f(we)h(can)f(measure)g
(whether)g(two)292 2285 y(#)h(queries)f(share)g(that)g(same)h(word)292
2364 y(if)g(\(\(defined)f($freq{$r_words[$n]}\))d(and)k
(\($freq{$r_words[$n]})d(>=)i($min_freq\)\))f({)292 2522
y(#)i(if)g(there)f(is)g(one)h(of)f(the)h(four)f(conditions,)f(then)h
(run)h(the)f(iteration:)292 2600 y(#)160 b(1.)39 b(the)h(next)f(word)g
(has)h(a)f(different)g(frequency)f(from)i(the)f(current)g(one)292
2679 y(#)160 b(2.)39 b(the)h(current)e(word)i(is)f(the)h(first)f(one)g
(with)g(frequency)g(equal)g(to)h(min_freq)292 2758 y(#)160
b(3.)39 b(the)h(current)e(word)i(is)f(the)h(first)f(word)g(in)h(the)f
(ranked)g(list)g(and)h(its)358 b(\\)213 2837 y(frequency)38
b(is)i(greater)f(than)g(min_freq)g(\(evaluated)f(in)h(the)h(above)f
(statement\).)292 2916 y(#)160 b(4.)39 b(the)h(current)e(word)i(is)f
(the)h(k)1608 2928 y(*)1648 2916 y(50-th)e(in)i(the)f(ranked)g(list.)
292 3074 y(if)h(\(\(\($n)f(<)h($size)f(-)h(1\))f(&&)h
(\($freq{$r_words[$n+1]})c(ne)k($freq{$r_words[$n]}\)\))452
3153 y(||)f(\(\($n)h(>)f(0\))h(&&)f(\($freq{$r_words[$n)f(-)h(1]})h(<)f
($min_freq\)\))452 3231 y(||)g(\($n)h(\045)g(50)f(eq)h(0\)\))f({)372
3310 y(for)h(\(my)f($x)h(=)f(0;)h($x)f(<)h(scalar\(@qs\))e(-)i(1;)f
($x++\))h({)452 3389 y(for)f(\(my)h($y)f(=)h($x)f(+)h(1;)g($y)f(<)h
(scalar\(@qs\);)e($y++\))h({)532 3468 y(if)g
(\(!\($network->has_edge\($x)d(+)k(1,)g($y)f(+)h(1\)\)\))f({)611
3547 y(my)h($k)f(=)h(0;)611 3626 y(#)g(split)f(the)g(document)g(into)g
(word)h(tokens)611 3705 y(my)g(@x_tokens)e(=)i(split\(/)f(/,)g
($qs[$x]\);)611 3783 y(my)h(@y_tokens)e(=)i(split\(/)f(/,)g($qs[$y]\);)
611 4020 y(foreach)g(my)h($x_token)e(\(@x_tokens\))g({)691
4178 y(if)i(\(\(defined)e($word_rank_hash{$x_token}\))e(and)850
4257 y(\($word_rank_hash{$x_token})g(<=)k($n)f(+)h(1\)\))g({)771
4336 y(foreach)e(my)i($y_token)f(\(@y_tokens\))f({)850
4414 y(if)i(\($x_token)e(eq)i($y_token\))e({)930 4493
y(#)i(for)f(simplicity,)f(we)i(don't)f(count)g(the)h(num)f(of)930
4572 y(#)h(cooccurances)e(of)h(words)g(in)h(them,)f(so)h(we)f(use)h
(binary)930 4651 y(#)g(values)f(instead.)930 4730 y($k++;)930
4809 y(last;)850 4888 y(})771 4967 y(})691 5045 y(})611
5124 y(})611 5282 y(if)h(\($k)f(>)h(0\))f({)691 5361
y($network->add_edge\($x)e(+)i(1,)h($y)f(+)h(1\);)691
5440 y(print)f(FOUT)g(\(\($x+1\))g(.)h("\\t")f(.)h(\($y+1\))f(.)g
("\\t")h(.)f(\($n+1\))g(.)h("\\n"\);)p 3466 5544 V 185
5547 3285 4 v 1873 5809 a Fk(317)p eop end
%%Page: 318 318
TeXDict begin 318 317 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3966 4 3836 v 691 234 a Fa($network->set_edge_weight\($x)36
b(+)j(1,)h($y)f(+)h(1,)g(1\);)611 313 y(})532 392 y(})452
471 y(})372 550 y(})372 708 y(print)f($n)h(+)g(1)f(.)h("\\tNum.)f
(Edges:)g(")g(.)h(\($network->num_links\(\)\))d(.)i("\\n";)372
865 y(my)h($stat_string)e(=)h("";)372 944 y(if)h
(\($network->num_links\(\))c(eq)k(0\))f({)452 1023 y($stat_string)f(=)i
($network->num_nodes\(\))c(.)k(")g(")f(.)h($network->num_links\(\))d(.)
j(")f(";)452 1102 y($stat_string)f(=)i($stat_string)e(.)532
1181 y("0)h(0)h(0)g(0)f(0)h(0)g(0)f(0)h(0)g(0)f(0)h(0)g(0)g(0)f(0)h(0)g
(0)f(0)h(0)g(0\\n";)372 1260 y(})g(else)f({)452 1338
y($stat_string)f(=)i($network->get_network_info_as_string\(\);)372
1417 y(})372 1575 y(#)g(write)f(network)g(statistics)f(to)i(the)f(file)
372 1654 y(print)g(STAT)h(\($n)f(+)h(1\))f(.)h(")g(")f(.)h
($stat_string)e(.)i("\\n";)292 1733 y(})213 1812 y(})213
1891 y(})213 2048 y(close)f(FOUT;)213 2127 y(close)g(STAT;)213
2364 y(#)213 2443 y(#)g(prompt)g(the)h(user)f(about)g(the)h(correct)e
(usage)h(of)h(this)f(script)213 2522 y(#)213 2600 y(sub)g(usage)g({)292
2679 y(print)h("usage:)e($0)i(--corpus)f(corpus_name)f([-f)h
(query_log_file])f([-i)677 b(\\)213 2758 y(sorted_words_input_file]";)
292 2837 y(print)40 b("[-s)f(sample_size])f([-m)h(min_word_frequency])e
([-t)j(net_stat_file]\\n";)292 2916 y(print)g(")79 b(--corpus,)39
b(-c)g(corpus_name\\n";)292 2995 y(print)h(")398 b(Name)39
b(of)h(corpus)f(to)g(load\\n";)292 3074 y(print)h(")79
b(--sample,)39 b(-s)g(sample_size\\n";)292 3153 y(print)h(")398
b(Calculate)38 b(statistics)h(for)g(a)h(sample)f(of)g(the)h
(network\\n";)292 3231 y(print)g(")398 b(By)39 b(default)g(uses)h
(random)e(edge)i(sampling\\n";)292 3310 y(print)g(")79
b(--minword,)38 b(-m)i(min_word_frequency\\n";)292 3389
y(print)g(")79 b(-t)40 b(net_stat_file\\n";)292 3468
y(print)g("\\n";)292 3547 y(print)g("example:)e($0)i(-c)f(aol-10000)g
(-f)g(100000.q)g(";)292 3626 y(print)h("-i)f
(sorted_word_freqs_from_100000q.stat)c(";)292 3705 y(print)40
b("-s)f(10000)g(-m)h(2)f(-t)h(aol-10000-query-net.stat\\n";)292
3783 y(exit;)213 3862 y(})p 3466 3966 V 185 3969 3285
4 v 1873 5809 a Fk(318)p eop end
%%Page: 319 319
TeXDict begin 319 318 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.29)80 b(netw)o(ork)p 692 210 25 4 v 29 w(to)p
791 210 V 29 w(plots.pl)p 185 295 2846 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)213 556
y(#)39 b(script:)g(network_to_plots.pl)213 635 y(#)g(functionality:)f
(Generates)h(degree)g(distribution)f(plots,)h(creating)f(a)213
714 y(#)h(functionality:)f(histogram)h(in)g(log-log)g(space,)g(and)g(a)
h(cumulative)f(degree)213 793 y(#)g(functionality:)f(distribution)g
(histogram)h(in)g(log-log)g(space.)213 872 y(#)213 951
y(#)g(Based)h(on)f(the)h(make_cosine_plots.pl)c(script)j(by)h(Alex)213
1030 y(#)213 1108 y(use)f(strict;)213 1187 y(use)g(warnings;)213
1345 y(use)g(File::Spec;)213 1424 y(use)g(Getopt::Long;)213
1582 y(sub)g(usage;)213 1739 y(my)g($cos_file)g(=)h("";)213
1818 y(my)f($num_bins)g(=)h(100;)213 1976 y(my)f($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$cos_file,)e("bins:i")h(=>)g
(\\$num_bins\);)213 2134 y(if)g(\(!$res)g(||)h(\($cos_file)e(eq)i
(""\)\))f({)292 2213 y(usage\(\);)292 2291 y(exit;)213
2370 y(})213 2528 y(my)g(\($vol,)g($dir,)g($hist_prefix\))f(=)i
(File::Spec->splitpath\($cos_file\);)213 2607 y($hist_prefix)e(=\230)h
(s/\\.graph//;)213 2765 y(my)g($cosines)g(=)h("$cos_file";)213
2922 y(my)f(@link_bin)g(=)h(\(\);)213 3001 y($link_bin[$num_bins])d(=)i
(0;)213 3159 y(my)g(\045cos_hash)g(=)h(\(\);)213 3317
y(my)f(\($key1,)79 b($key2\);)213 3396 y(open)39 b(\(COS,)g($cosines\))
g(or)g(die)h("cannot)e(open)i($cosines\\n";)213 3553
y(while\(<COS>\))e({)292 3632 y(chomp;)292 3711 y(\($key1,)h($key2\))g
(=)h(split;)292 3869 y(next)g(if)f(\(!)h(defined)f($key1)g(||)g(!)h
(defined)f($key2\);)292 3948 y(if)h(\(\($key1)f(ne)g($key2\))g(&&)452
4027 y(!\(exists)g($cos_hash{$key2}\))e(&&)452 4105 y(!\(exists)i
($cos_hash{$key1}\)\))e({)372 4263 y($cos_hash{$key1})h(=)h(1;)292
4342 y(})292 4421 y(if)h(\(exists)f($cos_hash{$key2}\))e({)372
4500 y($cos_hash{$key1}++;)292 4579 y(})213 4658 y(})213
4736 y(close\(COS\);)213 4894 y(foreach)i(my)g($cos)g(\(keys)g
(\045cos_hash\))g({)292 4973 y(my)h($deg)f(=)h($cos_hash{$cos};)292
5052 y(my)g($d)g(=)f(get_index\($deg\);)292 5131 y($link_bin[$d]++;)213
5210 y(})213 5367 y(#print)g("cosine)g(histogram:\\n";)213
5525 y(#)g(Commented)g(out)79 b(by)40 b(alex)213 5604
y(#)f(Fri)h(Apr)f(22)h(23:18:40)e(EDT)i(2005)p 3027 5708
V 185 5711 2846 4 v 1873 5809 a Fk(319)p eop end
%%Page: 320 320
TeXDict begin 320 319 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2807
4 v 185 5544 4 5414 v 213 234 a Fa(#)213 313 y(#)39 b(For)h(some)f
(reason,)g(matlab)g(decided)g(that)g(today)g(it)h(does)f(not)213
392 y(#)79 b(like)40 b(full)f(paths.)g(So)g(we)h(take)f(them)g(out,)h
(and)f(pat)g(matlab)213 471 y(#)79 b(on)40 b(the)f(head.)213
550 y(#)213 629 y(#)g(Just)h(remember)e(that)i(this)f(will)g(produce)g
(plots)g(in)h(the)213 708 y(#)79 b(current)39 b(directory)g(now,)g(so)g
(CD)h(in)g(to)f(wherever)g(you)g(need)213 786 y(#)79
b(to)40 b(be)f(before)g(piping)g(this)h(stuff)f(into)g(matlab.)213
865 y(#)213 944 y(my)g($fname)g(=)h($hist_prefix)e(.)i
("-cosine-hist.m";)213 1023 y(my)f($fname2)g(=)h($hist_prefix)e(.)i
("-cosine-cumulative.m";)213 1102 y(open\(OUT,">$fname"\))d(or)i(die)h
(\("Cannot)e(write)h(to)h($fname"\);)213 1181 y
(open\(OUT2,">$fname2"\))c(or)k(die)f(\("Cannot)g(write)g(to)h
($fname2"\);)213 1260 y(print)f(OUT)g("x)h(=)g([";)213
1338 y(print)f(OUT2)g("x)h(=)f([";)213 1417 y(my)g($cumulative=0;)213
1575 y(foreach)g(my)g($i)h(\(0..$#link_bin\))213 1654
y({)332 1733 y(my)g($out)f(=)h($link_bin[$i];)332 1812
y(if\(not)f(defined)g($link_bin[$i]\))332 1891 y({)452
1969 y($out)g(=)h(0;)332 2048 y(})332 2127 y($cumulative)f(+=)g($out;)
332 2206 y(my)h($thres)f(=)h($i;)332 2285 y(print)f(OUT)h("$thres)f
($out\\n";)332 2364 y(print)g(OUT2)h("$thres)e($cumulative\\n";)213
2443 y(})213 2600 y(print)h(OUT)g("];\\n";)213 2758 y(my)g
($out_filename)f(=)i("$hist_prefix"."-cosine-hist";)213
2837 y(print)f(OUT)g("loglog\(x\(:,1\),)f(x\(:,2\)\);\\n";)213
2916 y(print)h(OUT)g("title\(['Degree)f(Distribution)g(of)h
($hist_prefix']\);\\n";)213 2995 y(print)g(OUT)g
("xlabel\('Degree'\);\\n";)213 3074 y(print)g(OUT)g("ylabel\('Number)f
(of)h(Nodes'\);\\n";)213 3153 y(#print)g(OUT)g("v)h(=)f(axis;\\n";)213
3231 y(#print)g(OUT)g("v\(1\))g(=)h(0;)f(v\(2\))h(=)f(1;\\n";)213
3310 y(#print)g(OUT)g("axis\(v\)\\n";)213 3389 y(print)g(OUT)g("print)g
(\('-deps',)g('$out_filename.eps'\)\\n";)213 3468 y(print)g(OUT)g
("saveas\(gcf,)f('$out_filename")g(.)i(".jpg',)e('jpg'\);)h(\\n";)213
3547 y(close)g(OUT;)213 3705 y($out_filename)f(=)h($hist_prefix)f(.)i
("-cosine-cumulative";)213 3783 y(print)f(OUT2)g("];\\n";)213
3862 y(print)g(OUT2)g("loglog\(x\(:,1\),)f(x\(:,2\)\);\\n";)213
3941 y(print)h(OUT2)g("title\(['Degree)f(Distribution)g(of)h
($hist_prefix']\);\\n";)213 4020 y(print)g(OUT2)g
("xlabel\('Degree'\);\\n";)213 4099 y(print)g(OUT2)g("ylabel\('Number)f
(of)h(Nodes'\);\\n";)213 4178 y(print)g(OUT2)g("v)h(=)f(axis;\\n";)213
4257 y(print)g(OUT2)g("v\(1\))g(=)h(0;)f(v\(2\))h(=)f(1\\n";)213
4336 y(print)g(OUT2)g("axis\(v\)\\n";)213 4414 y(print)g(OUT2)g("print)
g(\('-deps',)g('$hist_prefix-cosine-cumulative.eps'\)\\n";)213
4493 y(print)g(OUT2)g("saveas\(gcf,)f('$out_filename")g(.)h(".jpg',)g
('jpg'\);)g(\\n";)213 4572 y(close)g(OUT2;)213 4809 y(sub)g(get_index)g
({)292 4888 y(my)h($d)g(=)f(shift;)292 4967 y(my)h($c)g(=)f(int\($d)890
4979 y(*)970 4967 y($num_bins)f(+)i(0.000001\);)213 5045
y(#)79 b(print)39 b("$c)h($d\\n";)292 5124 y(return)f($c;)213
5203 y(})213 5361 y(sub)g(usage)g({)292 5440 y(print)h("Usage)f($0)g
(--input)g(input_file)f([--bins)h(num_bins]\\n\\n";)p
2987 5544 V 185 5547 2807 4 v 1873 5809 a Fk(320)p eop
end
%%Page: 321 321
TeXDict begin 321 320 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 2488
4 v 185 969 4 839 v 292 234 a Fa(print)40 b(")79 b(--input)39
b(input_file\\n";)292 313 y(print)h(")278 b(Name)40 b(of)f(the)h(input)
f(graph)g(file\\n";)292 392 y(print)h(")79 b(--bins)39
b(num_bins\\n";)292 471 y(print)h(")278 b(Number)39 b(of)h(bins\\n";)
292 550 y(print)g(")278 b(num_bins)39 b(is)h(optional,)e(and)h
(defaults)g(to)h(100\\n";)292 629 y(print)g("\\n";)292
708 y(exit;)213 786 y(})p 2669 969 V 185 972 2488 4 v
1873 5809 a Fk(321)p eop end
%%Page: 322 322
TeXDict begin 322 321 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.30)80 b(print)p 577 210 25 4 v 30 w(netw)o(ork)p
902 210 V 29 w(stats.pl)p 185 295 2966 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)213 556
y(#)39 b(script:)g(print_network_stats.pl)213 635 y(#)g(functionality:)
f(Prints)h(various)g(network)g(statistics)213 714 y(#)213
793 y(use)g(strict;)213 872 y(use)g(warnings;)213 1030
y(use)g(Getopt::Long;)213 1108 y(use)g(File::Spec;)213
1187 y(use)g(Clair::Cluster;)213 1266 y(use)g(Clair::Network)f
(qw\($verbose\);)213 1345 y(use)h
(Clair::Network::Centrality::Betweenness;)213 1424 y(use)g
(Clair::Network::Centrality::Closeness;)213 1503 y(use)g
(Clair::Network::Centrality::Degree;)213 1582 y(use)g
(Clair::Network::Centrality::LexRank;)213 1660 y(use)g
(Clair::Network::CFNetwork;)213 1739 y(use)g
(Clair::Network::Sample::RandomEdge;)213 1818 y(use)g
(Clair::Network::Sample::ForestFire;)213 1897 y(use)g
(Clair::Network::Reader::Edgelist;)213 1976 y(use)g
(Clair::Network::Writer::Edgelist;)213 2055 y(use)g
(Clair::Network::Writer::GraphML;)213 2134 y(use)g
(Clair::Network::Writer::Pajek;)213 2291 y(sub)g(usage;)213
2449 y(my)g($delim)g(=)h("[)g(\\t]+";)213 2528 y(my)f($sample_size)f(=)
i(0;)213 2607 y(my)f($sample_type)f(=)i("randomedge";)213
2686 y(my)f($fname)g(=)h("";)213 2765 y(my)f($out_file)g(=)h("";)213
2844 y(my)f($pajek_file)g(=)g("";)213 2922 y(my)g($graphml_file)f(=)i
("";)213 3001 y(my)f($extract)g(=)h(0;)213 3080 y(my)f($stem)g(=)h(1;)
213 3159 y(my)f($undirected)g(=)g(0;)213 3238 y(my)g($wcc)h(=)f(0;)213
3317 y(my)g($scc)h(=)f(0;)213 3396 y(my)g($components)g(=)g(0;)213
3475 y(my)g($paths)g(=)h(0;)213 3553 y(my)f($triangles)g(=)g(0;)213
3632 y(my)g($assortativity)f(=)i(0;)213 3711 y(my)f($local_cc)g(=)h(0;)
213 3790 y(my)f($all)h(=)f(0;)213 3869 y(my)g($output_delim)f(=)i(")g
(";)213 3948 y(my)f($stats)g(=)h(1;)213 4027 y(my)f($degree_centrality)
e(=)j(0;)213 4105 y(my)f($closeness_centrality)e(=)j(0;)213
4184 y(my)f($betweenness_centrality)e(=)i(0;)213 4263
y(my)g($lexrank_centrality)e(=)j(0;)213 4342 y(my)f($force)g(=)h(0;)213
4421 y(my)f($graph_class)f(=)i("";)213 4500 y(my)f($filebased)g(=)g(0;)
213 4579 y(my)g($cf)h(=)f(0;)213 4736 y(my)g($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$fname,)e("delim=s")h(=>)g(\\$delim,)
1050 4815 y("delimout=s")f(=>)h(\\$output_delim,)1050
4894 y("output:s")f(=>)i(\\$out_file,)e("pajek:s")g(=>)i
(\\$pajek_file,)1050 4973 y("graphml:s")e(=>)h(\\$graphml_file,)1050
5052 y("sample=i")f(=>)i(\\$sample_size,)1050 5131 y("sampletype=s")d
(=>)j(\\$sample_type,)1050 5210 y("extract!")e(=>)i(\\$extract,)1050
5289 y("stem!")e(=>)i(\\$stem,)f("undirected")f(=>)h(\\$undirected,)
1050 5367 y("components")f(=>)h(\\$components,)f("paths")h(=>)h
(\\$paths,)1050 5446 y("wcc")f(=>)g(\\$wcc,)g("scc")g(=>)h(\\$scc,)1050
5525 y("triangles")e(=>)h(\\$triangles,)f("verbose!")h(=>)g
(\\$verbose,)1050 5604 y("assortativity")e(=>)j(\\$assortativity,)p
3147 5708 V 185 5711 2966 4 v 1873 5809 a Fk(322)p eop
end
%%Page: 323 323
TeXDict begin 323 322 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3006
4 v 185 5544 4 5414 v 1050 234 a Fa("localcc")38 b(=>)i(\\$local_cc,)e
("stats!")h(=>)g(\\$stats,)1050 313 y("all")g(=>)g(\\$all,)g("cf")g(=>)
h(\\$cf,)1050 392 y("betweenness-centrality")c(=>)j
(\\$betweenness_centrality,)1050 471 y("degree-centrality")e(=>)i
(\\$degree_centrality,)1050 550 y("closeness-centrality")d(=>)k
(\\$closeness_centrality,)1050 629 y("lexrank-centrality")c(=>)k
(\\$lexrank_centrality,)1050 708 y("force")e(=>)i(\\$force,)1050
786 y("graph-class=s")d(=>)j(\\$graph_class,)1050 865
y("filebased")e(=>)h(\\$filebased\);)213 1023 y(my)g($directed)g(=)h
(not)f($undirected;)213 1102 y($Clair::Network::verbose)d(=)k
($verbose;)213 1260 y(my)f($vol;)213 1338 y(my)g($dir;)213
1417 y(my)g($prefix;)213 1496 y(\($vol,)g($dir,)g($prefix\))f(=)i
(File::Spec->splitpath\($fname\);)213 1575 y($prefix)f(=\230)g
(s/\\.graph//;)213 1654 y(if)g(\($all\))g({)292 1733
y(#)h(Enable)f(all)h(options)292 1812 y(if)g(\($directed\))e({)372
1891 y($wcc)h(=)h(1;)372 1969 y($scc)f(=)h(1;)292 2048
y(})g(else)f({)372 2127 y($components)f(=)i(1;)292 2206
y(})292 2285 y($triangles)f(=)h(1;)292 2364 y($paths)f(=)h(1;)292
2443 y($assortativity)e(=)i(1;)292 2522 y($local_cc)f(=)h(1;)292
2600 y($betweenness_centrality)d(=)j(1;)292 2679 y($degree_centrality)e
(=)h(1;)292 2758 y($closeness_centrality)e(=)j(1;)292
2837 y($lexrank_centrality)d(=)j(1;)213 2916 y(})213
3153 y(if)f(\(!$res)g(or)h(\($fname)f(eq)g(""\)\))g({)292
3231 y(usage\(\);)213 3310 y(})213 3468 y(my)g($fh;)213
3547 y(my)g(@hyp)h(=)f(\(\);)213 3705 y(#)g(make)h(unbuffered)213
3783 y(select)f(STDOUT;)g($|)g(=)h(1;)213 3941 y(if)f(\($verbose\))g({)
292 4020 y(print)h("Reading)e(in)i(")f(.)h(\($directed)f(?)g
("directed")g(:)g("undirected"\))f(.)372 4099 y(")i(graph)f(file\\n";)
213 4178 y(})213 4336 y(my)g($reader)g(=)h
(Clair::Network::Reader::Edgelist->new\(\);)213 4414
y(my)f($net;)213 4493 y(my)g($graph;)213 4572 y(if)g(\($graph_class)f
(ne)i(""\))f({)292 4651 y(eval\("use)g($graph_class;"\);)292
4730 y($graph)g(=)h($graph_class->new\(directed)c(=>)k($directed\);)292
4809 y($net)g(=)f($reader->read_network\($fname,)d(graph)j(=>)h
($graph,)1448 4888 y(delim)f(=>)h($delim,)1448 4967 y(directed)f(=>)g
($directed,)1448 5045 y(filebased)g(=>)g($filebased\);)213
5124 y(})g(else)h({)292 5203 y($net)g(=)f
($reader->read_network\($fname,)1448 5282 y(delim)g(=>)h($delim,)1448
5361 y(directed)f(=>)g($directed,)1448 5440 y(filebased)g(=>)g
($filebased,)p 3187 5544 V 185 5547 3006 4 v 1873 5809
a Fk(323)p eop end
%%Page: 324 324
TeXDict begin 324 323 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 1448 234 a Fa(edge_property)38
b(=>)i("lexrank_transition"\);)213 313 y(})213 471 y(#)f(Sample)g
(network)g(if)h(requested)213 550 y(if)f(\($sample_size)f(>)i(0\))f({)
292 629 y(if)h(\($sample_type)e(eq)h("randomedge"\))f({)372
708 y(if)i(\($verbose\))e({)452 786 y(print)h(STDERR)g("Sampling)f
($sample_size)g(edges)i(from)f(network)g(using)g(random)g(edge)79
b(\\)213 865 y(algorithm\\n";)38 b(})372 944 y(my)i($sample)f(=)g
(Clair::Network::Sample::RandomEdge->new\($net\);)372
1023 y($net)g(=)h($sample->sample\($sample_size\);)292
1102 y(})g(elsif)f(\($sample_type)f(eq)i("forestfire"\))e({)372
1181 y(if)i(\($verbose\))e({)452 1260 y(print)h(STDERR)g("Sampling)f
($sample_size)g(nodes)i(from)f(network)g(using)g(Forest)g(Fire)79
b(\\)213 1338 y(algorithm\\n";)38 b(})372 1417 y(my)i($sample)f(=)g
(Clair::Network::Sample::ForestFire->new\($net\);)372
1496 y($net)g(=)h($sample->sample\($sample_size,)c(0.7\);)292
1575 y(})213 1654 y(})213 1812 y(if)j(\(\(\($net->num_documents)e(>)j
(2000\))f(or)g(\($net->num_links)f(>)h(4000000\)\))g(and)372
1891 y(\(!$force\))g(and)g(\(!$filebased\)\))f({)292
1969 y(my)i($error_msg;)292 2048 y($error_msg)f(.=)g("Network)g(is)h
(too)f(large";)292 2127 y(if)h(\($net->num_documents)d(>)j(2000\))f({)
372 2206 y($error_msg)g(.=)g(")h(\(")f(.)h($net->num_documents)d(.)j(")
f(>)h(2000)f(nodes\)";)292 2285 y(})292 2364 y(if)h(\($net->num_pairs)d
(>)j(4000000\))f({)372 2443 y($error_msg)g(.=)g(")h(\(")f(.)h
($net->num_pairs)e(.)h(")h(>)g(4000000)f(edges\)";)292
2522 y(})292 2600 y($error_msg)g(.=)g(",)h(please)f(use)g
(sampling\\n";)292 2679 y(die)h($error_msg;)213 2758
y(})213 2916 y(#)f(If)h(graphviz)f(dotfile)f(is)i(specified,)e(dump)i
(network)e(to)i(that)f(file)213 2995 y(#if)g(\($fname)g(ne)h(""\))f({)
213 3074 y(#)79 b(output_graphviz\($net,)37 b($out_file\);)213
3153 y(#})213 3310 y(#)i(If)h(Pajek)f(file)g(is)h(specified,)e(dump)i
(network)e(to)i(that)f(file)213 3389 y(if)g(\($pajek_file)f(ne)i(""\))f
({)292 3468 y(my)h($export)f(=)h
(Clair::Network::Writer::Pajek->new\(\);)292 3547 y
($export->set_name\("pajek"\);)292 3626 y
($export->write_network\($net,)c("$pajek_file"\);)213
3705 y(})213 3862 y(#)j(If)h(GraphML)f(file)g(is)h(specified,)e(dump)h
(network)g(to)h(that)f(file)213 3941 y(if)g(\($graphml_file)f(ne)i
(""\))f({)292 4020 y(my)h($export)f(=)h
(Clair::Network::Writer::GraphML->new\(\);)292 4099 y
($export->set_name\($fname\);)292 4178 y($export->write_network\($net,)
c("$graphml_file"\);)213 4257 y(})213 4414 y(if)j(\($out_file)g(ne)g
(""\))h({)292 4493 y(my)g($export)f(=)h
(Clair::Network::Writer::Edgelist->new\(\);)292 4572
y($export->write_network\($net,)c($out_file\);)213 4651
y(})213 4809 y(my)j($component_net;)213 4888 y(if)g(\($extract\))g({)
292 4967 y(#)h(Find)f(the)h(largest)f(connected)f(component)292
5045 y(if)i(\($verbose\))e({)i(print)f("Extracting)f(largest)h
(connected)g(component\\n";)f(})292 5124 y(print)i("Original)e(network)
h(info:\\n";)292 5203 y(print)h(")79 b(nodes:)39 b(",)h
($net->num_nodes\(\),)d("\\n";)292 5282 y(print)j(")79
b(edges:)39 b(",)h(scalar\($net->get_edges\(\)\),)c("\\n";)292
5361 y($component_net)i(=)i($net->find_largest_component\("weakly"\);)
213 5440 y(})f(else)h({)p 3466 5544 V 185 5547 3285 4
v 1873 5809 a Fk(324)p eop end
%%Page: 325 325
TeXDict begin 325 324 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3125
4 v 185 5544 4 5414 v 292 234 a Fa($component_net)38
b(=)i($net;)213 313 y(})213 471 y(if)f(\($stats\))g({)372
550 y($component_net->print_network_info\(components)33
b(=>)40 b($components,)1767 629 y(wcc)f(=>)h($wcc,)f(scc)g(=>)h($scc,)
1767 708 y(paths)f(=>)h($paths,)1767 786 y(triangles)e(=>)i
($triangles,)1767 865 y(assortativity)e(=>)h($assortativity,)1767
944 y(localcc)g(=>)g($local_cc,)1767 1023 y(delim)g(=>)h
($output_delim,)1767 1102 y(verbose)f(=>)g($verbose\);)213
1181 y(})213 1417 y(#)g(Get)h(centrality)e(measures)213
1496 y(if)h(\($degree_centrality\))e({)292 1575 y(my)j($degree)f(=)h
(Clair::Network::Centrality::Degree->new\($)o(compone)o(nt_net)o(\);)
292 1654 y(my)g($b)g(=)f($degree->normalized_centrality\(\);)292
1733 y(open\(OUTFILE,)f(">)i($prefix.degree-centrality"\);)292
1812 y(foreach)f(my)h($v)f(\(keys)g(\045{$b}\))g({)372
1891 y(print)g(OUTFILE)g("$v$output_delim")e(.)j($b->{$v})f(.)g("\\n";)
292 1969 y(})292 2048 y(close)h(OUTFILE;)213 2127 y(})213
2206 y(if)f(\($closeness_centrality\))e({)292 2285 y(my)j($closeness)e
(=)i(Clair::Network::Centrality::Closeness->new\($c)o(ompone)o
(nt_net\))o(;)292 2364 y(my)g($b)g(=)f
($closeness->normalized_centrality\(\);)292 2443 y(open\(OUTFILE,)f(">)
i($prefix.closeness-centrality"\);)292 2522 y(foreach)f(my)h($v)f
(\(keys)g(\045{$b}\))g({)372 2600 y(print)g(OUTFILE)g
("$v$output_delim")e(.)j($b->{$v})f(.)g("\\n";)292 2679
y(})292 2758 y(close)h(OUTFILE;)213 2837 y(})213 2916
y(if)f(\($betweenness_centrality\))d({)292 2995 y(my)k($betweenness)e
(=)372 3074 y(Clair::Network::Centrality::Betweenness->new\()o($compon)
o(ent_net)o(\);)292 3153 y(my)i($b)g(=)f
($betweenness->normalized_centrality\(\);)292 3231 y(open\(OUTFILE,)f
(">)i($prefix.betweenness-centrality"\);)292 3310 y(foreach)f(my)h($v)f
(\(keys)g(\045{$b}\))g({)372 3389 y(print)g(OUTFILE)g
("$v$output_delim")e(.)j($b->{$v})f(.)g("\\n";)292 3468
y(})292 3547 y(close)h(OUTFILE;)213 3626 y(})213 3783
y(if)f(\($lexrank_centrality\))e({)292 3862 y(#)j(Set)g(the)f(cosine)g
(value)g(to)h(1)f(on)h(the)f(diagonal)292 3941 y(foreach)g(my)h($v)f
(\($component_net->get_vertices\))d({)372 4020 y
($component_net->set_vertex_attribute\($v,)e("lexrank_transition",)j
(1\);)292 4099 y(})292 4257 y(my)j($lexrank)f(=)372 4336
y(Clair::Network::Centrality::LexRank->new\($com)o(ponent_)o(net\);)292
4414 y(my)h($b)g(=)f($lexrank->normalized_centrality\(\);)292
4493 y(open\(OUTFILE,)f(">)i($prefix.lexrank-centrality"\);)292
4572 y(foreach)f(my)h($v)f(\(keys)g(\045{$b}\))g({)372
4651 y(print)g(OUTFILE)g("$v$output_delim")e(.)j($b->{$v})f(.)g("\\n";)
292 4730 y(})292 4809 y(close)h(OUTFILE;)213 4888 y(})213
5045 y(#)f(Community)g(finding)g(algorithms)213 5124
y(#)g(TODO:)h(Add)f(function)g(to)g(CFNetwork)g(to)g(import)g(normal)g
(network)g(and)g(create)213 5203 y(#)g(labeled)g(network)213
5282 y(if)g(\($cf\))g({)292 5361 y(my)h($gen_dir)f(=)g("cf";)292
5440 y(my)h($cfn)f(=)h(new)f(Clair::Network::CFNetwork\(name)d(=>)j
($prefix,)g(unionfind)f(=>)i(1\);)p 3306 5544 V 185 5547
3125 4 v 1873 5809 a Fk(325)p eop end
%%Page: 326 326
TeXDict begin 326 325 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 292 313 a Fa(#)40 b(Copy)f(network)292
392 y(my)h($cnt)f(=)h(1;)292 471 y(my)g(\045node_hash)e(=)i(\(\);)292
550 y(foreach)f(my)h($v)f(\($component_net->get_vertices\))d({)372
629 y($cfn->add_node\($cnt,)h(label)i(=>)h($v\);)372
708 y($node_hash{$v})e(=)i($cnt;)372 786 y($cnt++;)292
865 y(})292 944 y(foreach)f(my)h($e)f(\($component_net->get_edges\))d
({)372 1023 y(my)k(\($u,)f($v\))g(=)h(@$e;)372 1102 y
($cfn->add_edge\($node_hash{$u},)c($node_hash{$v}\);)292
1181 y(})292 1338 y(if)k(\($verbose\))e({)372 1417 y(print)h(STDERR)g
("checking,)g(original)f(#)i(nodes:)f(",)g
($component_net->num_nodes\(\))d(.)80 b(\\)213 1496 y(",)39
b(new:)h(")f(.)452 1575 y($cfn->num_nodes\(\))e(.)j("\\n";)372
1654 y(print)f(STDERR)g("checking,)g(original)f(#)i(nodes:)f(",)g
($component_net->num_links\(\))d(.)80 b(\\)213 1733 y(",)39
b(new:)h(")f(.)452 1812 y($cfn->num_links\(\))e(.)j("\\n";)292
1891 y(})292 2048 y($cfn->communityFind\(dirname)c(=>)k($gen_dir\);)292
2127 y($cfn->export2PajekProject\(partition)35 b(=>)40
b('best',)e(dirname)h(=>)h($gen_dir\);)213 2206 y(})213
2364 y(#)213 2443 y(#)f(Print)h(out)f(usage)g(message)213
2522 y(#)213 2600 y(sub)g(usage)213 2679 y({)292 2758
y(print)h("usage:)e($0)i([-e])f([-d)h(delimiter])e(-i)h(file)h([-f)f
(dotfile]\\n";)292 2837 y(print)h("or:)158 b($0)40 b([-f)f(dotfile])g
(<)h(file\\n";)292 2916 y(print)g(")79 b(--input)39 b(file\\n";)292
2995 y(print)h(")398 b(Input)39 b(file)g(in)h(edge-edge)e(format\\n";)
292 3074 y(print)i(")79 b(--delim)39 b(delimiter\\n";)292
3153 y(print)h(")398 b(Vertices)39 b(in)g(input)g(are)h(delimited)e(by)
i(delimiter)e(character\\n";)292 3231 y(print)i(")79
b(--delimout)38 b(output_delimiter\\n";)292 3310 y(print)i(")398
b(Vertices)39 b(in)g(output)g(are)g(delimited)g(by)h(delimiter)e(\(can)
h(be)h(printf)f(\\)213 3389 y(format)g(string\)\\n";)292
3468 y(print)h(")79 b(--sample)39 b(sample_size\\n";)292
3547 y(print)h(")398 b(Calculate)38 b(statistics)h(for)g(a)h(sample)f
(of)g(the)h(network\\n";)292 3626 y(print)g(")398 b(The)39
b(sample_size)g(parameter)f(is)i(interpreted)e(differently)g(for)199
b(\\)213 3705 y(each\\n";)292 3783 y(print)40 b(")398
b(sampling)39 b(algorithm\\n";)292 3862 y(print)h(")79
b(--sampletype)38 b(sampletype\\n";)292 3941 y(print)i(")398
b(Change)39 b(the)g(sampling)g(algorithm,)f(one)i(of:)f(randomnode,)437
b(\\)213 4020 y(randomedge,\\n";)292 4099 y(print)40
b(")398 b(forestfire\\n";)292 4178 y(print)40 b(")398
b(randomnode:)38 b(Pick)h(sample_size)g(nodes)g(randomly)f(from)i(the)
358 b(\\)213 4257 y(original)38 b(network\\n";)292 4336
y(print)i(")398 b(randomedge:)38 b(Pick)h(sample_size)g(edges)g
(randomly)f(from)i(the)358 b(\\)213 4414 y(original)38
b(network\\n";)292 4493 y(print)i(")398 b(forestfire:)38
b(Pick)h(sample_size)g(nodes)g(randomly)f(from)i(the)358
b(\\)213 4572 y(original)38 b(network\\n";)292 4651 y(print)i(")876
b(using)39 b(ForestFire)g(sampling)f(\(see)i(the)f(tutorial)g(for)79
b(\\)213 4730 y(more\\n";)292 4809 y(print)40 b(")876
b(information\)\\n";)292 4888 y(print)40 b(")398 b(By)39
b(default)g(uses)h(random)e(edge)i(sampling\\n";)292
4967 y(print)g(")79 b(--output)39 b(out_file\\n";)292
5045 y(print)h(")398 b(If)39 b(the)h(network)f(is)g(modified)g
(\(sampled,)f(etc.\))i(you)f(can)438 b(\\)213 5124 y(optionally)38
b(write)h(it\\n";)292 5203 y(print)h(")398 b(out)39 b(to)h(another)f
(file\\n";)292 5282 y(print)h(")79 b(--pajek)39 b(pajek_file\\n";)292
5361 y(print)h(")398 b(Write)39 b(output)g(in)h(Pajek)f(compatible)f
(format\\n";)292 5440 y(print)i(")79 b(--extract,)f(-e\\n";)p
3466 5544 V 185 5547 3285 4 v 1873 5809 a Fk(326)p eop
end
%%Page: 327 327
TeXDict begin 327 326 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3020 4 2890 v 292 234 a Fa(print)40 b(")398 b(Extract)39
b(largest)g(connected)f(component)h(before)g(analyzing.\\n";)292
313 y(print)h(")79 b(--undirected,)f(-u\\n";)292 392
y(print)40 b(")398 b(Treat)39 b(graph)g(as)h(an)f(undirected)g(graph,)g
(default)f(is)i(directed\\n";)292 471 y(print)g(")79
b(--scc\\n";)292 550 y(print)40 b(")398 b(Print)39 b(strongly)g
(connected)f(components\\n";)292 629 y(print)i(")79 b(--wcc\\n";)292
708 y(print)40 b(")398 b(Print)39 b(weakly)g(connected)f
(components\\n";)292 786 y(print)i(")79 b(--components\\n";)292
865 y(print)40 b(")398 b(Print)39 b(components)f(\(for)i(undirected)e
(graph\)\\n";)292 944 y(print)i(")79 b(--paths,)g(-p\\n";)292
1023 y(print)40 b(")398 b(Print)39 b(shortest)g(path)g(matrix)g(for)g
(all)h(vertices\\n";)292 1102 y(print)g(")79 b(--triangles,)f(-t\\n";)
292 1181 y(print)40 b(")398 b(Print)39 b(all)g(triangles)g(in)g
(graph\\n";)292 1260 y(print)h(")79 b(--assortativity,)e(-a\\n";)292
1338 y(print)40 b(")398 b(Print)39 b(the)g(network)g(assortativty)f
(coefficient\\n";)292 1417 y(print)i(")79 b(--localcc,)f(-l\\n";)292
1496 y(print)40 b(")398 b(Print)39 b(the)g(local)h(clustering)e
(coefficient)g(of)i(each)f(vertex\\n";)292 1575 y(print)h(")79
b(--degree-centrality\\n";)292 1654 y(print)40 b(")398
b(Print)39 b(the)g(degree)g(centrality)g(of)g(each)h(vertex\\n";)292
1733 y(print)g(")79 b(--closeness-centrality\\n";)292
1812 y(print)40 b(")398 b(Print)39 b(the)g(closeness)g(centrality)f(of)
i(each)f(vertex\\n";)292 1891 y(print)h(")79 b
(--betweenness-centrality\\n";)292 1969 y(print)40 b(")398
b(Print)39 b(the)g(betweenness)g(centrality)f(of)i(each)f(vertex\\n";)
292 2048 y(print)h(")79 b(--lexrank-centrality\\n";)292
2127 y(print)40 b(")398 b(Print)39 b(the)g(LexRank)g(centrality)g(of)g
(each)g(vertex\\n";)292 2206 y(print)h(")79 b(--all\\n";)292
2285 y(print)40 b(")398 b(Print)39 b(all)g(statistics)g(for)g(the)h
(network\\n";)292 2364 y(print)g("\\n";)292 2443 y(print)g("example:)e
($0)i(-i)f(test.graph\\n";)292 2522 y(print)h("\\n";)292
2600 y(print)g("Example)e(with)h(sampling:)g($0)h(-i)f(test.graph)f
(--sample)h(100)h(--sampletype)237 b(\\)213 2679 y(randomnode\\n\\n";)
292 2837 y(exit;)213 2916 y(})p 3466 3020 V 185 3023
3285 4 v 1873 5809 a Fk(327)p eop end
%%Page: 328 328
TeXDict begin 328 327 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.31)80 b(sear)o(ch)p 627 210 25 4 v 29 w(to)p
726 210 V 29 w(url.pl)p 185 295 2846 4 v 185 3815 4 3521
v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(search_to_url.pl)213 556 y(#)g(functionality:)f(Searches)h(on)g(a)h
(Google)f(query)g(and)h(prints)f(a)g(list)h(of)f(URLs)213
714 y(use)g(strict;)213 793 y(use)g(warnings;)213 951
y(use)g(Getopt::Std;)213 1030 y(use)g(vars)g(qw/)h(\045opt)f(/;)213
1108 y(use)g(Clair::Utils::WebSearch;)213 1266 y(sub)g(usage;)213
1424 y(my)g($opt_string)g(=)g("q:n:";)213 1503 y
(getopts\("$opt_string",)d(\\\045opt\))j(or)h(usage\(\);)213
1660 y(my)f($num_res)g(=)h(0;)213 1739 y(if)f(\($opt{"n"}\))g({)292
1818 y($num_res)g(=)h($opt{"n"};)213 1897 y(})f(else)h({)292
1976 y(usage\(\);)292 2055 y(exit;)213 2134 y(})213 2291
y(my)f($query)g(=)h("";)213 2370 y(if)f(\($opt{"q"}\))g({)292
2449 y($query)g(=)h($opt{"q"};)213 2528 y(})f(else)h({)292
2607 y(usage\(\);)292 2686 y(exit;)213 2765 y(})213 3001
y(my)f(@results)g(=)h(@{Clair::Utils::WebSearch::googleGet\($quer)o(y,)
34 b($num_res\)};)213 3080 y(foreach)39 b(my)g($r)h(\(@results\))78
b({)292 3159 y(my)40 b(\($url,)f($title,)g($desc\))g(=)g(split\('\\t',)
g($r\);)292 3238 y(print)h($url,)f("\\n";)213 3317 y(})213
3475 y(sub)g(usage)g({)292 3553 y(print)h("usage:)e($0)i(-q)f(query)h
(-n)f(number_of_results\\n";)292 3632 y(print)h("example:)e($0)i(-q)f
(pancakes)g(-n)g(10\\n";)213 3711 y(})p 3027 3815 V 185
3818 2846 4 v 1873 5809 a Fk(328)p eop end
%%Page: 329 329
TeXDict begin 329 328 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.32)80 b(sentences)p 729 210 25 4 v 30 w(to)p
829 210 V 29 w(docs.pl)p 185 295 3086 4 v 185 5708 4
5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(sentences_to_docs.pl)213 556 y(#)g(functionality:)f(Converts)h(a)h
(document)e(with)h(sentences)g(into)g(a)h(set)f(of)213
635 y(#)g(functionality:)f(documents)h(with)g(one)g(sentence)g(per)g
(document)213 714 y(#)213 793 y(#)g(Make)h(sure)f(a)h(Java)f
(interpreter)f(is)i(in)f(your)g(path)213 951 y(use)g(strict;)213
1030 y(use)g(warnings;)213 1187 y(use)g(File::Spec;)213
1266 y(use)g(Getopt::Long;)213 1345 y(use)g(Clair::Cluster;)213
1424 y(use)g(Clair::Document;)213 1582 y(sub)g(usage;)213
1739 y(my)g($in_file)g(=)h("";)213 1818 y(my)f($dirname)g(=)h("";)213
1897 y(my)f($basename)g(=)h("";)213 1976 y(my)f($output_dir)g(=)g("";)
213 2055 y(my)g($single)g(=)h(0;)213 2134 y(my)f($type)g(=)h("text";)
213 2213 y(my)f($verbose)g(=)h(0;)213 2370 y(my)f($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$in_file,)e("directory=s")g(=>)i
(\\$dirname,)412 2449 y("output=s")e(=>)i(\\$output_dir,)e
("singlefile")g(=>)h(\\$single,)1050 2528 y("type=s")f(=>)i(\\$type,)f
("verbose")f(=>)i(\\$verbose\);)213 2686 y(if)f(\(!$res)g(or)h
(\($output_dir)e(eq)h(""\)\))h({)292 2765 y(usage\(\);)292
2844 y(exit;)213 2922 y(})213 3080 y(my)f($vol;)213 3159
y(my)g($dir;)213 3238 y(my)g($prefix;)213 3317 y(\($vol,)g($dir,)g
($prefix\))f(=)i(File::Spec->splitpath\($output_dir\);)213
3475 y(if)f(\($dir)g(ne)h(""\))f({)292 3553 y(unless)g(\(-d)h($dir\))f
({)372 3632 y(mkdir)g($dir)h(or)f(die)g("Couldn't)g(create)g($dir:)g
($!";)292 3711 y(})213 3790 y(})213 4027 y(my)g($cluster)g(=)h(0;)213
4105 y(if)f(\($dirname)g(ne)g(""\))h({)292 4184 y(my)g($pwd)f(=)h
(`pwd`;)292 4263 y(chomp)g($pwd;)292 4342 y(chdir)g($dirname)e(or)i
(die)f("Couldn't)g(change)g(to)g($dirname:)g($!\\n";)292
4421 y(if)h(\($verbose\))e({)i(print)f("Loading)g(documents)f(from)i
(directory)e($dirname\\n";)g(})292 4500 y($cluster)h(=)h(new)f
(Clair::Cluster\(id)f(=>)h($dirname\);)292 4579 y
($cluster->load_documents\(")1332 4591 y(*)1372 4579
y(",)d(type)j(=>)h($type,)f(filename_id)f(=>)i(1\);)292
4658 y(chdir)g($pwd)f(or)g(die)h("Couldn't)e(change)h(back)g(to)h
($pwd:)f($!\\n";)213 4736 y(})g(elsif)h(\($in_file)e(ne)i(""\))f({)292
4815 y(if)h(\($verbose\))e({)i(print)f("Loading)g(documents)f(from)i
(file)f($in_file\\n";)f(})292 4894 y(my)i($doc)f(=)h(new)f
(Clair::Document\(file)e(=>)j($in_file,)e(type)i(=>)f($type,)213
4973 y(id)g(=>)h("document"\);)292 5052 y(my)g(\045docs)f(=)h
(\("document",)e($doc\);)292 5131 y($cluster)h(=)h(new)f
(Clair::Cluster\(documents)d(=>)k(\\\045docs,)f(id)g(=>)h($in_file\);)
213 5210 y(})f(else)h({)292 5289 y(usage\(\);)292 5367
y(exit;)213 5446 y(})213 5525 y(if)f(\($verbose\))g({)g(print)g
("Loaded)g(",)h($cluster->count_elements,)c(")k(documents\\n";)e(})p
3266 5708 V 185 5711 3086 4 v 1873 5809 a Fk(329)p eop
end
%%Page: 330 330
TeXDict begin 330 329 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3808 4 3678 v 213 234 a Fa(if)39 b(\($type)g(eq)h("html"\))f({)
292 313 y(if)h(\($verbose\))e({)i(print)f("Stripping)g(html\\n";)f(})
292 392 y($cluster->strip_all_documents\(\);)213 471
y(})213 708 y(if)h(\($verbose\))g({)g(print)g("Creating)g(sentence)g
(based)g(cluster\\n";)f(})213 786 y(my)h($sentence_cluster)f(=)h
($cluster->create_sentence_based_cluster\(\);)213 944
y(if)g(\(\(not)g($single\))g(and)g(\(!)h(-d)g("$output_dir"\)\))d({)292
1023 y(if)j(\($verbose\))e({)i(print)f("Creating)g(directory)f
($output_dir\\n";)g(})292 1102 y(mkdir)i($output_dir;)213
1181 y(})213 1338 y(if)f(\($verbose\))g({)g(print)g("Saving)g
(documents)g(to)g($output_dir\\n";)f(})213 1417 y(if)h(\($single\))g({)
292 1496 y(#)h(save)f(to)h(single)f(file)292 1575 y
($sentence_cluster->save_documents_to_file\($outp)o(ut_dir,)33
b('text'\);)213 1654 y(})39 b(else)h({)292 1733 y(#)g(save)f(to)h
(directory)292 1812 y($sentence_cluster->save_documents_to_directory\()
o($output)o(_dir,)34 b('text',)437 b(\\)213 1891 y(name_count)38
b(=>)i(0\);)213 1969 y(})213 2127 y(sub)f(usage)g({)292
2206 y(print)h("$0:)f(Parse)g(document)g(into)g(sentences)f(and)i(save)
f(into)g(a)h(directory)e(or)359 b(\\)213 2285 y(file\\n\\n";)292
2364 y(print)40 b("usage:)e($0)i([--singlefile])e(--input)g(in_file)h
([--directory)f(directory_name])78 b(\\)213 2443 y(--output)38
b(output\\n";)292 2600 y(print)i(")79 b(--input)39 b(in_file\\n";)292
2679 y(print)h(")278 b(Input)39 b(file)h(to)f(parse)g(into)h
(sentences\\n";)292 2758 y(print)g(")79 b(--directory)38
b(in_dir\\n";)292 2837 y(print)i(")278 b(Input)39 b(directory)g(to)h
(parse)f(into)g(sentences\\n";)292 2916 y(print)h(")79
b(--type)39 b(document_type\\n";)292 2995 y(print)h(")278
b(Document)39 b(type,)g(one)h(of:)f(text,)g(html,)g(stem\\n";)292
3074 y(print)h(")79 b(--singlefile\\n";)292 3153 y(print)40
b(")278 b(If)40 b(true,)f(write)g(output)g(into)g(a)h(single)f(file,)g
(one)h(line)f(per)398 b(\\)213 3231 y(sentence\\n";)292
3310 y(print)40 b(")79 b(--output)39 b(output\\n";)292
3389 y(print)h(")278 b(Output)39 b(filename)g(or)h(directory\\n";)292
3468 y(print)g("\\n";)292 3626 y(print)g("example:)e($0)i(-i)f
(test/sentences.txt)e(-o)j(sentences\\n";)213 3705 y(})p
3466 3808 V 185 3811 3285 4 v 1873 5809 a Fk(330)p eop
end
%%Page: 331 331
TeXDict begin 331 330 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.33)80 b(stats2html.pl)p 185 295 3086 4 v 185
5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39
b(Generate)g(a)h(matlab)f(script)g(file)g(from)g(a)h(space)f(delimited)
g(spreadsheet)213 635 y(use)g(strict;)213 714 y(use)g(warnings;)213
793 y(use)g(Getopt::Long;)213 872 y(use)g(File::Spec;)213
1030 y(sub)g(usage;)213 1187 y(my)g($delim)g(=)h("[)g(\\t]+";)213
1266 y(my)f($infile)g(=)h("";)213 1345 y(my)f($outfile)g(=)h("";)213
1424 y(my)f($start)g(=)h(0.0;)213 1503 y(my)f($end)h(=)f(1.0;)213
1582 y(my)g($inc)h(=)f(0.01;)213 1739 y(my)g($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$infile,)e("output=s")h(=>)g
(\\$outfile,)1050 1818 y("start=f")f(=>)i(\\$start,)e("step=f")h(=>)h
(\\$inc,)1050 1897 y("end=f")e(=>)i(\\$end\);)213 2055
y(if)f(\(!$res)g(or)h(\($infile)e(eq)i(""\))f(or)h(\($outfile)e(eq)i
(""\)\))f({)292 2134 y(usage\(\);)292 2213 y(exit;)213
2291 y(})213 2449 y(my)g(\($vol,)g($dir,)g($prefix\))g(=)h
(File::Spec->splitpath\($outfile\);)213 2528 y($prefix)f(=\230)g
(s/\\.html//;)213 2686 y(my)g($line;)213 2765 y(my)g($cnt)h(=)f(0;)213
2844 y(my)g(\045headers)g(=)h(\(\);)213 2922 y(my)f(@data)g(=)h(\(\);)
213 3080 y(open\(OUTFILE,)e(">)h($outfile"\))g(or)g(die)h("Couldn't)e
(open:)h($!\\n";)213 3159 y(open\(INFILE,)f($infile\))g(or)i(die)f
("Couldn't)g(open:)g($!\\n";)213 3317 y(while)g(\(<INFILE>\))f({)532
3396 y(chomp;)532 3475 y(my)h(@cols)g(=)h(split\(/)f(/,)g($_\);)532
3553 y(for\(my)g($i)g(=)h(0;)f($i)h(<)g(scalar\(@cols\);)d($i++\))i({)
850 3632 y(if)h(\($cnt)f(==)h(0\))f({)1169 3711 y($headers{$i})f(=)i
($cols[$i];)850 3790 y(})g(else)f({)1169 3869 y($data[$i][$cnt)f(-)i
(1])f(=)h($cols[$i];)850 3948 y(})532 4027 y(})532 4105
y($cnt++;)213 4184 y(})213 4263 y(close)f(INFILE;)213
4421 y(print)g(OUTFILE)g("<HTML>\\n";)213 4500 y(print)g(OUTFILE)g
("<HEAD><TITLE>$prefix</TITLE></HEAD>\\n";)213 4579 y(print)g(OUTFILE)g
("<BODY>\\n";)213 4736 y(foreach)g(my)g($col)g(\(keys)g(\045headers\))g
({)292 4815 y(my)h($header)f(=)h($headers{$col};)292
4894 y(if)g(\($header)f(ne)g("threshold"\))f({)372 4973
y(print)h(OUTFILE)g("<table)g(class=\\"image\\">\\n";)372
5052 y(print)g(OUTFILE)g(")80 b(<tr>\\n";)372 5131 y(print)39
b(OUTFILE)g(")159 b(<td><a)39 b
(href=\\"../plots/$prefix-$header.jpg\\">";)372 5210
y(print)g(OUTFILE)g("<img)g(src=\\"../plots/$prefix-$header.jpg\\">";)
372 5289 y(print)g(OUTFILE)g("</a></td>\\n";)372 5367
y(print)g(OUTFILE)g("\\n";)372 5446 y(print)g(OUTFILE)g(")159
b(<td><a)39 b(href=\\"../plots/$prefix-synth-$header.jpg\\">";)372
5525 y(print)g(OUTFILE)g("<img)g
(src=\\"../plots/$prefix-synth-$header.jpg\\">";)372
5604 y(print)g(OUTFILE)g("</a></td>\\n";)p 3266 5708
V 185 5711 3086 4 v 1873 5809 a Fk(331)p eop end
%%Page: 332 332
TeXDict begin 332 331 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5544 4 5414 v 372 234 a Fa(print)39 b(OUTFILE)g("\\n";)372
313 y(print)g(OUTFILE)g(")80 b(</tr>\\n";)372 392 y(print)39
b(OUTFILE)g(")80 b(<tr>\\n";)372 471 y(print)39 b(OUTFILE)g(")159
b(<td>$header)39 b(vs.)g(threshold</td>\\n";)372 550
y(print)g(OUTFILE)g(")159 b(<td>synthetic)38 b($header)h(vs.)g
(threshold</td>\\n";)372 629 y(print)g(OUTFILE)g(")80
b(</tr>\\n";)372 708 y(print)39 b(OUTFILE)g("</table>\\n";)292
786 y(})292 865 y(open\(HOUT,)g(">>)g($header.html"\))f(or)i(die)f
("Couldn't)f(open:)i($!\\n";)292 1023 y(print)g(HOUT)f("<table)g
(class=\\"image\\">\\n";)292 1102 y(print)h(HOUT)f(")79
b(<tr>\\n";)292 1181 y(print)40 b(HOUT)f(")159 b(<td>\\n";)292
1260 y(print)40 b(HOUT)f(")159 b(<a)40 b
(href=\\"../plots/$prefix-$header.jpg\\">";)292 1338
y(print)g(HOUT)f("<img)g(src=\\"../plots/$prefix-$header.jpg\\">";)292
1417 y(print)h(HOUT)f("</a>\\n";)292 1496 y(print)h(HOUT)f(")159
b(</td>\\n";)292 1575 y(print)40 b(HOUT)f(")79 b(</tr>\\n";)292
1654 y(print)40 b(HOUT)f("</table>\\n";)292 1812 y(close)h(HOUT;)213
1891 y(})213 2127 y(print)f(OUTFILE)g("</BODY>\\n";)213
2206 y(print)g(OUTFILE)g("</HTML>\\n";)213 2364 y(close)g(OUTFILE;)213
2522 y(open\(OUTFILE,)f(">)h(index.html"\))f(or)i(die)f("Couldn't)g
(open:)g($!\\n";)213 2600 y(print)g(OUTFILE)g("<html>\\n";)213
2679 y(print)g(OUTFILE)g("<h1>Plots)f(for)h($prefix</h1>\\n";)213
2837 y(print)g(OUTFILE)g("<h2>Cosine)f(plots</h2>\\n";)213
2995 y(print)h(OUTFILE)g("<table>\\n";)213 3074 y(print)g(OUTFILE)g(")
79 b(<tr>\\n";)213 3153 y(print)39 b(OUTFILE)g(")159
b(<td>\\n";)213 3231 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/$prefix-cosine-cumulative-log)o(log.jp)o(g\\">";)213
3310 y(print)g(OUTFILE)g("<img)2430 b(\\)213 3389 y
(src=\\"../plots/thumbnail/$prefix-cosine-cu)o(mulativ)o(e-loglo)o
(g.jpg\\")671 b(\\)213 3468 y(width=\\"400\\"/></a>\\n";)213
3547 y(print)39 b(OUTFILE)g(")159 b(</td>\\n";)213 3626
y(print)39 b(OUTFILE)g(")159 b(<td>\\n";)213 3705 y(print)39
b(OUTFILE)g("<a)2510 b(\\)213 3783 y
(href=\\"../plots/$prefix-synth-cosine-cumul)o(ative-l)o(oglog.j)o
(pg\\">";)213 3862 y(print)39 b(OUTFILE)g("<img)2430
b(\\)213 3941 y(src=\\"../plots/thumbnail/$prefix-synth-cos)o(ine-cum)o
(ulative)o(-loglog)o(.jpg\\")432 b(\\)213 4020 y
(width=\\"400\\"/></a>\\n";)213 4099 y(print)39 b(OUTFILE)g(")159
b(</td>\\n";)213 4178 y(print)39 b(OUTFILE)g(")79 b(</tr>\\n";)213
4257 y(print)39 b(OUTFILE)g(")79 b(<tr><td>Cumulative)37
b(cosine)i(distribution)f(loglog</td>\\n";)213 4336 y(print)h(OUTFILE)g
(")79 b(<td>Synthetic)38 b(cumulative)g(cosine)h(distribution)756
b(\\)213 4414 y(loglog</td></tr>\\n";)213 4572 y(print)39
b(OUTFILE)g(")79 b(<tr>\\n";)213 4651 y(print)39 b(OUTFILE)g(")159
b(<td>\\n";)213 4730 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/$prefix-cosine-cumulative.jpg)o(\\">\\n")o(;)213
4809 y(print)g(OUTFILE)g("<img)g
(src=\\"../plots/thumbnail/$prefix-cosine-cum)o(ulativ)o(e.jpg\\")153
b(\\)213 4888 y(width=\\"400\\"/></a>\\n";)213 4967 y(print)39
b(OUTFILE)g(")159 b(</td>\\n";)213 5045 y(print)39 b(OUTFILE)g(")159
b(<td>\\n";)213 5124 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/$prefix-synth-cosine-cumulati)o(ve.jpg)o(\\">\\n";)
213 5203 y(print)g(OUTFILE)g("<img)2430 b(\\)213 5282
y(src=\\"../plots/thumbnail/$prefix-synth-cos)o(ine-cum)o(ulative)o
(.jpg\\")711 b(\\)213 5361 y(width=\\"400\\"/></a>\\n";)213
5440 y(print)39 b(OUTFILE)g(")159 b(</td>\\n";)p 3466
5544 V 185 5547 3285 4 v 1873 5809 a Fk(332)p eop end
%%Page: 333 333
TeXDict begin 333 332 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 5228 4 5098 v 213 234 a Fa(print)39 b(OUTFILE)g(")79
b(</tr>\\n";)213 313 y(print)39 b(OUTFILE)g(")79 b(<tr><td>Cumulative)
37 b(cosine)i(distribution</td>\\n";)213 392 y(print)g(OUTFILE)g(")79
b(<td>Synthetic)38 b(cumulative)g(cosine)h(distribution</td></tr>\\n";)
213 550 y(print)g(OUTFILE)g(")79 b(<tr>\\n";)213 629
y(print)39 b(OUTFILE)g(")159 b(<td>\\n";)213 708 y(print)39
b(OUTFILE)g("<a)g(href=\\"../plots/$prefix-cosine-hist-loglog.jp)o
(g\\">\\n)o(";)213 786 y(print)g(OUTFILE)g("<img)g
(src=\\"../plots/thumbnail/$prefix-cosine-his)o(t-logl)o(og.jpg\\)o(")
114 b(\\)213 865 y(width=\\"400\\"/></a>\\n";)213 944
y(print)39 b(OUTFILE)g(")159 b(</td>\\n";)213 1023 y(print)39
b(OUTFILE)g(")159 b(<td>\\n";)213 1102 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/$prefix-synth-cosine-hist-log)o(log.jp)o(g\\">\\n")o
(;)213 1181 y(print)g(OUTFILE)g("<img)2430 b(\\)213 1260
y(src=\\"../plots/thumbnail/$prefix-synth-cos)o(ine-his)o(t-loglo)o
(g.jpg\\")671 b(\\)213 1338 y(width=\\"400\\"/></a>\\n";)213
1417 y(print)39 b(OUTFILE)g(")159 b(</td>\\n";)213 1496
y(print)39 b(OUTFILE)g(")79 b(</tr>\\n";)213 1575 y(print)39
b(OUTFILE)g(")79 b(<tr><td>cosine)38 b(distribution)g
(\(loglog\)</td>\\n";)213 1654 y(print)h(OUTFILE)g(")79
b(<td>Synthetic)38 b(cosine)h(distribution)f(\(loglog\)</td></tr>\\n";)
213 1891 y(print)h(OUTFILE)g(")79 b(<tr>\\n";)213 1969
y(print)39 b(OUTFILE)g(")159 b(<td>\\n";)213 2048 y(print)39
b(OUTFILE)g("<a)g(href=\\"../plots/$prefix-cosine-hist.jpg\\">\\n")o(;)
213 2127 y(print)g(OUTFILE)g("<img)g
(src=\\"../plots/thumbnail/$prefix-cosine-his)o(t.jpg\\)o(")393
b(\\)213 2206 y(width=\\"400\\"/></a>\\n";)213 2285 y(print)39
b(OUTFILE)g(")159 b(</td>\\n";)213 2364 y(print)39 b(OUTFILE)g(")159
b(<td>\\n";)213 2443 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/$prefix-synth-cosine-hist.jpg)o(\\">\\n")o(;)213
2522 y(print)g(OUTFILE)g("<img)g
(src=\\"../plots/thumbnail/$prefix-synth-cosi)o(ne-his)o(t.jpg\\")153
b(\\)213 2600 y(width=\\"400\\"/></a>\\n";)213 2679 y(print)39
b(OUTFILE)g(")159 b(</td>\\n";)213 2758 y(print)39 b(OUTFILE)g(")79
b(</tr>\\n";)213 2837 y(print)39 b(OUTFILE)g(")79 b(<tr><td>Cosine)38
b(distribution</td>\\n";)213 2916 y(print)h(OUTFILE)g(")79
b(<td>Synthetic)38 b(cosine)h(distribution</td></tr>\\n";)213
3074 y(print)g(OUTFILE)g(")79 b(<tr>\\n";)213 3153 y(print)39
b(OUTFILE)g(")159 b(<td>\\n";)213 3231 y(print)39 b(OUTFILE)g("<a)g
(href=\\"../plots/")e(.)j($prefix)f(.)h("_0_0.01_1.jpg\\"/>\\n";)213
3310 y(print)f(OUTFILE)g("<img)g(src=\\"../plots/thumbnail/")d(.)j
($prefix.)g("_0_0.01_1.jpg\\")237 b(\\)213 3389 y
(width=\\"400\\"/></a>\\n";)213 3468 y(print)39 b(OUTFILE)g(")159
b(</td>\\n";)213 3547 y(print)39 b(OUTFILE)g(")159 b(<td>\\n";)213
3626 y(print)39 b(OUTFILE)g("<a)g(href=\\"../plots/")e(.)j($prefix)f(.)
h("-synth_0_0.01_1.jpg\\"/>\\n";)213 3705 y(print)f(OUTFILE)g("<img)g
(src=\\"../plots/thumbnail/")d(.)j($prefix.)916 b(\\)213
3783 y("-synth_0_0.01_1.jpg\\")36 b(width=\\"400\\"/></a>\\n";)213
3862 y(print)j(OUTFILE)g(")159 b(</td>\\n";)213 3941
y(print)39 b(OUTFILE)g(")79 b(</tr>\\n";)213 4020 y(print)39
b(OUTFILE)g(")79 b(<tr><td>Cosine)38 b(histogram</td>\\n";)213
4099 y(print)h(OUTFILE)g(")79 b(<td>Synthetic)38 b(cosine)h
(histogram</td></tr>\\n";)213 4178 y(print)g(OUTFILE)g("</table>\\n";)
213 4493 y(print)g(OUTFILE)g("<h2>Network)f(Plots</h2>\\n";)213
4651 y(print)h(OUTFILE)g("<a)g(href=\\"$prefix.html\\">Network)d
(plots</a>\\n";)213 4730 y(print)j(OUTFILE)g("</html>\\n";)213
4809 y(close)g(OUTFILE;)213 5045 y(sub)g(usage)g({)213
5124 y(})p 3466 5228 V 185 5231 3285 4 v 1873 5809 a
Fk(333)p eop end
%%Page: 334 334
TeXDict begin 334 333 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.34)80 b(stats2matlab)m(.pl)p 185 295 2807 4 v
185 5708 4 5414 v 213 399 a Fa(#!/usr/bin/perl)213 477
y(#)39 b(Generate)g(a)h(matlab)f(script)g(file)g(from)g(a)h(space)f
(delimited)g(spreadsheet)213 635 y(use)g(strict;)213
714 y(use)g(warnings;)213 793 y(use)g(Getopt::Long;)213
872 y(use)g(File::Spec;)213 1030 y(sub)g(usage;)213 1187
y(my)g($delim)g(=)h("[)g(\\t]+";)213 1266 y(my)f($infile)g(=)h("";)213
1345 y(my)f($outfile)g(=)h("";)213 1503 y(my)f($res)h(=)f
(GetOptions\("input=s")e(=>)j(\\$infile,)e("output=s")h(=>)g
(\\$outfile\);)213 1660 y(if)g(\(!$res)g(or)h(\($infile)e(eq)i(""\))f
(or)h(\($outfile)e(eq)i(""\)\))f({)292 1739 y(usage\(\);)292
1818 y(exit;)213 1897 y(})213 2055 y(my)g(\($vol,)g($dir,)g($prefix\))g
(=)h(File::Spec->splitpath\($outfile\);)213 2134 y($prefix)f(=\230)g
(s/\\.m//;)213 2291 y(if)g(\($dir)g(ne)h(""\))f({)292
2370 y(unless)g(\(-d)h($dir\))f({)372 2449 y(mkdir)g($dir)h(or)f(die)g
("Couldn't)g(create)g($dir:)g($!";)292 2528 y(})213 2607
y(})213 2765 y(my)g($line;)213 2844 y(my)g($cnt)h(=)f(0;)213
2922 y(my)g(\045headers)g(=)h(\(\);)213 3001 y(my)f(@data)g(=)h(\(\);)
213 3159 y(open\(OUTFILE,)e(">)h($outfile"\))g(or)g(die)h("Couldn't)e
(open:)h($!\\n";)213 3238 y(open\(INFILE,)f($infile\))g(or)i(die)f
("Couldn't)g(open:)g($!\\n";)213 3396 y(while)g(\(<INFILE>\))f({)532
3475 y(chomp;)532 3553 y(my)h(@cols)g(=)h(split\(/)f(/,)g($_\);)532
3632 y(for\(my)g($i)g(=)h(0;)f($i)h(<)g(scalar\(@cols\);)d($i++\))i({)
850 3711 y(if)h(\($cnt)f(==)h(0\))f({)1169 3790 y($headers{$i})f(=)i
($cols[$i];)850 3869 y(})g(else)f({)1169 3948 y($data[$i][$cnt)f(-)i
(1])f(=)h($cols[$i];)850 4027 y(})532 4105 y(})532 4184
y($cnt++;)213 4263 y(})213 4342 y(close)f(INFILE;)213
4500 y(foreach)g(my)g($col)g(\(keys)g(\045headers\))g({)532
4579 y(print)g(OUTFILE)f($headers{$col},)g(")i(=)f([\\n";)532
4658 y(print)g(OUTFILE)f(join\("\\n",)h(@{$data[$col]}\);)532
4736 y(print)g(OUTFILE)f("];\\n";)213 4815 y(})213 4894
y(print)h(OUTFILE)g("\\n";)213 5052 y(foreach)g(my)g($col)g(\(keys)g
(\045headers\))g({)292 5131 y(my)h($header)f(=)h($headers{$col};)292
5210 y(if)g(\($header)f(ne)g("threshold"\))f({)372 5289
y(my)i($text)f(=)h($header;)372 5367 y($text)f(=\230)h(s/_/\\\\_/g;)372
5446 y(print)f(OUTFILE)g("plot\(threshold,)f($header\);\\n";)372
5525 y(print)h(OUTFILE)g("title\(['$text)f(vs.)h(threshold)g
(\($prefix\)']\);\\n";)372 5604 y(print)g(OUTFILE)g("h)h(=)f(get\(gca,)
g('title'\);\\n";)p 2987 5708 V 185 5711 2807 4 v 1873
5809 a Fk(334)p eop end
%%Page: 335 335
TeXDict begin 335 334 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3205
4 v 185 2783 4 2653 v 372 234 a Fa(print)39 b(OUTFILE)g("set\(h,)g
('FontSize',)f(16\);\\n";)372 313 y(print)h(OUTFILE)g
("xlabel\('threshold'\);\\n";)372 392 y(print)g(OUTFILE)g("h)h(=)f
(get\(gca,)g('xlabel'\);\\n";)372 471 y(print)g(OUTFILE)g("set\(h,)g
('FontSize',)f(16\);\\n";)372 550 y(print)h(OUTFILE)g
("ylabel\('$text'\);\\n";)372 629 y(print)g(OUTFILE)g("h)h(=)f
(get\(gca,)g('ylabel'\);\\n";)372 708 y(print)g(OUTFILE)g("set\(h,)g
('FontSize',)f(16\);\\n";)372 786 y(print)h(OUTFILE)g("print\('-deps',)
f('$prefix-$header.eps'\);\\n";)372 865 y(print)h(OUTFILE)g
("print\('-djpeg90',)e('-r50',)i('$prefix-$header.jpg'\);\\n";)372
944 y(print)g(OUTFILE)g("\\n\\n";)372 1102 y(print)g(OUTFILE)g
("loglog\(threshold,)e($header\);\\n";)372 1181 y(print)i(OUTFILE)g
("title\(['$text)f(vs.)h(threshold)g(\($prefix\)']\);\\n";)372
1260 y(print)g(OUTFILE)g("h)h(=)f(get\(gca,)g('title'\);\\n";)372
1338 y(print)g(OUTFILE)g("set\(h,)g('FontSize',)f(16\);\\n";)372
1417 y(print)h(OUTFILE)g("xlabel\('threshold'\);\\n";)372
1496 y(print)g(OUTFILE)g("h)h(=)f(get\(gca,)g('xlabel'\);\\n";)372
1575 y(print)g(OUTFILE)g("set\(h,)g('FontSize',)f(16\);\\n";)372
1654 y(print)h(OUTFILE)g("ylabel\('$text'\);\\n";)372
1733 y(print)g(OUTFILE)g("h)h(=)f(get\(gca,)g('ylabel'\);\\n";)372
1812 y(print)g(OUTFILE)g("set\(h,)g('FontSize',)f(16\);\\n";)372
1891 y(print)h(OUTFILE)g("print\('-deps',)f
('$prefix-$header-loglog.eps'\);\\n";)372 1969 y(print)h(OUTFILE)g
("print\('-djpeg90',)e('-r50',)i('$prefix-$header-loglog.jpg'\);\\n";)
372 2048 y(print)g(OUTFILE)g("\\n";)292 2127 y(})213
2206 y(})213 2364 y(close)g(OUTFILE;)213 2600 y(sub)g(usage)g({)213
2679 y(})p 3386 2783 V 185 2786 3205 4 v 1873 5809 a
Fk(335)p eop end
%%Page: 336 336
TeXDict begin 336 335 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.35)80 b(tf)p 453 210 25 4 v 29 w(query)-6 b(.pl)p
185 295 3006 4 v 185 5708 4 5414 v 213 399 a Fa(#!/usr/local/bin/perl)
213 477 y(#)39 b(script:)g(tf_query.pl)213 556 y(#)g(functionality:)f
(Looks)h(up)h(tf)f(values)g(for)h(terms)f(in)g(a)h(corpus)213
635 y(#)213 714 y(#)f(Based)h(on)f(test/test_lookupTFIDF.pl)d(in)k
(clairlib)213 872 y(use)f(strict;)213 951 y(use)g(warnings;)213
1030 y(use)g(Getopt::Long;)213 1108 y(use)g(Data::Dumper;)213
1187 y(use)g(Clair::Config;)213 1266 y(use)g(Clair::Utils::Tf;)213
1345 y(use)g(Clair::Utils::CorpusDownload;)213 1503 y(sub)g(usage;)213
1660 y(my)g($corpus_name)f(="";)213 1739 y(my)h($query)g(=)h("";)213
1818 y(my)f($stemmed)g(=)h(0;)213 1897 y(my)f($all)h(=)f(1;)213
1976 y(my)g($basedir)g(=)h("";)213 2055 y(my)f($verbose)g(=)h('';)213
2134 y(my)f(@phrase)g(=)h(\(\);)213 2291 y(my)f($vars)g(=)h
(GetOptions\("corpus=s")d(=>)i(\\$corpus_name,)1050 2370
y("query=s")f(=>)i(\\$query,)1050 2449 y("basedir=s")e(=>)h
(\\$basedir,)1050 2528 y("all")g(=>)g(\\$all,)1050 2607
y("stemmed")f(=>)i(\\$stemmed,)1050 2686 y("verbose")e(=>)i
(\\$verbose\);)213 2844 y(if\()f($corpus_name)f(eq)i("")f(\))h({)292
2922 y(usage\(\);)292 3001 y(exit;)213 3080 y(})213 3238
y(if\()f($query)g(ne)h("")f(\){)213 3317 y($all)g(=)h(0;)213
3396 y(})213 3553 y($Clair::Utils::Tf::verbose)c(=)j($verbose;)213
3711 y(if)g(\()h($basedir)f(eq)g("")h(\))f({)213 3790
y($basedir)f(=)i("produced";)213 3869 y(})213 3948 y(my)f($gen_dir)g(=)
h("$basedir";)213 4105 y(if)f(\($verbose\))g({)g(print)g("Loading)g(tf)
h(for)f($corpus_name)f(in)i($gen_dir\\n";)e(};)213 4184
y(my)h($tf)h(=)f(Clair::Utils::Tf->new\(rootdir)d(=>)j("$gen_dir",)1448
4263 y(corpusname)f(=>)i($corpus_name,)1448 4342 y(stemmed)f(=>)g
($stemmed\);)213 4500 y(if\()g($all)g(\){)213 4658 y(#)g(Use)h
(Clair::Utils::CorpusDownload::get_term_coun)o(ts\(\))213
4736 y(my)f($cd)h(=)f(Clair::Utils::CorpusDownload->new\(rootdir)34
b(=>)40 b("$gen_dir",)2006 4815 y(corpusname)e(=>)i($corpus_name\);)213
4894 y(my)f(\045tfs)h(=)f($cd->get_term_counts\(stemmed)d(=>)j
($stemmed\);)213 4973 y(if\()g(keys\(\045tfs\))g(==)g(0)h(\){)213
5052 y(print)f("No)g(term)h(counts)e(found.)79 b(Perhaps)39
b(you)g(need)h(to)f(run)h(index_corpus.pl?\\n";)213 5131
y(}else{)213 5210 y(foreach)f(my)g($key)g(\(sort)g(keys)h(\045tfs\))f
({)213 5289 y(my)g($freq)g(=)h($tf->getFreq\($key\);)412
5367 y(my)g($res)f(=)h($tf->getNumDocsWithWord\($key\);)213
5446 y(print)f("$key)g($freq)g($res\\n";)213 5525 y(})213
5604 y(})p 3187 5708 V 185 5711 3006 4 v 1873 5809 a
Fk(336)p eop end
%%Page: 337 337
TeXDict begin 337 336 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 185 131 3285
4 v 185 3572 4 3442 v 213 313 a Fa(}else{)292 471 y(@phrase)39
b(=)h(split)f(/)h(/,)f($query;)213 629 y(my)g($res)h(=)f
($tf->getNumDocsWithPhrase\(@phrase\);)213 786 y(my)g($freq)g(=)h
($tf->getPhraseFreq\(@phrase\);)213 865 y(my)f($urls)g(=)h
($tf->getDocsWithPhrase\(@phrase\);)213 1023 y(if)f(\($verbose\))g({)g
(print)g("TF\($query\))g(=)g($freq)g(total)h(in)f($res)g(docs\\n";)g(})
213 1102 y(if)g(\($verbose\))g({)g(print)g("Documents)g(with)g
(\\"$query\\"\\n";)f(})213 1260 y(foreach)h(my)g($url)g(\(keys)g
(\045{$urls}\))79 b({)213 1338 y(my)39 b(\($url_freq,)g($match_hash\))f
(=)h($tf->getPhraseFreqInDocument\(\\@phrase,)34 b(url)40
b(=>)119 b(\\)213 1417 y($url\);)213 1496 y(print)39
b(")79 b($url:)40 b($url_freq\\n";)213 1575 y(})213 1654
y(})213 1733 y(sub)f(usage)213 1812 y({)292 1891 y(print)h("$0:)f(Run)g
(TF)h(queries\\n";)292 1969 y(print)g("usage:)e($0)i(-c)f(corpus_name)g
(-q)g(query)g([-b)h(base_dir]\\n\\n";)292 2048 y(print)g(")79
b(--basedir)39 b(base_dir\\n";)292 2127 y(print)h(")278
b(Base)40 b(directory)e(filename.)78 b(The)40 b(corpus)f(is)g
(generated)g(here\\n";)292 2206 y(print)h(")79 b(--corpus)39
b(corpus_name\\n";)292 2285 y(print)h(")278 b(Name)40
b(of)f(the)h(corpus\\n";)292 2364 y(print)g(")79 b(--query)39
b(query\\n";)292 2443 y(print)h(")278 b(Term)40 b(or)f(phrase)g(to)h
(query.)f(Enclose)f(phrases)h(in)h(quotes\\n";)292 2522
y(print)g(")79 b(--stemmed\\n";)292 2600 y(print)40 b(")278
b(If)40 b(set,)f(uses)g(stemmed)g(terms.)79 b(Default)39
b(is)g(unstemmed.\\n";)213 2679 y(print)g(")79 b(--all\\n";)213
2758 y(print)39 b(")279 b(Prints)39 b(frequency)f(for)i(all)f
(terms\(format:)f(term)h(frequency)477 b(\\)213 2837
y(documents\)\\n";)292 2916 y(print)40 b("\\n";)292 3074
y(print)g("example:)e($0)i(-c)f(kzoo)g(-q)h(Michigan)f(-b)1474
b(\\)213 3153 y(/data0/projects/lexnets/pipeline/produced\\)o(n";)292
3310 y(exit;)213 3389 y(})p 3466 3572 V 185 3575 3285
4 v 1873 5809 a Fk(337)p eop end
%%Page: 338 338
TeXDict begin 338 337 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.36)80 b(w)o(ordnet)p 692 210 25 4 v 29 w(to)p
791 210 V 29 w(netw)o(ork.pl)p 185 295 2886 4 v 185 4682
4 4388 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)213
556 y(#)39 b(script:)g(wordnet_to_network.pl)213 635
y(#)g(functionality:)f(Generates)h(a)g(synonym)g(network)g(from)g
(WordNet)213 714 y(#)213 872 y(use)g(strict;)213 951
y(use)g(warnings;)213 1108 y(use)g(WordNet::QueryData;)213
1187 y(use)g(Getopt::Long;)213 1345 y(sub)g(usage;)213
1503 y(my)g($out_file)g(=)h("";)213 1582 y(my)f($verbose)g(=)h(0;)213
1660 y(my)f($res)h(=)f(GetOptions\("output=s")e(=>)j(\\$out_file,)e
("verbose")g(=>)i(\\$verbose\);)213 1818 y(if)f(\(!$res)g(or)h
(\($out_file)e(eq)i(""\)\))f({)292 1897 y(usage\(\);)292
1976 y(exit;)213 2055 y(})213 2213 y(open\(OUTFILE,)f(">$out_file"\))g
(or)h(die)h("Couldn't)e(open)h($out_file:)g($!\\n";)213
2370 y(my)g($wn)h(=)f(WordNet::QueryData->new;)213 2528
y(#my)g(\045wn_hash)g(=)h(\(\);)213 2686 y(my)f(@words)g(=)h
($wn->listAllWords\("noun"\);)213 2844 y(foreach)f(my)g($word)g
(\(@words\))g({)292 2922 y(foreach)g(my)h($sense)f
(\($wn->querySense\($word)d(.)k("#n"\)\))f({)372 3001
y(foreach)g(my)h($syn)f(\($wn->querySense\($sense,)d("syns"\)\))j({)452
3080 y($syn)g(=\230)h(s/\([a-zA-Z])1211 3092 y(*)1251
3080 y(\).)1331 3092 y(*)1371 3080 y(/$1/;)452 3159 y(if)f(\($syn)h(ne)
f(""\))g({)213 3238 y(print)g(OUTFILE)g("$word)g($syn\\n";)452
3317 y(})372 3396 y(})292 3475 y(})213 3553 y(})213 3711
y(close)g(OUTFILE;)213 3869 y(sub)g(usage)g({)292 3948
y(print)h("Usage)f($0)g(--output)g(output_file)f([--verbose]\\n\\n";)
292 4027 y(print)i(")79 b(--output)39 b(output_file\\n";)292
4105 y(print)h(")278 b(Name)40 b(of)f(the)h(output)f(graph)g(file\\n";)
292 4184 y(print)h(")79 b(--verbose\\n";)292 4263 y(print)40
b(")278 b(Increase)39 b(verbosity)g(of)g(debugging)g(output\\n";)292
4342 y(print)h("\\n";)292 4421 y(die;)213 4500 y(})p
3067 4682 V 185 4685 2886 4 v 1873 5809 a Fk(338)p eop
end
%%Page: 339 339
TeXDict begin 339 338 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.37)80 b(sear)o(ch)p 627 210 25 4 v 29 w(to)p
726 210 V 29 w(url.pl)p 185 295 2846 4 v 185 3815 4 3521
v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)39 b(script:)g
(search_to_url.pl)213 556 y(#)g(functionality:)f(Searches)h(on)g(a)h
(Google)f(query)g(and)h(prints)f(a)g(list)h(of)f(URLs)213
714 y(use)g(strict;)213 793 y(use)g(warnings;)213 951
y(use)g(Getopt::Std;)213 1030 y(use)g(vars)g(qw/)h(\045opt)f(/;)213
1108 y(use)g(Clair::Utils::WebSearch;)213 1266 y(sub)g(usage;)213
1424 y(my)g($opt_string)g(=)g("q:n:";)213 1503 y
(getopts\("$opt_string",)d(\\\045opt\))j(or)h(usage\(\);)213
1660 y(my)f($num_res)g(=)h(0;)213 1739 y(if)f(\($opt{"n"}\))g({)292
1818 y($num_res)g(=)h($opt{"n"};)213 1897 y(})f(else)h({)292
1976 y(usage\(\);)292 2055 y(exit;)213 2134 y(})213 2291
y(my)f($query)g(=)h("";)213 2370 y(if)f(\($opt{"q"}\))g({)292
2449 y($query)g(=)h($opt{"q"};)213 2528 y(})f(else)h({)292
2607 y(usage\(\);)292 2686 y(exit;)213 2765 y(})213 3001
y(my)f(@results)g(=)h(@{Clair::Utils::WebSearch::googleGet\($quer)o(y,)
34 b($num_res\)};)213 3080 y(foreach)39 b(my)g($r)h(\(@results\))78
b({)292 3159 y(my)40 b(\($url,)f($title,)g($desc\))g(=)g(split\('\\t',)
g($r\);)292 3238 y(print)h($url,)f("\\n";)213 3317 y(})213
3475 y(sub)g(usage)g({)292 3553 y(print)h("usage:)e($0)i(-q)f(query)h
(-n)f(number_of_results\\n";)292 3632 y(print)h("example:)e($0)i(-q)f
(pancakes)g(-n)g(10\\n";)213 3711 y(})p 3027 3815 V 185
3818 2846 4 v 1873 5809 a Fk(339)p eop end
%%Page: 340 340
TeXDict begin 340 339 bop 60 -110 a Fk(Clairlib)2807
b(User)20 b(Documentation)p 60 -77 3750 4 v 60 210 a
Fi(10.4.38)80 b(w)o(ordnet)p 692 210 25 4 v 29 w(to)p
791 210 V 29 w(netw)o(ork.pl)p 185 295 2886 4 v 185 4682
4 4388 v 213 399 a Fa(#!/usr/bin/perl)213 477 y(#)213
556 y(#)39 b(script:)g(wordnet_to_network.pl)213 635
y(#)g(functionality:)f(Generates)h(a)g(synonym)g(network)g(from)g
(WordNet)213 714 y(#)213 872 y(use)g(strict;)213 951
y(use)g(warnings;)213 1108 y(use)g(WordNet::QueryData;)213
1187 y(use)g(Getopt::Long;)213 1345 y(sub)g(usage;)213
1503 y(my)g($out_file)g(=)h("";)213 1582 y(my)f($verbose)g(=)h(0;)213
1660 y(my)f($res)h(=)f(GetOptions\("output=s")e(=>)j(\\$out_file,)e
("verbose")g(=>)i(\\$verbose\);)213 1818 y(if)f(\(!$res)g(or)h
(\($out_file)e(eq)i(""\)\))f({)292 1897 y(usage\(\);)292
1976 y(exit;)213 2055 y(})213 2213 y(open\(OUTFILE,)f(">$out_file"\))g
(or)h(die)h("Couldn't)e(open)h($out_file:)g($!\\n";)213
2370 y(my)g($wn)h(=)f(WordNet::QueryData->new;)213 2528
y(#my)g(\045wn_hash)g(=)h(\(\);)213 2686 y(my)f(@words)g(=)h
($wn->listAllWords\("noun"\);)213 2844 y(foreach)f(my)g($word)g
(\(@words\))g({)292 2922 y(foreach)g(my)h($sense)f
(\($wn->querySense\($word)d(.)k("#n"\)\))f({)372 3001
y(foreach)g(my)h($syn)f(\($wn->querySense\($sense,)d("syns"\)\))j({)452
3080 y($syn)g(=\230)h(s/\([a-zA-Z])1211 3092 y(*)1251
3080 y(\).)1331 3092 y(*)1371 3080 y(/$1/;)452 3159 y(if)f(\($syn)h(ne)
f(""\))g({)213 3238 y(print)g(OUTFILE)g("$word)g($syn\\n";)452
3317 y(})372 3396 y(})292 3475 y(})213 3553 y(})213 3711
y(close)g(OUTFILE;)213 3869 y(sub)g(usage)g({)292 3948
y(print)h("Usage)f($0)g(--output)g(output_file)f([--verbose]\\n\\n";)
292 4027 y(print)i(")79 b(--output)39 b(output_file\\n";)292
4105 y(print)h(")278 b(Name)40 b(of)f(the)h(output)f(graph)g(file\\n";)
292 4184 y(print)h(")79 b(--verbose\\n";)292 4263 y(print)40
b(")278 b(Increase)39 b(verbosity)g(of)g(debugging)g(output\\n";)292
4342 y(print)h("\\n";)292 4421 y(die;)213 4500 y(})p
3067 4682 V 185 4685 2886 4 v 1873 5809 a Fk(340)p eop
end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
